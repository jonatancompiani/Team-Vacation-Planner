"use strict";(self.webpackChunkTeamVacationPlanner=self.webpackChunkTeamVacationPlanner||[]).push([[179],{2011:(bt,Se,V)=>{V.d(Se,{Dh:()=>xe,GT:()=>J,cc:()=>Ie,hO:()=>ze,on:()=>W,pX:()=>de,xv:()=>pe});var s=V(4650),ne=V(9260),B=V(4976);bt=V.hmd(bt);const ce=["ngOnDestroy"],de=(Pe,Ne,Ue,Fe={})=>new Proxy(Pe,{get:(Ce,Ee)=>Ue.runOutsideAngular(()=>{var qe;if(Pe[Ee])return!(null===(qe=Fe?.spy)||void 0===qe)&&qe.get&&Fe.spy.get(Ee,Pe[Ee]),Pe[Ee];if(ce.indexOf(Ee)>-1)return()=>{};const Le=Ne.toPromise().then(lt=>{const le=lt&&lt[Ee];return"function"==typeof le?le.bind(lt):le&&le.then?le.then(Rt=>Ue.run(()=>Rt)):Ue.run(()=>le)});return new Proxy(()=>{},{get:(lt,le)=>Le[le],apply:(lt,le,Rt)=>Le.then(rt=>{var nn;const pt=rt&&rt(...Rt);return!(null===(nn=Fe?.spy)||void 0===nn)&&nn.apply&&Fe.spy.apply(Ee,Rt,pt),pt})})})}),J=(Pe,Ne)=>{Ne.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Fe=>{Object.defineProperty(Pe.prototype,Fe,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Fe))})})};class we{constructor(Ne){return Ne}}const xe=new s.OlP("angularfire2.app.options"),pe=new s.OlP("angularfire2.app.name");function W(Pe,Ne,Ue){const Ce="object"==typeof Ue&&Ue||{};Ce.name=Ce.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const qe=ne.Z.apps.filter(Le=>Le&&Le.name===Ce.name)[0]||Ne.runOutsideAngular(()=>ne.Z.initializeApp(Pe,Ce));try{JSON.stringify(Pe)!==JSON.stringify(qe.options)&&q("error",`${qe.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new we(qe)}const q=(Pe,...Ne)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Pe](...Ne)},Q={provide:we,useFactory:W,deps:[xe,s.R0b,[new s.FiY,pe]]};let ze=(()=>{class Pe{constructor(Ue){ne.Z.registerVersion("angularfire",B.q4.full,"core"),ne.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ne.Z.registerVersion("angular",s.q4F.full,Ue.toString())}static initializeApp(Ue,Fe){return{ngModule:Pe,providers:[{provide:xe,useValue:Ue},{provide:pe,useValue:Fe}]}}}return Pe.\u0275fac=function(Ue){return new(Ue||Pe)(s.LFG(s.Lbi))},Pe.\u0275mod=s.oAB({type:Pe}),Pe.\u0275inj=s.cJS({providers:[Q]}),Pe})();function Ie(Pe,Ne,Ue,Fe,Ce){const[,Ee,qe]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===Pe)||[];if(Ee)return function Ze(Pe,Ne){try{return Pe.toString()===Ne.toString()}catch{return Pe===Ne}}(Ce,qe)||(ge("error",`${Ne} was already initialized on the ${Ue} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ce,was:qe})),Ee;{const Le=Fe();return globalThis.\u0275AngularfireInstanceCache.push([Pe,Le,Ce]),Le}}const ft=!!bt.hot,ge=(Pe,...Ne)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Pe](...Ne)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(bt,Se,V)=>{V.d(Se,{q4:()=>wr,iC:()=>Gh,HU:()=>xr,vb:()=>rc,JM:()=>Os});var s=V(4650),ne=V(259),B=V(5861),ce=V(6881),de=V(2090),J=V(4859),we=V(1877);let pe,W;const ze=new WeakMap,Ie=new WeakMap,Ze=new WeakMap,ft=new WeakMap,ge=new WeakMap;let Ue={get(C,D,k){if(C instanceof IDBTransaction){if("done"===D)return Ie.get(C);if("objectStoreNames"===D)return C.objectStoreNames||Ze.get(C);if("store"===D)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return qe(C[D])},set:(C,D,k)=>(C[D]=k,!0),has:(C,D)=>C instanceof IDBTransaction&&("done"===D||"store"===D)||D in C};function Ee(C){return"function"==typeof C?function Ce(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...D){return C.apply(Le(this),D),qe(ze.get(this))}:function(...D){return qe(C.apply(Le(this),D))}:function(D,...k){const L=C.call(Le(this),D,...k);return Ze.set(L,D.sort?D.sort():[D]),qe(L)}}(C):(C instanceof IDBTransaction&&function Ne(C){if(Ie.has(C))return;const D=new Promise((k,L)=>{const G=()=>{C.removeEventListener("complete",X),C.removeEventListener("error",se),C.removeEventListener("abort",se)},X=()=>{k(),G()},se=()=>{L(C.error||new DOMException("AbortError","AbortError")),G()};C.addEventListener("complete",X),C.addEventListener("error",se),C.addEventListener("abort",se)});Ie.set(C,D)}(C),((C,D)=>D.some(k=>C instanceof k))(C,function q(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Ue):C)}function qe(C){if(C instanceof IDBRequest)return function Pe(C){const D=new Promise((k,L)=>{const G=()=>{C.removeEventListener("success",X),C.removeEventListener("error",se)},X=()=>{k(qe(C.result)),G()},se=()=>{L(C.error),G()};C.addEventListener("success",X),C.addEventListener("error",se)});return D.then(k=>{k instanceof IDBCursor&&ze.set(k,C)}).catch(()=>{}),ge.set(D,C),D}(C);if(ft.has(C))return ft.get(C);const D=Ee(C);return D!==C&&(ft.set(C,D),ge.set(D,C)),D}const Le=C=>ge.get(C),Rt=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],nn=new Map;function pt(C,D){if(!(C instanceof IDBDatabase)||D in C||"string"!=typeof D)return;if(nn.get(D))return nn.get(D);const k=D.replace(/FromIndex$/,""),L=D!==k,G=rt.includes(k);if(!(k in(L?IDBIndex:IDBObjectStore).prototype)||!G&&!Rt.includes(k))return;const X=function(){var se=(0,B.Z)(function*($e,...Ge){const ut=this.transaction($e,G?"readwrite":"readonly");let Ht=ut.store;return L&&(Ht=Ht.index(Ge.shift())),(yield Promise.all([Ht[k](...Ge),G&&ut.done]))[0]});return function(Ge){return se.apply(this,arguments)}}();return nn.set(D,X),X}!function Fe(C){Ue=C(Ue)}(C=>({...C,get:(D,k,L)=>pt(D,k)||C.get(D,k,L),has:(D,k)=>!!pt(D,k)||C.has(D,k)}));const me="@firebase/installations",_e="0.6.4",Ae=`w:${_e}`,We="FIS_v2",en=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function kt(C){return C instanceof de.ZR&&C.code.includes("request-failed")}function fn({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Dn(C){return{token:C.token,requestStatus:2,expiresIn:ys(C.expiresIn),creationTime:Date.now()}}function Un(C,D){return nr.apply(this,arguments)}function nr(){return(nr=(0,B.Z)(function*(C,D){const L=(yield D.json()).error;return en.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function fr({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Wi(C,{refreshToken:D}){const k=fr(C);return k.append("Authorization",function bs(C){return`${We} ${C}`}(D)),k}function vs(C){return To.apply(this,arguments)}function To(){return(To=(0,B.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function ys(C){return Number(C.replace("s","000"))}function Pi(C,D){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:k}){const L=fn(C),G=fr(C),X=D.getImmediate({optional:!0});if(X){const ut=yield X.getHeartbeatsHeader();ut&&G.append("x-firebase-client",ut)}const $e={method:"POST",headers:G,body:JSON.stringify({fid:k,authVersion:We,appId:C.appId,sdkVersion:Ae})},Ge=yield vs(()=>fetch(L,$e));if(Ge.ok){const ut=yield Ge.json();return{fid:ut.fid||k,registrationStatus:2,refreshToken:ut.refreshToken,authToken:Dn(ut.authToken)}}throw yield Un("Create Installation",Ge)})).apply(this,arguments)}function wt(C){return new Promise(D=>{setTimeout(D,C)})}const Il=/^[cdef][\w-]{21}$/;function Lr(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const k=function pr(C){return function Sl(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Il.test(k)?k:""}catch{return""}}function At(C){return`${C.appName}!${C.appId}`}const ct=new Map;function Vt(C,D){const k=At(C);Ni(k,D),function xi(C,D){const k=function mr(){return!Wn&&"BroadcastChannel"in self&&(Wn=new BroadcastChannel("[Firebase] FID Change"),Wn.onmessage=C=>{Ni(C.data.key,C.data.fid)}),Wn}();k&&k.postMessage({key:C,fid:D}),function Sn(){0===ct.size&&Wn&&(Wn.close(),Wn=null)}()}(k,D)}function Ni(C,D){const k=ct.get(C);if(k)for(const L of k)L(D)}let Wn=null;const rr="firebase-installations-store";let Br=null;function gn(){return Br||(Br=function lt(C,D,{blocked:k,upgrade:L,blocking:G,terminated:X}={}){const se=indexedDB.open(C,D),$e=qe(se);return L&&se.addEventListener("upgradeneeded",Ge=>{L(qe(se.result),Ge.oldVersion,Ge.newVersion,qe(se.transaction))}),k&&se.addEventListener("blocked",()=>k()),$e.then(Ge=>{X&&Ge.addEventListener("close",()=>X()),G&&Ge.addEventListener("versionchange",()=>G())}).catch(()=>{}),$e}("firebase-installations-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(rr)}})),Br}function Qn(C,D){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,B.Z)(function*(C,D){const k=At(C),G=(yield gn()).transaction(rr,"readwrite"),X=G.objectStore(rr),se=yield X.get(k);return yield X.put(D,k),yield G.done,(!se||se.fid!==D.fid)&&Vt(C,D.fid),D})).apply(this,arguments)}function Vr(C){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,B.Z)(function*(C){const D=At(C),L=(yield gn()).transaction(rr,"readwrite");yield L.objectStore(rr).delete(D),yield L.done})).apply(this,arguments)}function or(C,D){return gr.apply(this,arguments)}function gr(){return(gr=(0,B.Z)(function*(C,D){const k=At(C),G=(yield gn()).transaction(rr,"readwrite"),X=G.objectStore(rr),se=yield X.get(k),$e=D(se);return void 0===$e?yield X.delete(k):yield X.put($e,k),yield G.done,$e&&(!se||se.fid!==$e.fid)&&Vt(C,$e.fid),$e})).apply(this,arguments)}function $(C){return j.apply(this,arguments)}function j(){return(j=(0,B.Z)(function*(C){let D;const k=yield or(C.appConfig,L=>{const G=Z(L),X=ye(C,G);return D=X.registrationPromise,X.installationEntry});return""===k.fid?{installationEntry:yield D}:{installationEntry:k,registrationPromise:D}})).apply(this,arguments)}function Z(C){return On(C||{fid:Lr(),registrationStatus:0})}function ye(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(en.create("app-offline"))};const k={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function oe(C,D){return dt.apply(this,arguments)}(C,k);return{installationEntry:k,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Dt(C)}:{installationEntry:D}}function dt(){return(dt=(0,B.Z)(function*(C,D){try{const k=yield Pi(C,D);return Qn(C.appConfig,k)}catch(k){throw kt(k)&&409===k.customData.serverCode?yield Vr(C.appConfig):yield Qn(C.appConfig,{fid:D.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Dt(C){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,B.Z)(function*(C){let D=yield Pt(C.appConfig);for(;1===D.registrationStatus;)yield wt(100),D=yield Pt(C.appConfig);if(0===D.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield $(C);return L||k}return D})).apply(this,arguments)}function Pt(C){return or(C,D=>{if(!D)throw en.create("installation-not-found");return On(D)})}function On(C){return function Hn(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function cn(C,D){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:D},k){const L=Ci(C,k),G=Wi(C,k),X=D.getImmediate({optional:!0});if(X){const ut=yield X.getHeartbeatsHeader();ut&&G.append("x-firebase-client",ut)}const $e={method:"POST",headers:G,body:JSON.stringify({installation:{sdkVersion:Ae,appId:C.appId}})},Ge=yield vs(()=>fetch(L,$e));if(Ge.ok)return Dn(yield Ge.json());throw yield Un("Generate Auth Token",Ge)})).apply(this,arguments)}function Ci(C,{fid:D}){return`${fn(C)}/${D}/authTokens:generate`}function _r(C){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,B.Z)(function*(C,D=!1){let k;const L=yield or(C.appConfig,X=>{if(!tn(X))throw en.create("not-registered");const se=X.authToken;if(!D&&_n(se))return X;if(1===se.requestStatus)return k=he(C,D),X;{if(!navigator.onLine)throw en.create("app-offline");const $e=Kn(X);return k=yt(C,$e),$e}});return k?yield k:L.authToken})).apply(this,arguments)}function he(C,D){return re.apply(this,arguments)}function re(){return(re=(0,B.Z)(function*(C,D){let k=yield Re(C.appConfig);for(;1===k.authToken.requestStatus;)yield wt(100),k=yield Re(C.appConfig);const L=k.authToken;return 0===L.requestStatus?_r(C,D):L})).apply(this,arguments)}function Re(C){return or(C,D=>{if(!tn(D))throw en.create("not-registered");return function qt(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function yt(C,D){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,B.Z)(function*(C,D){try{const k=yield cn(C,D),L=Object.assign(Object.assign({},D),{authToken:k});return yield Qn(C.appConfig,L),k}catch(k){if(!kt(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Qn(C.appConfig,L)}else yield Vr(C.appConfig);throw k}})).apply(this,arguments)}function tn(C){return void 0!==C&&2===C.registrationStatus}function _n(C){return 2===C.requestStatus&&!function Ei(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function Kn(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function Li(){return(Li=(0,B.Z)(function*(C){const D=C,{installationEntry:k,registrationPromise:L}=yield $(D);return L?L.catch(console.error):_r(D).catch(console.error),k.fid})).apply(this,arguments)}function sr(){return(sr=(0,B.Z)(function*(C,D=!1){const k=C;return yield Ur(k),(yield _r(k,D)).token})).apply(this,arguments)}function Ur(C){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,B.Z)(function*(C){const{registrationPromise:D}=yield $(C);D&&(yield D)})).apply(this,arguments)}function Sr(C){return en.create("missing-app-config-values",{valueName:C})}const Wt="installations",qs=C=>{const D=C.getProvider("app").getImmediate(),k=function Al(C){if(!C||!C.options)throw Sr("App Configuration");if(!C.name)throw Sr("App Name");const D=["projectId","apiKey","appId"];for(const k of D)if(!C.options[k])throw Sr(k);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:k,heartbeatServiceProvider:(0,ce._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Mo=C=>{const D=C.getProvider("app").getImmediate(),k=(0,ce._getProvider)(D,Wt).getImmediate();return{getId:()=>function Zn(C){return Li.apply(this,arguments)}(k),getToken:G=>function Ml(C){return sr.apply(this,arguments)}(k,G)}};(function ws(){(0,ce._registerComponent)(new J.wA(Wt,qs,"PUBLIC")),(0,ce._registerComponent)(new J.wA("installations-internal",Mo,"PRIVATE"))})(),(0,ce.registerVersion)(me,_e),(0,ce.registerVersion)(me,_e,"esm2017");const ri="@firebase/remote-config",Di=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Yo{constructor(D,k,L,G){this.client=D,this.storage=k,this.storageCache=L,this.logger=G}isCachedDataFresh(D,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,G=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${G}.`),G}fetch(D){var k=this;return(0,B.Z)(function*(){const[L,G]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if(G&&k.isCachedDataFresh(D.cacheMaxAgeMillis,L))return G;D.eTag=G&&G.eTag;const X=yield k.client.fetch(D),se=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&se.push(k.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(se),X})()}}function Wg(C=navigator){return C.languages&&C.languages[0]||C.language}class iu{constructor(D,k,L,G,X,se){this.firebaseInstallations=D,this.sdkVersion=k,this.namespace=L,this.projectId=G,this.apiKey=X,this.appId=se}fetch(D){var k=this;return(0,B.Z)(function*(){const[L,G]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,$e={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Ge={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:G,app_id:k.appId,language_code:Wg()},ut={method:"POST",headers:$e,body:JSON.stringify(Ge)},Ht=fetch(se,ut),Ft=new Promise((_o,zi)=>{D.signal.addEventListener(()=>{const bd=new Error("The operation was aborted.");bd.name="AbortError",zi(bd)})});let Ar;try{yield Promise.race([Ht,Ft]),Ar=yield Ht}catch(_o){let zi="fetch-client-network";throw"AbortError"===_o?.name&&(zi="fetch-timeout"),Di.create(zi,{originalErrorMessage:_o?.message})}let zn=Ar.status;const Kr=Ar.headers.get("ETag")||void 0;let Yt,go;if(200===Ar.status){let _o;try{_o=yield Ar.json()}catch(zi){throw Di.create("fetch-client-parse",{originalErrorMessage:zi?.message})}Yt=_o.entries,go=_o.state}if("INSTANCE_STATE_UNSPECIFIED"===go?zn=500:"NO_CHANGE"===go?zn=304:("NO_TEMPLATE"===go||"EMPTY_CONFIG"===go)&&(Yt={}),304!==zn&&200!==zn)throw Di.create("fetch-status",{httpStatus:zn});return{status:zn,eTag:Kr,config:Yt}})()}}class Kg{constructor(D,k){this.client=D,this.storage=k}fetch(D){var k=this;return(0,B.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:k,backoffCount:L}){var G=this;return(0,B.Z)(function*(){yield function Yg(C,D){return new Promise((k,L)=>{const G=Math.max(D-Date.now(),0),X=setTimeout(k,G);C.addEventListener(()=>{clearTimeout(X),L(Di.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,k);try{const X=yield G.client.fetch(D);return yield G.storage.deleteThrottleMetadata(),X}catch(X){if(!function gh(C){if(!(C instanceof de.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(X))throw X;const se={throttleEndTimeMillis:Date.now()+(0,de.$s)(L),backoffCount:L+1};return yield G.storage.setThrottleMetadata(se),G.attemptFetch(D,se)}})()}}class $y{constructor(D,k,L,G,X){this.app=D,this._client=k,this._storageCache=L,this._storage=G,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Pc(C,D){const k=C.target.error||void 0;return Di.create(D,{originalErrorMessage:k&&k?.message})}const Jn="app_namespace_store";class Gy{constructor(D,k,L,G=function Aa(){return new Promise((C,D)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{D(Pc(L,"storage-open"))},k.onsuccess=L=>{C(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Jn,{keyPath:"compositeKey"})}}catch(k){D(Di.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=D,this.appName=k,this.namespace=L,this.openDbPromise=G}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var k=this;return(0,B.Z)(function*(){const L=yield k.openDbPromise;return new Promise((G,X)=>{const $e=L.transaction([Jn],"readonly").objectStore(Jn),Ge=k.createCompositeKey(D);try{const ut=$e.get(Ge);ut.onerror=Ht=>{X(Pc(Ht,"storage-get"))},ut.onsuccess=Ht=>{const Ft=Ht.target.result;G(Ft?Ft.value:void 0)}}catch(ut){X(Di.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(D,k){var L=this;return(0,B.Z)(function*(){const G=yield L.openDbPromise;return new Promise((X,se)=>{const Ge=G.transaction([Jn],"readwrite").objectStore(Jn),ut=L.createCompositeKey(D);try{const Ht=Ge.put({compositeKey:ut,value:k});Ht.onerror=Ft=>{se(Pc(Ft,"storage-set"))},Ht.onsuccess=()=>{X()}}catch(Ht){se(Di.create("storage-set",{originalErrorMessage:Ht?.message}))}})})()}delete(D){var k=this;return(0,B.Z)(function*(){const L=yield k.openDbPromise;return new Promise((G,X)=>{const $e=L.transaction([Jn],"readwrite").objectStore(Jn),Ge=k.createCompositeKey(D);try{const ut=$e.delete(Ge);ut.onerror=Ht=>{X(Pc(Ht,"storage-delete"))},ut.onsuccess=()=>{G()}}catch(ut){X(Di.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class yh{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,B.Z)(function*(){const k=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),G=D.storage.getActiveConfig(),X=yield k;X&&(D.lastFetchStatus=X);const se=yield L;se&&(D.lastSuccessfulFetchTimestampMillis=se);const $e=yield G;$e&&(D.activeConfig=$e)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function ru(){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,B.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}let ou,Es;!function Ko(){(0,ce._registerComponent)(new J.wA("remote-config",function C(D,{instanceIdentifier:k}){const L=D.getProvider("app").getImmediate(),G=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Di.create("registration-window");if(!(0,de.hl)())throw Di.create("indexed-db-unavailable");const{projectId:X,apiKey:se,appId:$e}=L.options;if(!X)throw Di.create("registration-project-id");if(!se)throw Di.create("registration-api-key");if(!$e)throw Di.create("registration-app-id");const Ge=new Gy($e,L.name,k=k||"firebase"),ut=new yh(Ge),Ht=new we.Yd(ri);Ht.logLevel=we.in.ERROR;const Ft=new iu(G,ce.SDK_VERSION,k,X,se,$e),Ar=new Kg(Ft,Ge),zn=new Yo(Ar,Ge,ut,Ht),Kr=new $y(L,zn,ut,Ge,Ht);return function Tr(C){const D=(0,de.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Kr),Kr},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(ri,"0.4.4"),(0,ce.registerVersion)(ri,"0.4.4","esm2017")}();const Fc=new WeakMap,Ds=new WeakMap,vr=new WeakMap,ar=new WeakMap,Nl=new WeakMap;let Zo={get(C,D,k){if(C instanceof IDBTransaction){if("done"===D)return Ds.get(C);if("objectStoreNames"===D)return C.objectStoreNames||vr.get(C);if("store"===D)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return lr(C[D])},set:(C,D,k)=>(C[D]=k,!0),has:(C,D)=>C instanceof IDBTransaction&&("done"===D||"store"===D)||D in C};function xh(C){return"function"==typeof C?function wh(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Nc(){return Es||(Es=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...D){return C.apply(Hi(this),D),lr(Fc.get(this))}:function(...D){return lr(C.apply(Hi(this),D))}:function(D,...k){const L=C.call(Hi(this),D,...k);return vr.set(L,D.sort?D.sort():[D]),lr(L)}}(C):(C instanceof IDBTransaction&&function Fl(C){if(Ds.has(C))return;const D=new Promise((k,L)=>{const G=()=>{C.removeEventListener("complete",X),C.removeEventListener("error",se),C.removeEventListener("abort",se)},X=()=>{k(),G()},se=()=>{L(C.error||new DOMException("AbortError","AbortError")),G()};C.addEventListener("complete",X),C.addEventListener("error",se),C.addEventListener("abort",se)});Ds.set(C,D)}(C),((C,D)=>D.some(k=>C instanceof k))(C,function Np(){return ou||(ou=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Zo):C)}function lr(C){if(C instanceof IDBRequest)return function Vi(C){const D=new Promise((k,L)=>{const G=()=>{C.removeEventListener("success",X),C.removeEventListener("error",se)},X=()=>{k(lr(C.result)),G()},se=()=>{L(C.error),G()};C.addEventListener("success",X),C.addEventListener("error",se)});return D.then(k=>{k instanceof IDBCursor&&Fc.set(k,C)}).catch(()=>{}),Nl.set(D,C),D}(C);if(ar.has(C))return ar.get(C);const D=xh(C);return D!==C&&(ar.set(C,D),Nl.set(D,C)),D}const Hi=C=>Nl.get(C);function Lc(C,D,{blocked:k,upgrade:L,blocking:G,terminated:X}={}){const se=indexedDB.open(C,D),$e=lr(se);return L&&se.addEventListener("upgradeneeded",Ge=>{L(lr(se.result),Ge.oldVersion,Ge.newVersion,lr(se.transaction))}),k&&se.addEventListener("blocked",()=>k()),$e.then(Ge=>{X&&Ge.addEventListener("close",()=>X()),G&&Ge.addEventListener("versionchange",()=>G())}).catch(()=>{}),$e}function Qo(C,{blocked:D}={}){const k=indexedDB.deleteDatabase(C);return D&&k.addEventListener("blocked",()=>D()),lr(k).then(()=>{})}const su=["get","getKey","getAll","getAllKeys","count"],Ss=["put","add","delete","clear"],ka=new Map;function Ll(C,D){if(!(C instanceof IDBDatabase)||D in C||"string"!=typeof D)return;if(ka.get(D))return ka.get(D);const k=D.replace(/FromIndex$/,""),L=D!==k,G=Ss.includes(k);if(!(k in(L?IDBIndex:IDBObjectStore).prototype)||!G&&!su.includes(k))return;const X=function(){var se=(0,B.Z)(function*($e,...Ge){const ut=this.transaction($e,G?"readwrite":"readonly");let Ht=ut.store;return L&&(Ht=Ht.index(Ge.shift())),(yield Promise.all([Ht[k](...Ge),G&&ut.done]))[0]});return function(Ge){return se.apply(this,arguments)}}();return ka.set(D,X),X}!function Ui(C){Zo=C(Zo)}(C=>({...C,get:(D,k,L)=>Ll(D,k)||C.get(D,k,L),has:(D,k)=>!!Ll(D,k)||C.has(D,k)}));const Ut="/firebase-messaging-sw.js",Bl="/firebase-cloud-messaging-push-scope",Ch="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Bc="google.c.a.c_id",Dh="google.c.a.c_l",Vc="google.c.a.ts",Zg="google.c.a.e";var fe=(()=>{return(C=fe||(fe={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",fe;var C})();function $t(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vl(C){const k=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),G=new Uint8Array(L.length);for(let X=0;X<L.length;++X)G[X]=L.charCodeAt(X);return G}const Ul="fcm_token_details_db",Ks="fcm_token_object_Store";function Uc(C){return yr.apply(this,arguments)}function yr(){return yr=(0,B.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(Ul))return null;let D=null;return(yield Lc(Ul,5,{upgrade:(L=(0,B.Z)(function*(G,X,se,$e){var Ge;if(X<2||!G.objectStoreNames.contains(Ks))return;const ut=$e.objectStore(Ks),Ht=yield ut.index("fcmSenderId").get(C);if(yield ut.clear(),Ht)if(2===X){const Ft=Ht;if(!Ft.auth||!Ft.p256dh||!Ft.endpoint)return;D={token:Ft.fcmToken,createTime:null!==(Ge=Ft.createTime)&&void 0!==Ge?Ge:Date.now(),subscriptionOptions:{auth:Ft.auth,p256dh:Ft.p256dh,endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:"string"==typeof Ft.vapidKey?Ft.vapidKey:$t(Ft.vapidKey)}}}else if(3===X){const Ft=Ht;D={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:$t(Ft.auth),p256dh:$t(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:$t(Ft.vapidKey)}}}else if(4===X){const Ft=Ht;D={token:Ft.fcmToken,createTime:Ft.createTime,subscriptionOptions:{auth:$t(Ft.auth),p256dh:$t(Ft.p256dh),endpoint:Ft.endpoint,swScope:Ft.swScope,vapidKey:$t(Ft.vapidKey)}}}}),function(X,se,$e,Ge){return L.apply(this,arguments)})})).close(),yield Qo(Ul),yield Qo("fcm_vapid_details_db"),yield Qo("undefined"),Ih(D)?D:null;var L}),yr.apply(this,arguments)}function Ih(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Xo="firebase-messaging-store";let Hl=null;function fi(){return Hl||(Hl=Lc("firebase-messaging-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(Xo)}})),Hl}function zr(C){return ko.apply(this,arguments)}function ko(){return(ko=(0,B.Z)(function*(C){const D=jc(C),L=yield(yield fi()).transaction(Xo).objectStore(Xo).get(D);if(L)return L;{const G=yield Uc(C.appConfig.senderId);if(G)return yield Zs(C,G),G}})).apply(this,arguments)}function Zs(C,D){return $r.apply(this,arguments)}function $r(){return($r=(0,B.Z)(function*(C,D){const k=jc(C),G=(yield fi()).transaction(Xo,"readwrite");return yield G.objectStore(Xo).put(D,k),yield G.done,D})).apply(this,arguments)}function Th(C){return jl.apply(this,arguments)}function jl(){return(jl=(0,B.Z)(function*(C){const D=jc(C),L=(yield fi()).transaction(Xo,"readwrite");yield L.objectStore(Xo).delete(D),yield L.done})).apply(this,arguments)}function jc({appConfig:C}){return C.appId}const pi=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ra(C,D){return au.apply(this,arguments)}function au(){return(au=(0,B.Z)(function*(C,D){const k=yield lu(C),L=Ah(D),G={method:"POST",headers:k,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(zl(C.appConfig),G)).json()}catch(se){throw pi.create("token-subscribe-failed",{errorInfo:se?.toString()})}if(X.error)throw pi.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw pi.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function zc(C,D){return Mh.apply(this,arguments)}function Mh(){return(Mh=(0,B.Z)(function*(C,D){const k=yield lu(C),L=Ah(D.subscriptionOptions),G={method:"PATCH",headers:k,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(`${zl(C.appConfig)}/${D.token}`,G)).json()}catch(se){throw pi.create("token-update-failed",{errorInfo:se?.toString()})}if(X.error)throw pi.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw pi.create("token-update-no-token");return X.token})).apply(this,arguments)}function $c(C,D){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,B.Z)(function*(C,D){const L={method:"DELETE",headers:yield lu(C)};try{const X=yield(yield fetch(`${zl(C.appConfig)}/${D}`,L)).json();if(X.error)throw pi.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(G){throw pi.create("token-unsubscribe-failed",{errorInfo:G?.toString()})}})).apply(this,arguments)}function zl({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function lu(C){return $l.apply(this,arguments)}function $l(){return($l=(0,B.Z)(function*({appConfig:C,installations:D}){const k=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Ah({p256dh:C,auth:D,endpoint:k,vapidKey:L}){const G={web:{endpoint:k,auth:D,p256dh:C}};return L!==Ch&&(G.web.applicationPubKey=L),G}const qc=6048e5;function Fp(C){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,B.Z)(function*(C){const D=yield Bp(C.swRegistration,C.vapidKey),k={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:$t(D.getKey("auth")),p256dh:$t(D.getKey("p256dh"))},L=yield zr(C.firebaseDependencies);if(L){if(Jg(L.subscriptionOptions,k))return Date.now()>=L.createTime+qc?jn(C,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield $c(C.firebaseDependencies,L.token)}catch(G){console.warn(G)}return Lp(C.firebaseDependencies,k)}return Lp(C.firebaseDependencies,k)})).apply(this,arguments)}function Ki(C){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,B.Z)(function*(C){const D=yield zr(C.firebaseDependencies);D&&(yield $c(C.firebaseDependencies,D.token),yield Th(C.firebaseDependencies));const k=yield C.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function jn(C,D){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,B.Z)(function*(C,D){try{const k=yield zc(C.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:k,createTime:Date.now()});return yield Zs(C.firebaseDependencies,L),k}catch(k){throw yield Ki(C),k}})).apply(this,arguments)}function Lp(C,D){return Is.apply(this,arguments)}function Is(){return(Is=(0,B.Z)(function*(C,D){const L={token:yield Ra(C,D),createTime:Date.now(),subscriptionOptions:D};return yield Zs(C,L),L.token})).apply(this,arguments)}function Bp(C,D){return kh.apply(this,arguments)}function kh(){return(kh=(0,B.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vl(D)})})).apply(this,arguments)}function Jg(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function Yc(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function cu(C,D){if(!D.notification)return;C.notification={};const k=D.notification.title;k&&(C.notification.title=k);const L=D.notification.body;L&&(C.notification.body=L);const G=D.notification.image;G&&(C.notification.image=G);const X=D.notification.icon;X&&(C.notification.icon=X)}(D,C),function Kc(C,D){D.data&&(C.data=D.data)}(D,C),function Zc(C,D){var k,L,G,X,se;if(!(D.fcmOptions||null!==(k=D.notification)&&void 0!==k&&k.click_action))return;C.fcmOptions={};const $e=null!==(G=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==G?G:null===(X=D.notification)||void 0===X?void 0:X.click_action;$e&&(C.fcmOptions.link=$e);const Ge=null===(se=D.fcmOptions)||void 0===se?void 0:se.analytics_label;Ge&&(C.fcmOptions.analyticsLabel=Ge)}(D,C),D}function ql(C){return"object"==typeof C&&!!C&&Bc in C}function Rh(C,D){const k=[];for(let L=0;L<C.length;L++)k.push(C.charAt(L)),L<D.length&&k.push(D.charAt(L));return k.join("")}function Oa(C){return pi.create("missing-app-config-values",{valueName:C})}Rh("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Rh("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Vp{constructor(D,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const G=function es(C){if(!C||!C.options)throw Oa("App Configuration Object");if(!C.name)throw Oa("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:k}=C;for(const L of D)if(!k[L])throw Oa(L);return{appName:C.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:G,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function e_(C){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,B.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Ut,{scope:Bl}),C.swRegistration.update().catch(()=>{})}catch(D){throw pi.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function qy(C,D){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,B.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield e_(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw pi.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function Ro(C,D){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,B.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Ch)})).apply(this,arguments)}function Pa(){return(Pa=(0,B.Z)(function*(C,D){if(!navigator)throw pi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pi.create("permission-blocked");return yield Ro(C,D?.vapidKey),yield qy(C,D?.serviceWorkerRegistration),Fp(C)})).apply(this,arguments)}function Na(C,D,k){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,B.Z)(function*(C,D,k){const L=Xs(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[Bc],message_name:k[Dh],message_time:k[Vc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xs(C){switch(C){case fe.NOTIFICATION_CLICKED:return"notification_open";case fe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Js(){return(Js=(0,B.Z)(function*(C,D){const k=D.data;if(!k.isFirebaseMessaging)return;C.onMessageHandler&&k.messageType===fe.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Yc(k)):C.onMessageHandler.next(Yc(k)));const L=k.data;ql(L)&&"1"===L[Zg]&&(yield Na(C,k.messageType,L))})).apply(this,arguments)}const Ts="@firebase/messaging",ea=C=>{const D=new Vp(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Jc(C,D){return Js.apply(this,arguments)}(D,k)),D},ed=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:L=>function Oh(C,D){return Pa.apply(this,arguments)}(D,L)}};function du(){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,B.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function td(){(0,ce._registerComponent)(new J.wA("messaging",ea,"PUBLIC")),(0,ce._registerComponent)(new J.wA("messaging-internal",ed,"PRIVATE")),(0,ce.registerVersion)(Ts,"0.12.4"),(0,ce.registerVersion)(Ts,"0.12.4","esm2017")}();const Mn="analytics",Up="firebase_id",Fa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",uu="https://www.googletagmanager.com/gtag/js",ji=new we.Yd("@firebase/analytics"),oi=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function od(C){if(!C.startsWith(uu)){const D=oi.create("invalid-gtag-resource",{gtagURL:C});return ji.warn(D.message),""}return C}function sd(C){return Promise.all(C.map(D=>D.catch(k=>k)))}function Oo(C,D){const k=function Ba(C,D){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(C,D)),k}("firebase-js-sdk-policy",{createScriptURL:od}),L=document.createElement("script"),G=`${uu}?l=${C}&id=${D}`;L.src=k?k?.createScriptURL(G):G,L.async=!0,document.head.appendChild(L)}function Ql(C,D,k,L,G,X){return ta.apply(this,arguments)}function ta(){return(ta=(0,B.Z)(function*(C,D,k,L,G,X){const se=L[G];try{if(se)yield D[se];else{const Ge=(yield sd(k)).find(ut=>ut.measurementId===G);Ge&&(yield D[Ge.appId])}}catch($e){ji.error($e)}C("config",G,X)})).apply(this,arguments)}function ad(C,D,k,L,G){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,B.Z)(function*(C,D,k,L,G){try{let X=[];if(G&&G.send_to){let se=G.send_to;Array.isArray(se)||(se=[se]);const $e=yield sd(k);for(const Ge of se){const ut=$e.find(Ft=>Ft.measurementId===Ge),Ht=ut&&D[ut.appId];if(!Ht){X=[];break}X.push(Ht)}}0===X.length&&(X=Object.values(D)),yield Promise.all(X),C("event",L,G||{})}catch(X){ji.error(X)}})).apply(this,arguments)}function Jl(C){const D=window.document.getElementsByTagName("script");for(const k of Object.values(D))if(k.src&&k.src.includes(uu)&&k.src.includes(C))return k;return null}const ia=new class ks{constructor(D={},k=1e3){this.throttleMetadata=D,this.intervalMillis=k}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,k){this.throttleMetadata[D]=k}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Wy(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function t_(C){return bn.apply(this,arguments)}function bn(){return(bn=(0,B.Z)(function*(C){var D;const{appId:k,apiKey:L}=C,G={method:"GET",headers:Wy(L)},X=Fa.replace("{app-id}",k),se=yield fetch(X,G);if(200!==se.status&&304!==se.status){let $e="";try{const Ge=yield se.json();null!==(D=Ge.error)&&void 0!==D&&D.message&&($e=Ge.error.message)}catch{}throw oi.create("config-fetch-failed",{httpStatus:se.status,responseMessage:$e})}return se.json()})).apply(this,arguments)}function ra(C){return ec.apply(this,arguments)}function ec(){return(ec=(0,B.Z)(function*(C,D=ia,k){const{appId:L,apiKey:G,measurementId:X}=C.options;if(!L)throw oi.create("no-app-id");if(!G){if(X)return{measurementId:X,appId:L};throw oi.create("no-api-key")}const se=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},$e=new Yy;return setTimeout((0,B.Z)(function*(){$e.abort()}),void 0!==k?k:6e4),jp({appId:L,apiKey:G,measurementId:X},se,$e,D)})).apply(this,arguments)}function jp(C,D,k){return cd.apply(this,arguments)}function cd(){return(cd=(0,B.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:k},L,G=ia){var X;const{appId:se,measurementId:$e}=C;try{yield zp(L,D)}catch(Ge){if($e)return ji.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${Ge?.message}]`),{appId:se,measurementId:$e};throw Ge}try{const Ge=yield t_(C);return G.deleteThrottleMetadata(se),Ge}catch(Ge){const ut=Ge;if(!$p(ut)){if(G.deleteThrottleMetadata(se),$e)return ji.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${$e} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:se,measurementId:$e};throw Ge}const Ht=503===Number(null===(X=ut?.customData)||void 0===X?void 0:X.httpStatus)?(0,de.$s)(k,G.intervalMillis,30):(0,de.$s)(k,G.intervalMillis),Ft={throttleEndTimeMillis:Date.now()+Ht,backoffCount:k+1};return G.setThrottleMetadata(se,Ft),ji.debug(`Calling attemptFetch again in ${Ht} millis`),jp(C,Ft,L,G)}})).apply(this,arguments)}function zp(C,D){return new Promise((k,L)=>{const G=Math.max(D-Date.now(),0),X=setTimeout(k,G);C.addEventListener(()=>{clearTimeout(X),L(oi.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function $p(C){if(!(C instanceof de.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Yy{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let Ua,Wp;function Gp(){return(Gp=(0,B.Z)(function*(C,D,k,L,G){if(G&&G.global)C("event",k,L);else{const X=yield D;C("event",k,Object.assign(Object.assign({},L),{send_to:X}))}})).apply(this,arguments)}function Ha(C){Wp=C}function fd(C){Ua=C}function Zi(){return pd.apply(this,arguments)}function pd(){return(pd=(0,B.Z)(function*(){if(!(0,de.hl)())return ji.warn(oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(C){return ji.warn(oi.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function qr(){return(qr=(0,B.Z)(function*(C,D,k,L,G,X,se){var $e;const Ge=ra(C);Ge.then(zn=>{k[zn.measurementId]=zn.appId,C.options.measurementId&&zn.measurementId!==C.options.measurementId&&ji.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zn=>ji.error(zn)),D.push(Ge);const ut=Zi().then(zn=>{if(zn)return L.getId()}),[Ht,Ft]=yield Promise.all([Ge,ut]);Jl(X)||Oo(X,Ht.measurementId),Wp&&(G("consent","default",Wp),Ha(void 0)),G("js",new Date);const Ar=null!==($e=se?.config)&&void 0!==$e?$e:{};return Ar.origin="firebase",Ar.update=!0,null!=Ft&&(Ar[Up]=Ft),G("config",Ht.measurementId,Ar),Ua&&(G("set",Ua),fd(void 0)),Ht.measurementId})).apply(this,arguments)}class Qe{constructor(D){this.app=D}_delete(){return delete xt[this.app.options.appId],Promise.resolve()}}let xt={},br=[];const Vh={};let hu,Wr,sa="dataLayer",ja=!1;function md(C,D,k){!function za(){const C=[];if((0,de.ru)()&&C.push("This is a browser extension environment."),(0,de.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((L,G)=>`(${G+1}) ${L}`).join(" "),k=oi.create("invalid-analytics-context",{errorInfo:D});ji.warn(k.message)}}();const L=C.options.appId;if(!L)throw oi.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw oi.create("no-api-key");ji.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xt[L])throw oi.create("already-exists",{id:L});if(!ja){!function Hp(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(sa);const{wrappedGtag:X,gtagCore:se}=function na(C,D,k,L,G){let X=function(...se){window[L].push(arguments)};return window[G]&&"function"==typeof window[G]&&(X=window[G]),window[G]=function ld(C,D,k,L){function X(){return(X=(0,B.Z)(function*(se,...$e){try{if("event"===se){const[Ge,ut]=$e;yield ad(C,D,k,Ge,ut)}else if("config"===se){const[Ge,ut]=$e;yield Ql(C,D,k,L,Ge,ut)}else if("consent"===se){const[Ge]=$e;C("consent","update",Ge)}else if("get"===se){const[Ge,ut,Ht]=$e;C("get",Ge,ut,Ht)}else if("set"===se){const[Ge]=$e;C("set",Ge)}else C(se,...$e)}catch(Ge){ji.error(Ge)}})).apply(this,arguments)}return function G(se){return X.apply(this,arguments)}}(X,C,D,k),{gtagCore:X,wrappedGtag:window[G]}}(xt,br,Vh,sa,"gtag");Wr=X,hu=se,ja=!0}return xt[L]=function dn(C,D,k,L,G,X,se){return qr.apply(this,arguments)}(C,br,Vh,D,hu,sa,k),new Qe(C)}function gd(){return aa.apply(this,arguments)}function aa(){return(aa=(0,B.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const qa="@firebase/analytics";!function zh(){(0,ce._registerComponent)(new J.wA(Mn,(D,{options:k})=>md(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ce._registerComponent)(new J.wA("analytics-internal",function C(D){try{const k=D.getProvider(Mn).getImmediate();return{logEvent:(L,G,X)=>function Ga(C,D,k,L){C=(0,de.m9)(C),function n_(C,D,k,L,G){return Gp.apply(this,arguments)}(Wr,xt[C.app.options.appId],D,k,L).catch(G=>ji.error(G))}(k,L,G,X)}}catch(k){throw oi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ce.registerVersion)(qa,"0.10.0"),(0,ce.registerVersion)(qa,"0.10.0","esm2017")}();var fu=V(4408),os=V(7565);const ss=new class po extends os.v{}(class Yr extends fu.o{constructor(D,k){super(D,k),this.scheduler=D,this.work=k}schedule(D,k=0){return k>0?super.schedule(D,k):(this.delay=k,this.state=D,this.scheduler.flush(this),this)}execute(D,k){return k>0||this.closed?super.execute(D,k):this._execute(D,k)}requestAsyncId(D,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,k,L):(D.flush(this),0)}});var _d=V(4986),vd=V(8505),ti=V(9468),Ti=V(5363);const wr=new s.GfV("7.5.0"),An="__angularfire_symbol__analyticsIsSupportedValue",mi="__angularfire_symbol__analyticsIsSupported",ic="__angularfire_symbol__remoteConfigIsSupportedValue",la="__angularfire_symbol__remoteConfigIsSupported",pu="__angularfire_symbol__messagingIsSupportedValue",mo="__angularfire_symbol__messagingIsSupported";function Os(C,D,k){if(D){if(1===D.length)return D[0];const X=D.filter(se=>se.app===k);if(1===X.length)return X[0]}return k.container.getProvider(C).getImmediate({optional:!0})}globalThis[mi]||(globalThis[mi]=gd().then(C=>globalThis[An]=C).catch(()=>globalThis[An]=!1)),globalThis[mo]||(globalThis[mo]=du().then(C=>globalThis[pu]=C).catch(()=>globalThis[pu]=!1)),globalThis[la]||(globalThis[la]=ru().then(C=>globalThis[ic]=C).catch(()=>globalThis[ic]=!1));const rc=(C,D)=>{const k=D?[D]:(0,ne.C6)(),L=[];return k.forEach(G=>{G.container.getProvider(C).instances.forEach(se=>{L.includes(se)||L.push(se)})}),L};function No(){}class mu{constructor(D,k=ss){this.zone=D,this.delegate=k}now(){return this.delegate.now()}schedule(D,k,L){const G=this.zone;return this.delegate.schedule(function(se){G.runGuarded(()=>{D.apply(this,[se])})},k,L)}}class yd{constructor(D){this.zone=D,this.task=null}call(D,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",No,{},No,No)),k.pipe((0,vd.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let xr=(()=>{class C{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new mu(Zone.current)),this.insideAngular=k.run(()=>new mu(Zone.current,_d.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(k){return new(k||C)(s.LFG(s.R0b))},C.\u0275prov=s.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Ot(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Gh(C){return Ot(),function Fo(C){return function(k){return(k=k.lift(new yd(C.ngZone))).pipe((0,ti.R)(C.outsideAngular),(0,Ti.Q)(C.insideAngular))}}(Ot())(C)}},2090:(bt,Se,V)=>{V.d(Se,{$s:()=>Vr,BH:()=>Ee,DV:()=>ys,Dv:()=>Ni,G6:()=>Ae,GJ:()=>vs,L:()=>pe,LL:()=>tt,Pz:()=>Ce,Sg:()=>qe,UG:()=>le,UI:()=>Pi,US:()=>J,Wj:()=>mr,Wl:()=>Dn,Yr:()=>De,ZB:()=>Q,ZR:()=>jt,aH:()=>Fe,b$:()=>nn,cI:()=>fn,dS:()=>Da,eu:()=>He,g5:()=>B,gK:()=>xi,gQ:()=>pr,h$:()=>xe,hl:()=>We,hu:()=>ne,jU:()=>Rt,lb:()=>Sn,m9:()=>gr,ne:()=>At,p$:()=>q,pd:()=>Lr,r3:()=>To,ru:()=>rt,tV:()=>W,uI:()=>lt,ug:()=>ln,vZ:()=>Fr,w1:()=>me,w9:()=>Wi,xO:()=>Il,xb:()=>bs,z$:()=>Le,zI:()=>vt,zd:()=>Ln});const ne=function($,j){if(!$)throw B(j)},B=function($){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+$)},ce=function($){const j=[];let Z=0;for(let ye=0;ye<$.length;ye++){let oe=$.charCodeAt(ye);oe<128?j[Z++]=oe:oe<2048?(j[Z++]=oe>>6|192,j[Z++]=63&oe|128):55296==(64512&oe)&&ye+1<$.length&&56320==(64512&$.charCodeAt(ye+1))?(oe=65536+((1023&oe)<<10)+(1023&$.charCodeAt(++ye)),j[Z++]=oe>>18|240,j[Z++]=oe>>12&63|128,j[Z++]=oe>>6&63|128,j[Z++]=63&oe|128):(j[Z++]=oe>>12|224,j[Z++]=oe>>6&63|128,j[Z++]=63&oe|128)}return j},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray($,j){if(!Array.isArray($))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=j?this.byteToCharMapWebSafe_:this.byteToCharMap_,ye=[];for(let oe=0;oe<$.length;oe+=3){const dt=$[oe],Dt=oe+1<$.length,Kt=Dt?$[oe+1]:0,Pt=oe+2<$.length,On=Pt?$[oe+2]:0;let Yi=(15&Kt)<<2|On>>6,Ci=63&On;Pt||(Ci=64,Dt||(Yi=64)),ye.push(Z[dt>>2],Z[(3&dt)<<4|Kt>>4],Z[Yi],Z[Ci])}return ye.join("")},encodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?btoa($):this.encodeByteArray(ce($),j)},decodeString($,j){return this.HAS_NATIVE_SUPPORT&&!j?atob($):function($){const j=[];let Z=0,ye=0;for(;Z<$.length;){const oe=$[Z++];if(oe<128)j[ye++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const dt=$[Z++];j[ye++]=String.fromCharCode((31&oe)<<6|63&dt)}else if(oe>239&&oe<365){const Pt=((7&oe)<<18|(63&$[Z++])<<12|(63&$[Z++])<<6|63&$[Z++])-65536;j[ye++]=String.fromCharCode(55296+(Pt>>10)),j[ye++]=String.fromCharCode(56320+(1023&Pt))}else{const dt=$[Z++],Dt=$[Z++];j[ye++]=String.fromCharCode((15&oe)<<12|(63&dt)<<6|63&Dt)}}return j.join("")}(this.decodeStringToByteArray($,j))},decodeStringToByteArray($,j){this.init_();const Z=j?this.charToByteMapWebSafe_:this.charToByteMap_,ye=[];for(let oe=0;oe<$.length;){const dt=Z[$.charAt(oe++)],Kt=oe<$.length?Z[$.charAt(oe)]:0;++oe;const On=oe<$.length?Z[$.charAt(oe)]:64;++oe;const cn=oe<$.length?Z[$.charAt(oe)]:64;if(++oe,null==dt||null==Kt||null==On||null==cn)throw new we;ye.push(dt<<2|Kt>>4),64!==On&&(ye.push(Kt<<4&240|On>>2),64!==cn&&ye.push(On<<6&192|cn))}return ye},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let $=0;$<this.ENCODED_VALS.length;$++)this.byteToCharMap_[$]=this.ENCODED_VALS.charAt($),this.charToByteMap_[this.byteToCharMap_[$]]=$,this.byteToCharMapWebSafe_[$]=this.ENCODED_VALS_WEBSAFE.charAt($),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[$]]=$,$>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt($)]=$,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt($)]=$)}}};class we extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function($){const j=ce($);return J.encodeByteArray(j,!0)},pe=function($){return xe($).replace(/\./g,"")},W=function($){try{return J.decodeString($,!0)}catch(j){console.error("base64Decode failed: ",j)}return null};function q($){return Q(void 0,$)}function Q($,j){if(!(j instanceof Object))return j;switch(j.constructor){case Date:return new Date(j.getTime());case Object:void 0===$&&($={});break;case Array:$=[];break;default:return j}for(const Z in j)!j.hasOwnProperty(Z)||!ze(Z)||($[Z]=Q($[Z],j[Z]));return $}function ze($){return"__proto__"!==$}const Pe=()=>{try{return function Ie(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const $=process.env.__FIREBASE_DEFAULTS__;return $?JSON.parse($):void 0})()||(()=>{if(typeof document>"u")return;let $;try{$=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const j=$&&W($[1]);return j&&JSON.parse(j)})()}catch($){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$}`)}},Fe=()=>{var $;return null===($=Pe())||void 0===$?void 0:$.config},Ce=$=>{var j;return null===(j=Pe())||void 0===j?void 0:j[`_${$}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((j,Z)=>{this.resolve=j,this.reject=Z})}wrapCallback(j){return(Z,ye)=>{Z?this.reject(Z):this.resolve(ye),"function"==typeof j&&(this.promise.catch(()=>{}),1===j.length?j(Z):j(Z,ye))}}}function qe($,j){if($.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ye=j||"demo-project",oe=$.iat||0,dt=$.sub||$.user_id;if(!dt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Dt=Object.assign({iss:`https://securetoken.google.com/${ye}`,aud:ye,iat:oe,exp:oe+3600,auth_time:oe,sub:dt,user_id:dt,firebase:{sign_in_provider:"custom",identities:{}}},$);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Dt)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function le(){var $;const j=null===($=Pe())||void 0===$?void 0:$.forceEnvironment;if("node"===j)return!0;if("browser"===j)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Rt(){return"object"==typeof self&&self.self===self}function rt(){const $="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof $&&void 0!==$.id}function nn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function me(){const $=Le();return $.indexOf("MSIE ")>=0||$.indexOf("Trident/")>=0}function De(){return!1}function Ae(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function We(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise(($,j)=>{try{let Z=!0;const ye="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(ye);oe.onsuccess=()=>{oe.result.close(),Z||self.indexedDB.deleteDatabase(ye),$(!0)},oe.onupgradeneeded=()=>{Z=!1},oe.onerror=()=>{var dt;j((null===(dt=oe.error)||void 0===dt?void 0:dt.message)||"")}}catch(Z){j(Z)}})}function vt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class jt extends Error{constructor(j,Z,ye){super(Z),this.code=j,this.customData=ye,this.name="FirebaseError",Object.setPrototypeOf(this,jt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(j,Z,ye){this.service=j,this.serviceName=Z,this.errors=ye}create(j,...Z){const ye=Z[0]||{},oe=`${this.service}/${j}`,dt=this.errors[j],Dt=dt?function en($,j){return $.replace(kt,(Z,ye)=>{const oe=j[ye];return null!=oe?String(oe):`<${ye}?>`})}(dt,ye):"Error";return new jt(oe,`${this.serviceName}: ${Dt} (${oe}).`,ye)}}const kt=/\{\$([^}]+)}/g;function fn($){return JSON.parse($)}function Dn($){return JSON.stringify($)}const Un=function($){let j={},Z={},ye={},oe="";try{const dt=$.split(".");j=fn(W(dt[0])||""),Z=fn(W(dt[1])||""),oe=dt[2],ye=Z.d||{},delete Z.d}catch{}return{header:j,claims:Z,data:ye,signature:oe}},Wi=function($){const Z=Un($).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},vs=function($){const j=Un($).claims;return"object"==typeof j&&!0===j.admin};function To($,j){return Object.prototype.hasOwnProperty.call($,j)}function ys($,j){if(Object.prototype.hasOwnProperty.call($,j))return $[j]}function bs($){for(const j in $)if(Object.prototype.hasOwnProperty.call($,j))return!1;return!0}function Pi($,j,Z){const ye={};for(const oe in $)Object.prototype.hasOwnProperty.call($,oe)&&(ye[oe]=j.call(Z,$[oe],oe,$));return ye}function Fr($,j){if($===j)return!0;const Z=Object.keys($),ye=Object.keys(j);for(const oe of Z){if(!ye.includes(oe))return!1;const dt=$[oe],Dt=j[oe];if(wt(dt)&&wt(Dt)){if(!Fr(dt,Dt))return!1}else if(dt!==Dt)return!1}for(const oe of ye)if(!Z.includes(oe))return!1;return!0}function wt($){return null!==$&&"object"==typeof $}function Il($){const j=[];for(const[Z,ye]of Object.entries($))Array.isArray(ye)?ye.forEach(oe=>{j.push(encodeURIComponent(Z)+"="+encodeURIComponent(oe))}):j.push(encodeURIComponent(Z)+"="+encodeURIComponent(ye));return j.length?"&"+j.join("&"):""}function Ln($){const j={};return $.replace(/^\?/,"").split("&").forEach(ye=>{if(ye){const[oe,dt]=ye.split("=");j[decodeURIComponent(oe)]=decodeURIComponent(dt)}}),j}function Lr($){const j=$.indexOf("?");if(!j)return"";const Z=$.indexOf("#",j);return $.substring(j,Z>0?Z:void 0)}class pr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let j=1;j<this.blockSize;++j)this.pad_[j]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(j,Z){Z||(Z=0);const ye=this.W_;if("string"==typeof j)for(let cn=0;cn<16;cn++)ye[cn]=j.charCodeAt(Z)<<24|j.charCodeAt(Z+1)<<16|j.charCodeAt(Z+2)<<8|j.charCodeAt(Z+3),Z+=4;else for(let cn=0;cn<16;cn++)ye[cn]=j[Z]<<24|j[Z+1]<<16|j[Z+2]<<8|j[Z+3],Z+=4;for(let cn=16;cn<80;cn++){const Yi=ye[cn-3]^ye[cn-8]^ye[cn-14]^ye[cn-16];ye[cn]=4294967295&(Yi<<1|Yi>>>31)}let On,Hn,oe=this.chain_[0],dt=this.chain_[1],Dt=this.chain_[2],Kt=this.chain_[3],Pt=this.chain_[4];for(let cn=0;cn<80;cn++){cn<40?cn<20?(On=Kt^dt&(Dt^Kt),Hn=1518500249):(On=dt^Dt^Kt,Hn=1859775393):cn<60?(On=dt&Dt|Kt&(dt|Dt),Hn=2400959708):(On=dt^Dt^Kt,Hn=3395469782);const Yi=(oe<<5|oe>>>27)+On+Pt+Hn+ye[cn]&4294967295;Pt=Kt,Kt=Dt,Dt=4294967295&(dt<<30|dt>>>2),dt=oe,oe=Yi}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+dt&4294967295,this.chain_[2]=this.chain_[2]+Dt&4294967295,this.chain_[3]=this.chain_[3]+Kt&4294967295,this.chain_[4]=this.chain_[4]+Pt&4294967295}update(j,Z){if(null==j)return;void 0===Z&&(Z=j.length);const ye=Z-this.blockSize;let oe=0;const dt=this.buf_;let Dt=this.inbuf_;for(;oe<Z;){if(0===Dt)for(;oe<=ye;)this.compress_(j,oe),oe+=this.blockSize;if("string"==typeof j){for(;oe<Z;)if(dt[Dt]=j.charCodeAt(oe),++Dt,++oe,Dt===this.blockSize){this.compress_(dt),Dt=0;break}}else for(;oe<Z;)if(dt[Dt]=j[oe],++Dt,++oe,Dt===this.blockSize){this.compress_(dt),Dt=0;break}}this.inbuf_=Dt,this.total_+=Z}digest(){const j=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&Z,Z/=256;this.compress_(this.buf_);let ye=0;for(let oe=0;oe<5;oe++)for(let dt=24;dt>=0;dt-=8)j[ye]=this.chain_[oe]>>dt&255,++ye;return j}}function At($,j){const Z=new ct($,j);return Z.subscribe.bind(Z)}class ct{constructor(j,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{j(this)}).catch(ye=>{this.error(ye)})}next(j){this.forEachObserver(Z=>{Z.next(j)})}error(j){this.forEachObserver(Z=>{Z.error(j)}),this.close(j)}complete(){this.forEachObserver(j=>{j.complete()}),this.close()}subscribe(j,Z,ye){let oe;if(void 0===j&&void 0===Z&&void 0===ye)throw new Error("Missing Observer.");oe=function Gs($,j){if("object"!=typeof $||null===$)return!1;for(const Z of j)if(Z in $&&"function"==typeof $[Z])return!0;return!1}(j,["next","error","complete"])?j:{next:j,error:Z,complete:ye},void 0===oe.next&&(oe.next=ir),void 0===oe.error&&(oe.error=ir),void 0===oe.complete&&(oe.complete=ir);const dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),dt}unsubscribeOne(j){void 0===this.observers||void 0===this.observers[j]||(delete this.observers[j],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(j){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,j)}sendOne(j,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[j])try{Z(this.observers[j])}catch(ye){typeof console<"u"&&console.error&&console.error(ye)}})}close(j){this.finalized||(this.finalized=!0,void 0!==j&&(this.finalError=j),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ir(){}const Ni=function($,j,Z,ye){let oe;if(ye<j?oe="at least "+j:ye>Z&&(oe=0===Z?"none":"no more than "+Z),oe)throw new Error($+" failed: Was called with "+ye+(1===ye?" argument.":" arguments.")+" Expects "+oe+".")};function xi($,j){return`${$} failed: ${j} argument `}function mr($,j,Z,ye){if((!ye||Z)&&"function"!=typeof Z)throw new Error(xi($,j)+"must be a valid function.")}function Sn($,j,Z,ye){if((!ye||Z)&&("object"!=typeof Z||null===Z))throw new Error(xi($,j)+"must be a valid context object.")}const Da=function($){const j=[];let Z=0;for(let ye=0;ye<$.length;ye++){let oe=$.charCodeAt(ye);if(oe>=55296&&oe<=56319){const dt=oe-55296;ye++,ne(ye<$.length,"Surrogate pair missing trail surrogate."),oe=65536+(dt<<10)+($.charCodeAt(ye)-56320)}oe<128?j[Z++]=oe:oe<2048?(j[Z++]=oe>>6|192,j[Z++]=63&oe|128):oe<65536?(j[Z++]=oe>>12|224,j[Z++]=oe>>6&63|128,j[Z++]=63&oe|128):(j[Z++]=oe>>18|240,j[Z++]=oe>>12&63|128,j[Z++]=oe>>6&63|128,j[Z++]=63&oe|128)}return j},ln=function($){let j=0;for(let Z=0;Z<$.length;Z++){const ye=$.charCodeAt(Z);ye<128?j++:ye<2048?j+=2:ye>=55296&&ye<=56319?(j+=4,Z++):j+=3}return j};function Vr($,j=1e3,Z=2){const ye=j*Math.pow(Z,$),oe=Math.round(.5*ye*(Math.random()-.5)*2);return Math.min(144e5,ye+oe)}function gr($){return $&&$._delegate?$._delegate:$}},6409:(bt,Se,V)=>{var s=V(4650);let ne=null;function B(){return ne}class de{}const J=new s.OlP("DocumentToken");let we=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function xe(){return(0,s.LFG)(W)}()},providedIn:"platform"}),n})();const pe=new s.OlP("Location Initialized");let W=(()=>{class n extends we{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){q()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){q()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Q(){return new W((0,s.LFG)(J))}()},providedIn:"platform"}),n})();function q(){return!!window.history.pushState}function ze(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ie(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let ft=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Pe)},providedIn:"root"}),n})();const ge=new s.OlP("appBaseHref");let Pe=(()=>{class n extends ft{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ze(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ze(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const c=this.prepareExternalUrl(r+Ze(o));this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){const c=this.prepareExternalUrl(r+Ze(o));this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(we),s.LFG(ge,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ne=(()=>{class n extends ft{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ze(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let c=this.prepareExternalUrl(r+Ze(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(e,i,c)}replaceState(e,i,r,o){let c=this.prepareExternalUrl(r+Ze(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(we),s.LFG(ge,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function qe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Ie(Ee(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ze(i))}normalize(e){return n.stripTrailingSlash(function Ce(n,t){return n&&new RegExp(`^${n}([/;?#]|$)`).test(t)?t.substring(n.length):t}(this._basePath,Ee(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=ze,n.stripTrailingSlash=Ie,n.\u0275fac=function(e){return new(e||n)(s.LFG(ft))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function Fe(){return new Ue((0,s.LFG)(ft))}()},providedIn:"root"}),n})();function Ee(n){return n.replace(/\/index.html$/,"")}const Ur=/\s+/,Ke=[];let zt=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Ke,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Ur):Ke}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Ur):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Ur).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class hi{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Sa=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,c)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new hi(r.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,c),Xn(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Xn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Xn(n,t){n.context.$implicit=t.item}let Sr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){kl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){kl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Wt{constructor(){this.$implicit=null,this.ngIf=null}}function kl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}let xs=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),c=-1===r.indexOf("-")?void 0:s.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,c):this._renderer.removeStyle(this._ngEl.nativeElement,r,c)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.aQg),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})(),Jn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Pp="browser";function Ko(n){return"server"===n}let Pl=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new bh((0,s.LFG)(J),window)}),n})();class bh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Es(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const c=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(c)return c}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=ou(this.window.history)||ou(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ou(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Kc extends de{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Zc extends Kc{static makeCurrent(){!function ce(n){ne||(ne=n)}(new Zc)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function Rh(){return ql=ql||document.querySelector("base"),ql?ql.getAttribute("href"):null}();return null==e?null:function Oa(n){es=es||document.createElement("a"),es.setAttribute("href",n);const t=es.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ql=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function sr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let es,ql=null;const Vp=new s.OlP("TRANSITION_ID"),Qc=[{provide:s.ip1,useFactory:function e_(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=B(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Vp,J,s.zs3],multi:!0}];let Wl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Ro=new s.OlP("EventManagerPlugins");let Qs=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const c=r[o];if(c.supports(e))return this._eventNameToPlugin.set(e,c),c}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ro),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Oh{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=B().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Pa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Na=(()=>{class n extends Pa{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const c=this._doc.createElement("style");c.textContent=o,r.push(i.appendChild(c))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(Xc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Xc))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Xc(n){B().remove(n)}const Xs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Jc=/%COMP%/g;function du(n,t){return t.flat(100).map(e=>e.replace(Jc,n))}function Yl(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let nd=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ms(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Kl(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case s.ifc.ShadowDom:return new Zl(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=du(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qs),s.LFG(Na),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ms{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Xs[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(id(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(id(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Xs[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Xs[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Yl(i)):this.eventManager.addEventListener(t,e,Yl(i))}}function id(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Kl extends Ms{constructor(t,e,i,r){super(t),this.component=i;const o=du(r+"-"+i.id,i.styles);e.addStyles(o),this.contentAttr=function ed(n){return"_ngcontent-%COMP%".replace(Jc,n)}(r+"-"+i.id),this.hostAttr=function td(n){return"_nghost-%COMP%".replace(Jc,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Zl extends Ms{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=du(r.id,r.styles);for(let c=0;c<o.length;c++){const h=document.createElement("style");h.textContent=o[c],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Nh=(()=>{class n extends Oh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Mn=["alt","control","meta","shift"],Up={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Fh=(()=>{class n extends Oh{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),c=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(e,o.domEventName,c))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let c="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),c="code."),Mn.forEach(v=>{const x=i.indexOf(v);x>-1&&(i.splice(x,1),c+=v+".")}),c+=o,0!=i.length||0===o.length)return null;const m={};return m.domEventName=r,m.fullKey=c,m}static matchEventFullKeyCode(e,i){let r=Up[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Mn.forEach(c=>{c!==r&&(0,rd[c])(e)&&(o+=c+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Hp=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Pp},{provide:s.g9A,useValue:function od(){Zc.makeCurrent()},multi:!0},{provide:J,useFactory:function Ba(){return(0,s.RDi)(document),document},deps:[]}]),Ql=new s.OlP(""),ta=[{provide:s.rWj,useClass:class qy{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,c=!1;const h=function(m){c=c||m,o--,0==o&&i(c)};r.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?B().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],ad=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function sd(){return new s.qLn},deps:[]},{provide:Ro,useClass:Nh,multi:!0,deps:[J,s.R0b,s.Lbi]},{provide:Ro,useClass:Fh,multi:!0,deps:[J]},{provide:nd,useClass:nd,deps:[Qs,Na,s.AFp]},{provide:s.FYo,useExisting:nd},{provide:Pa,useExisting:Na},{provide:Na,useClass:Na,deps:[J]},{provide:Qs,useClass:Qs,deps:[Ro,s.R0b]},{provide:class Nc{},useClass:Wl,deps:[]},[]];let Xl=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:Vp,useExisting:s.AFp},Qc]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ql,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...ad,...ta],imports:[Jn,s.hGG]}),n})(),Lh=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Va(){return new Lh((0,s.LFG)(J))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ha=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Zi),i},providedIn:"root"}),n})(),Zi=(()=>{class n extends Ha{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${s.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${s.JZr})`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function fd(n){return new Zi(n.get(J))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var dn=V(8996),qr=V(3269);function Qe(...n){const t=(0,qr.yG)(n);return(0,dn.D)(n,t)}var xt=V(7579);class br extends xt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const sa=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ei=V(9751);const{isArray:hu}=Array,{getPrototypeOf:Wr,prototype:ja,keys:nc}=Object;function za(n){if(1===n.length){const t=n[0];if(hu(t))return{args:t,keys:null};if(function md(n){return n&&"object"==typeof n&&Wr(n)===ja}(t)){const e=nc(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var ns=V(4671),nt=V(4004);const{isArray:gd}=Array;function is(n){return(0,nt.U)(t=>function aa(n,t){return gd(t)?n(...t):n(t)}(n,t))}function Uh(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Pn=V(5403),Hh=V(9672);function rs(...n){const t=(0,qr.yG)(n),e=(0,qr.jO)(n),{args:i,keys:r}=za(n);if(0===i.length)return(0,dn.D)([],t);const o=new ei.y(function $a(n,t,e=ns.y){return i=>{Yp(t,()=>{const{length:r}=n,o=new Array(r);let c=r,h=r;for(let m=0;m<r;m++)Yp(t,()=>{const v=(0,dn.D)(n[m],t);let x=!1;v.subscribe((0,Pn.x)(i,I=>{o[m]=I,x||(x=!0,h--),h||i.next(e(o.slice()))},()=>{--c||i.complete()}))},i)},i)}}(i,t,r?c=>Uh(r,c):ns.y));return e?o.pipe(is(e)):o}function Yp(n,t,e){n?(0,Hh.f)(e,n,t):t()}var Ga=V(8189);function qa(...n){return function jh(){return(0,Ga.J)(1)}()((0,dn.D)(n,(0,qr.yG)(n)))}var Rs=V(8421);function zh(n){return new ei.y(t=>{(0,Rs.Xf)(n()).subscribe(t)})}var fu=V(9635),Yr=V(576);function os(n,t){const e=(0,Yr.m)(n)?n:()=>n,i=r=>r.error(e());return new ei.y(t?r=>t.schedule(i,0,r):i)}var po=V(515),ss=V(727),si=V(4482);function _d(){return(0,si.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Pn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class vd extends ei.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,si.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new ss.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Pn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=ss.w0.EMPTY)}return t}refCount(){return _d()(this)}}function ti(n,t){return(0,si.e)((e,i)=>{let r=null,o=0,c=!1;const h=()=>c&&!r&&i.complete();e.subscribe((0,Pn.x)(i,m=>{r?.unsubscribe();let v=0;const x=o++;(0,Rs.Xf)(n(m,x)).subscribe(r=(0,Pn.x)(i,I=>i.next(t?t(m,I,x,v++):I),()=>{r=null,h()}))},()=>{c=!0,h()}))})}function Ti(n){return n<=0?()=>po.E:(0,si.e)((t,e)=>{let i=0;t.subscribe((0,Pn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function wr(...n){const t=(0,qr.yG)(n);return(0,si.e)((e,i)=>{(t?qa(n,e,t):qa(n,e)).subscribe(i)})}function An(n,t){return(0,si.e)((e,i)=>{let r=0;e.subscribe((0,Pn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var mi=V(5577);function ic(n){return(0,si.e)((t,e)=>{let i=!1;t.subscribe((0,Pn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function la(n=pu){return(0,si.e)((t,e)=>{let i=!1;t.subscribe((0,Pn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function pu(){return new sa}function mo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?An((r,o)=>n(r,o,i)):ns.y,Ti(1),e?ic(t):la(()=>new sa))}function as(n,t){return(0,Yr.m)(t)?(0,mi.z)(n,t,1):(0,mi.z)(n,1)}var gi=V(8505);function ls(n){return(0,si.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Pn.x)(e,void 0,void 0,c=>{o=(0,Rs.Xf)(n(c,ls(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function i_(n,t,e,i,r){return(o,c)=>{let h=e,m=t,v=0;o.subscribe((0,Pn.x)(c,x=>{const I=v++;m=h?n(m,x,I):(h=!0,x),i&&c.next(m)},r&&(()=>{h&&c.next(m),c.complete()})))}}function Os(n,t){return(0,si.e)(i_(n,t,arguments.length>=2,!0))}function rc(n){return n<=0?()=>po.E:(0,si.e)((t,e)=>{let i=[];t.subscribe((0,Pn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function No(n,t){const e=arguments.length>=2;return i=>i.pipe(n?An((r,o)=>n(r,o,i)):ns.y,rc(1),e?ic(t):la(()=>new sa))}function yd(n){return(0,nt.U)(()=>n)}function xr(n){return(0,si.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const Ot="primary",Ps=Symbol("RouteTitle");class ca{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Wa(n){return new ca(n)}function $h(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const c=i[o],h=n[o];if(c.startsWith(":"))r[c.substring(1)]=h;else if(c!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Fo(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!qh(n[r],t[r]))return!1;return!0}function qh(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function Wh(n){return Array.prototype.concat.apply([],n)}function C(n){return n.length>0?n[n.length-1]:null}function k(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function L(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,dn.D)(Promise.resolve(n)):Qe(n)}const G=!1,X={exact:function ut(n,t,e){if(!zi(n.segments,t.segments)||!zn(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!ut(n.children[i],t.children[i],e))return!1;return!0},subset:Ft},se={exact:function Ge(n,t){return Fo(n,t)},subset:function Ht(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>qh(n[e],t[e]))},ignored:()=>!0};function $e(n,t,e){return X[e.paths](n.root,t.root,e.matrixParams)&&se[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ft(n,t,e){return Ar(n,t,t.segments,e)}function Ar(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!zi(r,e)||t.hasChildren()||!zn(r,e,i))}if(n.segments.length===e.length){if(!zi(n.segments,e)||!zn(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Ft(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(zi(n.segments,r)&&zn(n.segments,r,i)&&n.children[Ot])&&Ar(n.children[Ot],t,o,i)}}function zn(n,t,e){return t.every((i,r)=>se[e](n[r].parameters,i.parameters))}class Kr{constructor(t=new Yt([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wa(this.queryParams)),this._queryParamMap}toString(){return Mx.serialize(this)}}class Yt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,k(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wd(this)}}class go{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Wa(this.parameters)),this._parameterMap}toString(){return Yh(this)}}function zi(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let oc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return new sc},providedIn:"root"}),n})();class sc{parse(t){const e=new a_(t);return new Kr(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Ya(t.root,!0)}`,i=function o_(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${xd(e)}=${xd(r)}`).join("&"):`${xd(e)}=${xd(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function lc(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Mx=new sc;function wd(n){return n.segments.map(t=>Yh(t)).join("/")}function Ya(n,t){if(!n.hasChildren())return wd(n);if(t){const e=n.children[Ot]?Ya(n.children[Ot],!1):"",i=[];return k(n.children,(r,o)=>{o!==Ot&&i.push(`${o}:${Ya(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function bd(n,t){let e=[];return k(n.children,(i,r)=>{r===Ot&&(e=e.concat(t(i,r)))}),k(n.children,(i,r)=>{r!==Ot&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===Ot?[Ya(n.children[Ot],!1)]:[`${r}:${Ya(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ot]?`${wd(n)}/${e[0]}`:`${wd(n)}/(${e.join("//")})`}}function ac(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function xd(n){return ac(n).replace(/%3B/gi,";")}function gu(n){return ac(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _u(n){return decodeURIComponent(n)}function r_(n){return _u(n.replace(/\+/g,"%20"))}function Yh(n){return`${gu(n.path)}${function Ky(n){return Object.keys(n).map(t=>`;${gu(t)}=${gu(n[t])}`).join("")}(n.parameters)}`}const Zy=/^[^\/()?;=#]+/;function Kp(n){const t=n.match(Zy);return t?t[0]:""}const cc=/^[^=?&#]+/,s_=/^[^&#]+/;class a_{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ot]=new Yt(t,e)),i}parseSegment(){const t=Kp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,G);return this.capture(t),new go(_u(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Kp(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Kp(this.remaining);r&&(i=r,this.capture(i))}t[_u(e)]=_u(i)}parseQueryParam(t){const e=function Qy(n){const t=n.match(cc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const c=function vu(n){const t=n.match(s_);return t?t[0]:""}(this.remaining);c&&(i=c,this.capture(i))}const r=r_(e),o=r_(i);if(t.hasOwnProperty(r)){let c=t[r];Array.isArray(c)||(c=[c],t[r]=c),c.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Kp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,G);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Ot);const c=this.parseChildren();e[o]=1===Object.keys(c).length?c[Ot]:new Yt([],c),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,G)}}function dc(n){return n.segments.length>0?new Yt([],{[Ot]:n}):n}function Kh(n){const t={};for(const i of Object.keys(n.children)){const o=Kh(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Xy(n){if(1===n.numberOfChildren&&n.children[Ot]){const t=n.children[Ot];return new Yt(n.segments.concat(t.segments),t.children)}return n}(new Yt(n.segments,t))}function Ns(n){return n instanceof Kr}function Jy(n,t,e,i,r){if(0===e.length)return Ed(t.root,t.root,t.root,i,r);const o=function Zp(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new yu(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return k(o.outlets,(m,v)=>{h[v]="string"==typeof m?m.split("/"):m}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===c?(o.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new yu(e,t,i)}(e);return o.toRoot()?Ed(t.root,t.root,new Yt([],{}),i,r):function c(m){const v=function Dd(n,t,e,i){if(n.isAbsolute)return new Za(t.root,!0,0);if(-1===i)return new Za(e,e===t.root,0);return function bu(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new Za(i,!1,r-o)}(e,i+(Xh(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,m),x=v.processChildren?Xa(v.segmentGroup,v.index,o.commands):Qa(v.segmentGroup,v.index,o.commands);return Ed(t.root,v.segmentGroup,x,i,r)}(n.snapshot?._lastPathIndex)}function Xh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ka(n){return"object"==typeof n&&null!=n&&n.outlets}function Ed(n,t,e,i,r){let c,o={};i&&k(i,(m,v)=>{o[v]=Array.isArray(m)?m.map(x=>`${x}`):`${m}`}),c=n===t?e:Jh(n,t,e);const h=dc(Kh(c));return new Kr(h,o,r)}function Jh(n,t,e){const i={};return k(n.children,(r,o)=>{i[o]=r===t?e:Jh(r,t,e)}),new Yt(n.segments,i)}class yu{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Xh(i[0]))throw new s.vHH(4003,!1);const r=i.find(Ka);if(r&&r!==C(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Za{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Qa(n,t,e){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return Xa(n,t,e);const i=function Qp(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const c=n.segments[r],h=e[i];if(Ka(h))break;const m=`${h}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!u_(m,v,c))return o;i+=2}else{if(!u_(m,{},c))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Yt(n.segments.slice(0,i.pathIndex),{});return o.children[Ot]=new Yt(n.segments.slice(i.pathIndex),n.children),Xa(o,0,r)}return i.match&&0===r.length?new Yt(n.segments,{}):i.match&&!n.hasChildren()?uc(n,t,e):i.match?Xa(n,0,r):uc(n,t,e)}function Xa(n,t,e){if(0===e.length)return new Yt(n.segments,{});{const i=function c_(n){return Ka(n[0])?n[0].outlets:{[Ot]:n}}(e),r={};return!i[Ot]&&n.children[Ot]&&1===n.numberOfChildren&&0===n.children[Ot].segments.length?Xa(n.children[Ot],t,e):(k(i,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[c]=Qa(n.children[c],t,o))}),k(n.children,(o,c)=>{void 0===i[c]&&(r[c]=o)}),new Yt(n.segments,r))}}function uc(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Ka(o)){const m=d_(o.outlets);return new Yt(i,m)}if(0===r&&Xh(e[0])){i.push(new go(n.segments[t].path,Xp(e[0]))),r++;continue}const c=Ka(o)?o.outlets[Ot]:`${o}`,h=r<e.length-1?e[r+1]:null;c&&h&&Xh(h)?(i.push(new go(c,Xp(h))),r+=2):(i.push(new go(c,{})),r++)}return new Yt(i,{})}function d_(n){const t={};return k(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=uc(new Yt([],{}),0,e))}),t}function Xp(n){const t={};return k(n,(e,i)=>t[i]=`${e}`),t}function u_(n,t,e){return n==e.path&&Fo(t,e.parameters)}const wu="imperative";class Fs{constructor(t,e){this.id=t,this.url=e}}class Ja extends Fs{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class el extends Fs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class tl extends Fs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tf extends Fs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class nl extends Fs{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class eb extends Fs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tb extends Fs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nb extends Fs{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jp extends Fs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xu extends Fs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h_{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class f_{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Sd{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class em{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zr{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Id{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nf{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let tm=(()=>{class n{createUrlTree(e,i,r,o,c,h){return Jy(e||i.root,r,o,c,h)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),m_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(t){return tm.\u0275fac(t)},providedIn:"root"}),n})();class g_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Qi(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Qi(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=da(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return da(t,this._root).map(e=>e.value)}}function Qi(n,t){if(n===t.value)return t;for(const e of t.children){const i=Qi(n,e);if(i)return i}return null}function da(n,t){if(n===t.value)return[t];for(const e of t.children){const i=da(n,e);if(i.length)return i.unshift(t),i}return[]}class ua{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Td(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class __ extends g_{constructor(t,e){super(t),this.snapshot=e,rf(this,t)}toString(){return this.snapshot.toString()}}function nm(n,t){const e=function Qr(n,t){const c=new Lo([],{},{},"",{},Ot,t,null,n.root,-1,{});return new Md("",new ua(c,[]))}(n,t),i=new br([new go("",{})]),r=new br({}),o=new br({}),c=new br({}),h=new br(""),m=new il(i,r,c,h,o,Ot,t,e.root);return m.snapshot=e.root,new __(new ua(m,[]),e)}class il{constructor(t,e,i,r,o,c,h,m){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.title=this.data?.pipe((0,nt.U)(v=>v[Ps]))??Qe(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(t=>Wa(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(t=>Wa(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Cu(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function ib(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Lo{get title(){return this.data?.[Ps]}constructor(t,e,i,r,o,c,h,m,v,x,I){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=c,this.component=h,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=x,this._resolve=I}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Wa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Wa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Md extends g_{constructor(t,e){super(e),this.url=t,rf(this,e)}toString(){return Ad(this._root)}}function rf(n,t){t.value._routerState=n,t.children.forEach(e=>rf(n,e))}function Ad(n){const t=n.children.length>0?` { ${n.children.map(Ad).join(", ")} } `:"";return`${n.value}${t}`}function cs(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Fo(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Fo(t.params,e.params)||n.params.next(e.params),function Gh(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Fo(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Fo(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ha(n,t){const e=Fo(n.params,t.params)&&function _o(n,t){return zi(n,t)&&n.every((e,i)=>Fo(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ha(n.parent,t.parent))}function kd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function y_(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return kd(n,i,r);return kd(n,i)})}(n,t,e);return new ua(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=t.value,c.children=t.children.map(h=>kd(n,h)),c}}const i=function kx(n){return new il(new br(n.url),new br(n.params),new br(n.queryParams),new br(n.fragment),new br(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>kd(n,o));return new ua(i,r)}}const y="ngNavigationCancelingError";function p(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Ns(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=g(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function g(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[y]=!0,i.cancellationCode=t,e&&(i.url=e),i}function w(n){return T(n)&&Ns(n.url)}function T(n){return n&&n[y]}class O{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new z,this.attachRef=null}}let z=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new O,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ee=!1;let Te=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ot,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.parentContexts=(0,s.f3M)(z),this.location=(0,s.f3M)(s.s_b),this.changeDetector=(0,s.f3M)(s.sBO),this.environmentInjector=(0,s.f3M)(s.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,ee);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,ee);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,ee);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,ee);this._activatedRoute=e;const r=this.location,c=e.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new je(e,h,r.injector);if(i&&function at(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(c);this.activated=r.createComponent(v,r.length,m)}else this.activated=r.createComponent(c,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[s.TTD]}),n})();class je{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===il?this.route:t===z?this.childContexts:this.parent.get(t,e)}}let ot=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[s.jDz],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[Te],encapsulation:2}),n})();function Nn(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function af(n){const t=n.children&&n.children.map(af),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ot&&(e.component=ot),e}function Xr(n){return n.outlet||Ot}function rm(n,t){const e=n.filter(i=>Xr(i)===t);return e.push(...n.filter(i=>Xr(i)!==t)),e}function Su(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Rx{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),cs(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=Td(e);t.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,r[c],i),delete r[c]}),k(r,(o,c)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const c=i.getContext(r.outlet);c&&this.deactivateChildRoutes(t,e,c.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Td(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);if(i&&i.outlet){const c=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:c,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=Td(t);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=Td(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Id(o.value.snapshot))}),t.children.length&&this.forwardEvent(new em(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(cs(r),r===o)if(r.component){const c=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,c.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const c=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),c.children.onOutletReAttached(h.contexts),c.attachRef=h.componentRef,c.route=h.route.value,c.outlet&&c.outlet.attach(h.componentRef,h.route.value),cs(h.route.value),this.activateChildRoutes(t,null,c.children)}else{const h=Su(r.snapshot),m=h?.get(s._Vd)??null;c.attachRef=null,c.route=r,c.resolver=m,c.injector=h,c.outlet&&c.outlet.activateWith(r,c.injector),this.activateChildRoutes(t,null,c.children)}}else this.activateChildRoutes(t,null,i)}}class JI{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Rd{constructor(t,e){this.component=t,this.route=e}}function ob(n,t,e){const i=n._root;return cf(i,t?t._root:null,e,[i.value])}function Iu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,s.Z0I)(n)?t.get(n):n:i}function cf(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Td(t);return n.children.forEach(c=>{(function $N(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const m=function eT(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!zi(n.url,t.url);case"pathParamsOrQueryParamsChange":return!zi(n.url,t.url)||!Fo(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ha(n,t)||!Fo(n.queryParams,t.queryParams);default:return!ha(n,t)}}(c,o,o.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new JI(i)):(o.data=c.data,o._resolvedData=c._resolvedData),cf(n,t,o.component?h?h.children:null:e,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Rd(h.outlet.component,c))}else c&&df(t,h,r),r.canActivateChecks.push(new JI(i)),cf(n,null,o.component?h?h.children:null:e,i,r)})(c,o[c.value.outlet],e,i.concat([c.value]),r),delete o[c.value.outlet]}),k(o,(c,h)=>df(c,e.getContext(h),r)),r}function df(n,t,e){const i=Td(n),r=n.value;k(i,(o,c)=>{df(o,r.component?t?t.children.getContext(c):null:t,e)}),e.canDeactivateChecks.push(new Rd(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function uf(n){return"function"==typeof n}function cb(n){return n instanceof sa||"EmptyError"===n?.name}const hf=Symbol("INITIAL_VALUE");function fc(){return ti(n=>rs(n.map(t=>t.pipe(Ti(1),wr(hf)))).pipe((0,nt.U)(t=>{for(const e of t)if(!0!==e){if(e===hf)return hf;if(!1===e||e instanceof Kr)return e}return!0}),An(t=>t!==hf),Ti(1)))}function Au(n){return(0,fu.z)((0,gi.b)(t=>{if(Ns(t))throw p(0,t)}),(0,nt.U)(t=>!0===t))}const hb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Lx(n,t,e,i,r){const o=om(n,t,e);return o.matched?function sT(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Qe(r.map(c=>{const h=Iu(c,n);return L(function Px(n){return n&&uf(n.canMatch)}(h)?h.canMatch(t,e):n.runInContext(()=>h(t,e)))})).pipe(fc(),Au()):Qe(!0)}(i=Nn(t,i),t,e).pipe((0,nt.U)(c=>!0===c?o:{...hb})):Qe(o)}function om(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...hb}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||$h)(e,n,t);if(!r)return{...hb};const o={};k(r.posParams,(h,m)=>{o[m]=h.path});const c=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:c,positionalParamSegments:r.posParams??{}}}function x_(n,t,e,i){if(e.length>0&&function Vx(n,t,e){return e.some(i=>C_(n,t,i)&&Xr(i)!==Ot)}(n,e,i)){const o=new Yt(t,function aT(n,t,e,i){const r={};r[Ot]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&Xr(o)!==Ot){const c=new Yt([],{});c._sourceSegment=n,c._segmentIndexShift=t.length,r[Xr(o)]=c}return r}(n,t,i,new Yt(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function qN(n,t,e){return e.some(i=>C_(n,t,i))}(n,e,i)){const o=new Yt(n.segments,function Bx(n,t,e,i,r){const o={};for(const c of i)if(C_(n,e,c)&&!r[Xr(c)]){const h=new Yt([],{});h._sourceSegment=n,h._segmentIndexShift=t.length,o[Xr(c)]=h}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Yt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function C_(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function ff(n,t,e,i){return!!(Xr(n)===i||i!==Ot&&C_(t,e,n))&&("**"===n.path||om(t,n,e).matched)}function Ux(n,t,e){return 0===t.length&&!n.children[e]}const pc=!1;class Od{constructor(t){this.segmentGroup=t||null}}class Hx{constructor(t){this.urlTree=t}}function pf(n){return os(new Od(n))}function jx(n){return os(new Hx(n))}class $x{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=x_(this.urlTree.root,[],[],this.config).segmentGroup,e=new Yt(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,Ot).pipe((0,nt.U)(o=>this.createUrlTree(Kh(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ls(o=>{if(o instanceof Hx)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Od?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Ot).pipe((0,nt.U)(r=>this.createUrlTree(Kh(r),t.queryParams,t.fragment))).pipe(ls(r=>{throw r instanceof Od?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,pc)}createUrlTree(t,e,i){const r=dc(t);return new Kr(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,nt.U)(o=>new Yt([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,dn.D)(r).pipe(as(o=>{const c=i.children[o],h=rm(e,o);return this.expandSegmentGroup(t,h,c,o).pipe((0,nt.U)(m=>({segment:m,outlet:o})))}),Os((o,c)=>(o[c.outlet]=c.segment,o),{}),No())}expandSegment(t,e,i,r,o,c){return(0,dn.D)(i).pipe(as(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,c).pipe(ls(v=>{if(v instanceof Od)return Qe(null);throw v}))),mo(h=>!!h),ls((h,m)=>{if(cb(h))return Ux(e,r,o)?Qe(new Yt([],{})):pf(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,c,h){return ff(r,e,o,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,c):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c):pf(e):pf(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,c):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?jx(o):this.lineralizeSegments(i,o).pipe((0,mi.z)(c=>{const h=new Yt(c,{});return this.expandSegment(t,h,e,c,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,c){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:x}=om(e,r,o);if(!h)return pf(e);const I=this.applyRedirectCommands(m,r.redirectTo,x);return r.redirectTo.startsWith("/")?jx(I):this.lineralizeSegments(r,I).pipe((0,mi.z)(R=>this.expandSegment(t,e,i,R.concat(v),c,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=Nn(i,t),i.loadChildren?(i._loadedRoutes?Qe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,nt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Yt(r,{})))):Qe(new Yt(r,{}))):Lx(e,i,r,t).pipe(ti(({matched:c,consumedSegments:h,remainingSegments:m})=>c?this.getChildConfig(t=i._injector??t,i,r).pipe((0,mi.z)(x=>{const I=x.injector??t,R=x.routes,{segmentGroup:N,slicedSegments:H}=x_(e,h,m,R),Y=new Yt(N.segments,N.children);if(0===H.length&&Y.hasChildren())return this.expandChildren(I,R,Y).pipe((0,nt.U)(et=>new Yt(h,et)));if(0===R.length&&0===H.length)return Qe(new Yt(h,{}));const te=Xr(i)===o;return this.expandSegment(I,Y,R,H,te?Ot:o,!0).pipe((0,nt.U)(Ye=>new Yt(h.concat(Ye.segments),Ye.children)))})):pf(e)))}getChildConfig(t,e,i){return e.children?Qe({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Qe({routes:e._loadedRoutes,injector:e._loadedInjector}):function Fx(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Qe(!0):Qe(r.map(c=>{const h=Iu(c,n);return L(function GN(n){return n&&uf(n.canLoad)}(h)?h.canLoad(t,e):n.runInContext(()=>h(t,e)))})).pipe(fc(),Au())}(t,e,i).pipe((0,mi.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,gi.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function cT(n){return os(g(pc,3))}())):Qe({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Qe(i);if(r.numberOfChildren>1||!r.children[Ot])return os(new s.vHH(4e3,pc));r=r.children[Ot]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Kr(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return k(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let c={};return k(e.children,(h,m)=>{c[m]=this.createSegmentGroup(t,h,i,r)}),new Yt(o,c)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,pc);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class dT{}class uT{constructor(t,e,i,r,o,c,h){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=h}recognize(){const t=x_(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ot).pipe((0,nt.U)(e=>{if(null===e)return null;const i=new Lo([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ot,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ua(i,e),o=new Md(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=Cu(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,dn.D)(Object.keys(i.children)).pipe(as(r=>{const o=i.children[r],c=rm(e,r);return this.processSegmentGroup(t,c,o,r)}),Os((r,o)=>r&&o?(r.push(...o),r):null),function mu(n,t=!1){return(0,si.e)((e,i)=>{let r=0;e.subscribe((0,Pn.x)(i,o=>{const c=n(o,r++);(c||t)&&i.next(o),!c&&i.complete()}))})}(r=>null!==r),ic(null),No(),(0,nt.U)(r=>{if(null===r)return null;const o=Gx(r);return function hT(n){n.sort((t,e)=>t.value.outlet===Ot?-1:e.value.outlet===Ot?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,dn.D)(e).pipe(as(c=>this.processSegmentAgainstRoute(c._injector??t,c,i,r,o)),mo(c=>!!c),ls(c=>{if(cb(c))return Ux(i,r,o)?Qe([]):Qe(null);throw c}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!ff(e,i,r,o))return Qe(null);let c;if("**"===e.path){const h=r.length>0?C(r).parameters:{},m=ku(i)+r.length;c=Qe({snapshot:new Lo(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wx(e),Xr(e),e.component??e._loadedComponent??null,e,qx(i),m,Yx(e)),consumedSegments:[],remainingSegments:[]})}else c=Lx(i,e,r,t).pipe((0,nt.U)(({matched:h,consumedSegments:m,remainingSegments:v,parameters:x})=>{if(!h)return null;const I=ku(i)+m.length;return{snapshot:new Lo(m,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Wx(e),Xr(e),e.component??e._loadedComponent??null,e,qx(i),I,Yx(e)),consumedSegments:m,remainingSegments:v}}));return c.pipe(ti(h=>{if(null===h)return Qe(null);const{snapshot:m,consumedSegments:v,remainingSegments:x}=h;t=e._injector??t;const I=e._loadedInjector??t,R=function fT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:N,slicedSegments:H}=x_(i,v,x,R.filter(te=>void 0===te.redirectTo));if(0===H.length&&N.hasChildren())return this.processChildren(I,R,N).pipe((0,nt.U)(te=>null===te?null:[new ua(m,te)]));if(0===R.length&&0===H.length)return Qe([new ua(m,[])]);const Y=Xr(e)===o;return this.processSegment(I,R,N,H,Y?Ot:o).pipe((0,nt.U)(te=>null===te?null:[new ua(m,te)]))}))}}function pT(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Gx(n){const t=[],e=new Set;for(const i of n){if(!pT(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Gx(i.children);t.push(new ua(i.value,r))}return t.filter(i=>!e.has(i))}function qx(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ku(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function Wx(n){return n.data||{}}function Yx(n){return n.resolve||{}}function Xx(n){return"string"==typeof n.title||null===n.title}function D_(n){return ti(t=>{const e=n(t);return e?(0,dn.D)(e).pipe((0,nt.U)(()=>t)):Qe(t)})}const Jr=new s.OlP("ROUTES");let mb=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Qe(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=L(e.loadComponent()).pipe((0,nt.U)(tC),(0,gi.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),xr(()=>{this.componentLoaders.delete(e)})),r=new vd(i,()=>new xt.x).pipe(_d());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,nt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,v,x=!1;Array.isArray(h)?v=h:(m=h.create(e).injector,v=Wh(m.get(Jr,[],s.XFs.Self|s.XFs.Optional)));return{routes:v.map(af),injector:m}}),xr(()=>{this.childrenLoaders.delete(i)})),c=new vd(o,()=>new xt.x).pipe(_d());return this.childrenLoaders.set(i,c),c}loadModuleFactoryOrRoutes(e){return L(e()).pipe((0,nt.U)(tC),(0,mi.z)(r=>r instanceof s.YKP||Array.isArray(r)?Qe(r):(0,dn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tC(n){return function eC(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let I_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new xt.x,this.configLoader=(0,s.f3M)(mb),this.environmentInjector=(0,s.f3M)(s.lqb),this.urlSerializer=(0,s.f3M)(oc),this.rootContexts=(0,s.f3M)(z),this.navigationId=0,this.afterPreactivation=()=>Qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new f_(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new h_(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new br({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:wu,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(An(i=>0!==i.id),(0,nt.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),ti(i=>{let r=!1,o=!1;return Qe(i).pipe((0,gi.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ti(c=>{const h=e.browserUrlTree.toString(),m=!e.navigated||c.extractedUrl.toString()!==h||h!==e.currentUrlTree.toString();if(!m&&"reload"!==(c.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const x="";return this.events.next(new tf(c.id,e.serializeUrl(i.rawUrl),x,0)),e.rawUrlTree=c.rawUrl,c.resolve(null),po.E}if(e.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return nC(c.source)&&(e.browserUrlTree=c.extractedUrl),Qe(c).pipe(ti(x=>{const I=this.transitions?.getValue();return this.events.next(new Ja(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),I!==this.transitions?.getValue()?po.E:Promise.resolve(x)}),function fb(n,t,e,i){return ti(r=>function zx(n,t,e,i,r){return new $x(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,nt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,gi.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function WN(n,t,e,i,r){return(0,mi.z)(o=>function sm(n,t,e,i,r,o,c="emptyOnly"){return new uT(n,t,e,i,r,c,o).recognize().pipe(ti(h=>null===h?function pb(n){return new ei.y(t=>t.error(n))}(new dT):Qe(h)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,nt.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,gi.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!x.extras.skipLocationChange){const R=e.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);e.setBrowserUrl(R,x)}e.browserUrlTree=x.urlAfterRedirects}const I=new eb(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(I)}));if(m&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:x,extractedUrl:I,source:R,restoredState:N,extras:H}=c,Y=new Ja(x,this.urlSerializer.serialize(I),R,N);this.events.next(Y);const te=nm(I,this.rootComponentType).snapshot;return Qe(i={...c,targetSnapshot:te,urlAfterRedirects:I,extras:{...H,skipLocationChange:!1,replaceUrl:!1}})}{const x="";return this.events.next(new tf(c.id,e.serializeUrl(i.extractedUrl),x,1)),e.rawUrlTree=c.rawUrl,c.resolve(null),po.E}}),(0,gi.b)(c=>{const h=new tb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(h)}),(0,nt.U)(c=>i={...c,guards:ob(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function iT(n,t){return(0,mi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:c}}=e;return 0===c.length&&0===o.length?Qe({...e,guardsResult:!0}):function db(n,t,e,i){return(0,dn.D)(n).pipe((0,mi.z)(r=>function oT(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Qe(o.map(h=>{const m=Su(t)??r,v=Iu(h,m);return L(function lb(n){return n&&uf(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,i):m.runInContext(()=>v(n,t,e,i))).pipe(mo())})).pipe(fc()):Qe(!0)}(r.component,r.route,e,t,i)),mo(r=>!0!==r,!0))}(c,i,r,n).pipe((0,mi.z)(h=>h&&function sb(n){return"boolean"==typeof n}(h)?function w_(n,t,e,i){return(0,dn.D)(t).pipe(as(r=>qa(function Nx(n,t){return null!==n&&t&&t(new Sd(n)),Qe(!0)}(r.route.parent,i),function Mu(n,t){return null!==n&&t&&t(new Zr(n)),Qe(!0)}(r.route,i),function rT(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(c=>function Ox(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(c)).filter(c=>null!==c).map(c=>zh(()=>Qe(c.guards.map(m=>{const v=Su(c.node)??e,x=Iu(m,v);return L(function tT(n){return n&&uf(n.canActivateChild)}(x)?x.canActivateChild(i,n):v.runInContext(()=>x(i,n))).pipe(mo())})).pipe(fc())));return Qe(o).pipe(fc())}(n,r.path,e),function ub(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Qe(!0);const r=i.map(o=>zh(()=>{const c=Su(t)??e,h=Iu(o,c);return L(function ab(n){return n&&uf(n.canActivate)}(h)?h.canActivate(t,n):c.runInContext(()=>h(t,n))).pipe(mo())}));return Qe(r).pipe(fc())}(n,r.route,e))),mo(r=>!0!==r,!0))}(i,o,n,t):Qe(h)),(0,nt.U)(h=>({...e,guardsResult:h})))})}(this.environmentInjector,c=>this.events.next(c)),(0,gi.b)(c=>{if(i.guardsResult=c.guardsResult,Ns(c.guardsResult))throw p(0,c.guardsResult);const h=new nb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(h)}),An(c=>!!c.guardsResult||(e.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),D_(c=>{if(c.guards.canActivateChecks.length)return Qe(c).pipe((0,gi.b)(h=>{const m=new Jp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),ti(h=>{let m=!1;return Qe(h).pipe(function YN(n,t){return(0,mi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Qe(e);let o=0;return(0,dn.D)(r).pipe(as(c=>function Kx(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Xx(r)&&(o[Ps]=r.title),function KN(n,t,e,i){const r=function Zx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Qe({});const o={};return(0,dn.D)(r).pipe((0,mi.z)(c=>function Qx(n,t,e,i){const r=Su(t)??i,o=Iu(n,r);return L(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[c],t,e,i).pipe(mo(),(0,gi.b)(h=>{o[c]=h}))),rc(1),yd(o),ls(c=>cb(c)?po.E:os(c)))}(o,n,t,i).pipe((0,nt.U)(c=>(n._resolvedData=c,n.data=Cu(n,e).resolve,r&&Xx(r)&&(n.data[Ps]=r.title),null)))}(c.route,i,n,t)),(0,gi.b)(()=>o++),rc(1),(0,mi.z)(c=>o===r.length?Qe(e):po.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,gi.b)({next:()=>m=!0,complete:()=>{m||(e.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,gi.b)(h=>{const m=new xu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}))}),D_(c=>{const h=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,gi.b)(x=>{m.component=x}),(0,nt.U)(()=>{})));for(const x of m.children)v.push(...h(x));return v};return rs(h(c.targetSnapshot.root)).pipe(ic(),Ti(1))}),D_(()=>this.afterPreactivation()),(0,nt.U)(c=>{const h=function v_(n,t,e){const i=kd(n,t._root,e?e._root:void 0);return new __(i,t)}(e.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return i={...c,targetRouterState:h}}),(0,gi.b)(c=>{e.currentUrlTree=c.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),e.routerState=c.targetRouterState,"deferred"===e.urlUpdateStrategy&&(c.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,c),e.browserUrlTree=c.urlAfterRedirects)}),((n,t,e)=>(0,nt.U)(i=>(new Rx(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,c=>this.events.next(c)),(0,gi.b)({next:c=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new el(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{r=!0}}),xr(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),ls(c=>{if(o=!0,T(c)){w(c)||(e.navigated=!0,e.restoreHistory(i,!0));const h=new tl(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode);if(this.events.next(h),w(c)){const m=e.urlHandlingStrategy.merge(c.url,e.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||nC(i.source)};e.scheduleNavigation(m,wu,null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const h=new nl(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(e.errorHandler(c))}catch(m){i.reject(m)}}return po.E}))}))}cancelNavigationTransition(e,i,r){const o=new tl(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nC(n){return n!==wu}let gb=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Ot);return i}getResolvedTitleForRoute(e){return e.data[Ps]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(_T)},providedIn:"root"}),n})(),_T=(()=>{class n extends gb{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lh))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(Zt)},providedIn:"root"}),n})();class yT{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let Zt=(()=>{class n extends yT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const am=new s.OlP("",{providedIn:"root",factory:()=>({})});let rC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(bT)},providedIn:"root"}),n})(),bT=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sC(n){throw n}function wT(n,t,e){return t.parse("/")}const aC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let us=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,s.f3M)(s.c2e),this.isNgZoneEnabled=!1,this.options=(0,s.f3M)(am,{optional:!0})||{},this.errorHandler=this.options.errorHandler||sC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||wT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,s.f3M)(rC),this.routeReuseStrategy=(0,s.f3M)(vT),this.urlCreationStrategy=(0,s.f3M)(m_),this.titleStrategy=(0,s.f3M)(gb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Wh((0,s.f3M)(Jr,{optional:!0})??[]),this.navigationTransitions=(0,s.f3M)(I_),this.urlSerializer=(0,s.f3M)(oc),this.location=(0,s.f3M)(Ue),this.isNgZoneEnabled=(0,s.f3M)(s.R0b)instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Kr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nm(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),wu,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},c=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const h=this.parseUrl(e);this.scheduleNavigation(h,i,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(af),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:c,queryParamsHandling:h,preserveFragment:m}=i,v=m?this.currentUrlTree.fragment:c;let x=null;switch(h){case"merge":x={...this.currentUrlTree.queryParams,...o};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}return null!==x&&(x=this.removeEmptyProps(x)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,x,v??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Ns(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,wu,null,i)}navigate(e,i={skipLocationChange:!1}){return function ZN(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,!1)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...aC}:!1===i?{...xT}:i,Ns(e))return $e(this.currentUrlTree,e,r);const o=this.parseUrl(e);return $e(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,c){if(this.disposed)return Promise.resolve(!1);let h,m,v,x;return c?(h=c.resolve,m=c.reject,v=c.promise):v=new Promise((I,R)=>{h=I,m=R}),x="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:x,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:h,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(I=>Promise.reject(I))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lm=(()=>{class n{constructor(e,i,r,o,c,h){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=c,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new xt.x;const m=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=e.events.subscribe(v=>{v instanceof el&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,s.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,s.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,s.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,s.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(us),s.Y36(il),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(ft))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[s.TTD]}),n})();class cC{}let CT=(()=>{class n{constructor(e,i,r,o,c){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(An(e=>e instanceof el),as(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const c=o._injector??e,h=o._loadedInjector??c;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(c,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,dn.D)(r).pipe((0,Ga.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Qe(null);const o=r.pipe((0,mi.z)(c=>null===c?Qe(void 0):(i._loadedRoutes=c.routes,i._loadedInjector=c.injector,this.processRoutes(c.injector??e,c.routes))));if(i.loadComponent&&!i._loadedComponent){const c=this.loader.loadComponent(i);return(0,dn.D)([o,c]).pipe((0,Ga.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(us),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(cC),s.LFG(mb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const hC=new s.OlP("");let ET=(()=>{class n{constructor(e,i,r,o,c={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ja?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof el&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof nf&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nf(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function mf(n,t){return{\u0275kind:n,\u0275providers:t}}function dm(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(us),r=n.get(fC);1===n.get(T_)&&i.initialNavigation(),n.get(pC,null,s.XFs.Optional)?.setUpPreloading(),n.get(hC,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const fC=new s.OlP("",{factory:()=>new xt.x}),T_=new s.OlP("",{providedIn:"root",factory:()=>1});const pC=new s.OlP("");function MT(n){return mf(0,[{provide:pC,useExisting:CT},{provide:cC,useExisting:n}])}const M_=new s.OlP("ROUTER_FORROOT_GUARD"),eF=[Ue,{provide:oc,useClass:sc},us,z,{provide:il,useFactory:function _b(n){return n.routerState.root},deps:[us]},mb,[]];function yb(){return new s.PXZ("Router",us)}let mC=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[eF,[],{provide:Jr,multi:!0,useValue:e},{provide:M_,useFactory:RT,deps:[[us,new s.FiY,new s.tp0]]},{provide:am,useValue:i||{}},i?.useHash?{provide:ft,useClass:Ne}:{provide:ft,useClass:Pe},{provide:hC,useFactory:()=>{const n=(0,s.f3M)(Pl),t=(0,s.f3M)(s.R0b),e=(0,s.f3M)(am),i=(0,s.f3M)(I_),r=(0,s.f3M)(oc);return e.scrollOffset&&n.setOffset(e.scrollOffset),new ET(r,i,n,t,e)}},i?.preloadingStrategy?MT(i.preloadingStrategy).\u0275providers:[],{provide:s.PXZ,multi:!0,useFactory:yb},i?.initialNavigation?_C(i):[],[{provide:vC,useFactory:dm},{provide:s.tb,multi:!0,useExisting:vC}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Jr,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(M_,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ot]}),n})();function RT(n){return"guarded"}function _C(n){return["disabled"===n.initialNavigation?mf(3,[{provide:s.ip1,multi:!0,useFactory:()=>{const t=(0,s.f3M)(us);return()=>{t.setUpLocationChangeListener()}}},{provide:T_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?mf(2,[{provide:T_,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:t=>{const e=t.get(pe,Promise.resolve());return()=>e.then(()=>new Promise(r=>{const o=t.get(us),c=t.get(fC);(function i(r){t.get(us).events.pipe(An(c=>c instanceof el||c instanceof tl||c instanceof nl),(0,nt.U)(c=>c instanceof el||c instanceof tl&&(0===c.code||1===c.code)&&null),An(c=>null!==c),Ti(1)).subscribe(()=>{r()})})(()=>{r(!0)}),t.get(I_).afterPreactivation=()=>(r(!0),c.closed?Qe(void 0):c),o.initialNavigation()}))}}]).\u0275providers:[]]}const vC=new s.OlP(""),yf=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function wb(){return(0,s.f3M)(J)}}),um=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let hs=(()=>{class n{constructor(e){this.value="ltr",this.change=new s.vpe,e&&(this.value=function xb(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?um.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(yf,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ou=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function rn(n){return null!=n&&"false"!=`${n}`}function Ls(n,t=0){return function yC(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function bf(n){return Array.isArray(n)?n:[n]}function Xi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Pu(n){return n instanceof s.SBq?n.nativeElement:n}function A_(n){return n&&"function"==typeof n.connect&&!(n instanceof vd)}class bC{applyChanges(t,e,i,r,o){t.forEachOperation((c,h,m)=>{let v,x;if(null==c.previousIndex){const I=i(c,h,m);v=e.createEmbeddedView(I.templateRef,I.context,I.index),x=1}else null==m?(e.remove(h),x=3):(v=e.get(h),e.move(v,m),x=2);o&&o({context:v?.context,operation:x,record:c})})}detach(){}}const k_=new s.OlP("_ViewRepeater");let hm;try{hm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{hm=!1}let fm,R_,Fu,Cb,Mi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function yh(n){return n===Pp}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!hm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Nu(n){return function VT(){if(null==fm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>fm=!0}))}finally{fm=fm||!1}return fm}()?n:!!n.capture}function CC(){if(null==Fu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fu=!1,Fu;if("scrollBehavior"in document.documentElement.style)Fu=!0;else{const n=Element.prototype.scrollTo;Fu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fu}function pm(){if("object"!=typeof document||!document)return 0;if(null==R_){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),R_=0,0===n.scrollLeft&&(n.scrollLeft=1,R_=0===n.scrollLeft?1:2),n.remove()}return R_}function Nd(n){return n.composedPath?n.composedPath()[0]:n.target}function O_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var HT=V(1144);const jT=["addListener","removeListener"],zT=["addEventListener","removeEventListener"],Db=["on","off"];function mm(n,t,e,i){if((0,Yr.m)(e)&&(i=e,e=void 0),i)return mm(n,t,e).pipe(is(i));const[r,o]=function N_(n){return(0,Yr.m)(n.addEventListener)&&(0,Yr.m)(n.removeEventListener)}(n)?zT.map(c=>h=>n[c](t,h,e)):function P_(n){return(0,Yr.m)(n.addListener)&&(0,Yr.m)(n.removeListener)}(n)?jT.map(EC(n,t)):function Sb(n){return(0,Yr.m)(n.on)&&(0,Yr.m)(n.off)}(n)?Db.map(EC(n,t)):[];if(!r&&(0,HT.z)(n))return(0,mi.z)(c=>mm(c,t,e))((0,Rs.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ei.y(c=>{const h=(...m)=>c.next(1<m.length?m:m[0]);return r(h),()=>o(h)})}function EC(n,t){return e=>i=>n[e](t,i)}var $T=V(4408);const Lu={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Lu;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new ss.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Lu;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Lu;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Ib=V(7565);const SC=new class DC extends Ib.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class oF extends $T.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Lu.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(Lu.cancelAnimationFrame(e),t._scheduled=void 0)}});let fa,Tb=1;const Bu={};function gm(n){return n in Bu&&(delete Bu[n],!0)}const _m={setImmediate(n){const t=Tb++;return Bu[t]=!0,fa||(fa=Promise.resolve()),fa.then(()=>gm(t)&&n()),t},clearImmediate(n){gm(n)}},{setImmediate:IC,clearImmediate:TC}=_m,F_={setImmediate(...n){const{delegate:t}=F_;return(t?.setImmediate||IC)(...n)},clearImmediate(n){const{delegate:t}=F_;return(t?.clearImmediate||TC)(n)},delegate:void 0},WT=new class vm extends Ib.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class qT extends $T.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=F_.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(F_.clearImmediate(e),t._scheduled=void 0)}});var ym=V(4986),KT=V(3532);function Mb(n,t=ym.z){return function YT(n){return(0,si.e)((t,e)=>{let i=!1,r=null,o=null,c=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const v=r;r=null,e.next(v)}c&&e.complete()},m=()=>{o=null,c&&e.complete()};t.subscribe((0,Pn.x)(e,v=>{i=!0,r=v,o||(0,Rs.Xf)(n(v)).subscribe(o=(0,Pn.x)(e,h,m))},()=>{c=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function QT(n=0,t,e=ym.P){let i=-1;return null!=t&&((0,KT.K)(t)?e=t:i=t),new ei.y(r=>{let o=function ZT(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let c=0;return e.schedule(function(){r.closed||(r.next(c++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}var MC=V(5032);function sn(n){return(0,si.e)((t,e)=>{(0,Rs.Xf)(n).subscribe((0,Pn.x)(e,()=>e.complete(),MC.Z)),!e.closed&&t.subscribe(e)})}const Ab=["contentWrapper"],XT=["*"],kb=new s.OlP("VIRTUAL_SCROLL_STRATEGY");let Vu=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new xt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new ei.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Mb(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(An(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Pu(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>mm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Mi),s.LFG(J,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uu=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new xt.x,this._elementScrolled=new ei.y(c=>this.ngZone.runOutsideAngular(()=>mm(this.elementRef.nativeElement,"scroll").pipe(sn(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=pm()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==pm()?e.left=e.right:1==pm()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;CC()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==e?e=c?r:i:"end"==e&&(e=c?i:r),c&&2==pm()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:c&&1==pm()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Vu),s.Y36(s.R0b),s.Y36(hs,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),xf=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new xt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Mb(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Mi),s.LFG(s.R0b),s.LFG(J,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Rb=new s.OlP("VIRTUAL_SCROLLABLE");let tM=(()=>{class n extends Uu{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Vu),s.Y36(s.R0b),s.Y36(hs,8))},n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const AC=typeof requestAnimationFrame<"u"?SC:WT;let L_=(()=>{class n extends tM{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=rn(e)}constructor(e,i,r,o,c,h,m,v){super(e,h,r,c),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=v,this._platform=(0,s.f3M)(Mi),this._detachedSubject=new xt.x,this._renderedRangeSubject=new xt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ei.y(x=>this._scrollStrategy.scrolledIndexChange.subscribe(I=>Promise.resolve().then(()=>this.ngZone.run(()=>x.next(I))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=ss.w0.EMPTY,this._viewportChanges=m.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(wr(null),Mb(0,AC)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(sn(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function dF(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,c=o?"X":"Y";let m=`translate${c}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(m+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=m&&(this._renderedContentTransform=m,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",c="rtl"==this.dir?.value;i="start"==e?c?o:r:"end"==e?c?r:o:e||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-h}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(s.R0b),s.Y36(kb,8),s.Y36(hs,8),s.Y36(Vu),s.Y36(xf),s.Y36(Rb,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ab,7),2&e){let r;s.iGM(r=s.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[s._Bn([{provide:Uu,useFactory:(t,e)=>t||e,deps:[[new s.FiY,new s.tBr(Rb)],n]}]),s.qOj,s.jDz],ngContentSelectors:XT,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA(),s._UZ(3,"div",2)),2&e&&(s.xp6(3),s.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),Ef=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),bm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ou,Ef,L_,Ou,Ef]}),n})();const ol=[[["caption"]],[["colgroup"],["col"]]],wm=["caption","colgroup, col"];function Df(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=rn(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const kr=new s.OlP("CDK_TABLE");let pa=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),ma=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),mc=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class Sf{}const If=Df(Sf);let Vo=(()=>{class n extends If{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=rn(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kr,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,pa,5),s.Suo(r,ma,5),s.Suo(r,mc,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.cell=o.first),s.iGM(o=s.CRH())&&(i.headerCell=o.first),s.iGM(o=s.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[s._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})();class Fd{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let Ld=(()=>{class n extends Fd{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vo),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[s.qOj]}),n})(),B_=(()=>{class n extends Fd{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vo),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[s.qOj]}),n})();class Nb{constructor(){this.tasks=[],this.endTasks=[]}}const V_=new s.OlP("_COALESCED_STYLE_SCHEDULER");let Fb=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new xt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Nb,this._getScheduleObservable().pipe(sn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Nb;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,dn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ti(1))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),U_=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Tf?e.headerCell.template:this instanceof Mf?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,features:[s.TTD]}),n})();class kC extends U_{}const RC=Df(kC);let Tf=(()=>{class n extends RC{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(kr,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})();class rM extends U_{}const oM=Df(rM);let Mf=(()=>{class n extends oM{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(kr,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[s.qOj,s.TTD]}),n})(),H_=(()=>{class n extends U_{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s.ZZ4),s.Y36(kr,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[s.qOj]}),n})(),sl=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),xm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[sl],encapsulation:2}),n})(),Lb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[sl],encapsulation:2}),n})(),zu=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const Em=["top","bottom","left","right"];class Bb{constructor(t,e,i,r,o=!0,c=!0,h){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=c,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(R=>R)&&!i.some(R=>R))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],c=o.children.length,h=this._getCellWidths(o,r),m=this._getStickyStartColumnPositions(h,e),v=this._getStickyEndColumnPositions(h,i),x=e.lastIndexOf(!0),I=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const R="rtl"===this.direction,N=R?"right":"left",H=R?"left":"right";for(const Y of t)for(let te=0;te<c;te++){const Oe=Y.children[te];e[te]&&this._addStickyStyle(Oe,N,m[te],te===x),i[te]&&this._addStickyStyle(Oe,H,v[te],te===I)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===x?[]:h.slice(0,x+1).map((Y,te)=>e[te]?Y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===I?[]:h.slice(I).map((Y,te)=>i[te+I]?Y:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,c=[],h=[],m=[];for(let x=0,I=0;x<r.length;x++){if(!o[x])continue;c[x]=I;const R=r[x];m[x]=this._isNativeHtmlTable?Array.from(R.children):[R];const N=R.getBoundingClientRect().height;I+=N,h[x]=N}const v=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let x=0;x<r.length;x++){if(!o[x])continue;const I=c[x],R=x===v;for(const N of m[x])this._addStickyStyle(N,i,I,R)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:c,elements:m}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:c,elements:m})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);Em.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of Em)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const Dm=new s.OlP("CDK_SPL");let j_=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),Sm=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),Im=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Tm=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Mm=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=rn(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=rn(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,c,h,m,v,x,I,R,N){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=c,this._platform=m,this._viewRepeater=v,this._coalescedStyleScheduler=x,this._viewportRuler=I,this._stickyPositioningListener=R,this._ngZone=N,this._onDestroy=new xt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new s.vpe,this.viewChange=new br({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(sn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),A_(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,c)=>this._getEmbeddedViewArgs(r.item,c),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&s.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Ti(1),sn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(c=>c.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(c=>c.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,c)=>{this._addStickyColumnStyles([o],this._headerRowDefs[c])}),this._rowDefs.forEach(o=>{const c=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===o&&c.push(i[h]);this._addStickyColumnStyles(c,o)}),r.forEach((o,c)=>{this._addStickyColumnStyles([o],this._footerRowDefs[c])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const c=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let h=0;h<c.length;h++){let m=c[h];const v=this._cachedRenderRowsMap.get(m.data);v.has(m.rowDef)?v.get(m.rowDef).push(m):v.set(m.rowDef,[m]),e.push(m)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(c=>{const h=r&&r.has(c)?r.get(c):[];if(h.length){const m=h.shift();return m.dataIndex=i,m}return{data:e,rowDef:c,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Am(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Am(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Am(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Am(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(c,h)=>c||!!h.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],A_(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;A_(this.dataSource)?e=this.dataSource.connect(this):function nM(n){return!!n&&(n instanceof ei.y||(0,Yr.m)(n.lift)&&(0,Yr.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Qe(this.dataSource)),this._renderChangeSubscription=e.pipe(sn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),o=r.map(h=>h.sticky),c=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,c,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(c=>c.when&&c.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const c=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),c}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))sl.mostRecentCellOutlet&&sl.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const c=e.get(i).context;c.count=r,c.first=0===i,c.last=i===r-1,c.even=i%2==0,c.odd=!c.even,this.multiTemplateDataRows?(c.dataIndex=this._renderRows[i].dataIndex,c.renderIndex=i):c.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const c of r.outlets)o.appendChild(c.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Bb(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Qe()).pipe(sn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),c=o.rootNodes[0];1===o.rootNodes.length&&c?.nodeType===this._document.ELEMENT_NODE&&(c.setAttribute("role","row"),c.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.sBO),s.Y36(s.SBq),s.$8M("role"),s.Y36(hs,8),s.Y36(J),s.Y36(Mi),s.Y36(k_),s.Y36(V_),s.Y36(xf),s.Y36(Dm,12),s.Y36(s.R0b,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,zu,5),s.Suo(r,Vo,5),s.Suo(r,H_,5),s.Suo(r,Tf,5),s.Suo(r,Mf,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._noDataRow=o.first),s.iGM(o=s.CRH())&&(i._contentColumnDefs=o),s.iGM(o=s.CRH())&&(i._contentRowDefs=o),s.iGM(o=s.CRH())&&(i._contentHeaderRowDefs=o),s.iGM(o=s.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(j_,7),s.Gf(Sm,7),s.Gf(Im,7),s.Gf(Tm,7)),2&e){let r;s.iGM(r=s.CRH())&&(i._rowOutlet=r.first),s.iGM(r=s.CRH())&&(i._headerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._footerRowOutlet=r.first),s.iGM(r=s.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[s._Bn([{provide:kr,useExisting:n},{provide:k_,useClass:bC},{provide:V_,useClass:Fb},{provide:Dm,useValue:null}])],ngContentSelectors:wm,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(ol),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[j_,Sm,Im,Tm],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function Am(n,t){return n.concat(Array.from(t))}let FC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[bm]}),n})();function $n(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Wb(n,t=ym.z){return(0,si.e)((e,i)=>{let r=null,o=null,c=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function m(){const v=c+n,x=t.now();if(x<v)return r=this.schedule(void 0,v-x),void i.add(r);h()}e.subscribe((0,Pn.x)(i,v=>{o=v,c=t.now(),r||(r=t.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function Yb(n){return An((t,e)=>n<=e)}function Nm(n,t=ns.y){return n=n??qM,(0,si.e)((e,i)=>{let r,o=!0;e.subscribe((0,Pn.x)(i,c=>{const h=t(c);(o||!n(r,h))&&(o=!1,r=h,i.next(c))}))})}function qM(n,t){return n===t}let Kb=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KC=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Pu(e);return new ei.y(r=>{const c=this._observeElement(i).subscribe(r);return()=>{c.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new xt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Zb=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=rn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ls(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Wb(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(KC),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Z_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Kb]}),n})(),WM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const ZC=new Set;let Rf,Fm=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):KM}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function YM(n){if(!ZC.has(n))try{Rf||(Rf=document.createElement("style"),Rf.setAttribute("type","text/css"),document.head.appendChild(Rf)),Rf.sheet&&(Rf.sheet.insertRule(`@media ${n} {body{ }}`,0),ZC.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Mi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function KM(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let QC=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new xt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Lm(bf(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=rs(Lm(bf(e)).map(c=>this._registerQuery(c).observable));return o=qa(o.pipe(Ti(1)),o.pipe(Yb(1),Wb(0))),o.pipe((0,nt.U)(c=>{const h={matches:!1,breakpoints:{}};return c.forEach(({matches:m,query:v})=>{h.matches=h.matches||m,h.breakpoints[v]=m}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new ei.y(c=>{const h=m=>this._zone.run(()=>c.next(m));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(wr(i),(0,nt.U)(({matches:c})=>({query:e,matches:c})),sn(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fm),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Lm(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Bd(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const eE="cdk-describedby-message",X_="cdk-describedby-host";let Xb=0,tE=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Xb++,this._document=e,this._id=(0,s.f3M)(s.AFp)+"-"+Xb++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=J_(i,r);"string"!=typeof i?(Jb(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=J_(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const c=this._messageRegistry.get(o);c&&0===c.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${X_}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(X_);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");Jb(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(J_(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Bd(e,"aria-describedby").filter(r=>0!=r.indexOf(eE));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function JC(n,t,e){const i=Bd(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(X_,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function ZM(n,t,e){const r=Bd(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(X_)}_isElementDescribedByMessage(e,i){const r=Bd(e,"aria-describedby"),o=this._messageRegistry.get(i),c=o&&o.messageElement.id;return!!c&&-1!=r.indexOf(c)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J),s.LFG(Mi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function J_(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function Jb(n,t){n.id||(n.id=`${eE}-${t}-${Xb++}`)}class QM{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new xt.x,this._typeaheadSubscription=ss.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new xt.x,this.change=new xt.x,t instanceof s.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,gi.b)(e=>this._pressedLetters.push(e)),Wb(t),An(()=>this._pressedLetters.length>0),(0,nt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,c=i[o];if(!this._skipPredicateFn(c)&&0===c.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,c=this._getItemsArray().length;this._setActiveItemByIndex(o<c?o:c-1,-1);break}return;default:return void((r||$n(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}class nE extends QM{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let JM=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function rL(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function iL(n){try{return n.frameElement}catch{return null}}(function rA(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Of(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Of(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function nA(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function iA(n){return!function iE(n){return function eA(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function oL(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function ev(n){return function tA(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||e0(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Mi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function e0(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Of(n){if(!e0(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class oA{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Ti(1)).subscribe(t)}}let sL=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new oA(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(JM),s.LFG(s.R0b),s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function t0(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function rE(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const oE=new s.OlP("cdk-input-modality-detector-options"),aA={ignoreKeys:[18,17,224,91,16]},Pf=Nu({passive:!0,capture:!0});let r0=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new br(null),this._lastTouchMs=0,this._onKeydown=c=>{this._options?.ignoreKeys?.some(h=>h===c.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Nd(c))},this._onMousedown=c=>{Date.now()-this._lastTouchMs<650||(this._modality.next(t0(c)?"keyboard":"mouse"),this._mostRecentTarget=Nd(c))},this._onTouchstart=c=>{rE(c)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nd(c))},this._options={...aA,...o},this.modalityDetected=this._modality.pipe(Yb(1)),this.modalityChanged=this.modalityDetected.pipe(Nm()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Pf),r.addEventListener("mousedown",this._onMousedown,Pf),r.addEventListener("touchstart",this._onTouchstart,Pf)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Pf),document.removeEventListener("mousedown",this._onMousedown,Pf),document.removeEventListener("touchstart",this._onTouchstart,Pf))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Mi),s.LFG(s.R0b),s.LFG(J),s.LFG(oE,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const o0=new s.OlP("cdk-focus-monitor-default-options"),nv=Nu({passive:!0,capture:!0});let Nf=(()=>{class n{constructor(e,i,r,o,c){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xt.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=Nd(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=o,this._detectionMode=c?.detectionMode||0}monitor(e,i=!1){const r=Pu(e);if(!this._platform.isBrowser||1!==r.nodeType)return Qe(null);const o=function Eb(n){if(function rl(){if(null==Cb){const n=typeof document<"u"?document.head:null;Cb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Cb}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),c=this._elementInfo.get(r);if(c)return i&&(c.checkChildren=!0),c.subject;const h={checkChildren:i,subject:new xt.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Pu(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Pu(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Nd(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,nv),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,nv)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(sn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,nv),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,nv),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let c=0;c<o.length;c++)if(o[c].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Mi),s.LFG(r0),s.LFG(J,8),s.LFG(o0,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const aE="cdk-high-contrast-black-on-white",lE="cdk-high-contrast-white-on-black",s0="cdk-high-contrast-active";let cE=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(QC).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(s0,aE,lE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(s0,aE):2===i&&e.add(s0,lE)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Mi),s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),cA=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cE))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Z_]}),n})();const hE=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function l0(){return!0}});let xn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!O_()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(cE),s.LFG(hE,8),s.LFG(J))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Ou,Ou]}),n})();function pE(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t)}constructor(...t){super(...t),this._disabled=!1}}}function Bm(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function qu(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=rn(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function iv(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?Ls(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}let _E=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),d0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,xn]}),n})();class SL{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const u0=Nu({passive:!0,capture:!0});class wA{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=Nd(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const c=o.get(i);c?c.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,u0)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,u0)))}}const vE={enterDuration:225,exitDuration:150},yE=Nu({passive:!0,capture:!0}),bE=["mousedown","touchstart"],wE=["mouseup","mouseleave","touchend","touchcancel"];class Wu{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Pu(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...vE,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const c=i.radius||function xA(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,m=e-r.top,v=o.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=h-c+"px",x.style.top=m-c+"px",x.style.height=2*c+"px",x.style.width=2*c+"px",null!=i.color&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(x);const I=window.getComputedStyle(x),N=I.transitionDuration,H="none"===I.transitionProperty||"0s"===N||"0s, 0s"===N||0===r.width&&0===r.height,Y=new SL(this,x,i,H);x.style.transform="scale3d(1, 1, 1)",Y.state=0,i.persistent||(this._mostRecentTransientRipple=Y);let te=null;return!H&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Oe=()=>this._finishRippleTransition(Y),Ye=()=>this._destroyRipple(Y);x.addEventListener("transitionend",Oe),x.addEventListener("transitioncancel",Ye),te={onTransitionEnd:Oe,onTransitionCancel:Ye}}),this._activeRipples.set(Y,te),(H||!v)&&this._finishRippleTransition(Y),Y}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...vE,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Pu(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,bE.forEach(i=>{Wu._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{wE.forEach(e=>{this._triggerElement.addEventListener(e,this,yE)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=t0(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!rE(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(bE.forEach(e=>Wu._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&wE.forEach(e=>t.removeEventListener(e,this,yE)))}}Wu._eventManager=new wA;const Ff=new s.OlP("mat-ripple-global-options");let Lf=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,c){this._elementRef=e,this._animationMode=c,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Wu(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Mi),s.Y36(Ff,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),rv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,xn]}),n})(),xE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn]}),n})(),CE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[rv,Jn,xn,xE]}),n})();const TA=[[["caption"]],[["colgroup"],["col"]]],MA=["caption","colgroup, col"];let Hm=(()=>{class n extends Mm{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[s._Bn([{provide:Mm,useExisting:n},{provide:kr,useExisting:n},{provide:V_,useClass:Fb},{provide:k_,useClass:bC},{provide:Dm,useValue:null}]),s.qOj],ngContentSelectors:MA,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(s.F$t(TA),s.Hsn(0),s.Hsn(1,1),s.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[j_,Sm,Im,Tm],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),Bs=(()=>{class n extends pa{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matCellDef",""]],features:[s._Bn([{provide:pa,useExisting:n}]),s.qOj]}),n})(),h0=(()=>{class n extends ma{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[s._Bn([{provide:ma,useExisting:n}]),s.qOj]}),n})(),Yu=(()=>{class n extends Vo{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[s._Bn([{provide:Vo,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),s.qOj]}),n})(),f0=(()=>{class n extends Ld{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[s.qOj]}),n})(),p0=(()=>{class n extends B_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[s.qOj]}),n})(),jm=(()=>{class n extends Tf{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[s._Bn([{provide:Tf,useExisting:n}]),s.qOj]}),n})(),EE=(()=>{class n extends H_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[s._Bn([{provide:H_,useExisting:n}]),s.qOj]}),n})(),DE=(()=>{class n extends xm{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[s._Bn([{provide:xm,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[sl],encapsulation:2}),n})(),m0=(()=>{class n extends Lb{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[s._Bn([{provide:Lb,useExisting:n}]),s.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&s.GkF(0,0)},dependencies:[sl],encapsulation:2}),n})(),_0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,FC,xn]}),n})();class OA{}class PA{}var li=V(4976);function v0(){return(0,si.e)((n,t)=>{let e,i=!1;n.subscribe((0,Pn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var st,to=V(2011),y0=(V(2644),V(3942)),be=V(5861),Vs=V(6881),cl=V(4859),ga=V(1877),F=V(2090),OE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},_a={},lv=lv||{},Et=OE||self;function vc(){}function cv(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function zm(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var PE="closure_uid_"+(1e9*Math.random()>>>0),NE=0;function FE(n,t,e){return n.call.apply(n.bind,arguments)}function $m(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function no(n,t,e){return(no=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?FE:$m).apply(null,arguments)}function Bf(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Er(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var c=Array(arguments.length-2),h=2;h<arguments.length;h++)c[h-2]=arguments[h];return t.prototype[r].apply(i,c)}}function yc(){this.s=this.s,this.o=this.o}yc.prototype.s=!1,yc.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function PL(n){Object.prototype.hasOwnProperty.call(n,PE)&&n[PE]||(n[PE]=++NE)}(this)},yc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const LE=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function b0(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function dv(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(cv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let c=0;c<o;c++)n[r+c]=i[c]}else n.push(i)}}function Rr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Rr.prototype.h=function(){this.defaultPrevented=!0};var BE=function(){if(!Et.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Et.addEventListener("test",vc,t),Et.removeEventListener("test",vc,t)}catch{}return n}();function Ku(n){return/^[\s\xa0]*$/.test(n)}var uv=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function VE(n,t){return n<t?-1:n>t?1:0}function Gm(){var n=Et.navigator;return n&&(n=n.userAgent)?n:""}function dl(n){return-1!=Gm().indexOf(n)}function hv(n){return hv[" "](n),n}function Zu(n,t,e){return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}hv[" "]=vc;var pv,n,FA=dl("Opera"),Qu=dl("Trident")||dl("MSIE"),fv=dl("Edge"),UE=fv||Qu,HE=dl("Gecko")&&!(-1!=Gm().toLowerCase().indexOf("webkit")&&!dl("Edge"))&&!(dl("Trident")||dl("MSIE"))&&!dl("Edge"),NL=-1!=Gm().toLowerCase().indexOf("webkit")&&!dl("Edge");function jE(){var n=Et.document;return n?n.documentMode:void 0}e:{var w0="",mv=(n=Gm(),HE?/rv:([^\);]+)(\)|;)/.exec(n):fv?/Edge\/([\d\.]+)/.exec(n):Qu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):NL?/WebKit\/(\S+)/.exec(n):FA?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(mv&&(w0=mv?mv[1]:""),Qu){var gv=jE();if(null!=gv&&gv>parseFloat(w0)){pv=String(gv);break e}}pv=w0}var LA={},BA=Et.document&&Qu&&(jE()||parseInt(pv,10))||void 0;function Vf(n,t){if(Rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(HE){e:{try{hv(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:VA[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Vf.$.h.call(this)}}Er(Vf,Rr);var VA={2:"touch",3:"pen",4:"mouse"};Vf.prototype.h=function(){Vf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Uf="closure_listenable_"+(1e6*Math.random()|0),GE=0;function qE(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++GE,this.fa=this.ia=!1}function qm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function x0(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function WE(n){const t={};for(const e in n)t[e]=n[e];return t}const UA="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C0(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<UA.length;o++)e=UA[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function E0(n){this.src=n,this.g={},this.h=0}function YE(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=LE(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(qm(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function KE(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}E0.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=KE(n,t,i,r);return-1<c?(t=n[c],e||(t.ia=!1)):((t=new qE(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var ZE="closure_lm_"+(1e6*Math.random()|0),QE={};function HA(n,t,e,i,r){if(i&&i.once)return Wm(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)HA(n,t[o],e,i,r);return null}return e=Km(e),n&&n[Uf]?n.O(t,e,zm(i)?!!i.capture:!!i,r):jA(n,t,e,!1,i,r)}function jA(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var c=zm(r)?!!r.capture:!!r,h=yv(n);if(h||(n[ZE]=h=new E0(n)),(e=h.add(t,e,i,c,o)).proxy)return e;if(i=function FL(){const t=XE;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)BE||(r=c),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Ym(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function Wm(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)Wm(n,t[o],e,i,r);return null}return e=Km(e),n&&n[Uf]?n.P(t,e,zm(i)?!!i.capture:!!i,r):jA(n,t,e,!0,i,r)}function zA(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)zA(n,t[o],e,i,r);else i=zm(i)?!!i.capture:!!i,e=Km(e),n&&n[Uf]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=KE(o=n.g[t],e,i,r))&&(qm(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=yv(n))&&(t=n.g[t.toString()],n=-1,t&&(n=KE(t,e,i,r)),(e=-1<n?t[n]:null)&&vv(e))}function vv(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[Uf])YE(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Ym(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=yv(t))?(YE(e,n),0==e.h&&(e.src=null,t[ZE]=null)):qm(n)}}}function Ym(n){return n in QE?QE[n]:QE[n]="on"+n}function XE(n,t){if(n.fa)n=!0;else{t=new Vf(t,this);var e=n.listener,i=n.la||n.src;n.ia&&vv(n),n=e.call(i,t)}return n}function yv(n){return(n=n[ZE])instanceof E0?n:null}var JE="__closure_events_fn_"+(1e9*Math.random()>>>0);function Km(n){return"function"==typeof n?n:(n[JE]||(n[JE]=function(t){return n.handleEvent(t)}),n[JE])}function cr(){yc.call(this),this.i=new E0(this),this.S=this,this.J=null}function Or(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Rr(t,n);else if(t instanceof Rr)t.target=t.target||n;else{var r=t;C0(t=new Rr(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var c=t.g=e[o];r=Zm(c,i,!0,t)&&r}if(r=Zm(c=t.g=n,i,!0,t)&&r,r=Zm(c,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Zm(c=t.g=e[o],i,!1,t)&&r}function Zm(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var c=t[o];if(c&&!c.fa&&c.capture==e){var h=c.listener,m=c.la||c.src;c.ia&&YE(n.i,c),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}Er(cr,yc),cr.prototype[Uf]=!0,cr.prototype.removeEventListener=function(n,t,e,i){zA(this,n,t,e,i)},cr.prototype.N=function(){if(cr.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)qm(e[i]);delete n.g[t],n.h--}}this.J=null},cr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},cr.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var eD=Et.JSON.stringify;function $A(){var n=iD;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var nD,tD=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bv,n=>n.reset());class bv{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function qA(n){Et.setTimeout(()=>{throw n},0)}function WA(n,t){nD||function LL(){var n=Et.Promise.resolve(void 0);nD=function(){n.then(YA)}}(),D0||(nD(),D0=!0),iD.add(n,t)}var D0=!1,iD=new class GA{constructor(){this.h=this.g=null}add(t,e){const i=tD.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function YA(){for(var n;n=$A();){try{n.h.call(n.g)}catch(e){qA(e)}var t=tD;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}D0=!1}function S0(n,t){cr.call(this),this.h=n||1,this.g=t||Et,this.j=no(this.qb,this),this.l=Date.now()}function I0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function wv(n,t,e){if("function"==typeof n)e&&(n=no(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=no(n.handleEvent,n)}return 2147483647<Number(t)?-1:Et.setTimeout(n,t||0)}function T0(n){n.g=wv(()=>{n.g=null,n.i&&(n.i=!1,T0(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}Er(S0,cr),(st=S0.prototype).ga=!1,st.T=null,st.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Or(this,"tick"),this.ga&&(I0(this),this.start()))}},st.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},st.N=function(){S0.$.N.call(this),I0(this),delete this.g};class BL extends yc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:T0(this)}N(){super.N(),this.g&&(Et.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vo(n){yc.call(this),this.h=n,this.g={}}Er(vo,yc);var rD=[];function xv(n,t,e,i){Array.isArray(e)||(e&&(rD[0]=e.toString()),e=rD);for(var r=0;r<e.length;r++){var o=HA(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function oD(n){x0(n.g,function(t,e){this.g.hasOwnProperty(e)&&vv(t)},n),n.g={}}function M0(){this.g=!0}function Vd(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function QA(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<r.length;c++)r[c]=""}}}return eD(e)}catch{return t}}(n,e)+(i?" "+i:"")})}vo.prototype.N=function(){vo.$.N.call(this),oD(this)},vo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},M0.prototype.Ea=function(){this.g=!1},M0.prototype.info=function(){};var bc={},A0=null;function Qm(){return A0=A0||new cr}function sD(n){Rr.call(this,bc.Ta,n)}function Hf(n){const t=Qm();Or(t,new sD(t))}function k0(n,t){Rr.call(this,bc.STAT_EVENT,n),this.stat=t}function yo(n){const t=Qm();Or(t,new k0(t,n))}function R0(n,t){Rr.call(this,bc.Ua,n),this.size=t}function Xm(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Et.setTimeout(function(){n()},t)}bc.Ta="serverreachability",Er(sD,Rr),bc.STAT_EVENT="statevent",Er(k0,Rr),bc.Ua="timingevent",Er(R0,Rr);var jf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wc={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Cv(){}function ul(){}Cv.prototype.h=null;var P0,Jm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function aD(){Rr.call(this,"d")}function O0(){Rr.call(this,"c")}function Dv(){}function eg(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new vo(this),this.P=VL,this.V=new S0(n=UE?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new N0}function N0(){this.i=null,this.g="",this.h=!1}Er(aD,Rr),Er(O0,Rr),Er(Dv,Cv),Dv.prototype.g=function(){return new XMLHttpRequest},Dv.prototype.i=function(){return{}},P0=new Dv;var VL=45e3,Sv={},Iv={};function Tv(n,t,e){n.L=1,n.v=B0(xc(t)),n.s=e,n.S=!0,XA(n,null)}function XA(n,t){n.G=Date.now(),zf(n),n.A=xc(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Fv(e.i,"t",i),n.C=0,e=n.l.I,n.h=new N0,n.g=gt(n.l,e?t:null,!n.s),0<n.O&&(n.M=new BL(no(n.Pa,n,n.g),n.O)),xv(n.U,n.g,"readystatechange",n.nb),t=n.I?WE(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Hf(),function Us(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var c="",h=o.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var x=v[0];v=v[1];var I=x.split("_");c=2<=I.length&&"type"==I[1]?c+(x+"=")+v+"&":c+(x+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function Mv(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function F0(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=lD(n,e),r==Iv){4==t&&(n.o=4,yo(14),i=!1),Vd(n.j,n.m,null,"[Incomplete Response]");break}if(r==Sv){n.o=4,yo(15),Vd(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Vd(n.j,n.m,r,null),Av(n,r)}Mv(n)&&r!=Iv&&r!=Sv&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,yo(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ca&&(n.ca=!0,(t=n.l).g==n&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+e.length),M(t),t.L=!0,yo(11))):(Vd(n.j,n.m,e,"[Invalid Chunked Response]"),hl(n),Ud(n))}function lD(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?Iv:(e=Number(t.substring(e,i)),isNaN(e)?Sv:(i+=1)+e>t.length?Iv:(t=t.substr(i,e),n.C=i+e,t))}function zf(n){n.Y=Date.now()+n.P,L0(n,n.P)}function L0(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xm(no(n.lb,n),t)}function tg(n){n.B&&(Et.clearTimeout(n.B),n.B=null)}function Ud(n){0==n.l.H||n.J||K(n.l,n)}function hl(n){tg(n);var t=n.M;t&&"function"==typeof t.ra&&t.ra(),n.M=null,I0(n.V),oD(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.ra())}function Av(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||U0(e.h,n)))if(!n.K&&U0(e.h,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;U(e),a(e)}S(e),yo(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.M&&0==e.A&&!e.v&&(e.v=Xm(no(e.ib,e),6e3));if(1>=V0(e.h)&&e.na){try{e.na()}catch{}e.na=void 0}}else ve(e,11)}else if((n.K||e.g==n)&&U(e),!Ku(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.V=v[0],v=v[1],2==e.H)if("c"==v[0]){e.J=v[1],e.oa=v[2];const x=v[3];null!=x&&(e.qa=x,e.j.info("VER="+e.qa));const I=v[4];null!=I&&(e.Ga=I,e.j.info("SVER="+e.Ga));const R=v[5];null!=R&&"number"==typeof R&&0<R&&(e.K=i=1.5*R,e.j.info("backChannelRequestTimeoutMs_="+i)),i=e;const N=n.g;if(N){const H=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var o=i.h;o.g||-1==H.indexOf("spdy")&&-1==H.indexOf("quic")&&-1==H.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(H0(o,o.h),o.h=null))}if(i.F){const Y=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(i.Da=Y,_i(i.G,i.F,Y))}}e.H=3,e.l&&e.l.Ba(),e.ca&&(e.S=Date.now()-n.G,e.j.info("Handshake RTT: "+e.S+"ms"));var c=n;if((i=e).wa=Xe(i,i.I?i.oa:null,i.Y),c.K){uD(i.h,c);var h=c,m=i.K;m&&h.setTimeout(m),h.B&&(tg(h),zf(h)),i.g=c}else E(i);0<e.i.length&&d(e)}else"stop"!=v[0]&&"close"!=v[0]||ve(e,7);else 3==e.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?ve(e,7):_D(e):"noop"!=v[0]&&e.l&&e.l.Aa(v),e.A=0)}Hf()}catch{}}function tk(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(cv(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function ek(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(cv(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function JA(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(cv(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(st=eg.prototype).setTimeout=function(n){this.P=n},st.nb=function(n){n=n.target;const t=this.M;t&&3==Cc(n)?t.l():this.Pa(n)},st.Pa=function(n){try{if(n==this.g)e:{const x=Cc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||UE||this.g&&(this.h.h||this.g.ja()||yk(this.g)))){this.J||4!=x||7==t||Hf(),tg(this);var e=this.g.da();this.aa=e;t:if(Mv(this)){var i=yk(this.g);n="";var r=i.length,o=4==Cc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){hl(this),Ud(this);var c="";break t}this.h.i=new Et.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==e,function KA(n,t,e,i,r,o,c){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,x,e),this.i){if(this.ba&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ku(h)){var v=h;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,yo(12),hl(this),Ud(this);break e}Vd(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Av(this,e)}this.S?(F0(this,x,c),UE&&this.i&&3==x&&(xv(this.U,this.V,"tick",this.mb),this.V.start())):(Vd(this.j,this.m,c,null),Av(this,c)),4==x&&hl(this),this.i&&!this.J&&(4==x?K(this.l,this):(this.i=!1,zf(this)))}else 400==e&&0<c.indexOf("Unknown SID")?(this.o=3,yo(12)):(this.o=0,yo(13)),hl(this),Ud(this)}}}catch{}},st.mb=function(){if(this.g){var n=Cc(this.g),t=this.g.ja();this.C<t.length&&(tg(this),F0(this,n,t),this.i&&4!=n&&zf(this))}},st.cancel=function(){this.J=!0,hl(this)},st.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function ZA(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Hf(),yo(17)),hl(this),this.o=2,Ud(this)):L0(this,this.Y-n)};var nk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Hd(n,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Hd){this.h=void 0!==t?t:n.h,kv(this,n.j),this.s=n.s,this.g=n.g,Rv(this,n.m),this.l=n.l,t=n.i;var e=new $f;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),ik(this,e),this.o=n.o}else n&&(e=String(n).match(nk))?(this.h=!!t,kv(this,e[1]||"",!0),this.s=Ov(e[2]||""),this.g=Ov(e[3]||"",!0),Rv(this,e[4]),this.l=Ov(e[5]||"",!0),ik(this,e[6]||"",!0),this.o=Ov(e[7]||"")):(this.h=!!t,this.i=new $f(null,this.h))}function xc(n){return new Hd(n)}function kv(n,t,e){n.j=e?Ov(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Rv(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function ik(n,t,e){t instanceof $f?(n.i=t,function Lv(n,t){t&&!n.j&&(fl(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(Nv(this,i),Fv(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=Pv(t,cD)),n.i=new $f(t,n.h))}function _i(n,t,e){n.i.set(t,e)}function B0(n){return _i(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Ov(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Pv(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,rk),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function rk(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Hd.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Pv(t,ng,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Pv(t,ng,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(Pv(e,"/"==e.charAt(0)?sk:ok,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Pv(e,Xu)),n.join("")};var ng=/[#\/\?@]/g,ok=/[#\?:]/g,sk=/[#\?]/g,cD=/[#\?@]/g,Xu=/#/g;function $f(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function fl(n){n.g||(n.g=new Map,n.h=0,n.i&&function UL(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Nv(n,t){fl(n),t=jd(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function dD(n,t){return fl(n),t=jd(n,t),n.g.has(t)}function Fv(n,t,e){Nv(n,t),0<e.length&&(n.i=null,n.g.set(jd(n,t),b0(e)),n.h+=e.length)}function jd(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function ak(n){this.l=n||jL,n=Et.PerformanceNavigationTiming?0<(n=Et.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Et.g&&Et.g.Ka&&Et.g.Ka()&&Et.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(st=$f.prototype).add=function(n,t){fl(this),this.i=null,n=jd(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},st.forEach=function(n,t){fl(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},st.sa=function(){fl(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},st.Z=function(n){fl(this);let t=[];if("string"==typeof n)dD(this,n)&&(t=t.concat(this.g.get(jd(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},st.set=function(n,t){return fl(this),this.i=null,dD(this,n=jd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},st.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},st.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),c=this.Z(i);for(i=0;i<c.length;i++){var r=o;""!==c[i]&&(r+="="+encodeURIComponent(String(c[i]))),n.push(r)}}return this.i=n.join("&")};var jL=10;function lk(n){return!!n.h||!!n.g&&n.g.size>=n.j}function V0(n){return n.h?1:n.g?n.g.size:0}function U0(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function H0(n,t){n.g?n.g.add(t):n.h=t}function uD(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function hD(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return b0(n.i)}function Bv(){}function fD(){this.g=new Bv}function pD(n,t,e){const i=e||"";try{tk(n,function(r,o){let c=r;zm(r)&&(c=eD(r)),t.push(i+o+"="+encodeURIComponent(c))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function Vv(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Gf(n){this.l=n.fc||null,this.j=n.ob||!1}function qf(n,t){cr.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=mD,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ak.prototype.cancel=function(){if(this.i=hD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Bv.prototype.stringify=function(n){return Et.JSON.stringify(n,void 0)},Bv.prototype.parse=function(n){return Et.JSON.parse(n,void 0)},Er(Gf,Cv),Gf.prototype.g=function(){return new qf(this.l,this.j)},Gf.prototype.i=function(n){return function(){return n}}({}),Er(qf,cr);var mD=0;function j0(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Ju(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ig(n)}function ig(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(st=qf.prototype).open=function(n,t){if(this.readyState!=mD)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,ig(this)},st.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Et).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},st.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ju(this)),this.readyState=mD},st.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ig(this)),this.g&&(this.readyState=3,ig(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Et.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j0(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},st.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Ju(this):ig(this),3==this.readyState&&j0(this)}},st.Za=function(n){this.g&&(this.response=this.responseText=n,Ju(this))},st.Ya=function(n){this.g&&(this.response=n,Ju(this))},st.ka=function(){this.g&&Ju(this)},st.setRequestHeader=function(n,t){this.v.append(n,t)},st.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},st.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(qf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var dk=Et.JSON.parse;function $i(n){cr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=uk,this.L=this.M=!1}Er($i,cr);var uk="",hk=/^https?$/i,fk=["POST","PUT"];function mk(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,gk(n),z0(n)}function gk(n){n.F||(n.F=!0,Or(n,"complete"),Or(n,"error"))}function _k(n){if(n.h&&typeof lv<"u"&&(!n.C[1]||4!=Cc(n)||2!=n.da()))if(n.v&&4==Cc(n))wv(n.La,0,n);else if(Or(n,"readystatechange"),4==Cc(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.I).match(nk)[1]||null;if(!r&&Et.self&&Et.self.location){var o=Et.self.location.protocol;r=o.substr(0,o.length-1)}i=!hk.test(r?r.toLowerCase():"")}e=i}if(e)Or(n,"complete"),Or(n,"success");else{n.m=6;try{var c=2<Cc(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",gk(n)}}finally{z0(n)}}}function z0(n,t){if(n.g){vk(n);const e=n.g,i=n.C[0]?vc:null;n.g=null,n.C=null,t||Or(n,"ready");try{e.onreadystatechange=i}catch{}}}function vk(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Et.clearTimeout(n.A),n.A=null)}function Cc(n){return n.g?n.g.readyState:0}function yk(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case uk:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function bk(n){let t="";return x0(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function gD(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=bk(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):_i(n,t,e))}function Uv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function wk(n){this.Ga=0,this.i=[],this.j=new M0,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Uv("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Uv("baseRetryDelayMs",5e3,n),this.hb=Uv("retryDelaySeedMs",1e4,n),this.eb=Uv("forwardChannelMaxRetries",2,n),this.xa=Uv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new ak(n&&n.concurrentRequestLimit),this.Ja=new fD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function _D(n){if(l(n),3==n.H){var t=n.W++,e=xc(n.G);_i(e,"SID",n.J),_i(e,"RID",t),_i(e,"TYPE","terminate"),_(n,e),(t=new eg(n,n.j,t,void 0)).L=2,t.v=B0(xc(e)),e=!1,Et.navigator&&Et.navigator.sendBeacon&&(e=Et.navigator.sendBeacon(t.v.toString(),"")),!e&&Et.Image&&((new Image).src=t.v,e=!0),e||(t.g=gt(t.l,null),t.g.ha(t.v)),t.G=Date.now(),zf(t)}Ve(n)}function a(n){n.g&&(M(n),n.g.cancel(),n.g=null)}function l(n){a(n),n.u&&(Et.clearTimeout(n.u),n.u=null),U(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Et.clearTimeout(n.m),n.m=null)}function d(n){lk(n.h)||n.m||(n.m=!0,WA(n.Na,n),n.C=0)}function f(n,t){var e;e=t?t.m:n.W++;const i=xc(n.G);_i(i,"SID",n.J),_i(i,"RID",e),_i(i,"AID",n.V),_(n,i),n.o&&n.s&&gD(i,n.o,n.s),e=new eg(n,n.j,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.i=t.F.concat(n.i)),t=b(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),H0(n.h,e),Tv(e,i,t)}function _(n,t){n.ma&&x0(n.ma,function(e,i){_i(t,i,e)}),n.l&&tk({},function(e,i){_i(t,i,e)})}function b(n,t,e){e=Math.min(n.i.length,e);var i=n.l?no(n.l.Va,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const c=["count="+e];-1==o?0<e?(o=r[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let h=!0;for(let m=0;m<e;m++){let v=r[m].h;const x=r[m].g;if(v-=o,0>v)o=Math.max(0,r[m].h-100),h=!1;else try{pD(x,c,"req"+v+"_")}catch{i&&i(x)}}if(h){i=c.join("&");break e}}}return n=n.i.splice(0,e),t.F=n,i}function E(n){n.g||n.u||(n.ba=1,WA(n.Ma,n),n.A=0)}function S(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Xm(no(n.Ma,n),ie(n,n.A)),n.A++,0))}function M(n){null!=n.B&&(Et.clearTimeout(n.B),n.B=null)}function P(n){n.g=new eg(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=xc(n.wa);_i(t,"RID","rpc"),_i(t,"SID",n.J),_i(t,"CI",n.M?"0":"1"),_i(t,"AID",n.V),_i(t,"TYPE","xmlhttp"),_(n,t),n.o&&n.s&&gD(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.oa,e.L=1,e.v=B0(xc(t)),e.s=null,e.S=!0,XA(e,n)}function U(n){null!=n.v&&(Et.clearTimeout(n.v),n.v=null)}function K(n,t){var e=null;if(n.g==t){U(n),M(n),n.g=null;var i=2}else{if(!U0(n.h,t))return;e=t.F,uD(n.h,t),i=1}if(0!=n.H)if(n.ta=t.aa,t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Or(i=Qm(),new R0(i,e)),d(n)}else E(n);else if(3==(r=t.o)||0==r&&0<n.ta||!(1==i&&function u(n,t){return!(V0(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=t.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Xm(no(n.Na,n,t),ie(n,n.C)),n.C++,0)))}(n,t)||2==i&&S(n)))switch(e&&0<e.length&&(t=n.h,t.i=t.i.concat(e)),r){case 1:ve(n,5);break;case 4:ve(n,10);break;case 3:ve(n,6);break;default:ve(n,2)}}function ie(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.l||(e*=2),e*t}function ve(n,t){if(n.j.info("Error code "+t),2==t){var e=null;n.l&&(e=null);var i=no(n.pb,n);e||(e=new Hd("//www.google.com/images/cleardot.gif"),Et.location&&"http"==Et.location.protocol||kv(e,"https"),B0(e)),function ck(n,t){const e=new M0;if(Et.Image){const i=new Image;i.onload=Bf(Vv,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Bf(Vv,e,i,"TestLoadImage: error",!1,t),i.onabort=Bf(Vv,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Bf(Vv,e,i,"TestLoadImage: timeout",!1,t),Et.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else yo(2);n.H=0,n.l&&n.l.za(t),Ve(n),l(n)}function Ve(n){if(n.H=0,n.pa=[],n.l){const t=hD(n.h);(0!=t.length||0!=n.i.length)&&(dv(n.pa,t),dv(n.pa,n.i),n.h.i.length=0,b0(n.i),n.i.length=0),n.l.ya()}}function Xe(n,t,e){var i=e instanceof Hd?xc(e):new Hd(e,void 0);if(""!=i.g)t&&(i.g=t+"."+i.g),Rv(i,i.m);else{var r=Et.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Hd(null,void 0);i&&kv(o,i),t&&(o.g=t),r&&Rv(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&_i(i,e,t),_i(i,"VER",n.qa),_(n,i),i}function gt(n,t,e){if(t&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new $i(e&&n.Ha&&!n.va?new Gf({ob:!0}):n.va)).Oa(n.I),t}function Nt(){}function ke(){if(Qu&&!(10<=Number(BA)))throw Error("Environmental error: no available transport.")}function It(n,t){cr.call(this),this.g=new wk(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Ku(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Ku(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new rg(this)}function ni(n){aD.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Ai(){O0.call(this),this.status=1}function rg(n){this.g=n}function Ec(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xk(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],c=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;c=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(c<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(t=e+((c=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((r=o+((c=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Gn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(st=$i.prototype).Oa=function(n){this.M=n},st.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():P0.g(),this.C=function Ev(n){return n.h||(n.h=n.i())}(this.u?this.u:P0),this.g.onreadystatechange=no(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void mk(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Et.FormData&&n instanceof Et.FormData,!(0<=LE(fk,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of e)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{vk(this),0<this.B&&((this.L=function pk(n){return Qu&&function zE(){return Zu(LA,9,function(){let n=0;const t=uv(String(pv)).split("."),e=uv("9").split("."),i=Math.max(t.length,e.length);for(let c=0;0==n&&c<i;c++){var r=t[c]||"",o=e[c]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=VE(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||VE(0==r[2].length,0==o[2].length)||VE(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=no(this.ua,this)):this.A=wv(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){mk(this,o)}},st.ua=function(){typeof lv<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Or(this,"timeout"),this.abort(8))},st.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Or(this,"complete"),Or(this,"abort"),z0(this))},st.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),z0(this,!0)),$i.$.N.call(this)},st.La=function(){this.s||(this.G||this.v||this.l?_k(this):this.kb())},st.kb=function(){_k(this)},st.da=function(){try{return 2<Cc(this)?this.g.status:-1}catch{return-1}},st.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},st.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),dk(t)}},st.Ia=function(){return this.m},st.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(st=wk.prototype).qa=8,st.H=1,st.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new eg(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=WE(o),C0(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.i.length;e++){var i=this.i[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.i.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=b(this,r,t),_i(e=xc(this.G),"RID",n),_i(e,"CVER",22),this.F&&_i(e,"X-HTTP-Session-Id",this.F),_(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(bk(o)))+"&"+t:this.o&&gD(e,this.o,o)),H0(this.h,r),this.bb&&_i(e,"TYPE","init"),this.P?(_i(e,"$req",t),_i(e,"SID","null"),r.ba=!0,Tv(r,e,null)):Tv(r,e,t),this.H=2}}else 3==this.H&&(n?f(this,n):0==this.i.length||lk(this.h)||f(this))},st.Ma=function(){if(this.u=null,P(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Xm(no(this.jb,this),n)}},st.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,yo(10),a(this),P(this))},st.ib=function(){null!=this.v&&(this.v=null,a(this),S(this),yo(19))},st.pb=function(n){n?(this.j.info("Successfully pinged google.com"),yo(2)):(this.j.info("Failed to ping google.com"),yo(1))},(st=Nt.prototype).Ba=function(){},st.Aa=function(){},st.za=function(){},st.ya=function(){},st.Va=function(){},ke.prototype.g=function(n,t){return new It(n,t)},Er(It,cr),It.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,t=this.l,e=this.h||void 0;yo(0),n.Y=t,n.ma=e||{},n.M=n.aa,n.G=Xe(n,null,n.Y),d(n)},It.prototype.close=function(){_D(this.g)},It.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=eD(n),n=e);t.i.push(new class{constructor(n,t){this.h=n,this.g=t}}(t.fb++,n)),3==t.H&&d(t)},It.prototype.N=function(){this.g.l=null,delete this.j,_D(this.g),delete this.g,It.$.N.call(this)},Er(ni,aD),Er(Ai,O0),Er(rg,Nt),rg.prototype.Ba=function(){Or(this.g,"a")},rg.prototype.Aa=function(n){Or(this.g,new ni(n))},rg.prototype.za=function(n){Or(this.g,new Ai)},rg.prototype.ya=function(){Or(this.g,"b")},Er(Ec,function I6(){this.blockSize=-1}),Ec.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ec.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)xk(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){xk(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){xk(this,i),r=0;break}}this.h=r,this.i+=t},Ec.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var T6={};function Ck(n){return-128<=n&&128>n?Zu(T6,n,function(t){return new Gn([0|t],0>t?-1:0)}):new Gn([0|n],0>n?-1:0)}function zd(n){if(isNaN(n)||!isFinite(n))return Hv;if(0>n)return bo(zd(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=Ek;return new Gn(t,0)}var Ek=4294967296,Hv=Ck(0),Dk=Ck(1),$L=Ck(16777216);function eh(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function pl(n){return-1==n.h}function bo(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Gn(e,~n.h).add(Dk)}function vD(n,t){return n.add(bo(t))}function yD(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function $0(n,t){this.g=n,this.h=t}function bD(n,t){if(eh(t))throw Error("division by zero");if(eh(n))return new $0(Hv,Hv);if(pl(n))return t=bD(bo(n),t),new $0(bo(t.g),bo(t.h));if(pl(t))return t=bD(n,bo(t)),new $0(bo(t.g),t.h);if(30<n.g.length){if(pl(n)||pl(t))throw Error("slowDivide_ only works with positive integers.");for(var e=Dk,i=t;0>=i.X(n);)e=GL(e),i=GL(i);var r=jv(e,1),o=jv(i,1);for(i=jv(i,2),e=jv(e,2);!eh(i);){var c=o.add(i);0>=c.X(n)&&(r=r.add(e),o=c),i=jv(i,1),e=jv(e,1)}return t=vD(n,r.R(t)),new $0(r,t)}for(r=Hv;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),c=(o=zd(e)).R(t);pl(c)||0<c.X(n);)c=(o=zd(e-=i)).R(t);eh(o)&&(o=Dk),r=r.add(o),n=vD(n,c)}return new $0(r,n)}function GL(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Gn(e,n.h)}function jv(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Gn(r,n.h)}(st=Gn.prototype).ea=function(){if(pl(this))return-bo(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:Ek+i)*t,t*=Ek}return n},st.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(eh(this))return"0";if(pl(this))return"-"+bo(this).toString(n);for(var t=zd(Math.pow(n,6)),e=this,i="";;){var r=bD(e,t).g,o=((0<(e=vD(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(eh(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},st.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},st.X=function(n){return pl(n=vD(this,n))?-1:eh(n)?0:1},st.abs=function(){return pl(this)?bo(this):this},st.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),c=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=c>>>16,e[r]=(c&=65535)<<16|(o&=65535)}return new Gn(e,-2147483648&e[e.length-1]?-1:0)},st.R=function(n){if(eh(this)||eh(n))return Hv;if(pl(this))return pl(n)?bo(this).R(bo(n)):bo(bo(this).R(n));if(pl(n))return bo(this.R(bo(n)));if(0>this.X($L)&&0>n.X($L))return zd(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,c=65535&this.D(i),h=n.D(r)>>>16,m=65535&n.D(r);e[2*i+2*r]+=c*m,yD(e,2*i+2*r),e[2*i+2*r+1]+=o*m,yD(e,2*i+2*r+1),e[2*i+2*r+1]+=c*h,yD(e,2*i+2*r+1),e[2*i+2*r+2]+=o*h,yD(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Gn(e,0)},st.gb=function(n){return bD(this,n).h},st.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Gn(e,this.h&n.h)},st.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Gn(e,this.h|n.h)},st.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Gn(e,this.h^n.h)},ke.prototype.createWebChannel=ke.prototype.g,It.prototype.send=It.prototype.u,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,jf.NO_ERROR=0,jf.TIMEOUT=8,jf.HTTP_ERROR=6,wc.COMPLETE="complete",ul.EventType=Jm,Jm.OPEN="a",Jm.CLOSE="b",Jm.ERROR="c",Jm.MESSAGE="d",cr.prototype.listen=cr.prototype.O,$i.prototype.listenOnce=$i.prototype.P,$i.prototype.getLastError=$i.prototype.Sa,$i.prototype.getLastErrorCode=$i.prototype.Ia,$i.prototype.getStatus=$i.prototype.da,$i.prototype.getResponseJson=$i.prototype.Wa,$i.prototype.getResponseText=$i.prototype.ja,$i.prototype.send=$i.prototype.ha,$i.prototype.setWithCredentials=$i.prototype.Oa,Ec.prototype.digest=Ec.prototype.l,Ec.prototype.reset=Ec.prototype.reset,Ec.prototype.update=Ec.prototype.j,Gn.prototype.add=Gn.prototype.add,Gn.prototype.multiply=Gn.prototype.R,Gn.prototype.modulo=Gn.prototype.gb,Gn.prototype.compare=Gn.prototype.X,Gn.prototype.toNumber=Gn.prototype.ea,Gn.prototype.toString=Gn.prototype.toString,Gn.prototype.getBits=Gn.prototype.D,Gn.fromNumber=zd,Gn.fromString=function zL(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return bo(zL(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=zd(Math.pow(t,8)),i=Hv,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),c=parseInt(n.substring(r,r+o),t);8>o?(o=zd(Math.pow(t,o)),i=i.R(o).add(zd(c))):i=(i=i.R(e)).add(zd(c))}return i};var M6=_a.createWebChannelTransport=function(){return new ke},A6=_a.getStatEventTarget=function(){return Qm()},Sk=_a.ErrorCode=jf,k6=_a.EventType=wc,R6=_a.Event=bc,qL=_a.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},O6=_a.FetchXmlHttpFactory=Gf,wD=_a.WebChannel=ul,P6=_a.XhrIo=$i,N6=_a.Md5=Ec,zv=_a.Integer=Gn;const WL="@firebase/firestore";class io{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}io.UNAUTHENTICATED=new io(null),io.GOOGLE_CREDENTIALS=new io("google-credentials-uid"),io.FIRST_PARTY=new io("first-party-uid"),io.MOCK_USER=new io("mock-user");let $v="9.22.0";const Wf=new ga.Yd("@firebase/firestore");function Ik(){return Wf.logLevel}function Be(n,...t){if(Wf.logLevel<=ga.in.DEBUG){const e=t.map(Tk);Wf.debug(`Firestore (${$v}): ${n}`,...e)}}function dr(n,...t){if(Wf.logLevel<=ga.in.ERROR){const e=t.map(Tk);Wf.error(`Firestore (${$v}): ${n}`,...e)}}function ml(n,...t){if(Wf.logLevel<=ga.in.WARN){const e=t.map(Tk);Wf.warn(`Firestore (${$v}): ${n}`,...e)}}function Tk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ht(n="Unexpected state"){const t=`FIRESTORE (${$v}) INTERNAL ASSERTION FAILED: `+n;throw dr(t),new Error(t)}function St(n,t){n||ht()}function it(n,t){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends F.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Pr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class YL{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class B6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(io.UNAUTHENTICATED))}shutdown(){}}class V6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class U6{constructor(t){this.t=t,this.currentUser=io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let c=new Pr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Pr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const v=c;t.enqueueRetryable((0,be.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},m=v=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Pr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(St("string"==typeof i.accessToken),new YL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return St(null===t||"string"==typeof t),new io(t)}}class H6{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=io.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class j6{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new H6(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(io.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KL{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z6{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.T;return this.T=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(St("string"==typeof e.token),this.T=e.token,new KL(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $6(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class ZL{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=$6(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Qt(n,t){return n<t?-1:n>t?1:0}function Gv(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function QL(n){return n+"\0"}class ki{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ki.fromMillis(Date.now())}static fromDate(t){return ki.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ki(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Qt(this.nanoseconds,t.nanoseconds):Qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Tt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Tt(t)}static min(){return new Tt(new ki(0,0))}static max(){return new Tt(new ki(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class G0{constructor(t,e,i){void 0===e?e=0:e>t.length&&ht(),void 0===i?i=t.length-e:i>t.length-e&&ht(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===G0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof G0?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),c=e.get(r);if(o<c)return-1;if(o>c)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Cn extends G0{construct(t,e,i){return new Cn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Cn(e)}static emptyPath(){return new Cn([])}}const G6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ji extends G0{construct(t,e,i){return new Ji(t,e,i)}static isValidIdentifier(t){return G6.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ji.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ji(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Me(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Me(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=m,r+=2}else"`"===h?(c=!c,r++):"."!==h||c?(i+=h,r++):(o(),r++)}if(o(),c)throw new Me(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ji(e)}static emptyPath(){return new Ji([])}}class Je{constructor(t){this.path=t}static fromPath(t){return new Je(Cn.fromString(t))}static fromName(t){return new Je(Cn.fromString(t).popFirst(5))}static empty(){return new Je(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Cn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Cn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Je(new Cn(t.slice()))}}class xD{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function Mk(n){return n.fields.find(t=>2===t.kind)}function og(n){return n.fields.filter(t=>2!==t.kind)}xD.UNKNOWN_ID=-1;class CD{constructor(t,e){this.fieldPath=t,this.kind=e}}class q0{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new q0(0,va.min())}}function XL(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Tt.fromTimestamp(1e9===i?new ki(e+1,0):new ki(e,i));return new va(r,Je.empty(),t)}function JL(n){return new va(n.readTime,n.key,-1)}class va{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new va(Tt.min(),Je.empty(),-1)}static max(){return new va(Tt.max(),Je.empty(),-1)}}function Ak(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Je.comparator(n.documentKey,t.documentKey),0!==e?e:Qt(n.largestBatchId,t.largestBatchId))}const e2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function Yf(n){return kk.apply(this,arguments)}function kk(){return kk=(0,be.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==e2)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),kk.apply(this,arguments)}class ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ae((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ae?e:ae.resolve(e)}catch(e){return ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.reject(e)}static resolve(t){return new ae((e,i)=>{e(t)})}static reject(t){return new ae((e,i)=>{i(t)})}static waitFor(t){return new ae((e,i)=>{let r=0,o=0,c=!1;t.forEach(h=>{++r,h.next(()=>{++o,c&&o===r&&e()},m=>i(m))}),c=!0,o===r&&e()})}static or(t){let e=ae.resolve(!1);for(const i of t)e=e.next(r=>r?ae.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ae((i,r)=>{const o=t.length,c=new Array(o);let h=0;for(let m=0;m<o;m++){const v=m;e(t[v]).next(x=>{c[v]=x,++h,h===o&&i(c)},x=>r(x))}})}static doWhile(t,e){return new ae((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class ED{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Pr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new W0(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=Rk(i.target.error);this.v.reject(new W0(t,r))}}static open(t,e,i,r){try{return new ED(e,t.transaction(r,i))}catch(o){throw new W0(e,o)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(Be("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new K6(e)}}class Dc{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===Dc.S((0,F.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Be("SimpleDb","Removing database:",t),sg(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,F.hl)())return!1;if(Dc.C())return!0;const t=(0,F.z$)(),e=Dc.S(t),i=0<e&&e<10,r=Dc.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,be.Z)(function*(){return e.db||(Be("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=c=>{i(c.target.result)},o.onblocked=()=>{r(new W0(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const h=c.target.error;r("VersionError"===h.name?new Me(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Me(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new W0(t,h))},o.onupgradeneeded=c=>{Be("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',c.oldVersion),e.V.O(c.target.result,o.transaction,c.oldVersion,e.version).next(()=>{Be("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,be.Z)(function*(){const c="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.$(t);const m=ED.open(o.db,t,c?"readonly":"readwrite",i),v=r(m).next(x=>(m.P(),x)).catch(x=>(m.abort(x),ae.reject(x))).toPromise();return v.catch(()=>{}),yield m.R,v}catch(m){const v=m,x="FirebaseError"!==v.name&&h<3;if(Be("SimpleDb","Transaction failed with error:",v.message,"Retrying:",x),o.close(),!x)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Y6{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return sg(this.L.delete())}}class W0 extends Me{constructor(t,e){super(ue.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Kf(n){return"IndexedDbTransactionError"===n.name}class K6{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(Be("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),sg(i)}add(t){return Be("SimpleDb","ADD",this.store.name,t,t),sg(this.store.add(t))}get(t){return sg(this.store.get(t)).next(e=>(void 0===e&&(e=null),Be("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Be("SimpleDb","DELETE",this.store.name,t),sg(this.store.delete(t))}count(){return Be("SimpleDb","COUNT",this.store.name),sg(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(c,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ae((o,c)=>{r.onerror=h=>{c(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ae((r,o)=>{i.onerror=c=>{o(c.target.error)},i.onsuccess=c=>{r(c.target.result)}})}J(t,e){Be("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,c,h)=>h.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ae((i,r)=>{e.onerror=o=>{const c=Rk(o.target.error);r(c)},e.onsuccess=o=>{const c=o.target.result;c?t(c.primaryKey,c.value).next(h=>{h?c.continue():i()}):i()}})}W(t,e){const i=[];return new ae((r,o)=>{t.onerror=c=>{o(c.target.error)},t.onsuccess=c=>{const h=c.target.result;if(!h)return void r();const m=new Y6(h),v=e(h.primaryKey,h.value,m);if(v instanceof ae){const x=v.catch(I=>(m.done(),ae.reject(I)));i.push(x)}m.isDone?r():null===m.K?h.continue():h.continue(m.K)}}).next(()=>ae.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function sg(n){return new ae((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=Rk(i.target.error);e(r)}})}let n2=!1;function Rk(n){const t=Dc.S((0,F.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return n2||(n2=!0,setTimeout(()=>{throw i},0)),i}}return n}class Z6{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;Be("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,be.Z)(function*(){e.task=null;try{Be("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Kf(i)?Be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Yf(i)}yield e.et(6e4)}))}}class Q6{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,be.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return ae.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(c=>{if(null!==c&&!i.has(c))return Be("IndexBackiller",`Processing collection: ${c}`),this.it(t,c,r).next(h=>{r-=h,i.add(c)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(t,c).next(()=>this.rt(r,o)).next(h=>(Be("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>c.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const c=JL(o);Ak(c,i)>0&&(i=c)}),new va(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let ya=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function Y0(n){return null==n}function K0(n){return 0===n&&1/n==-1/0}function r2(n){return"number"==typeof n&&Number.isInteger(n)&&!K0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Uo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=o2(t)),t=X6(n.get(e),t);return o2(t)}function X6(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function o2(n){return n+"\x01\x01"}function $d(n){const t=n.length;if(St(t>=2),2===t)return St("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Cn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const c=n.indexOf("\x01",o);switch((c<0||c>e)&&ht(),n.charAt(c+1)){case"\x01":const h=n.substring(o,c);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(o,c),r+="\0";break;case"\x11":r+=n.substring(o,c+1);break;default:ht()}o=c+2}return new Cn(i)}const s2=["userId","batchId"];function DD(n,t){return[n,Uo(t)]}function a2(n,t,e){return[n,Uo(t),e]}const J6={},e5=["prefixPath","collectionGroup","readTime","documentId"],t5=["prefixPath","collectionGroup","documentId"],n5=["collectionGroup","readTime","prefixPath","documentId"],r5=["canonicalId","targetId"],o5=["targetId","path"],s5=["path","targetId"],a5=["collectionId","parent"],l5=["indexId","uid"],c5=["uid","sequenceNumber"],d5=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],u5=["indexId","uid","orderedDocumentKey"],h5=["userId","collectionPath","documentId"],f5=["userId","collectionPath","largestBatchId"],p5=["userId","collectionGroup","largestBatchId"],l2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],m5=[...l2,"documentOverlays"],c2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],d2=c2,g5=[...d2,"indexConfiguration","indexState","indexEntries"];class Ok extends t2{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function ro(n,t){const e=it(n);return Dc.M(e.ht,t)}function u2(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Zf(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function h2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ci{constructor(t,e){this.comparator=t,this.root=e||wo.EMPTY}insert(t,e){return new ci(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,wo.BLACK,null,null))}remove(t){return new ci(this.comparator,this.root.remove(t,this.comparator).copy(null,null,wo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new SD(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new SD(this.root,t,this.comparator,!1)}getReverseIterator(){return new SD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new SD(this.root,t,this.comparator,!0)}}class SD{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class wo{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??wo.RED,this.left=r??wo.EMPTY,this.right=o??wo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new wo(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return wo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,wo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,wo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const t=this.left.check();if(t!==this.right.check())throw ht();return t+(this.isRed()?0:1)}}wo.EMPTY=null,wo.RED=!0,wo.BLACK=!1,wo.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,t,e,i,r){return this}insert(n,t,e){return new wo(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vi{constructor(t){this.comparator=t,this.data=new ci(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new f2(this.data.getIterator())}getIteratorFrom(t){return new f2(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof vi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new vi(this.comparator);return e.data=t,e}}class f2{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qv(n){return n.hasNext()?n.getNext():void 0}class Hs{constructor(t){this.fields=t,t.sort(Ji.comparator)}static empty(){return new Hs([])}unionWith(t){let e=new vi(Ji.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Hs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Gv(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class p2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new p2("Invalid base64 string: "+r):r}}(t);return new Nr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Nr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const v5=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qf(n){if(St(!!n),"string"==typeof n){let t=0;const e=v5.exec(n);if(St(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:er(n.seconds),nanos:er(n.nanos)}}function er(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function th(n){return"string"==typeof n?Nr.fromBase64String(n):Nr.fromUint8Array(n)}function ID(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function TD(n){const t=n.mapValue.fields.__previous_value__;return ID(t)?TD(t):t}function Z0(n){const t=Qf(n.mapValue.fields.__local_write_time__.timestampValue);return new ki(t.seconds,t.nanos)}class y5{constructor(t,e,i,r,o,c,h,m,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=v}}class Xf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Xf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Xf&&t.projectId===this.projectId&&t.database===this.database}}const Jf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},MD={nullValue:"NULL_VALUE"};function ep(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ID(n)?4:v2(n)?9007199254740991:10:ht()}function Gd(n,t){if(n===t)return!0;const e=ep(n);if(e!==ep(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Z0(n).isEqual(Z0(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Qf(i.timestampValue),c=Qf(r.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,th(n.bytesValue).isEqual(th(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return er(i.geoPointValue.latitude)===er(r.geoPointValue.latitude)&&er(i.geoPointValue.longitude)===er(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return er(i.integerValue)===er(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=er(i.doubleValue),c=er(r.doubleValue);return o===c?K0(o)===K0(c):isNaN(o)&&isNaN(c)}return!1}(n,t);case 9:return Gv(n.arrayValue.values||[],t.arrayValue.values||[],Gd);case 10:return function(i,r){const o=i.mapValue.fields||{},c=r.mapValue.fields||{};if(u2(o)!==u2(c))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===c[h]||!Gd(o[h],c[h])))return!1;return!0}(n,t);default:return ht()}var r}function Q0(n,t){return void 0!==(n.values||[]).find(e=>Gd(e,t))}function tp(n,t){if(n===t)return 0;const e=ep(n),i=ep(t);if(e!==i)return Qt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const c=er(r.integerValue||r.doubleValue),h=er(o.integerValue||o.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,t);case 3:return m2(n.timestampValue,t.timestampValue);case 4:return m2(Z0(n),Z0(t));case 5:return Qt(n.stringValue,t.stringValue);case 6:return function(r,o){const c=th(r),h=th(o);return c.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const c=r.split("/"),h=o.split("/");for(let m=0;m<c.length&&m<h.length;m++){const v=Qt(c[m],h[m]);if(0!==v)return v}return Qt(c.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const c=Qt(er(r.latitude),er(o.latitude));return 0!==c?c:Qt(er(r.longitude),er(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const c=r.values||[],h=o.values||[];for(let m=0;m<c.length&&m<h.length;++m){const v=tp(c[m],h[m]);if(v)return v}return Qt(c.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Jf.mapValue&&o===Jf.mapValue)return 0;if(r===Jf.mapValue)return 1;if(o===Jf.mapValue)return-1;const c=r.fields||{},h=Object.keys(c),m=o.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let x=0;x<h.length&&x<v.length;++x){const I=Qt(h[x],v[x]);if(0!==I)return I;const R=tp(c[h[x]],m[v[x]]);if(0!==R)return R}return Qt(h.length,v.length)}(n.mapValue,t.mapValue);default:throw ht()}}function m2(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Qt(n,t);const e=Qf(n),i=Qf(t),r=Qt(e.seconds,i.seconds);return 0!==r?r:Qt(e.nanos,i.nanos)}function Wv(n){return Pk(n)}function Pk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Qf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?th(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const c of i.values||[])o?o=!1:r+=",",r+=Pk(c);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const h of r)c?c=!1:o+=",",o+=`${h}:${Pk(i.fields[h])}`;return o+"}"}(n.mapValue):ht();var t}function ag(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Nk(n){return!!n&&"integerValue"in n}function X0(n){return!!n&&"arrayValue"in n}function g2(n){return!!n&&"nullValue"in n}function _2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kD(n){return!!n&&"mapValue"in n}function J0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Zf(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=J0(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=J0(n.arrayValue.values[e]);return t}return Object.assign({},n)}function v2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function b5(n){return"nullValue"in n?MD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?ag(Xf.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ht()}function w5(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?ag(Xf.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Jf:ht()}function y2(n,t){const e=tp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function b2(n,t){const e=tp(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class xo{constructor(t){this.value=t}static empty(){return new xo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!kD(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=J0(e)}setAll(t){let e=Ji.emptyPath(),i={},r=[];t.forEach((c,h)=>{if(!e.isImmediateParentOf(h)){const m=this.getFieldsMap(e);this.applyChanges(m,i,r),i={},r=[],e=h.popLast()}c?i[h.lastSegment()]=J0(c):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());kD(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Gd(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];kD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){Zf(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new xo(J0(this.value))}}function w2(n){const t=[];return Zf(n.fields,(e,i)=>{const r=new Ji([e]);if(kD(i)){const o=w2(i.mapValue).fields;if(0===o.length)t.push(r);else for(const c of o)t.push(r.child(c))}else t.push(r)}),new Hs(t)}class yi{constructor(t,e,i,r,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new yi(t,0,Tt.min(),Tt.min(),Tt.min(),xo.empty(),0)}static newFoundDocument(t,e,i,r){return new yi(t,1,e,Tt.min(),i,r,0)}static newNoDocument(t,e){return new yi(t,2,e,Tt.min(),Tt.min(),xo.empty(),0)}static newUnknownDocument(t,e){return new yi(t,3,e,Tt.min(),Tt.min(),xo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Tt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=xo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=xo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Tt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class np{constructor(t,e){this.position=t,this.inclusive=e}}function x2(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],c=n.position[r];if(i=o.field.isKeyField()?Je.comparator(Je.fromName(c.referenceValue),e.key):tp(c,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function C2(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Gd(n.position[e],t.position[e]))return!1;return!0}class Yv{constructor(t,e="asc"){this.field=t,this.dir=e}}function x5(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class E2{}class vn extends E2{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new C5(t,e,i):"array-contains"===e?new S5(t,i):"in"===e?new A2(t,i):"not-in"===e?new I5(t,i):"array-contains-any"===e?new T5(t,i):new vn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new E5(t,i):new D5(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(tp(e,this.value)):null!==e&&ep(this.value)===ep(e)&&this.matchesComparison(tp(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class qn extends E2{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new qn(t,e)}matches(t){return Kv(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function Kv(n){return"and"===n.op}function Fk(n){return"or"===n.op}function Lk(n){return D2(n)&&Kv(n)}function D2(n){for(const t of n.filters)if(t instanceof qn)return!1;return!0}function Bk(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+Wv(n.value);if(Lk(n))return n.filters.map(t=>Bk(t)).join(",");{const t=n.filters.map(e=>Bk(e)).join(",");return`${n.op}(${t})`}}function S2(n,t){return n instanceof vn?(e=n,(i=t)instanceof vn&&e.op===i.op&&e.field.isEqual(i.field)&&Gd(e.value,i.value)):n instanceof qn?function(e,i){return i instanceof qn&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,c)=>r&&S2(o,i.filters[c]),!0)}(n,t):void ht();var e,i}function I2(n,t){const e=n.filters.concat(t);return qn.create(e,n.op)}function T2(n){return n instanceof vn?`${(t=n).field.canonicalString()} ${t.op} ${Wv(t.value)}`:n instanceof qn?function(t){return t.op.toString()+" {"+t.getFilters().map(T2).join(" ,")+"}"}(n):"Filter";var t}class C5 extends vn{constructor(t,e,i){super(t,e,i),this.key=Je.fromName(i.referenceValue)}matches(t){const e=Je.comparator(t.key,this.key);return this.matchesComparison(e)}}class E5 extends vn{constructor(t,e){super(t,"in",e),this.keys=M2(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class D5 extends vn{constructor(t,e){super(t,"not-in",e),this.keys=M2(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function M2(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Je.fromName(i.referenceValue))}class S5 extends vn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return X0(e)&&Q0(e.arrayValue,this.value)}}class A2 extends vn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Q0(this.value.arrayValue,e)}}class I5 extends vn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Q0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Q0(this.value.arrayValue,e)}}class T5 extends vn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!X0(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Q0(this.value.arrayValue,i))}}class M5{constructor(t,e=null,i=[],r=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=c,this.endAt=h,this.dt=null}}function Vk(n,t=null,e=[],i=[],r=null,o=null,c=null){return new M5(n,t,e,i,r,o,c)}function lg(n){const t=it(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Bk(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Y0(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Wv(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Wv(i)).join(",")),t.dt=e}return t.dt}function ew(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!x5(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!S2(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!C2(n.startAt,t.startAt)&&C2(n.endAt,t.endAt)}function RD(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function OD(n,t){return n.filters.filter(e=>e instanceof vn&&e.field.isEqual(t))}function k2(n,t,e){let i=MD,r=!0;for(const o of OD(n,t)){let c=MD,h=!0;switch(o.op){case"<":case"<=":c=b5(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,h=!1;break;case"!=":case"not-in":c=MD}y2({value:i,inclusive:r},{value:c,inclusive:h})<0&&(i=c,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];y2({value:i,inclusive:r},{value:c,inclusive:e.inclusive})<0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}function R2(n,t,e){let i=Jf,r=!0;for(const o of OD(n,t)){let c=Jf,h=!0;switch(o.op){case">=":case">":c=w5(o.value),h=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,h=!1;break;case"!=":case"not-in":c=Jf}b2({value:i,inclusive:r},{value:c,inclusive:h})>0&&(i=c,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const c=e.position[o];b2({value:i,inclusive:r},{value:c,inclusive:e.inclusive})>0&&(i=c,r=e.inclusive);break}return{value:i,inclusive:r}}class nh{constructor(t,e=null,i=[],r=[],o=null,c="F",h=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=m,this.wt=null,this._t=null}}function O2(n,t,e,i,r,o,c,h){return new nh(n,t,e,i,r,o,c,h)}function Zv(n){return new nh(n)}function P2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Uk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function PD(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Hk(n){return null!==n.collectionGroup}function cg(n){const t=it(n);if(null===t.wt){t.wt=[];const e=PD(t),i=Uk(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new Yv(e)),t.wt.push(new Yv(Ji.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Yv(Ji.keyField(),o))}}}return t.wt}function fs(n){const t=it(n);if(!t._t)if("F"===t.limitType)t._t=Vk(t.path,t.collectionGroup,cg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of cg(t))e.push(new Yv(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new np(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new np(t.startAt.position,t.startAt.inclusive):null;t._t=Vk(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function jk(n,t){t.getFirstInequalityField(),PD(n);const e=n.filters.concat([t]);return new nh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function ND(n,t,e){return new nh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function tw(n,t){return ew(fs(n),fs(t))&&n.limitType===t.limitType}function N2(n){return`${lg(fs(n))}|lt:${n.limitType}`}function zk(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>T2(i)).join(", ")}]`),Y0(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Wv(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Wv(i)).join(",")),`Target(${e})`}(fs(n))}; limitType=${n.limitType})`}function nw(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Je.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of cg(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,c){const h=x2(r,o,c);return r.inclusive?h<=0:h<0}(e.startAt,cg(e),i)||e.endAt&&!function(r,o,c){const h=x2(r,o,c);return r.inclusive?h>=0:h>0}(e.endAt,cg(e),i)));var e,i}function F2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function L2(n){return(t,e)=>{let i=!1;for(const r of cg(n)){const o=A5(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function A5(n,t,e){const i=n.field.isKeyField()?Je.comparator(t.key,e.key):function(r,o,c){const h=o.data.field(r),m=c.data.field(r);return null!==h&&null!==m?tp(h,m):ht()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ht()}}class ih{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Zf(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return h2(this.inner)}size(){return this.innerSize}}const k5=new ci(Je.comparator);function js(){return k5}const B2=new ci(Je.comparator);function iw(...n){let t=B2;for(const e of n)t=t.insert(e.key,e);return t}function V2(n){let t=B2;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function qd(){return rw()}function U2(){return rw()}function rw(){return new ih(n=>n.toString(),(n,t)=>n.isEqual(t))}const R5=new ci(Je.comparator),O5=new vi(Je.comparator);function an(...n){let t=O5;for(const e of n)t=t.add(e);return t}const P5=new vi(Qt);function $k(){return P5}function H2(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:K0(t)?"-0":t}}function j2(n){return{integerValue:""+n}}function z2(n,t){return r2(t)?j2(t):H2(n,t)}class FD{constructor(){this._=void 0}}function N5(n,t,e){return n instanceof Qv?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&ID(r)&&(r=TD(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof dg?G2(n,t):n instanceof ug?q2(n,t):function(i,r){const o=$2(i,r),c=W2(o)+W2(i.gt);return Nk(o)&&Nk(i.gt)?j2(c):H2(i.serializer,c)}(n,t)}function F5(n,t,e){return n instanceof dg?G2(n,t):n instanceof ug?q2(n,t):e}function $2(n,t){return n instanceof Xv?Nk(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Qv extends FD{}class dg extends FD{constructor(t){super(),this.elements=t}}function G2(n,t){const e=Y2(t);for(const i of n.elements)e.some(r=>Gd(r,i))||e.push(i);return{arrayValue:{values:e}}}class ug extends FD{constructor(t){super(),this.elements=t}}function q2(n,t){let e=Y2(t);for(const i of n.elements)e=e.filter(r=>!Gd(r,i));return{arrayValue:{values:e}}}class Xv extends FD{constructor(t,e){super(),this.serializer=t,this.gt=e}}function W2(n){return er(n.integerValue||n.doubleValue)}function Y2(n){return X0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ow{constructor(t,e){this.field=t,this.transform=e}}class B5{constructor(t,e){this.version=t,this.transformResults=e}}class Ri{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ri}static exists(t){return new Ri(void 0,t)}static updateTime(t){return new Ri(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function LD(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class BD{}function K2(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new ey(n.key,Ri.none()):new Jv(n.key,n.data,Ri.none());{const e=n.data,i=xo.empty();let r=new vi(Ji.comparator);for(let o of t.fields)if(!r.has(o)){let c=e.field(o);null===c&&o.length>1&&(o=o.popLast(),c=e.field(o)),null===c?i.delete(o):i.set(o,c),r=r.add(o)}return new rh(n.key,i,new Hs(r.toArray()),Ri.none())}}function V5(n,t,e){n instanceof Jv?function(i,r,o){const c=i.value.clone(),h=X2(i.fieldTransforms,r,o.transformResults);c.setAll(h),r.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,t,e):n instanceof rh?function(i,r,o){if(!LD(i.precondition,r))return void r.convertToUnknownDocument(o.version);const c=X2(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(Q2(i)),h.setAll(c),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function sw(n,t,e,i){return n instanceof Jv?function(r,o,c,h){if(!LD(r.precondition,o))return c;const m=r.value.clone(),v=J2(r.fieldTransforms,h,o);return m.setAll(v),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,t,e,i):n instanceof rh?function(r,o,c,h){if(!LD(r.precondition,o))return c;const m=J2(r.fieldTransforms,h,o),v=o.data;return v.setAll(Q2(r)),v.setAll(m),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===c?null:c.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(x=>x.field))}(n,t,e,i):(c=e,LD(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function U5(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=$2(i.transform,r||null);null!=o&&(null===e&&(e=xo.empty()),e.set(i.field,o))}return e||null}function Z2(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&Gv(e,i,(r,o)=>function L5(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof dg&&i instanceof dg||e instanceof ug&&i instanceof ug?Gv(e.elements,i.elements,Gd):e instanceof Xv&&i instanceof Xv?Gd(e.gt,i.gt):e instanceof Qv&&i instanceof Qv);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Jv extends BD{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rh extends BD{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Q2(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function X2(n,t,e){const i=new Map;St(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],c=o.transform,h=t.data.field(o.field);i.set(o.field,F5(c,h,e[r]))}return i}function J2(n,t,e){const i=new Map;for(const r of n){const o=r.transform,c=e.data.field(r.field);i.set(r.field,N5(o,c,t))}return i}class ey extends BD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gk extends BD{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class qk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&V5(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=sw(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=sw(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=U2();return this.mutations.forEach(r=>{const o=t.get(r.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(r.key)?null:h;const m=K2(c,h);null!==m&&i.set(r.key,m),c.isValidDocument()||c.convertToNoDocument(Tt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),an())}isEqual(t){return this.batchId===t.batchId&&Gv(this.mutations,t.mutations,(e,i)=>Z2(e,i))&&Gv(this.baseMutations,t.baseMutations,(e,i)=>Z2(e,i))}}class Wk{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){St(t.mutations.length===i.length);let r=R5;const o=t.mutations;for(let c=0;c<o.length;c++)r=r.insert(o[c].key,i[c].version);return new Wk(t,e,i,r)}}class Yk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class j5{constructor(t,e){this.count=t,this.unchangedNames=e}}var Dr,En;function eB(n){switch(n){default:return ht();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function tB(n){if(void 0===n)return dr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Dr.OK:return ue.OK;case Dr.CANCELLED:return ue.CANCELLED;case Dr.UNKNOWN:return ue.UNKNOWN;case Dr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Dr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Dr.INTERNAL:return ue.INTERNAL;case Dr.UNAVAILABLE:return ue.UNAVAILABLE;case Dr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Dr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Dr.NOT_FOUND:return ue.NOT_FOUND;case Dr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Dr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Dr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Dr.ABORTED:return ue.ABORTED;case Dr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Dr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Dr.DATA_LOSS:return ue.DATA_LOSS;default:return ht()}}(En=Dr||(Dr={}))[En.OK=0]="OK",En[En.CANCELLED=1]="CANCELLED",En[En.UNKNOWN=2]="UNKNOWN",En[En.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",En[En.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",En[En.NOT_FOUND=5]="NOT_FOUND",En[En.ALREADY_EXISTS=6]="ALREADY_EXISTS",En[En.PERMISSION_DENIED=7]="PERMISSION_DENIED",En[En.UNAUTHENTICATED=16]="UNAUTHENTICATED",En[En.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",En[En.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",En[En.ABORTED=10]="ABORTED",En[En.OUT_OF_RANGE=11]="OUT_OF_RANGE",En[En.UNIMPLEMENTED=12]="UNIMPLEMENTED",En[En.INTERNAL=13]="INTERNAL",En[En.UNAVAILABLE=14]="UNAVAILABLE",En[En.DATA_LOSS=15]="DATA_LOSS";class Kk{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return VD}static getOrCreateInstance(){return null===VD&&(VD=new Kk),VD}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let VD=null;function nB(){return new TextEncoder}const z5=new zv([4294967295,4294967295],0);function iB(n){const t=nB().encode(n),e=new N6;return e.update(t),new Uint8Array(e.digest())}function rB(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new zv([e,i],0),new zv([r,o],0)]}class Zk{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new aw(`Invalid padding: ${e}`);if(i<0)throw new aw(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new aw(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new aw(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=zv.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(zv.fromNumber(i)));return 1===r.compare(z5)&&(r=new zv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=iB(t),[i,r]=rB(e);for(let o=0;o<this.hashCount;o++){const c=this.Et(i,r,o);if(!this.At(c))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new Zk(o,r,e);return i.forEach(h=>c.insert(h)),c}insert(t){if(0===this.It)return;const e=iB(t),[i,r]=rB(e);for(let o=0;o<this.hashCount;o++){const c=this.Et(i,r,o);this.Rt(c)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class aw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class lw{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,cw.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new lw(Tt.min(),r,new ci(Qt),js(),an())}}class cw{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new cw(i,e,an(),an(),an())}}class UD{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class oB{constructor(t,e){this.targetId=t,this.Vt=e}}class sB{constructor(t,e,i=Nr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class aB{constructor(){this.St=0,this.Dt=cB(),this.Ct=Nr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=an(),e=an(),i=an();return this.Dt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:ht()}}),new cw(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=cB()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class $5{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=js(),this.zt=lB(),this.Wt=new ci(Qt)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:ht()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,o=this.se(i);if(o){const c=o.target;if(RD(c))if(0===r){const h=new Je(c.path);this.Yt(i,h,yi.newNoDocument(h,Tt.min()))}else St(1===r);else{const h=this.ie(i);if(h!==r){const m=this.re(t,h);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=Kk.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(v,x,I){var R,N,H,Y,te,Oe;const Ye={localCacheCount:x,existenceFilterCount:I.count},et=I.unchangedNames;return et&&(Ye.bloomFilter={applied:0===v,hashCount:null!==(R=et?.hashCount)&&void 0!==R?R:0,bitmapLength:null!==(Y=null===(H=null===(N=et?.bits)||void 0===N?void 0:N.bitmap)||void 0===H?void 0:H.length)&&void 0!==Y?Y:0,padding:null!==(Oe=null===(te=et?.bits)||void 0===te?void 0:te.padding)&&void 0!==Oe?Oe:0}),Ye}(m,h,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:c=0},hashCount:h=0}=i;let m,v;try{m=th(o).toUint8Array()}catch(x){if(x instanceof p2)return ml("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{v=new Zk(m,c,h)}catch(x){return ml(x instanceof aw?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===v.It?1:r!==e-this.oe(t.targetId,v)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const c=this.Gt.ue(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.vt(h)||(this.Yt(t,o,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((o,c)=>{const h=this.se(c);if(h){if(o.current&&RD(h.target)){const m=new Je(h.target.path);null!==this.jt.get(m)||this.ae(c,m)||this.Yt(c,m,yi.newNoDocument(m,t))}o.Mt&&(e.set(c,o.Ot()),o.Ft())}});let i=an();this.zt.forEach((o,c)=>{let h=!0;c.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.jt.forEach((o,c)=>c.setReadTime(t));const r=new lw(t,e,this.Wt,this.jt,i);return this.jt=js(),this.zt=lB(),this.Wt=new ci(Qt),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new aB,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new vi(Qt),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||Be("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new aB),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function lB(){return new ci(Je.comparator)}function cB(){return new ci(Je.comparator)}const G5={asc:"ASCENDING",desc:"DESCENDING"},q5={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},W5={and:"AND",or:"OR"};class Y5{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Qk(n,t){return n.useProto3Json||Y0(t)?t:{value:t}}function ty(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function dB(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function K5(n,t){return ty(n,t.toTimestamp())}function ur(n){return St(!!n),Tt.fromTimestamp(function(t){const e=Qf(t);return new ki(e.seconds,e.nanos)}(n))}function Xk(n,t){return(e=n,new Cn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function uB(n){const t=Cn.fromString(n);return St(bB(t)),t}function dw(n,t){return Xk(n.databaseId,t.path)}function Wd(n,t){const e=uB(t);if(e.get(1)!==n.databaseId.projectId)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Je(fB(e))}function Jk(n,t){return Xk(n.databaseId,t)}function hB(n){const t=uB(n);return 4===t.length?Cn.emptyPath():fB(t)}function uw(n){return new Cn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fB(n){return St(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function pB(n,t,e){return{name:dw(n,t),fields:e.value.mapValue.fields}}function mB(n,t,e){const i=Wd(n,t.name),r=ur(t.updateTime),o=t.createTime?ur(t.createTime):Tt.min(),c=new xo({mapValue:{fields:t.fields}}),h=yi.newFoundDocument(i,r,o,c);return e&&h.setHasCommittedMutations(),e?h.setHasCommittedMutations():h}function hw(n,t){let e;if(t instanceof Jv)e={update:pB(n,t.key,t.value)};else if(t instanceof ey)e={delete:dw(n,t.key)};else if(t instanceof rh)e={update:pB(n,t.key,t.data),updateMask:i$(t.fieldMask)};else{if(!(t instanceof Gk))return ht();e={verify:dw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const c=o.transform;if(c instanceof Qv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof dg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ug)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xv)return{fieldPath:o.field.canonicalString(),increment:c.gt};throw ht()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:K5(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ht()),e;var r}function e1(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ri.updateTime(ur(r.updateTime)):void 0!==r.exists?Ri.exists(r.exists):Ri.none():Ri.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,c){let h=null;"setToServerValue"in c?(St("REQUEST_TIME"===c.setToServerValue),h=new Qv):"appendMissingElements"in c?h=new dg(c.appendMissingElements.values||[]):"removeAllFromArray"in c?h=new ug(c.removeAllFromArray.values||[]):"increment"in c?h=new Xv(o,c.increment):ht();const m=Ji.fromServerFormat(c.fieldPath);return new ow(m,h)}(n,r)):[];var r;if(t.update){const r=Wd(n,t.update.name),o=new xo({mapValue:{fields:t.update.fields}});if(t.updateMask){const c=new Hs((t.updateMask.fieldPaths||[]).map(v=>Ji.fromServerFormat(v)));return new rh(r,o,c,e,i)}return new Jv(r,o,e,i)}if(t.delete){const r=Wd(n,t.delete);return new ey(r,e)}if(t.verify){const r=Wd(n,t.verify);return new Gk(r,e)}return ht()}function gB(n,t){return{documents:[Jk(n,t.path)]}}function t1(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Jk(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Jk(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return yB(qn.create(m,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(m){if(0!==m.length)return m.map(v=>{return{field:ip((x=v).field),direction:e$(x.dir)};var x})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const c=Qk(n,t.limit);var h,m;return null!==c&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(m=t.endAt).inclusive,values:m.position}),e}function _B(n){let t=hB(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){St(1===i);const x=e.from[0];x.allDescendants?r=x.collectionId:t=t.child(x.collectionId)}let o=[];e.where&&(o=function(x){const I=vB(x);return I instanceof qn&&Lk(I)?I.getFilters():[I]}(e.where));let c=[];e.orderBy&&(c=e.orderBy.map(x=>{return new Yv(ny((I=x).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(I.direction));var I}));let h=null;e.limit&&(h=function(x){let I;return I="object"==typeof x?x.value:x,Y0(I)?null:I}(e.limit));let m=null;var x;e.startAt&&(m=new np((x=e.startAt).values||[],!!x.before));let v=null;return e.endAt&&(v=function(x){return new np(x.values||[],!x.before)}(e.endAt)),O2(t,r,c,o,h,"F",m,v)}function vB(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ny(t.unaryFilter.field);return vn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=ny(t.unaryFilter.field);return vn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ny(t.unaryFilter.field);return vn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ny(t.unaryFilter.field);return vn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}(n):void 0!==n.fieldFilter?vn.create(ny((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return qn.create(t.compositeFilter.filters.map(e=>vB(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ht()}}(t.compositeFilter.op))}(n):ht();var t}function e$(n){return G5[n]}function t$(n){return q5[n]}function n$(n){return W5[n]}function ip(n){return{fieldPath:n.canonicalString()}}function ny(n){return Ji.fromServerFormat(n.fieldPath)}function yB(n){return n instanceof vn?function(t){if("=="===t.op){if(_2(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NAN"}};if(g2(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_2(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NOT_NAN"}};if(g2(t.value))return{unaryFilter:{field:ip(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ip(t.field),op:t$(t.op),value:t.value}}}(n):n instanceof qn?function(t){const e=t.getFilters().map(i=>yB(i));return 1===e.length?e[0]:{compositeFilter:{op:n$(t.op),filters:e}}}(n):ht()}function i$(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function bB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class oh{constructor(t,e,i,r,o=Tt.min(),c=Tt.min(),h=Nr.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(t){return new oh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new oh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new oh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new oh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class wB{constructor(t){this.fe=t}}function xB(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:HD(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:dw(r=n.fe,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:ty(r,o.version.toTimestamp()),createTime:ty(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:hg(t.version)};else{if(!t.isUnknownDocument())return ht();i.unknownDocument={path:e.path.toArray(),version:hg(t.version)}}var r,o;return i}function HD(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function hg(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fg(n){const t=new ki(n.seconds,n.nanoseconds);return Tt.fromTimestamp(t)}function pg(n,t){const e=(t.baseMutations||[]).map(o=>e1(n.fe,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>e1(n.fe,o)),r=ki.fromMillis(t.localWriteTimeMs);return new qk(t.batchId,r,e,i)}function fw(n){const t=fg(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?fg(n.lastLimboFreeSnapshotVersion):Tt.min();let i;var r;return void 0!==n.query.documents?(St(1===(r=n.query).documents.length),i=fs(Zv(hB(r.documents[0])))):i=fs(_B(n.query)),new oh(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Nr.fromBase64String(n.resumeToken))}function CB(n,t){const e=hg(t.snapshotVersion),i=hg(t.lastLimboFreeSnapshotVersion);let r;r=RD(t.target)?gB(n.fe,t.target):t1(n.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:lg(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function n1(n){const t=_B({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ND(t,t.limit,"L"):t}function r1(n,t){return new Yk(t.largestBatchId,e1(n.fe,t.overlayMutation))}function EB(n,t){const e=t.path.lastSegment();return[n,Uo(t.path.popLast()),e]}function DB(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:hg(i.readTime),documentKey:Uo(i.documentKey.path),largestBatchId:i.largestBatchId}}class o${getBundleMetadata(t,e){return SB(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:fg(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return SB(t).put({bundleId:(i=e).id,createTime:hg(ur(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return IB(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:n1(r.bundledQuery),readTime:fg(r.readTime)};var r})}saveNamedQuery(t,e){return IB(t).put({name:(i=e).name,readTime:hg(ur(i.readTime)),bundledQuery:i.bundledQuery});var i}}function SB(n){return ro(n,"bundles")}function IB(n){return ro(n,"namedQueries")}class jD{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new jD(t,e.uid||"")}getOverlay(t,e){return pw(t).get(EB(this.userId,e)).next(i=>i?r1(this.serializer,i):null)}getOverlays(t,e){const i=qd();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,c)=>{const h=new Yk(e,c);r.push(this.we(t,h))}),ae.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(c=>r.add(Uo(c.getCollectionPath())));const o=[];return r.forEach(c=>{const h=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);o.push(pw(t).J("collectionPathOverlayIndex",h))}),ae.waitFor(o)}getOverlaysForCollection(t,e,i){const r=qd(),o=Uo(e),c=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return pw(t).j("collectionPathOverlayIndex",c).next(h=>{for(const m of h){const v=r1(this.serializer,m);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=qd();let c;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return pw(t).X({index:"collectionGroupOverlayIndex",range:h},(m,v,x)=>{const I=r1(this.serializer,v);o.size()<r||I.largestBatchId===c?(o.set(I.getKey(),I),c=I.largestBatchId):x.done()}).next(()=>o)}we(t,e){return pw(t).put(function(i,r,o){const[c,h,m]=EB(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:hw(i.fe,o.mutation)}}(this.serializer,this.userId,e))}}function pw(n){return ro(n,"documentOverlays")}class mg{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(er(t.integerValue));else if("doubleValue"in t){const i=er(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),K0(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(th(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?v2(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):ht()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),Je.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function s$(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function TB(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=s$(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}mg.Ve=new mg;class a${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=TB(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=TB(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class l${constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class c${constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class mw{constructor(){this.je=new a$,this.ze=new l$(this.je),this.We=new c$(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class gg{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new gg(this.indexId,this.documentKey,this.arrayValue,i)}}function rp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=MB(n.arrayValue,t.arrayValue),0!==e?e:(e=MB(n.directionalValue,t.directionalValue),0!==e?e:Je.comparator(n.documentKey,t.documentKey)))}function MB(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class d${constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){St(t.collectionGroup===this.collectionId);const e=Mk(t);if(void 0!==e&&!this.en(e))return!1;const i=og(t);let r=0,o=0;for(;r<i.length&&this.en(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ze){const c=i[r];if(!this.nn(this.Ze,c)||!this.sn(this.Ye[o++],c))return!1;++r}for(;r<i.length;++r)if(o>=this.Ye.length||!this.sn(this.Ye[o++],i[r]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function AB(n){var t,e;if(St(n instanceof vn||n instanceof qn),n instanceof vn){if(n instanceof A2){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>vn.create(n.field,"==",o)))||[];return qn.create(r,"or")}return n}const i=n.filters.map(r=>AB(r));return qn.create(i,n.op)}function u$(n){if(0===n.getFilters().length)return[];const t=a1(AB(n));return St(kB(t)),o1(t)||s1(t)?[t]:t.getFilters()}function o1(n){return n instanceof vn}function s1(n){return n instanceof qn&&Lk(n)}function kB(n){return o1(n)||s1(n)||function(t){if(t instanceof qn&&Fk(t)){for(const e of t.getFilters())if(!o1(e)&&!s1(e))return!1;return!0}return!1}(n)}function a1(n){if(St(n instanceof vn||n instanceof qn),n instanceof vn)return n;if(1===n.filters.length)return a1(n.filters[0]);const t=n.filters.map(i=>a1(i));let e=qn.create(t,n.op);return e=zD(e),kB(e)?e:(St(e instanceof qn),St(Kv(e)),St(e.filters.length>1),e.filters.reduce((i,r)=>l1(i,r)))}function l1(n,t){let e;return St(n instanceof vn||n instanceof qn),St(t instanceof vn||t instanceof qn),e=n instanceof vn?t instanceof vn?qn.create([n,t],"and"):RB(n,t):t instanceof vn?RB(t,n):function(i,r){if(St(i.filters.length>0&&r.filters.length>0),Kv(i)&&Kv(r))return I2(i,r.getFilters());const o=Fk(i)?i:r,c=Fk(i)?r:i,h=o.filters.map(m=>l1(m,c));return qn.create(h,"or")}(n,t),zD(e)}function RB(n,t){if(Kv(t))return I2(t,n.getFilters());{const e=t.filters.map(i=>l1(n,i));return qn.create(e,"or")}}function zD(n){if(St(n instanceof vn||n instanceof qn),n instanceof vn)return n;const t=n.getFilters();if(1===t.length)return zD(t[0]);if(D2(n))return n;const e=t.map(r=>zD(r)),i=[];return e.forEach(r=>{r instanceof vn?i.push(r):r instanceof qn&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:qn.create(i,n.op)}class h${constructor(){this.rn=new c1}addToCollectionParentIndex(t,e){return this.rn.add(e),ae.resolve()}getCollectionParents(t,e){return ae.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ae.resolve()}deleteFieldIndex(t,e){return ae.resolve()}getDocumentsMatchingTarget(t,e){return ae.resolve(null)}getIndexType(t,e){return ae.resolve(0)}getFieldIndexes(t,e){return ae.resolve([])}getNextCollectionGroupToUpdate(t){return ae.resolve(null)}getMinOffset(t,e){return ae.resolve(va.min())}getMinOffsetFromCollectionGroup(t,e){return ae.resolve(va.min())}updateCollectionGroup(t,e,i){return ae.resolve()}updateIndexEntries(t,e){return ae.resolve()}}class c1{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new vi(Cn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new vi(Cn.comparator)).toArray()}}const $D=new Uint8Array(0);class f${constructor(t,e){this.user=t,this.databaseId=e,this.on=new c1,this.un=new ih(i=>lg(i),(i,r)=>ew(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const o={collectionId:i,parent:Uo(r)};return OB(t).put(o)}return ae.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[QL(e),""],!1,!0);return OB(t).j(r).next(o=>{for(const c of o){if(c.collectionId!==e)break;i.push($d(c.parent))}return i})}addFieldIndex(t,e){const i=GD(t),r={indexId:(c=e).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var c;delete r.indexId;const o=i.add(r);if(e.indexState){const c=_w(t);return o.next(h=>{c.put(DB(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=GD(t),r=_w(t),o=gw(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=gw(t);let r=!0;const o=new Map;return ae.forEach(this.cn(e),c=>this.an(t,c).next(h=>{r&&(r=!!h),o.set(c,h)})).next(()=>{if(r){let c=an();const h=[];return ae.forEach(o,(m,v)=>{var x;Be("IndexedDbIndexManager",`Using index ${x=m,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(et=>`${et.fieldPath}:${et.kind}`).join(",")}`} to execute ${lg(e)}`);const I=function(et,_t){const Xt=Mk(_t);if(void 0===Xt)return null;for(const Jt of OD(et,Xt.fieldPath))switch(Jt.op){case"array-contains-any":return Jt.value.arrayValue.values||[];case"array-contains":return[Jt.value]}return null}(v,m),R=function(et,_t){const Xt=new Map;for(const Jt of og(_t))for(const Rn of OD(et,Jt.fieldPath))switch(Rn.op){case"==":case"in":Xt.set(Jt.fieldPath.canonicalString(),Rn.value);break;case"not-in":case"!=":return Xt.set(Jt.fieldPath.canonicalString(),Rn.value),Array.from(Xt.values())}return null}(v,m),N=function(et,_t){const Xt=[];let Jt=!0;for(const Rn of og(_t)){const Io=0===Rn.kind?k2(et,Rn.fieldPath,et.startAt):R2(et,Rn.fieldPath,et.startAt);Xt.push(Io.value),Jt&&(Jt=Io.inclusive)}return new np(Xt,Jt)}(v,m),H=function(et,_t){const Xt=[];let Jt=!0;for(const Rn of og(_t)){const Io=0===Rn.kind?R2(et,Rn.fieldPath,et.endAt):k2(et,Rn.fieldPath,et.endAt);Xt.push(Io.value),Jt&&(Jt=Io.inclusive)}return new np(Xt,Jt)}(v,m),Y=this.hn(m,v,N),te=this.hn(m,v,H),Oe=this.ln(m,v,R),Ye=this.fn(m.indexId,I,Y,N.inclusive,te,H.inclusive,Oe);return ae.forEach(Ye,et=>i.H(et,e.limit).next(_t=>{_t.forEach(Xt=>{const Jt=Je.fromSegments(Xt.documentKey);c.has(Jt)||(c=c.add(Jt),h.push(Jt))})}))}).next(()=>h)}return ae.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:u$(qn.create(t.filters,"and")).map(i=>Vk(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,o,c,h){const m=(null!=e?e.length:1)*Math.max(i.length,o.length),v=m/(null!=e?e.length:1),x=[];for(let I=0;I<m;++I){const R=e?this.dn(e[I/v]):$D,N=this.wn(t,R,i[I%v],r),H=this._n(t,R,o[I%v],c),Y=h.map(te=>this.wn(t,R,te,!0));x.push(...this.createRange(N,H,Y))}return x}wn(t,e,i,r){const o=new gg(t,Je.empty(),e,i);return r?o:o.Je()}_n(t,e,i,r){const o=new gg(t,Je.empty(),e,i);return r?o.Je():o}an(t,e){const i=new d$(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let c=null;for(const h of o)i.tn(h)&&(!c||h.fields.length>c.fields.length)&&(c=h);return c})}getIndexType(t,e){let i=2;const r=this.cn(e);return ae.forEach(r,o=>this.an(t,o).next(c=>{c?0!==i&&c.fields.length<function(h){let m=new vi(Ji.comparator),v=!1;for(const x of h.filters)for(const I of x.getFlattenedFilters())I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?v=!0:m=m.add(I.field));for(const x of h.orderBy)x.field.isKeyField()||(m=m.add(x.field));return m.size+(v?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new mw;for(const r of og(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const c=i.He(r.kind);mg.Ve._e(o,c)}return i.Qe()}dn(t){const e=new mw;return mg.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new mw;return mg.Ve._e(ag(this.databaseId,e),i.He(function(r){const o=og(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new mw);let o=0;for(const c of og(t)){const h=i[o++];for(const m of r)if(this.yn(e,c.fieldPath)&&X0(h))r=this.pn(r,c,h);else{const v=m.He(c.kind);mg.Ve._e(h,v)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],o=[];for(const c of i.arrayValue.values||[])for(const h of r){const m=new mw;m.seed(h.Qe()),mg.Ve._e(c,m.He(e.kind)),o.push(m)}return o}yn(t,e){return!!t.filters.find(i=>i instanceof vn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=GD(t),r=_w(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const c=[];return ae.forEach(o,h=>r.get([h.indexId,this.uid]).next(m=>{c.push(function(v,x){const I=x?new q0(x.sequenceNumber,new va(fg(x.readTime),new Je($d(x.documentKey)),x.largestBatchId)):q0.empty(),R=v.fields.map(([N,H])=>new CD(Ji.fromServerFormat(N),H));return new xD(v.indexId,v.collectionGroup,R,I)}(h,m))})).next(()=>c)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Qt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=GD(t),o=_w(t);return this.Tn(t).next(c=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>ae.forEach(h,m=>o.put(DB(m.indexId,this.user,c,i)))))}updateIndexEntries(t,e){const i=new Map;return ae.forEach(e,(r,o)=>{const c=i.get(r.collectionGroup);return(c?ae.resolve(c):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ae.forEach(h,m=>this.En(t,r,m).next(v=>{const x=this.An(o,m);return v.isEqual(x)?ae.resolve():this.vn(t,o,m,v,x)}))))})}Rn(t,e,i,r){return gw(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return gw(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=gw(t);let o=new vi(rp);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(c,h)=>{o=o.add(new gg(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}An(t,e){let i=new vi(rp);const r=this.mn(e,t);if(null==r)return i;const o=Mk(e);if(null!=o){const c=t.data.field(o.fieldPath);if(X0(c))for(const h of c.arrayValue.values||[])i=i.add(new gg(e.indexId,t.key,this.dn(h),r))}else i=i.add(new gg(e.indexId,t.key,$D,r));return i}vn(t,e,i,r,o){Be("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const c=[];return function(h,m,v,x,I){const R=h.getIterator(),N=m.getIterator();let H=qv(R),Y=qv(N);for(;H||Y;){let te=!1,Oe=!1;if(H&&Y){const Ye=v(H,Y);Ye<0?Oe=!0:Ye>0&&(te=!0)}else null!=H?Oe=!0:te=!0;te?(x(Y),Y=qv(N)):Oe?(I(H),H=qv(R)):(H=qv(R),Y=qv(N))}}(r,o,rp,h=>{c.push(this.Rn(t,e,i,h))},h=>{c.push(this.Pn(t,e,i,h))}),ae.waitFor(c)}Tn(t){let e=1;return _w(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((c,h)=>rp(c,h)).filter((c,h,m)=>!h||0!==rp(c,m[h-1]));const r=[];r.push(t);for(const c of i){const h=rp(c,t),m=rp(c,e);if(0===h)r[0]=t.Je();else if(h>0&&m<0)r.push(c),r.push(c.Je());else if(m>0)break}r.push(e);const o=[];for(let c=0;c<r.length;c+=2){if(this.bn(r[c],r[c+1]))return[];o.push(IDBKeyRange.bound([r[c].indexId,this.uid,r[c].arrayValue,r[c].directionalValue,$D,[]],[r[c+1].indexId,this.uid,r[c+1].arrayValue,r[c+1].directionalValue,$D,[]]))}return o}bn(t,e){return rp(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(PB)}getMinOffset(t,e){return ae.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||ht())).next(PB)}}function OB(n){return ro(n,"collectionParents")}function gw(n){return ro(n,"indexEntries")}function GD(n){return ro(n,"indexConfiguration")}function _w(n){return ro(n,"indexState")}function PB(n){St(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Ak(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new va(t.readTime,t.documentKey,e)}const NB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ho{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new Ho(t,Ho.DEFAULT_COLLECTION_PERCENTILE,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function FB(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],c=IDBKeyRange.only(e.batchId);let h=0;const m=i.X({range:c},(x,I,R)=>(h++,R.delete()));o.push(m.next(()=>{St(1===h)}));const v=[];for(const x of e.mutations){const I=a2(t,x.key.path,e.batchId);o.push(r.delete(I)),v.push(x.key)}return ae.waitFor(o).next(()=>v)}function qD(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw ht();t=n.noDocument}return JSON.stringify(t).length}Ho.DEFAULT_COLLECTION_PERCENTILE=10,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ho.DEFAULT=new Ho(41943040,Ho.DEFAULT_COLLECTION_PERCENTILE,Ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ho.DISABLED=new Ho(-1,0,0);class WD{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){St(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new WD(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return op(t).X({index:"userMutationsIndex",range:i},(r,o,c)=>{e=!1,c.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=iy(t),c=op(t);return c.add({}).next(h=>{St("number"==typeof h);const m=new qk(h,e,i,r),v=function(R,N,H){const Y=H.baseMutations.map(Oe=>hw(R.fe,Oe)),te=H.mutations.map(Oe=>hw(R.fe,Oe));return{userId:N,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:Y,mutations:te}}(this.serializer,this.userId,m),x=[];let I=new vi((R,N)=>Qt(R.canonicalString(),N.canonicalString()));for(const R of r){const N=a2(this.userId,R.key.path,h);I=I.add(R.key.path.popLast()),x.push(c.put(v)),x.push(o.put(N,J6))}return I.forEach(R=>{x.push(this.indexManager.addToCollectionParentIndex(t,R))}),t.addOnCommittedListener(()=>{this.Vn[h]=m.keys()}),ae.waitFor(x).next(()=>m)})}lookupMutationBatch(t,e){return op(t).get(e).next(i=>i?(St(i.userId===this.userId),pg(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?ae.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return op(t).X({index:"userMutationsIndex",range:r},(c,h,m)=>{h.userId===this.userId&&(St(h.batchId>=i),o=pg(this.serializer,h)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return op(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,c)=>{i=o.batchId,c.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return op(t).j("userMutationsIndex",e).next(i=>i.map(r=>pg(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=DD(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return iy(t).X({range:r},(c,h,m)=>{const[v,x,I]=c,R=$d(x);if(v===this.userId&&e.path.isEqual(R))return op(t).get(I).next(N=>{if(!N)throw ht();St(N.userId===this.userId),o.push(pg(this.serializer,N))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new vi(Qt);const r=[];return e.forEach(o=>{const c=DD(this.userId,o.path),h=IDBKeyRange.lowerBound(c),m=iy(t).X({range:h},(v,x,I)=>{const[R,N,H]=v,Y=$d(N);R===this.userId&&o.path.isEqual(Y)?i=i.add(H):I.done()});r.push(m)}),ae.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=DD(this.userId,i),c=IDBKeyRange.lowerBound(o);let h=new vi(Qt);return iy(t).X({range:c},(m,v,x)=>{const[I,R,N]=m,H=$d(R);I===this.userId&&i.isPrefixOf(H)?H.length===r&&(h=h.add(N)):x.done()}).next(()=>this.Dn(t,h))}Dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(op(t).get(o).next(c=>{if(null===c)throw ht();St(c.userId===this.userId),i.push(pg(this.serializer,c))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return FB(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return iy(t).X({range:i},(o,c,h)=>{if(o[0]===this.userId){const m=$d(o[1]);r.push(m)}else h.done()}).next(()=>{St(0===r.length)})})}containsKey(t,e){return LB(t,this.userId,e)}xn(t){return BB(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function LB(n,t,e){const i=DD(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let c=!1;return iy(n).X({range:o,Y:!0},(h,m,v)=>{const[x,I,R]=h;x===t&&I===r&&(c=!0),v.done()}).next(()=>c)}function op(n){return ro(n,"mutations")}function iy(n){return ro(n,"documentMutations")}function BB(n){return ro(n,"mutationQueues")}class _g{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new _g(0)}static Mn(){return new _g(-1)}}class p${constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new _g(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Tt.fromTimestamp(new ki(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>ry(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(St(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return ry(t).X((c,h)=>{const m=fw(h);m.sequenceNumber<=e&&null===i.get(m.targetId)&&(r++,o.push(this.removeTargetData(t,m)))}).next(()=>ae.waitFor(o)).next(()=>r)}forEachTarget(t,e){return ry(t).X((i,r)=>{const o=fw(r);e(o)})}$n(t){return VB(t).get("targetGlobalKey").next(e=>(St(null!==e),e))}On(t,e){return VB(t).put("targetGlobalKey",e)}Fn(t,e){return ry(t).put(CB(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=lg(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return ry(t).X({range:r,index:"queryTargetsIndex"},(c,h,m)=>{const v=fw(h);ew(e,v.target)&&(o=v,m.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=sp(t);return e.forEach(c=>{const h=Uo(c.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,c))}),ae.waitFor(r)}removeMatchingKeys(t,e,i){const r=sp(t);return ae.forEach(e,o=>{const c=Uo(o.path);return ae.waitFor([r.delete([i,c]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=sp(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=sp(t);let o=an();return r.X({range:i,Y:!0},(c,h,m)=>{const v=$d(c[1]),x=new Je(v);o=o.add(x)}).next(()=>o)}containsKey(t,e){const i=Uo(e.path),r=IDBKeyRange.bound([i],[QL(i)],!1,!0);let o=0;return sp(t).X({index:"documentTargetsIndex",Y:!0,range:r},([c,h],m,v)=>{0!==c&&(o++,v.done())}).next(()=>o>0)}le(t,e){return ry(t).get(e).next(i=>i?fw(i):null)}}function ry(n){return ro(n,"targets")}function VB(n){return ro(n,"targetGlobal")}function sp(n){return ro(n,"targetDocuments")}function UB([n,t],[e,i]){const r=Qt(n,e);return 0===r?Qt(t,i):r}class m${constructor(t){this.Ln=t,this.buffer=new vi(UB),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();UB(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class HB{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,be.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Kf(i)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Yf(i)}yield e.Qn(3e5)}))}}class g${constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ae.resolve(ya.ct);const i=new m$(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(NB)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NB):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,o,c,h,m,v;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(I=>(I>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),r=this.params.maximumSequenceNumbersToCollect):r=I,c=Date.now(),this.nthSequenceNumber(t,r))).next(I=>(i=I,h=Date.now(),this.removeTargets(t,i,e))).next(I=>(o=I,m=Date.now(),this.removeOrphanedDocuments(t,i))).next(I=>(v=Date.now(),Ik()<=ga.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-x}ms\n\tDetermined least recently used ${r} in `+(h-c)+`ms\n\tRemoved ${o} targets in `+(m-h)+`ms\n\tRemoved ${I} documents in `+(v-m)+`ms\nTotal Duration: ${v-x}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:I})))}}class _${constructor(t,e){this.db=t,this.garbageCollector=function jB(n,t){return new g$(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return YD(t,i)}removeReference(t,e,i){return YD(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return YD(t,e)}Xn(t,e){return function(i,r){let o=!1;return BB(i).Z(c=>LB(i,c,r).next(h=>(h&&(o=!0),ae.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(t,(c,h)=>{if(h<=e){const m=this.Xn(t,c).next(v=>{if(!v)return o++,i.getEntry(t,c).next(()=>(i.removeEntry(c,Tt.min()),sp(t).delete([0,Uo(c.path)])))});r.push(m)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return YD(t,e)}Yn(t,e){const i=sp(t);let r,o=ya.ct;return i.X({index:"documentTargetsIndex"},([c,h],{path:m,sequenceNumber:v})=>{0===c?(o!==ya.ct&&e(new Je($d(r)),o),o=v,r=m):o=ya.ct}).next(()=>{o!==ya.ct&&e(new Je($d(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function YD(n,t){return sp(n).put((i=n.currentSequenceNumber,{targetId:0,path:Uo(t.path),sequenceNumber:i}));var i}class zB{constructor(){this.changes=new ih(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,yi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ae.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class v${constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return vg(t).put(i)}removeEntry(t,e,i){return vg(t).delete(function(r,o){const c=r.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],HD(o),c[c.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=yi.newInvalidDocument(e);return vg(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(vw(e))},(r,o)=>{i=this.ts(e,o)}).next(()=>i)}es(t,e){let i={size:0,document:yi.newInvalidDocument(e)};return vg(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(vw(e))},(r,o)=>{i={document:this.ts(e,o),size:qD(o)}}).next(()=>i)}getEntries(t,e){let i=js();return this.ns(t,e,(r,o)=>{const c=this.ts(r,o);i=i.insert(r,c)}).next(()=>i)}ss(t,e){let i=js(),r=new ci(Je.comparator);return this.ns(t,e,(o,c)=>{const h=this.ts(o,c);i=i.insert(o,h),r=r.insert(o,qD(c))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return ae.resolve();let r=new vi(WB);e.forEach(m=>r=r.add(m));const o=IDBKeyRange.bound(vw(r.first()),vw(r.last())),c=r.getIterator();let h=c.getNext();return vg(t).X({index:"documentKeyIndex",range:o},(m,v,x)=>{const I=Je.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&WB(h,I)<0;)i(h,null),h=c.getNext();h&&h.isEqual(I)&&(i(h,v),h=c.hasNext()?c.getNext():null),h?x.G(vw(h)):x.done()}).next(()=>{for(;h;)i(h,null),h=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,c=[o.popLast().toArray(),o.lastSegment(),HD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vg(t).j(IDBKeyRange.bound(c,h,!0)).next(m=>{let v=js();for(const x of m){const I=this.ts(Je.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);I.isFoundDocument()&&(nw(e,I)||r.has(I.key))&&(v=v.insert(I.key,I))}return v})}getAllFromCollectionGroup(t,e,i,r){let o=js();const c=qB(e,i),h=qB(e,va.max());return vg(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,h,!0)},(m,v,x)=>{const I=this.ts(Je.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(I.key,I),o.size===r&&x.done()}).next(()=>o)}newChangeBuffer(t){return new y$(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return GB(t).get("remoteDocumentGlobalKey").next(e=>(St(!!e),e))}Zn(t,e){return GB(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function r$(n,t){let e;if(t.document)e=mB(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Je.fromSegments(t.noDocument.path),r=fg(t.noDocument.readTime);e=yi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return ht();{const i=Je.fromSegments(t.unknownDocument.path),r=fg(t.unknownDocument.version);e=yi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ki(i[0],i[1]);return Tt.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Tt.min()))return i}return yi.newInvalidDocument(t)}}function $B(n){return new v$(n)}class y$ extends zB{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new ih(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new vi((o,c)=>Qt(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const h=this.us.get(o);if(e.push(this.os.removeEntry(t,o,h.readTime)),c.isValidDocument()){const m=xB(this.os.serializer,c);r=r.add(o.path.popLast());const v=qD(m);i+=v-h.size,e.push(this.os.addEntry(t,o,m))}else if(i-=h.size,this.trackRemovals){const m=xB(this.os.serializer,c.convertToNoDocument(Tt.min()));e.push(this.os.addEntry(t,o,m))}}),r.forEach(o=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.os.updateMetadata(t,i)),ae.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((o,c)=>{this.us.set(o,{size:c,readTime:i.get(o).readTime})}),i))}}function GB(n){return ro(n,"remoteDocumentGlobal")}function vg(n){return ro(n,"remoteDocumentsV14")}function vw(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function qB(n,t){const e=t.documentKey.path.toArray();return[n,HD(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function WB(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Qt(e[o],i[o]),r)return r;return r=Qt(e.length,i.length),r||(r=Qt(e[e.length-2],i[i.length-2]),r||Qt(e[e.length-1],i[i.length-1]))}class b${constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class YB{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&sw(i.mutation,r,Hs.empty(),ki.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,an()).next(()=>i))}getLocalViewOfDocuments(t,e,i=an()){const r=qd();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let c=iw();return o.forEach((h,m)=>{c=c.insert(h,m.overlayedDocument)}),c}))}getOverlayedDocuments(t,e){const i=qd();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,an()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((c,h)=>{e.set(c,h)})})}computeViews(t,e,i,r){let o=js();const c=rw(),h=rw();return e.forEach((m,v)=>{const x=i.get(v.key);r.has(v.key)&&(void 0===x||x.mutation instanceof rh)?o=o.insert(v.key,v):void 0!==x?(c.set(v.key,x.mutation.getFieldMask()),sw(x.mutation,v,x.mutation.getFieldMask(),ki.now())):c.set(v.key,Hs.empty())}),this.recalculateAndSaveOverlays(t,o).next(m=>(m.forEach((v,x)=>c.set(v,x)),e.forEach((v,x)=>{var I;return h.set(v,new b$(x,null!==(I=c.get(v))&&void 0!==I?I:null))}),h))}recalculateAndSaveOverlays(t,e){const i=rw();let r=new ci((c,h)=>c-h),o=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(c=>{for(const h of c)h.keys().forEach(m=>{const v=e.get(m);if(null===v)return;let x=i.get(m)||Hs.empty();x=h.applyToLocalView(v,x),i.set(m,x);const I=(r.get(h.batchId)||an()).add(m);r=r.insert(h.batchId,I)})}).next(()=>{const c=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),v=m.key,x=m.value,I=U2();x.forEach(R=>{if(!o.has(R)){const N=K2(e.get(R),i.get(R));null!==N&&I.set(R,N),o=o.add(R)}}),c.push(this.documentOverlayCache.saveOverlays(t,v,I))}return ae.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Je.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Hk(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const c=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ae.resolve(qd());let h=-1,m=o;return c.next(v=>ae.forEach(v,(x,I)=>(h<I.largestBatchId&&(h=I.largestBatchId),o.get(x)?ae.resolve():this.remoteDocumentCache.getEntry(t,x).next(R=>{m=m.insert(x,R)}))).next(()=>this.populateOverlays(t,v,o)).next(()=>this.computeViews(t,m,v,an())).next(x=>({batchId:h,changes:V2(x)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Je(e)).next(i=>{let r=iw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=iw();return this.indexManager.getCollectionParents(t,r).next(c=>ae.forEach(c,h=>{const m=(v=e,x=h.child(r),new nh(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,x;return this.getDocumentsMatchingCollectionQuery(t,m,i).next(v=>{v.forEach((x,I)=>{o=o.insert(x,I)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((h,m)=>{const v=m.getKey();null===o.get(v)&&(o=o.insert(v,yi.newInvalidDocument(v)))});let c=iw();return o.forEach((h,m)=>{const v=r.get(h);void 0!==v&&sw(v.mutation,m,Hs.empty(),ki.now()),nw(e,m)&&(c=c.insert(h,m))}),c})}}class w${constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ae.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:ur(i.createTime)}),ae.resolve()}getNamedQuery(t,e){return ae.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:n1(i.bundledQuery),readTime:ur(i.readTime)}),ae.resolve();var i}}class x${constructor(){this.overlays=new ci(Je.comparator),this.ls=new Map}getOverlay(t,e){return ae.resolve(this.overlays.get(e))}getOverlays(t,e){const i=qd();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.we(t,e,o)}),ae.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),ae.resolve()}getOverlaysForCollection(t,e,i){const r=qd(),o=e.length+1,c=new Je(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===o&&m.largestBatchId>i&&r.set(m.getKey(),m)}return ae.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new ci((v,x)=>v-x);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let x=o.get(v.largestBatchId);null===x&&(x=qd(),o=o.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const h=qd(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,x)=>h.set(v,x)),!(h.size()>=r)););return ae.resolve(h)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const c=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Yk(e,i));let o=this.ls.get(e);void 0===o&&(o=an(),this.ls.set(e,o)),this.ls.set(e,o.add(i.key))}}class d1{constructor(){this.fs=new vi(oo.ds),this.ws=new vi(oo._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new oo(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new oo(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new Je(new Cn([])),i=new oo(e,t),r=new oo(e,t+1),o=[];return this.ws.forEachInRange([i,r],c=>{this.ys(c),o.push(c.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new Je(new Cn([])),i=new oo(e,t),r=new oo(e,t+1);let o=an();return this.ws.forEachInRange([i,r],c=>{o=o.add(c.key)}),o}containsKey(t){const e=new oo(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class oo{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return Je.comparator(t.key,e.key)||Qt(t.As,e.As)}static _s(t,e){return Qt(t.As,e.As)||Je.comparator(t.key,e.key)}}class C${constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new vi(oo.ds)}checkEmpty(t){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.vs;this.vs++;const c=new qk(o,e,i,r);this.mutationQueue.push(c);for(const h of r)this.Rs=this.Rs.add(new oo(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ae.resolve(c)}lookupMutationBatch(t,e){return ae.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),o=r<0?0:r;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new oo(e,0),r=new oo(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],c=>{const h=this.Ps(c.As);o.push(h)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new vi(Qt);return e.forEach(r=>{const o=new oo(r,0),c=new oo(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,c],h=>{i=i.add(h.As)})}),ae.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Je.isDocumentKey(o)||(o=o.child(""));const c=new oo(new Je(o),0);let h=new vi(Qt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(m.As)),!0)},c),ae.resolve(this.Vs(h))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){St(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ae.forEach(e.mutations,r=>{const o=new oo(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new oo(e,0),r=this.Rs.firstAfterOrEqual(i);return ae.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ae.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class E${constructor(t){this.Ds=t,this.docs=new ci(Je.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,c=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ae.resolve(i?i.document.mutableCopy():yi.newInvalidDocument(e))}getEntries(t,e){let i=js();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():yi.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=js();const c=e.path,h=new Je(c.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:v,value:{document:x}}=m.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||Ak(JL(x),i)<=0||(r.has(x.key)||nw(e,x))&&(o=o.insert(x.key,x.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(t,e,i,r){ht()}Cs(t,e){return ae.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new D$(this)}getSize(t){return ae.resolve(this.size)}}class D$ extends zB{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),ae.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class S${constructor(t){this.persistence=t,this.xs=new ih(e=>lg(e),ew),this.lastRemoteSnapshotVersion=Tt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new d1,this.targetCount=0,this.Ms=_g.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),ae.resolve()}getLastRemoteSnapshotVersion(t){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ae.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),ae.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new _g(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ae.resolve()}updateTargetData(t,e){return this.Fn(e),ae.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ae.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.xs.forEach((c,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.xs.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),ae.waitFor(o).next(()=>r)}getTargetCount(t){return ae.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return ae.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),ae.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(c=>{o.push(r.markPotentiallyOrphaned(t,c))}),ae.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ae.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return ae.resolve(i)}containsKey(t,e){return ae.resolve(this.ks.containsKey(e))}}class u1{constructor(t,e){this.$s={},this.overlays={},this.Os=new ya(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new S$(this),this.indexManager=new h$,this.remoteDocumentCache=new E$(i=>this.referenceDelegate.Ls(i)),this.serializer=new wB(e),this.qs=new w$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new x$,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new C$(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){Be("MemoryPersistence","Starting transaction:",t);const r=new I$(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(t,e){return ae.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class I$ extends t2{constructor(t){super(),this.currentSequenceNumber=t}}class KD{constructor(t){this.persistence=t,this.Qs=new d1,this.js=null}static zs(t){return new KD(t)}get Ws(){if(this.js)return this.js;throw ht()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),ae.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ae.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,i=>{const r=Je.fromPath(i);return this.Hs(t,r).next(o=>{o||e.removeEntry(r,Tt.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ae.or([()=>ae.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class T${constructor(t){this.serializer=t}O(t,e,i,r){const o=new ED("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",s2,{unique:!0}),h.createObjectStore("documentMutations"),KB(t),function(h){h.createObjectStore("remoteDocuments")}(t));let c=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),KB(t)),c=c.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Tt.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(c=c.next(()=>function(h,m){return m.store("mutations").j().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",s2,{unique:!0});const x=m.store("mutations"),I=v.map(R=>x.put(R));return ae.waitFor(I)})}(t,o))),c=c.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(c=c.next(()=>this.Ys(o))),i<6&&r>=6&&(c=c.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(o)))),i<7&&r>=7&&(c=c.next(()=>this.Zs(o))),i<8&&r>=8&&(c=c.next(()=>this.ti(t,o))),i<9&&r>=9&&(c=c.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(c=c.next(()=>this.ei(o))),i<11&&r>=11&&(c=c.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(c=c.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:h5});m.createIndex("collectionPathOverlayIndex",f5,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",p5,{unique:!1})}(t)})),i<13&&r>=13&&(c=c.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:e5});m.createIndex("documentKeyIndex",t5),m.createIndex("collectionGroupIndex",n5)}(t)).next(()=>this.ni(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(c=c.next(()=>this.si(t,o))),i<15&&r>=15&&(c=c.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:l5}).createIndex("sequenceNumberIndex",c5,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:d5}).createIndex("documentKeyIndex",u5,{unique:!1})}(t))),c}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=qD(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ae.forEach(r,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",c).next(h=>ae.forEach(h,m=>{St(m.userId===o.userId);const v=pg(this.serializer,m);return FB(t,o.userId,v).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((c,h)=>{const m=new Cn(c),v=[0,Uo(m)];o.push(e.get(v).next(x=>x?ae.resolve():e.put({targetId:0,path:Uo(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:a5});const i=e.store("collectionParents"),r=new c1,o=c=>{if(r.add(c)){const h=c.lastSegment(),m=c.popLast();return i.put({collectionId:h,parent:Uo(m)})}};return e.store("remoteDocuments").X({Y:!0},(c,h)=>{const m=new Cn(c);return o(m.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([c,h,m],v)=>{const x=$d(h);return o(x.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const o=fw(r),c=CB(this.serializer,o);return e.put(c)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,c)=>{const h=e.store("remoteDocumentsV14"),m=(v=c,v.document?new Je(Cn.fromString(v.document.name).popFirst(5)):v.noDocument?Je.fromSegments(v.noDocument.path):v.unknownDocument?Je.fromSegments(v.unknownDocument.path):ht()).path.toArray();var v;const x={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};r.push(h.put(x))}).next(()=>ae.waitFor(r))}si(t,e){const i=e.store("mutations"),r=$B(this.serializer),o=new u1(KD.zs,this.serializer.fe);return i.j().next(c=>{const h=new Map;return c.forEach(m=>{var v;let x=null!==(v=h.get(m.userId))&&void 0!==v?v:an();pg(this.serializer,m).keys().forEach(I=>x=x.add(I)),h.set(m.userId,x)}),ae.forEach(h,(m,v)=>{const x=new io(v),I=jD.de(this.serializer,x),R=o.getIndexManager(x),N=WD.de(x,this.serializer,R,o.referenceDelegate);return new YB(r,N,I,R).recalculateAndSaveOverlaysForDocumentKeys(new Ok(e,ya.ct),m).next()})})}}function KB(n){n.createObjectStore("targetDocuments",{keyPath:o5}).createIndex("documentTargetsIndex",s5,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",r5,{unique:!0}),n.createObjectStore("targetGlobal")}const h1="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class f1{constructor(t,e,i,r,o,c,h,m,v,x,I=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=o,this.window=c,this.document=h,this.ri=v,this.oi=x,this.ui=I,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=R=>Promise.resolve(),!f1.D())throw new Me(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _$(this,r),this.di=e+"main",this.serializer=new wB(m),this.wi=new Dc(this.di,this.ui,new T$(this.serializer)),this.Bs=new p$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=$B(this.serializer),this.qs=new o$,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,h1);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new ya(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,be.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,be.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,be.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>QD(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Kf(t))return Be("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return yw(t).get("owner").next(e=>ae.resolve(this.Ri(e)))}Pi(t){return QD(t).delete(this.clientId)}bi(){var t=this;return(0,be.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ro(i,"clientMetadata");return r.j().next(o=>{const c=t.Si(o,18e5),h=o.filter(m=>-1===c.indexOf(m));return ae.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ae.resolve(!0):yw(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,h1);return!1}}return!(!this.networkEnabled||!this.inForeground)||QD(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&Be("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,be.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new Ok(e,ya.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>QD(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return WD.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new f$(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return jD.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){Be("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(c=this.ui)?g5:14===c?d2:13===c?c2:12===c?m5:11===c?l2:void ht();var c;let h;return this.wi.runTransaction(t,r,o,m=>(h=new Ok(m,this.Os?this.Os.next():ya.ct),"readwrite-primary"===e?this.Ti(h).next(v=>!!v||this.Ei(h)).next(v=>{if(!v)throw dr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Me(ue.FAILED_PRECONDITION,e2);return i(h)}).next(v=>this.vi(h).next(()=>v)):this.Oi(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Oi(t){return yw(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Me(ue.FAILED_PRECONDITION,h1)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return yw(t).put("owner",e)}static D(){return Dc.D()}Ai(t){const e=yw(t);return e.get("owner").next(i=>this.Ri(i)?(Be("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ae.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(dr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,F.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return Be("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return dr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){dr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function yw(n){return ro(n,"owner")}function QD(n){return ro(n,"clientMetadata")}function p1(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class m1{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=an(),r=an();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new m1(t,e.fromCache,i,r)}}class ZB{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(o=>o||this.Gi(t,e,r,i)).next(o=>o||this.Qi(t,e))}Ki(t,e){if(P2(e))return ae.resolve(null);let i=fs(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=ND(e,null,"F"),i=fs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const c=an(...o);return this.Ui.getDocuments(t,c).next(h=>this.indexManager.getMinOffset(t,i).next(m=>{const v=this.ji(e,h);return this.zi(e,v,c,m.readTime)?this.Ki(t,ND(e,null,"F")):this.Wi(t,v,e,m)}))})))}Gi(t,e,i,r){return P2(e)||r.isEqual(Tt.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(o=>{const c=this.ji(e,o);return this.zi(e,c,i,r)?this.Qi(t,e):(Ik()<=ga.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),zk(e)),this.Wi(t,c,e,XL(r,-1)))})}ji(t,e){let i=new vi(L2(t));return e.forEach((r,o)=>{nw(t,o)&&(i=i.add(o))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(t,e){return Ik()<=ga.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",zk(e)),this.Ui.getDocumentsMatchingQuery(t,e,va.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(c=>{o=o.insert(c.key,c)}),o))}}class M${constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new ci(Qt),this.Yi=new ih(o=>lg(o),ew),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function QB(n,t,e,i){return new M$(n,t,e,i)}function XB(n,t){return g1.apply(this,arguments)}function g1(){return g1=(0,be.Z)(function*(n,t){const e=it(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const c=[],h=[];let m=an();for(const v of r){c.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}for(const v of o){h.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}return e.localDocuments.getDocuments(i,m).next(v=>({er:v,removedBatchIds:c,addedBatchIds:h}))})})}),g1.apply(this,arguments)}function A$(n,t){const e=it(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Zi.newChangeBuffer({trackRemovals:!0});return function(c,h,m,v){const x=m.batch,I=x.keys();let R=ae.resolve();return I.forEach(N=>{R=R.next(()=>v.getEntry(h,N)).next(H=>{const Y=m.docVersions.get(N);St(null!==Y),H.version.compareTo(Y)<0&&(x.applyToRemoteDocument(H,m),H.isValidDocument()&&(H.setReadTime(m.commitVersion),v.addEntry(H)))})}),R.next(()=>c.mutationQueue.removeMutationBatch(h,x))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(c){let h=an();for(let m=0;m<c.mutationResults.length;++m)c.mutationResults[m].transformResults.length>0&&(h=h.add(c.batch.mutations[m].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function JB(n){const t=it(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function k$(n,t){const e=it(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const h=[];t.targetChanges.forEach((x,I)=>{const R=r.get(I);if(!R)return;h.push(e.Bs.removeMatchingKeys(o,x.removedDocuments,I).next(()=>e.Bs.addMatchingKeys(o,x.addedDocuments,I)));let N=R.withSequenceNumber(o.currentSequenceNumber);var H,Y,te;null!==t.targetMismatches.get(I)?N=N.withResumeToken(Nr.EMPTY_BYTE_STRING,Tt.min()).withLastLimboFreeSnapshotVersion(Tt.min()):x.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(x.resumeToken,i)),r=r.insert(I,N),Y=N,te=x,(0===(H=R).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&h.push(e.Bs.updateTargetData(o,N))});let m=js(),v=an();if(t.documentUpdates.forEach(x=>{t.resolvedLimboDocuments.has(x)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,x))}),h.push(eV(o,c,t.documentUpdates).next(x=>{m=x.nr,v=x.sr})),!i.isEqual(Tt.min())){const x=e.Bs.getLastRemoteSnapshotVersion(o).next(I=>e.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(x)}return ae.waitFor(h).next(()=>c.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,m,v)).next(()=>m)}).then(o=>(e.Ji=r,o))}function eV(n,t,e){let i=an(),r=an();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let c=js();return e.forEach((h,m)=>{const v=o.get(h);m.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(Tt.min())?(t.removeEntry(h,m.readTime),c=c.insert(h,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(m),c=c.insert(h,m)):Be("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",m.version)}),{nr:c,sr:r}})}function R$(n,t){const e=it(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function oy(n,t){const e=it(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(o=>o?(r=o,ae.resolve(r)):e.Bs.allocateTargetId(i).next(c=>(r=new oh(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function sy(n,t,e){return _1.apply(this,arguments)}function _1(){return _1=(0,be.Z)(function*(n,t,e){const i=it(n),r=i.Ji.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,c=>i.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!Kf(c))throw c;Be("LocalStore",`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),_1.apply(this,arguments)}function XD(n,t,e){const i=it(n);let r=Tt.min(),o=an();return i.persistence.runTransaction("Execute query","readonly",c=>function(h,m,v){const x=it(h),I=x.Yi.get(v);return void 0!==I?ae.resolve(x.Ji.get(I)):x.Bs.getTargetData(m,v)}(i,c,fs(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(c,h.targetId).next(m=>{o=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(c,t,e?r:Tt.min(),e?o:an())).next(h=>(iV(i,F2(t),h),{documents:h,ir:o})))}function tV(n,t){const e=it(n),i=it(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.le(o,t).next(c=>c?c.target:null))}function nV(n,t){const e=it(n),i=e.Xi.get(t)||Tt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,XL(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(iV(e,t,r),r))}function iV(n,t,e){let i=n.Xi.get(t)||Tt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(t,i)}function v1(){return v1=(0,be.Z)(function*(n,t,e,i){const r=it(n);let o=an(),c=js();for(const v of e){const x=t.rr(v.metadata.name);v.document&&(o=o.add(x));const I=t.ur(v);I.setReadTime(t.cr(v.metadata.readTime)),c=c.insert(x,I)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),m=yield oy(r,(v=i,fs(Zv(Cn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>eV(v,h,c).next(x=>(h.apply(v),x)).next(x=>r.Bs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>r.Bs.addMatchingKeys(v,o,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,x.nr,x.sr)).next(()=>x.nr)))}),v1.apply(this,arguments)}function P$(n,t){return y1.apply(this,arguments)}function y1(){return y1=(0,be.Z)(function*(n,t,e=an()){const i=yield oy(n,fs(n1(t.bundledQuery))),r=it(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const c=ur(t.readTime);if(i.snapshotVersion.compareTo(c)>=0)return r.qs.saveNamedQuery(o,t);const h=i.withResumeToken(Nr.EMPTY_BYTE_STRING,c);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(o,h).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,e,i.targetId)).next(()=>r.qs.saveNamedQuery(o,t))})}),y1.apply(this,arguments)}function rV(n,t){return`firestore_clients_${n}_${t}`}function oV(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function b1(n,t){return`firestore_targets_${n}_${t}`}class JD{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let o,c="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return c&&r.error&&(c="string"==typeof r.error.message&&"string"==typeof r.error.code,c&&(o=new Me(r.error.code,r.error.message))),c?new JD(t,e,r.state,o):(dr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class bw{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Me(i.error.code,i.error.message))),o?new bw(t,i.state,r):(dr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class eS{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=$k();for(let c=0;r&&c<i.activeTargetIds.length;++c)r=r2(i.activeTargetIds[c]),o=o.add(i.activeTargetIds[c]);return r?new eS(t,o):(dr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class w1{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new w1(e.clientId,e.onlineState):(dr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class x1{constructor(){this.activeTargetIds=$k()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class C1{constructor(t,e,i,r,o){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ci(Qt),this.started=!1,this.yr=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=rV(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new x1),this.Tr=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,be.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const o=t.getItem(rV(t.persistenceKey,r));if(o){const c=eS.ar(r,o);c&&(t.gr=t.gr.insert(c.clientId,c))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(b1(this.persistenceKey,t));if(i){const r=bw.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(b1(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Be("SharedClientState","READ",t,e),e}setItem(t,e){Be("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Be("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(Be("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,be.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(o){let c=ya.ct;if(null!=o)try{const h=JSON.parse(o);St("number"==typeof h),c=h}catch(h){dr("SharedClientState","Failed to read sequence number from WebStorage",h)}return c}(i.newValue);r!==ya.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Qr(o)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new JD(this.currentUser,t,e,i),o=oV(this.persistenceKey,this.currentUser,t);this.setItem(o,r.hr())}Cr(t){const e=oV(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=b1(this.persistenceKey,t),o=new bw(t,e,i);this.setItem(r,o.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return eS.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return JD.ar(new io(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return bw.ar(r,e)}br(t){return w1.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,be.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);Be("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),o=this.Sr(i),c=[],h=[];return o.forEach(m=>{r.has(m)||c.push(m)}),r.forEach(m=>{o.has(m)||h.push(m)}),this.syncEngine.Wr(c,h).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=$k();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class sV{constructor(){this.Hr=new x1,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new x1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class N${Yr(t){}shutdown(){}}class aV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let tS=null;function E1(){return null===tS?tS=268435456+Math.round(2147483648*Math.random()):tS++,"0x"+tS.toString(16)}const F$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L${constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const jo="WebChannelConnection";class B$ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,o){const c=E1(),h=this.To(t,e);Be("RestConnection",`Sending RPC '${t}' ${c}:`,h,i);const m={};return this.Eo(m,r,o),this.Ao(t,h,m,i).then(v=>(Be("RestConnection",`Received RPC '${t}' ${c}: `,v),v),v=>{throw ml("RestConnection",`RPC '${t}' ${c} failed with error: `,v,"url: ",h,"request:",i),v})}vo(t,e,i,r,o,c){return this.Io(t,e,i,r,o)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+$v,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}To(t,e){return`${this.mo}/v1/${e}:${F$[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const o=E1();return new Promise((c,h)=>{const m=new P6;m.setWithCredentials(!0),m.listenOnce(k6.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Sk.NO_ERROR:const x=m.getResponseJson();Be(jo,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(x)),c(x);break;case Sk.TIMEOUT:Be(jo,`RPC '${t}' ${o} timed out`),h(new Me(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Sk.HTTP_ERROR:const I=m.getStatus();if(Be(jo,`RPC '${t}' ${o} failed with status:`,I,"response text:",m.getResponseText()),I>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R?.error;if(N&&N.status&&N.message){const H=function(Y){const te=Y.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(te)>=0?te:ue.UNKNOWN}(N.status);h(new Me(H,N.message))}else h(new Me(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Me(ue.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Be(jo,`RPC '${t}' ${o} completed.`)}});const v=JSON.stringify(r);Be(jo,`RPC '${t}' ${o} sending request:`,r),m.send(e,"POST",v,i,15)})}Ro(t,e,i){const r=E1(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=M6(),h=A6(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new O6({})),this.Eo(m.initMessageHeaders,e,i),m.encodeInitMessageHeaders=!0;const x=o.join("");Be(jo,`Creating RPC '${t}' stream ${r}: ${x}`,m);const I=c.createWebChannel(x,m);let R=!1,N=!1;const H=new L$({ro:te=>{N?Be(jo,`Not sending because RPC '${t}' stream ${r} is closed:`,te):(R||(Be(jo,`Opening RPC '${t}' stream ${r} transport.`),I.open(),R=!0),Be(jo,`RPC '${t}' stream ${r} sending:`,te),I.send(te))},oo:()=>I.close()}),Y=(te,Oe,Ye)=>{te.listen(Oe,et=>{try{Ye(et)}catch(_t){setTimeout(()=>{throw _t},0)}})};return Y(I,wD.EventType.OPEN,()=>{N||Be(jo,`RPC '${t}' stream ${r} transport opened.`)}),Y(I,wD.EventType.CLOSE,()=>{N||(N=!0,Be(jo,`RPC '${t}' stream ${r} transport closed`),H.wo())}),Y(I,wD.EventType.ERROR,te=>{N||(N=!0,ml(jo,`RPC '${t}' stream ${r} transport errored:`,te),H.wo(new Me(ue.UNAVAILABLE,"The operation could not be completed")))}),Y(I,wD.EventType.MESSAGE,te=>{var Oe;if(!N){const Ye=te.data[0];St(!!Ye);const _t=Ye.error||(null===(Oe=Ye[0])||void 0===Oe?void 0:Oe.error);if(_t){Be(jo,`RPC '${t}' stream ${r} received error:`,_t);const Xt=_t.status;let Jt=function(Io){const El=Dr[Io];if(void 0!==El)return tB(El)}(Xt),Rn=_t.message;void 0===Jt&&(Jt=ue.INTERNAL,Rn="Unknown error status: "+Xt+" with message "+_t.message),N=!0,H.wo(new Me(Jt,Rn)),I.close()}else Be(jo,`RPC '${t}' stream ${r} received:`,Ye),H._o(Ye)}}),Y(h,R6.STAT_EVENT,te=>{te.stat===qL.PROXY?Be(jo,`RPC '${t}' stream ${r} detected buffering proxy`):te.stat===qL.NOPROXY&&Be(jo,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{H.fo()},0),H}}function lV(){return typeof window<"u"?window:null}function nS(){return typeof document<"u"?document:null}function ww(n){return new Y5(n,!0)}class D1{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&Be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class cV{constructor(t,e,i,r,o,c,h,m){this.ii=t,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new D1(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,be.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,be.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,be.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===ue.RESOURCE_EXHAUSTED?(dr(e.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new Me(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,be.Z)(function*(){t.state=0,t.start()}))}tu(t){return Be("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class V$ extends cV{constructor(t,e,i,r,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function Q5(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:ht(),r=t.targetChange.targetIds||[],o=function(m,v){return m.useProto3Json?(St(void 0===v||"string"==typeof v),Nr.fromBase64String(v||"")):(St(void 0===v||v instanceof Uint8Array),Nr.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&function(m){const v=void 0===m.code?ue.UNKNOWN:tB(m.code);return new Me(v,m.message||"")}(c);e=new sB(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Wd(n,i.document.name),o=ur(i.document.updateTime),c=i.document.createTime?ur(i.document.createTime):Tt.min(),h=new xo({mapValue:{fields:i.document.fields}}),m=yi.newFoundDocument(r,o,c,h);e=new UD(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in t){const i=t.documentDelete,r=Wd(n,i.document),o=i.readTime?ur(i.readTime):Tt.min(),c=yi.newNoDocument(r,o);e=new UD([],i.removedTargetIds||[],c.key,c)}else if("documentRemove"in t){const i=t.documentRemove,r=Wd(n,i.document);e=new UD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return ht();{const i=t.filter,{count:r=0,unchangedNames:o}=i,c=new j5(r,o);e=new oB(i.targetId,c)}}var m;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Tt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Tt.min():o.readTime?ur(o.readTime):Tt.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=uw(this.serializer),e.addTarget=function(r,o){let c;const h=o.target;if(c=RD(h)?{documents:gB(r,h)}:{query:t1(r,h)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=dB(r,o.resumeToken);const m=Qk(r,o.expectedCount);null!==m&&(c.expectedCount=m)}else if(o.snapshotVersion.compareTo(Tt.min())>0){c.readTime=ty(r,o.snapshotVersion.toTimestamp());const m=Qk(r,o.expectedCount);null!==m&&(c.expectedCount=m)}return c}(this.serializer,t);const i=function J5(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=uw(this.serializer),e.removeTarget=t,this.Wo(e)}}class U$ extends cV{constructor(t,e,i,r,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,c),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(St(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function X5(n,t){return n&&n.length>0?(St(void 0!==t),n.map(e=>function(i,r){let o=ur(i.updateTime?i.updateTime:r);return o.isEqual(Tt.min())&&(o=ur(r)),new B5(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=ur(t.commitTime);return this.listener.cu(i,e)}return St(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=uw(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>hw(this.serializer,i))};this.Wo(e)}}class H$ extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Me(ue.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.vo(t,e,i,o,c,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(ue.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class z${constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(dr(e),this.mu=!1):Be("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class $${constructor(t,e,i,r,o){var c=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(h=>{i.enqueueAndForget((0,be.Z)(function*(){var m;ap(c)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,be.Z)(function*(v){const x=it(v);x.vu.add(4),yield ay(x),x.bu.set("Unknown"),x.vu.delete(4),yield xw(x)}),function(v){return m.apply(this,arguments)})(c))}))}),this.bu=new z$(i,r)}}function xw(n){return I1.apply(this,arguments)}function I1(){return I1=(0,be.Z)(function*(n){if(ap(n))for(const t of n.Ru)yield t(!0)}),I1.apply(this,arguments)}function ay(n){return T1.apply(this,arguments)}function T1(){return T1=(0,be.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),T1.apply(this,arguments)}function iS(n,t){const e=it(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),k1(e)?A1(e):cy(e).Ko()&&M1(e,t))}function Cw(n,t){const e=it(n),i=cy(e);e.Au.delete(t),i.Ko()&&dV(e,t),0===e.Au.size&&(i.Ko()?i.jo():ap(e)&&e.bu.set("Unknown"))}function M1(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Tt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}cy(n).su(t)}function dV(n,t){n.Vu.qt(t),cy(n).iu(t)}function A1(n){n.Vu=new $5({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),cy(n).start(),n.bu.gu()}function k1(n){return ap(n)&&!cy(n).Uo()&&n.Au.size>0}function ap(n){return 0===it(n).vu.size}function uV(n){n.Vu=void 0}function G$(n){return R1.apply(this,arguments)}function R1(){return R1=(0,be.Z)(function*(n){n.Au.forEach((t,e)=>{M1(n,t)})}),R1.apply(this,arguments)}function q$(n,t){return O1.apply(this,arguments)}function O1(){return O1=(0,be.Z)(function*(n,t){uV(n),k1(n)?(n.bu.Iu(t),A1(n)):n.bu.set("Unknown")}),O1.apply(this,arguments)}function W$(n,t,e){return P1.apply(this,arguments)}function P1(){return P1=(0,be.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof sB&&2===t.state&&t.cause)try{yield(i=(0,be.Z)(function*(r,o){const c=o.cause;for(const h of o.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,c),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){Be("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield rS(n,i)}else if(t instanceof UD?n.Vu.Ht(t):t instanceof oB?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Tt.min()))try{const i=yield JB(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const c=r.Vu.ce(o);return c.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.Au.get(m);v&&r.Au.set(m,v.withResumeToken(h.resumeToken,o))}}),c.targetMismatches.forEach((h,m)=>{const v=r.Au.get(h);if(!v)return;r.Au.set(h,v.withResumeToken(Nr.EMPTY_BYTE_STRING,v.snapshotVersion)),dV(r,h);const x=new oh(v.target,h,m,v.sequenceNumber);M1(r,x)}),r.remoteSyncer.applyRemoteEvent(c)}(n,e))}catch(i){Be("RemoteStore","Failed to raise snapshot:",i),yield rS(n,i)}var i}),P1.apply(this,arguments)}function rS(n,t,e){return N1.apply(this,arguments)}function N1(){return N1=(0,be.Z)(function*(n,t,e){if(!Kf(t))throw t;n.vu.add(1),yield ay(n),n.bu.set("Offline"),e||(e=()=>JB(n.localStore)),n.asyncQueue.enqueueRetryable((0,be.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield xw(n)}))}),N1.apply(this,arguments)}function hV(n,t){return t().catch(e=>rS(n,e,t))}function ly(n){return F1.apply(this,arguments)}function F1(){return F1=(0,be.Z)(function*(n){const t=it(n),e=lp(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Y$(t);)try{const r=yield R$(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,K$(t,r)}catch(r){yield rS(t,r)}fV(t)&&pV(t)}),F1.apply(this,arguments)}function Y$(n){return ap(n)&&n.Eu.length<10}function K$(n,t){n.Eu.push(t);const e=lp(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function fV(n){return ap(n)&&!lp(n).Uo()&&n.Eu.length>0}function pV(n){lp(n).start()}function Z$(n){return L1.apply(this,arguments)}function L1(){return L1=(0,be.Z)(function*(n){lp(n).hu()}),L1.apply(this,arguments)}function Q$(n){return B1.apply(this,arguments)}function B1(){return B1=(0,be.Z)(function*(n){const t=lp(n);for(const e of n.Eu)t.uu(e.mutations)}),B1.apply(this,arguments)}function X$(n,t,e){return V1.apply(this,arguments)}function V1(){return V1=(0,be.Z)(function*(n,t,e){const i=n.Eu.shift(),r=Wk.from(i,t,e);yield hV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ly(n)}),V1.apply(this,arguments)}function J$(n,t){return U1.apply(this,arguments)}function U1(){return U1=(0,be.Z)(function*(n,t){var e;t&&lp(n).ou&&(yield(e=(0,be.Z)(function*(i,r){if(eB(o=r.code)&&o!==ue.ABORTED){const c=i.Eu.shift();lp(i).Qo(),yield hV(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,r)),yield ly(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),fV(n)&&pV(n)}),U1.apply(this,arguments)}function mV(n,t){return H1.apply(this,arguments)}function H1(){return H1=(0,be.Z)(function*(n,t){const e=it(n);e.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const i=ap(e);e.vu.add(3),yield ay(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield xw(e)}),H1.apply(this,arguments)}function j1(n,t){return z1.apply(this,arguments)}function z1(){return z1=(0,be.Z)(function*(n,t){const e=it(n);t?(e.vu.delete(2),yield xw(e)):t||(e.vu.add(2),yield ay(e),e.bu.set("Unknown"))}),z1.apply(this,arguments)}function cy(n){return n.Su||(n.Su=function(t,e,i){const r=it(t);return r.fu(),new V$(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:G$.bind(null,n),ao:q$.bind(null,n),nu:W$.bind(null,n)}),n.Ru.push(function(){var t=(0,be.Z)(function*(e){e?(n.Su.Qo(),k1(n)?A1(n):n.bu.set("Unknown")):(yield n.Su.stop(),uV(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function lp(n){return n.Du||(n.Du=function(t,e,i){const r=it(t);return r.fu(),new U$(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Z$.bind(null,n),ao:J$.bind(null,n),au:Q$.bind(null,n),cu:X$.bind(null,n)}),n.Ru.push(function(){var t=(0,be.Z)(function*(e){e?(n.Du.Qo(),yield ly(n)):(yield n.Du.stop(),n.Eu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class $1{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(t,e,i,r,o){const c=Date.now()+i,h=new $1(t,e,c,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ue.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dy(n,t){if(dr("AsyncQueue",`${t}: ${n}`),Kf(n))return new Me(ue.UNAVAILABLE,`${t}: ${n}`);throw n}class uy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Je.comparator(e.key,i.key):(e,i)=>Je.comparator(e.key,i.key),this.keyedMap=iw(),this.sortedSet=new ci(this.comparator)}static emptySet(t){return new uy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof uy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new uy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class gV{constructor(){this.Cu=new ci(Je.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):ht():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class hy{constructor(t,e,i,r,o,c,h,m,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(t,e,i,r,o){const c=[];return e.forEach(h=>{c.push({type:0,doc:h})}),new hy(t,e,uy.emptySet(e),c,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&tw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class eG{constructor(){this.Nu=void 0,this.listeners=[]}}class tG{constructor(){this.queries=new ih(t=>N2(t),tw),this.onlineState="Unknown",this.ku=new Set}}function G1(n,t){return q1.apply(this,arguments)}function q1(){return q1=(0,be.Z)(function*(n,t){const e=it(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new eG),r)try{o.Nu=yield e.onListen(i)}catch(c){const h=dy(c,`Initialization of query '${zk(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Mu(e.onlineState),o.Nu&&t.$u(o.Nu)&&K1(e)}),q1.apply(this,arguments)}function W1(n,t){return Y1.apply(this,arguments)}function Y1(){return Y1=(0,be.Z)(function*(n,t){const e=it(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const c=o.listeners.indexOf(t);c>=0&&(o.listeners.splice(c,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),Y1.apply(this,arguments)}function nG(n,t){const e=it(n);let i=!1;for(const r of t){const c=e.queries.get(r.query);if(c){for(const h of c.listeners)h.$u(r)&&(i=!0);c.Nu=r}}i&&K1(e)}function iG(n,t,e){const i=it(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function K1(n){n.ku.forEach(t=>{t.next()})}class Z1{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new hy(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=hy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class rG{constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class _V{constructor(t){this.serializer=t}rr(t){return Wd(this.serializer,t)}ur(t){return t.metadata.exists?mB(this.serializer,t.document,!1):yi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return ur(t)}}class oG{constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vV(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=Cn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new _V(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const c of r.metadata.queries){const h=(e.get(c)||an()).add(o);e.set(c,h)}}return e}complete(){var t=this;return(0,be.Z)(function*(){const e=yield function O$(n,t,e,i){return v1.apply(this,arguments)}(t.localStore,new _V(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield P$(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function vV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class yV{constructor(t){this.key=t}}class bV{constructor(t){this.key=t}}class wV{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=an(),this.mutatedKeys=an(),this.tc=L2(t),this.ec=new uy(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new gV,r=e?e.ec:this.ec;let o=e?e.mutatedKeys:this.mutatedKeys,c=r,h=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((x,I)=>{const R=r.get(x),N=nw(this.query,I)?I:null,H=!!R&&this.mutatedKeys.has(R.key),Y=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let te=!1;R&&N?R.data.isEqual(N.data)?H!==Y&&(i.track({type:3,doc:N}),te=!0):this.rc(R,N)||(i.track({type:2,doc:N}),te=!0,(m&&this.tc(N,m)>0||v&&this.tc(N,v)<0)&&(h=!0)):!R&&N?(i.track({type:0,doc:N}),te=!0):R&&!N&&(i.track({type:1,doc:R}),te=!0,(m||v)&&(h=!0)),te&&(N?(c=c.add(N),o=Y?o.add(x):o.delete(x)):(c=c.delete(x),o=o.delete(x)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const x="F"===this.query.limitType?c.last():c.first();c=c.delete(x.key),o=o.delete(x.key),i.track({type:1,doc:x})}return{ec:c,ic:i,zi:h,mutatedKeys:o}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((v,x)=>function(I,R){const N=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return N(I)-N(R)}(v.type,x.type)||this.tc(v.doc,x.doc)),this.oc(i);const c=e?this.uc():[],h=0===this.Zu.size&&this.current?1:0,m=h!==this.Xu;return this.Xu=h,0!==o.length||m?{snapshot:new hy(this.query,t.ec,r,o,t.mutatedKeys,0===h,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new gV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=an(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new bV(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new yV(i))}),e}hc(t){this.Yu=t.ir,this.Zu=an();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return hy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class sG{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class aG{constructor(t){this.key=t,this.fc=!1}}class lG{constructor(t,e,i,r,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new ih(h=>N2(h),tw),this._c=new Map,this.mc=new Set,this.gc=new ci(Je.comparator),this.yc=new Map,this.Ic=new d1,this.Tc={},this.Ec=new Map,this.Ac=_g.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function cG(n,t){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,be.Z)(function*(n,t){const e=bR(n);let i,r;const o=e.wc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const c=yield oy(e.localStore,fs(t)),h=e.sharedClientState.addLocalQueryTarget(c.targetId);i=c.targetId,r=yield X1(e,t,i,"current"===h,c.resumeToken),e.isPrimaryClient&&iS(e.remoteStore,c)}return r}),Q1.apply(this,arguments)}function X1(n,t,e,i,r){return J1.apply(this,arguments)}function J1(){return J1=(0,be.Z)(function*(n,t,e,i,r){n.Rc=(I,R,N)=>{return(H=(0,be.Z)(function*(Y,te,Oe,Ye){let et=te.view.sc(Oe);et.zi&&(et=yield XD(Y.localStore,te.query,!1).then(({documents:Jt})=>te.view.sc(Jt,et)));const _t=Ye&&Ye.targetChanges.get(te.targetId),Xt=te.view.applyChanges(et,Y.isPrimaryClient,_t);return cR(Y,te.targetId,Xt.cc),Xt.snapshot}),function(Y,te,Oe,Ye){return H.apply(this,arguments)})(n,I,R,N);var H};const o=yield XD(n.localStore,t,!0),c=new wV(t,o.ir),h=c.sc(o.documents),m=cw.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),v=c.applyChanges(h,n.isPrimaryClient,m);cR(n,e,v.cc);const x=new sG(t,e,c);return n.wc.set(t,x),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),v.snapshot}),J1.apply(this,arguments)}function dG(n,t){return eR.apply(this,arguments)}function eR(){return eR=(0,be.Z)(function*(n,t){const e=it(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!tw(o,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield sy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Cw(e.remoteStore,i.targetId),fy(e,i.targetId)}).catch(Yf))):(fy(e,i.targetId),yield sy(e.localStore,i.targetId,!0))}),eR.apply(this,arguments)}function tR(){return tR=(0,be.Z)(function*(n,t,e){const i=wR(n);try{const r=yield function(o,c){const h=it(o),m=ki.now(),v=c.reduce((R,N)=>R.add(N.key),an());let x,I;return h.persistence.runTransaction("Locally write mutations","readwrite",R=>{let N=js(),H=an();return h.Zi.getEntries(R,v).next(Y=>{N=Y,N.forEach((te,Oe)=>{Oe.isValidDocument()||(H=H.add(te))})}).next(()=>h.localDocuments.getOverlayedDocuments(R,N)).next(Y=>{x=Y;const te=[];for(const Oe of c){const Ye=U5(Oe,x.get(Oe.key).overlayedDocument);null!=Ye&&te.push(new rh(Oe.key,Ye,w2(Ye.value.mapValue),Ri.exists(!0)))}return h.mutationQueue.addMutationBatch(R,m,te,c)}).next(Y=>{I=Y;const te=Y.applyToLocalDocumentSet(x,H);return h.documentOverlayCache.saveOverlays(R,Y.batchId,te)})}).then(()=>({batchId:I.batchId,changes:V2(x)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,c,h){let m=o.Tc[o.currentUser.toKey()];m||(m=new ci(Qt)),m=m.insert(c,h),o.Tc[o.currentUser.toKey()]=m}(i,r.batchId,e),yield sh(i,r.changes),yield ly(i.remoteStore)}catch(r){const o=dy(r,"Failed to persist write");e.reject(o)}}),tR.apply(this,arguments)}function xV(n,t){return nR.apply(this,arguments)}function nR(){return nR=(0,be.Z)(function*(n,t){const e=it(n);try{const i=yield k$(e.localStore,t);t.targetChanges.forEach((r,o)=>{const c=e.yc.get(o);c&&(St(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?c.fc=!0:r.modifiedDocuments.size>0?St(c.fc):r.removedDocuments.size>0&&(St(c.fc),c.fc=!1))}),yield sh(e,i,t)}catch(i){yield Yf(i)}}),nR.apply(this,arguments)}function CV(n,t,e){const i=it(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((o,c)=>{const h=c.view.Mu(t);h.snapshot&&r.push(h.snapshot)}),function(o,c){const h=it(o);h.onlineState=c;let m=!1;h.queries.forEach((v,x)=>{for(const I of x.listeners)I.Mu(c)&&(m=!0)}),m&&K1(h)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function hG(n,t,e){return iR.apply(this,arguments)}function iR(){return iR=(0,be.Z)(function*(n,t,e){const i=it(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),o=r&&r.key;if(o){let c=new ci(Je.comparator);c=c.insert(o,yi.newNoDocument(o,Tt.min()));const h=an().add(o),m=new lw(Tt.min(),new Map,new ci(Qt),c,h);yield xV(i,m),i.gc=i.gc.remove(o),i.yc.delete(t),dR(i)}else yield sy(i.localStore,t,!1).then(()=>fy(i,t,e)).catch(Yf)}),iR.apply(this,arguments)}function fG(n,t){return rR.apply(this,arguments)}function rR(){return rR=(0,be.Z)(function*(n,t){const e=it(n),i=t.batch.batchId;try{const r=yield A$(e.localStore,t);lR(e,i,null),aR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield sh(e,r)}catch(r){yield Yf(r)}}),rR.apply(this,arguments)}function pG(n,t,e){return oR.apply(this,arguments)}function oR(){return oR=(0,be.Z)(function*(n,t,e){const i=it(n);try{const r=yield function(o,c){const h=it(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,c).next(x=>(St(null!==x),v=x.keys(),h.mutationQueue.removeMutationBatch(m,x))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(i.localStore,t);lR(i,t,e),aR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield sh(i,r)}catch(r){yield Yf(r)}}),oR.apply(this,arguments)}function sR(){return sR=(0,be.Z)(function*(n,t){const e=it(n);ap(e.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const c=it(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>c.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=dy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),sR.apply(this,arguments)}function aR(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function lR(n,t,e){const i=it(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function fy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||EV(n,i)})}function EV(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(Cw(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),dR(n))}function cR(n,t,e){for(const i of e)i instanceof yV?(n.Ic.addReference(i.key,t),gG(n,i)):i instanceof bV?(Be("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||EV(n,i.key)):ht()}function gG(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(Be("SyncEngine","New document in limbo: "+e),n.mc.add(i),dR(n))}function dR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new Je(Cn.fromString(t)),i=n.Ac.next();n.yc.set(i,new aG(e)),n.gc=n.gc.insert(e,i),iS(n.remoteStore,new oh(fs(Zv(e.path)),i,"TargetPurposeLimboResolution",ya.ct))}}function sh(n,t,e){return uR.apply(this,arguments)}function uR(){return uR=(0,be.Z)(function*(n,t,e){const i=it(n),r=[],o=[],c=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,m)=>{c.push(i.Rc(m,t,e).then(v=>{if((v||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const x=m1.Li(m.targetId,v);o.push(x)}}))}),yield Promise.all(c),i.dc.nu(r),yield(h=(0,be.Z)(function*(m,v){const x=it(m);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",I=>ae.forEach(v,R=>ae.forEach(R.Fi,N=>x.persistence.referenceDelegate.addReference(I,R.targetId,N)).next(()=>ae.forEach(R.Bi,N=>x.persistence.referenceDelegate.removeReference(I,R.targetId,N)))))}catch(I){if(!Kf(I))throw I;Be("LocalStore","Failed to update sequence numbers: "+I)}for(const I of v){const R=I.targetId;if(!I.fromCache){const N=x.Ji.get(R),Y=N.withLastLimboFreeSnapshotVersion(N.snapshotVersion);x.Ji=x.Ji.insert(R,Y)}}}),function(m,v){return h.apply(this,arguments)})(i.localStore,o))}),uR.apply(this,arguments)}function _G(n,t){return hR.apply(this,arguments)}function hR(){return hR=(0,be.Z)(function*(n,t){const e=it(n);if(!e.currentUser.isEqual(t)){Be("SyncEngine","User change. New user:",t.toKey());const i=yield XB(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(c=>{c.forEach(h=>{h.reject(new Me(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield sh(e,i.er)}var r}),hR.apply(this,arguments)}function vG(n,t){const e=it(n),i=e.yc.get(t);if(i&&i.fc)return an().add(i.key);{let r=an();const o=e._c.get(t);if(!o)return r;for(const c of o){const h=e.wc.get(c);r=r.unionWith(h.view.nc)}return r}}function yG(n,t){return fR.apply(this,arguments)}function fR(){return fR=(0,be.Z)(function*(n,t){const e=it(n),i=yield XD(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&cR(e,t.targetId,r.cc),r}),fR.apply(this,arguments)}function bG(n,t){return pR.apply(this,arguments)}function pR(){return pR=(0,be.Z)(function*(n,t){const e=it(n);return nV(e.localStore,t).then(i=>sh(e,i))}),pR.apply(this,arguments)}function wG(n,t,e,i){return mR.apply(this,arguments)}function mR(){return mR=(0,be.Z)(function*(n,t,e,i){const r=it(n),o=yield function(c,h){const m=it(c),v=it(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",x=>v.Sn(x,h).next(I=>I?m.localDocuments.getDocuments(x,I):ae.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield ly(r.remoteStore):"acknowledged"===e||"rejected"===e?(lR(r,t,i||null),aR(r,t),h=t,it(it(r.localStore).mutationQueue).Cn(h)):ht(),yield sh(r,o)):Be("SyncEngine","Cannot apply mutation batch with id: "+t)}),mR.apply(this,arguments)}function gR(){return gR=(0,be.Z)(function*(n,t){const e=it(n);if(bR(e),wR(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield DV(e,i.toArray());e.vc=!0,yield j1(e.remoteStore,!0);for(const o of r)iS(e.remoteStore,o)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((o,c)=>{e.sharedClientState.isLocalQueryTarget(c)?i.push(c):r=r.then(()=>(fy(e,c),sy(e.localStore,c,!0))),Cw(e.remoteStore,c)}),yield r,yield DV(e,i),function(o){const c=it(o);c.yc.forEach((h,m)=>{Cw(c.remoteStore,m)}),c.Ic.Ts(),c.yc=new Map,c.gc=new ci(Je.comparator)}(e),e.vc=!1,yield j1(e.remoteStore,!1)}}),gR.apply(this,arguments)}function DV(n,t,e){return _R.apply(this,arguments)}function _R(){return _R=(0,be.Z)(function*(n,t,e){const i=it(n),r=[],o=[];for(const c of t){let h;const m=i._c.get(c);if(m&&0!==m.length){h=yield oy(i.localStore,fs(m[0]));for(const v of m){const x=i.wc.get(v),I=yield yG(i,x);I.snapshot&&o.push(I.snapshot)}}else{const v=yield tV(i.localStore,c);h=yield oy(i.localStore,v),yield X1(i,SV(v),c,!1,h.resumeToken)}r.push(h)}return i.dc.nu(o),r}),_R.apply(this,arguments)}function SV(n){return O2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function CG(n){const t=it(n);return it(it(t.localStore).persistence).$i()}function EG(n,t,e,i){return vR.apply(this,arguments)}function vR(){return vR=(0,be.Z)(function*(n,t,e,i){const r=it(n);if(r.vc)return void Be("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const c=yield nV(r.localStore,F2(o[0])),h=lw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Nr.EMPTY_BYTE_STRING);yield sh(r,c,h);break}case"rejected":yield sy(r.localStore,t,!0),fy(r,t,i);break;default:ht()}}),vR.apply(this,arguments)}function DG(n,t,e){return yR.apply(this,arguments)}function yR(){return yR=(0,be.Z)(function*(n,t,e){const i=bR(n);if(i.vc){for(const r of t){if(i._c.has(r)){Be("SyncEngine","Adding an already active target "+r);continue}const o=yield tV(i.localStore,r),c=yield oy(i.localStore,o);yield X1(i,SV(o),c.targetId,!1,c.resumeToken),iS(i.remoteStore,c)}for(const r of e)i._c.has(r)&&(yield sy(i.localStore,r,!1).then(()=>{Cw(i.remoteStore,r),fy(i,r)}).catch(Yf))}}),yR.apply(this,arguments)}function bR(n){const t=it(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=xV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=vG.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=hG.bind(null,t),t.dc.nu=nG.bind(null,t.eventManager),t.dc.Pc=iG.bind(null,t.eventManager),t}function wR(n){const t=it(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=fG.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=pG.bind(null,t),t}class Ew{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,be.Z)(function*(){e.serializer=ww(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return QB(this.persistence,new ZB,t.initialUser,this.serializer)}createPersistence(t){return new u1(KD.zs,this.serializer)}createSharedClientState(t){return new sV}terminate(){var t=this;return(0,be.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class xR extends Ew{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield wR(i.Vc.syncEngine),yield ly(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return QB(this.persistence,new ZB,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new HB(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new Q6(e,this.persistence);return new Z6(t.asyncQueue,i)}createPersistence(t){const e=p1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Ho.withCacheSize(this.cacheSizeBytes):Ho.DEFAULT;return new f1(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,lV(),nS(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new sV}}class IV extends xR{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,be.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof C1&&(i.sharedClientState.syncEngine={jr:wG.bind(null,r),zr:EG.bind(null,r),Wr:DG.bind(null,r),$i:CG.bind(null,r),Qr:bG.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,be.Z)(function*(c){yield function xG(n,t){return gR.apply(this,arguments)}(i.Vc.syncEngine,c),i.gcScheduler&&(c&&!i.gcScheduler.started?i.gcScheduler.start():c||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(c&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():c||i.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=lV();if(!C1.D(e))throw new Me(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=p1(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new C1(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class py{initialize(t,e){var i=this;return(0,be.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>CV(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=_G.bind(null,i.syncEngine),yield j1(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new tG}createDatastore(t){const e=ww(t.databaseInfo.databaseId),i=new B$(t.databaseInfo);return new H$(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>CV(this.syncEngine,h,0),c=aV.D()?new aV:new N$,new $$(e,i,r,o,c);var e,i,r,o,c}createSyncEngine(t,e){return function(i,r,o,c,h,m,v){const x=new lG(i,r,o,c,h,m);return v&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,be.Z)(function*(e){const i=it(e);Be("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield ay(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function TV(n,t=10240){let e=0;return{read:()=>(0,be.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,be.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class oS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):dr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class TG{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Pr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,be.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,be.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,be.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const o=yield t.$c(r);return new rG(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,be.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,be.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,be.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class MG{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,be.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Me(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,be.Z)(function*(o,c){const h=it(o),m=uw(h.serializer)+"/documents",v={documents:c.map(N=>dw(h.serializer,N))},x=yield h.vo("BatchGetDocuments",m,v,c.length),I=new Map;x.forEach(N=>{const H=function Z5(n,t){return"found"in t?function(e,i){St(!!i.found);const r=Wd(e,i.found.name),o=ur(i.found.updateTime),c=i.found.createTime?ur(i.found.createTime):Tt.min(),h=new xo({mapValue:{fields:i.found.fields}});return yi.newFoundDocument(r,o,c,h)}(n,t):"missing"in t?function(e,i){St(!!i.missing),St(!!i.readTime);const r=Wd(e,i.missing),o=ur(i.readTime);return yi.newNoDocument(r,o)}(n,t):ht()}(h.serializer,N);I.set(H.key.toString(),H)});const R=[];return c.forEach(N=>{const H=I.get(N.toString());St(!!H),R.push(H)}),R}),function(o,c){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new ey(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,be.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Je.fromPath(r);t.mutations.push(new Gk(o,t.precondition(o)))}),yield(i=(0,be.Z)(function*(r,o){const c=it(r),h=uw(c.serializer)+"/documents",m={writes:o.map(v=>hw(c.serializer,v))};yield c.Io("Commit",h,m)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw ht();e=Tt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Me(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Tt.min())?Ri.exists(!1):Ri.updateTime(e):Ri.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Tt.min()))throw new Me(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(e)}return Ri.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class AG{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new D1(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,be.Z)(function*(){const e=new MG(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Uc(o)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!Y0(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!eB(e)}return!1}}class kG{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=io.UNAUTHENTICATED,this.clientId=ZL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var c=(0,be.Z)(function*(h){Be("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(i,c=>(Be("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var t=this;return(0,be.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=dy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function sS(n,t){return CR.apply(this,arguments)}function CR(){return CR=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,be.Z)(function*(o){i.isEqual(o)||(yield XB(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),CR.apply(this,arguments)}function ER(n,t){return DR.apply(this,arguments)}function DR(){return DR=(0,be.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield SR(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>mV(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>mV(t.remoteStore,o)),n._onlineComponents=t}),DR.apply(this,arguments)}function MV(n){return"FirebaseError"===n.name?n.code===ue.FAILED_PRECONDITION||n.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function SR(n){return IR.apply(this,arguments)}function IR(){return IR=(0,be.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield sS(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!MV(e))throw e;ml("Error using user provided cache. Falling back to memory cache: "+e),yield sS(n,new Ew)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield sS(n,new Ew);return n._offlineComponents}),IR.apply(this,arguments)}function aS(n){return TR.apply(this,arguments)}function TR(){return TR=(0,be.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield ER(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield ER(n,new py))),n._onlineComponents}),TR.apply(this,arguments)}function AV(n){return SR(n).then(t=>t.persistence)}function lS(n){return SR(n).then(t=>t.localStore)}function kV(n){return aS(n).then(t=>t.remoteStore)}function MR(n){return aS(n).then(t=>t.syncEngine)}function my(n){return AR.apply(this,arguments)}function AR(){return AR=(0,be.Z)(function*(n){const t=yield aS(n),e=t.eventManager;return e.onListen=cG.bind(null,t.syncEngine),e.onUnlisten=dG.bind(null,t.syncEngine),e}),AR.apply(this,arguments)}function OV(n,t,e={}){const i=new Pr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,o,c,h,m){const v=new oS({next:I=>{o.enqueueAndForget(()=>W1(r,x));const R=I.docs.has(c);!R&&I.fromCache?m.reject(new Me(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&I.fromCache&&h&&"server"===h.source?m.reject(new Me(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(I)},error:I=>m.reject(I)}),x=new Z1(Zv(c.path),v,{includeMetadataChanges:!0,Ku:!0});return G1(r,x)}(yield my(n),n.asyncQueue,t,e,i)})),i.promise}function PV(n,t,e={}){const i=new Pr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function(r,o,c,h,m){const v=new oS({next:I=>{o.enqueueAndForget(()=>W1(r,x)),I.fromCache&&"server"===h.source?m.reject(new Me(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(I)},error:I=>m.reject(I)}),x=new Z1(c,v,{includeMetadataChanges:!0,Ku:!0});return G1(r,x)}(yield my(n),n.asyncQueue,t,e,i)})),i.promise}function NV(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const FV=new Map;function kR(n,t,e){if(!e)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function LV(n,t,e,i){if(!0===t&&!0===i)throw new Me(ue.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function BV(n){if(!Je.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function VV(n){if(Je.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function cS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":ht()}function yn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Me(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=cS(n);throw new Me(ue.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function UV(n,t){if(t<=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class HV{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Me(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Me(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}LV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=NV(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dw{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new B6;switch(e.type){case"firstParty":return new j6(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Me(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=FV.get(t);e&&(Be("ComponentProvider","Removing Datastore"),FV.delete(t),e.terminate())}(this),Promise.resolve()}}class bi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bi(this.firestore,t,this._key)}}class Co{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Co(this.firestore,t,this._query)}}class Yd extends Co{constructor(t,e,i){super(t,e,Zv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bi(this.firestore,null,new Je(t))}withConverter(t){return new Yd(this.firestore,t,this._path)}}function zV(n,t,...e){if(n=(0,F.m9)(n),kR("collection","path",t),n instanceof Dw){const i=Cn.fromString(t,...e);return VV(i),new Yd(n,null,i)}{if(!(n instanceof bi||n instanceof Yd))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Cn.fromString(t,...e));return VV(i),new Yd(n.firestore,null,i)}}function dS(n,t,...e){if(n=(0,F.m9)(n),1===arguments.length&&(t=ZL.A()),kR("doc","path",t),n instanceof Dw){const i=Cn.fromString(t,...e);return BV(i),new bi(n,null,new Je(i))}{if(!(n instanceof bi||n instanceof Yd))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Cn.fromString(t,...e));return BV(i),new bi(n.firestore,n instanceof Yd?n.converter:null,new Je(i))}}function $V(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),(n instanceof bi||n instanceof Yd)&&(t instanceof bi||t instanceof Yd)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function RR(n,t){return n=(0,F.m9)(n),t=(0,F.m9)(t),n instanceof Co&&t instanceof Co&&n.firestore===t.firestore&&tw(n._query,t._query)&&n.converter===t.converter}class HG{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new D1(this,"async_queue_retry"),this.Xc=()=>{const e=nS();e&&Be("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=nS();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=nS();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Pr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,be.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Kf(e))throw e;Be("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,dr("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=$1.createAndSchedule(this,t,e,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&ht()}verifyOperationInProgress(){}sa(){var t=this;return(0,be.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function OR(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class jG{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class wi extends Dw{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new HG,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||GV(this),this._firestoreClient.terminate()}}function hr(n){return n._firestoreClient||GV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function GV(n){var t,e,i;const r=n._freezeSettings(),o=(h=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new y5(n._databaseId,h,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,NV(v.experimentalLongPollingOptions),v.useFetchStreams));var h,v;n._firestoreClient=new kG(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function qV(n,t,e){const i=new Pr;return n.asyncQueue.enqueue((0,be.Z)(function*(){try{yield sS(n,e),yield ER(n,t),i.resolve()}catch(r){const o=r;if(!MV(o))throw o;ml("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function WV(n){if(n._initialized||n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Kd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kd(Nr.fromBase64String(t))}catch(e){throw new Me(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Kd(Nr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ah{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Me(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ji(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class yg{constructor(t){this._methodName=t}}class uS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Me(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Me(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Qt(this._lat,t._lat)||Qt(this._long,t._long)}}const JG=/^__.*__$/;class e8{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new rh(t,this.data,this.fieldMask,e,this.fieldTransforms):new Jv(t,this.data,e,this.fieldTransforms)}}class YV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new rh(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function KV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class hS{constructor(t,e,i,r,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new hS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return mS(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(KV(this.ca)&&JG.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class t8{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||ww(t)}ya(t,e,i,r=!1){return new hS({ca:t,methodName:e,ga:i,path:Ji.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bg(n){const t=n._freezeSettings(),e=ww(n._databaseId);return new t8(n._databaseId,!!t.ignoreUndefinedProperties,e)}function fS(n,t,e,i,r,o={}){const c=n.ya(o.merge||o.mergeFields?2:0,t,e,r);LR("Data must be an object, but it was:",c,i);const h=XV(i,c);let m,v;if(o.merge)m=new Hs(c.fieldMask),v=c.fieldTransforms;else if(o.mergeFields){const x=[];for(const I of o.mergeFields){const R=Tw(t,I,e);if(!c.contains(R))throw new Me(ue.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);eU(x,R)||x.push(R)}m=new Hs(x),v=c.fieldTransforms.filter(I=>m.covers(I.field))}else m=null,v=c.fieldTransforms;return new e8(new xo(h),m,v)}class Iw extends yg{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Iw}}function ZV(n,t,e){return new hS({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class PR extends yg{_toFieldTransform(t){return new ow(t.path,new Qv)}isEqual(t){return t instanceof PR}}class n8 extends yg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=ZV(this,t,!0),i=this.pa.map(o=>wg(o,e)),r=new dg(i);return new ow(t.path,r)}isEqual(t){return this===t}}class r8 extends yg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=ZV(this,t,!0),i=this.pa.map(o=>wg(o,e)),r=new ug(i);return new ow(t.path,r)}isEqual(t){return this===t}}class o8 extends yg{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new Xv(t.serializer,z2(t.serializer,this.Ia));return new ow(t.path,e)}isEqual(t){return this===t}}function NR(n,t,e,i){const r=n.ya(1,t,e);LR("Data must be an object, but it was:",r,i);const o=[],c=xo.empty();Zf(i,(m,v)=>{const x=pS(t,m,e);v=(0,F.m9)(v);const I=r.da(x);if(v instanceof Iw)o.push(x);else{const R=wg(v,I);null!=R&&(o.push(x),c.set(x,R))}});const h=new Hs(o);return new YV(c,h,r.fieldTransforms)}function FR(n,t,e,i,r,o){const c=n.ya(1,t,e),h=[Tw(t,i,e)],m=[r];if(o.length%2!=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<o.length;R+=2)h.push(Tw(t,o[R])),m.push(o[R+1]);const v=[],x=xo.empty();for(let R=h.length-1;R>=0;--R)if(!eU(v,h[R])){const N=h[R];let H=m[R];H=(0,F.m9)(H);const Y=c.da(N);if(H instanceof Iw)v.push(N);else{const te=wg(H,Y);null!=te&&(v.push(N),x.set(N,te))}}const I=new Hs(v);return new YV(x,I,c.fieldTransforms)}function QV(n,t,e,i=!1){return wg(e,n.ya(i?4:3,t))}function wg(n,t){if(JV(n=(0,F.m9)(n)))return LR("Unsupported field value:",t,n),XV(n,t);if(n instanceof yg)return function(e,i){if(!KV(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const c of e){let h=wg(c,i.wa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,F.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return z2(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ki.fromDate(e);return{timestampValue:ty(i.serializer,r)}}if(e instanceof ki){const r=new ki(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ty(i.serializer,r)}}if(e instanceof uS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Kd)return{bytesValue:dB(i.serializer,e._byteString)};if(e instanceof bi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Xk(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${cS(e)}`)}(n,t)}function XV(n,t){const e={};return h2(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Zf(n,(i,r)=>{const o=wg(r,t.ha(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function JV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ki||n instanceof uS||n instanceof Kd||n instanceof bi||n instanceof yg)}function LR(n,t,e){if(!JV(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=cS(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Tw(n,t,e){if((t=(0,F.m9)(t))instanceof ah)return t._internalPath;if("string"==typeof t)return pS(n,t);throw mS("Field path arguments must be of type string or ",n,!1,void 0,e)}const s8=new RegExp("[~\\*/\\[\\]]");function pS(n,t,e){if(t.search(s8)>=0)throw mS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new ah(...t.split("."))._internalPath}catch{throw mS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function mS(n,t,e,i,r){const o=i&&!i.isEmpty(),c=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${i}`),c&&(m+=` in document ${r}`),m+=")"),new Me(ue.INVALID_ARGUMENT,h+n+m)}function eU(n,t){return n.some(e=>e.isEqual(t))}class Mw{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new a8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(gS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class a8 extends Mw{data(){return super.data()}}function gS(n,t){return"string"==typeof t?pS(n,t):t instanceof ah?t._internalPath:t._delegate._internalPath}function tU(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BR{}class Aw extends BR{}function cp(n,t,...e){let i=[];t instanceof BR&&i.push(t),i=i.concat(e),function(r){const o=r.filter(h=>h instanceof gy).length,c=r.filter(h=>h instanceof kw).length;if(o>1||o>0&&c>0)throw new Me(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class kw extends Aw{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new kw(t,e,i)}_apply(t){const e=this._parse(t);return oU(t._query,e),new Co(t.firestore,t.converter,jk(t._query,e))}_parse(t){const e=bg(t.firestore);return function(r,o,c,h,m,v,x){let I;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){rU(x,v);const R=[];for(const N of x)R.push(iU(h,r,N));I={arrayValue:{values:R}}}else I=iU(h,r,x)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||rU(x,v),I=QV(c,"where",x,"in"===v||"not-in"===v);return vn.create(m,v,I)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class gy extends BR{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new gy(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:qn.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const c=r.getFlattenedFilters();for(const h of c)oU(o,h),o=jk(o,h)}(t._query,e),new Co(t.firestore,t.converter,jk(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class VR extends Aw{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new VR(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Yv(r,o);return function(h,m){if(null===Uk(h)){const v=PD(h);null!==v&&sU(0,v,m.field)}}(i,c),c}(t._query,this._field,this._direction);return new Co(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new nh(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class _S extends Aw{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new _S(t,e,i)}_apply(t){return new Co(t.firestore,t.converter,ND(t._query,this._limit,this._limitType))}}class vS extends Aw{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new vS(t,e,i)}_apply(t){const e=nU(t,this.type,this._docOrFields,this._inclusive);return new Co(t.firestore,t.converter,(r=e,new nh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class yS extends Aw{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new yS(t,e,i)}_apply(t){const e=nU(t,this.type,this._docOrFields,this._inclusive);return new Co(t.firestore,t.converter,(r=e,new nh((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function nU(n,t,e,i){if(e[0]=(0,F.m9)(e[0]),e[0]instanceof Mw)return function(r,o,c,h,m){if(!h)throw new Me(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const v=[];for(const x of cg(r))if(x.field.isKeyField())v.push(ag(o,h.key));else{const I=h.data.field(x.field);if(ID(I))throw new Me(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===I){const R=x.field.canonicalString();throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}v.push(I)}return new np(v,m)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=bg(n.firestore);return function(o,c,h,m,v,x){const I=o.explicitOrderBy;if(v.length>I.length)throw new Me(ue.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let N=0;N<v.length;N++){const H=v[N];if(I[N].field.isKeyField()){if("string"!=typeof H)throw new Me(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof H}`);if(!Hk(o)&&-1!==H.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${H}' contains a slash.`);const Y=o.path.child(Cn.fromString(H));if(!Je.isDocumentKey(Y))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const te=new Je(Y);R.push(ag(c,te))}else{const Y=QV(h,m,H);R.push(Y)}}return new np(R,x)}(n._query,n.firestore._databaseId,r,t,e,i)}}function iU(n,t,e){if("string"==typeof(e=(0,F.m9)(e))){if(""===e)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hk(t)&&-1!==e.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Cn.fromString(e));if(!Je.isDocumentKey(i))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return ag(n,new Je(i))}if(e instanceof bi)return ag(n,e._key);throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cS(e)}.`)}function rU(n,t){if(!Array.isArray(n)||0===n.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function oU(n,t){if(t.isInequality()){const i=PD(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=Uk(n);null!==o&&sU(0,r,o)}const e=function(i,r){for(const o of i)for(const c of o.getFlattenedFilters())if(r.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new Me(ue.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function sU(n,t,e){if(!e.isEqual(t))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class UR{convertValue(t,e="none"){switch(ep(t)){case 0:return null;case 1:return t.booleanValue;case 2:return er(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(th(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw ht()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Zf(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new uS(er(t.latitude),er(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=TD(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Z0(t));default:return null}}convertTimestamp(t){const e=Qf(t);return new ki(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Cn.fromString(t);St(bB(i));const r=new Xf(i.get(1),i.get(3)),o=new Je(i.popFirst(5));return r.isEqual(e)||dr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function bS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class g8 extends UR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}class xg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class lh extends Mw{constructor(t,e,i,r,o,c){super(t,e,i,r,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Rw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(gS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Rw extends lh{data(t={}){return super.data(t)}}class dp{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new xg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Rw(this._firestore,this._userDataWriter,i.key,i,new xg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Me(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(c=>({type:"added",doc:new Rw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(c=>r||3!==c.type).map(c=>{const h=new Rw(i._firestore,i._userDataWriter,c.doc.key,c.doc,new xg(i._snapshot.mutatedKeys.has(c.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return 0!==c.type&&(m=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),v=o.indexOf(c.doc.key)),{type:v8(c.type),doc:h,oldIndex:m,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function v8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function lU(n,t){return n instanceof lh&&t instanceof lh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof dp&&t instanceof dp&&n._firestore===t._firestore&&RR(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class up extends UR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}function cU(n,t,e){n=yn(n,bi);const i=yn(n.firestore,wi),r=bS(n.converter,t,e);return _y(i,[fS(bg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ri.none())])}function dU(n,t,e,...i){n=yn(n,bi);const r=yn(n.firestore,wi),o=bg(r);let c;return c="string"==typeof(t=(0,F.m9)(t))||t instanceof ah?FR(o,"updateDoc",n._key,t,e,i):NR(o,"updateDoc",n._key,t),_y(r,[c.toMutation(n._key,Ri.exists(!0))])}function uU(n,...t){var e,i,r;n=(0,F.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof t[c]||OR(t[c])||(o=t[c],c++);const h={includeMetadataChanges:o.includeMetadataChanges};if(OR(t[c])){const I=t[c];t[c]=null===(e=I.next)||void 0===e?void 0:e.bind(I),t[c+1]=null===(i=I.error)||void 0===i?void 0:i.bind(I),t[c+2]=null===(r=I.complete)||void 0===r?void 0:r.bind(I)}let m,v,x;if(n instanceof bi)v=yn(n.firestore,wi),x=Zv(n._key.path),m={next:I=>{t[c]&&t[c](HR(v,n,I))},error:t[c+1],complete:t[c+2]};else{const I=yn(n,Co);v=yn(I.firestore,wi),x=I._query;const R=new up(v);m={next:N=>{t[c]&&t[c](new dp(v,R,I,N))},error:t[c+1],complete:t[c+2]},tU(n._query)}return function(I,R,N,H){const Y=new oS(H),te=new Z1(R,Y,N);return I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return G1(yield my(I),te)})),()=>{Y.Dc(),I.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return W1(yield my(I),te)}))}}(hr(v),x,h,m)}function _y(n,t){return function(e,i){const r=new Pr;return e.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function uG(n,t,e){return tR.apply(this,arguments)}(yield MR(e),i,r)})),r.promise}(hr(n),t)}function HR(n,t,e){const i=e.docs.get(t._key),r=new up(n);return new lh(n,r,t._key,i,new xg(e.hasPendingWrites,e.fromCache),t.converter)}const F8={maxAttempts:5};class hU{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=bg(t)}set(t,e,i){this._verifyNotCommitted();const r=hp(t,this._firestore),o=bS(r.converter,e,i),c=fS(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(c.toMutation(r._key,Ri.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=hp(t,this._firestore);let c;return c="string"==typeof(e=(0,F.m9)(e))||e instanceof ah?FR(this._dataReader,"WriteBatch.update",o._key,e,i,r):NR(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,Ri.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=hp(t,this._firestore);return this._mutations=this._mutations.concat(new ey(e._key,Ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function hp(n,t){if((n=(0,F.m9)(n)).firestore!==t)throw new Me(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class L8 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=bg(t)}get(t){const e=hp(t,this._firestore),i=new g8(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return ht();const o=r[0];if(o.isFoundDocument())return new Mw(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Mw(this._firestore,i,e._key,null,e.converter);throw ht()})}set(t,e,i){const r=hp(t,this._firestore),o=bS(r.converter,e,i),c=fS(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,c),this}update(t,e,i,...r){const o=hp(t,this._firestore);let c;return c="string"==typeof(e=(0,F.m9)(e))||e instanceof ah?FR(this._dataReader,"Transaction.update",o._key,e,i,r):NR(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,c),this}delete(t){const e=hp(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=hp(t,this._firestore),i=new up(this._firestore);return super.get(t).then(r=>new lh(this._firestore,i,e._key,r._document,new xg(!1,!1),e.converter))}}function jR(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function pU(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function mU(){if(!function _5(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){$v=Vs.SDK_VERSION,(0,Vs._registerComponent)(new cl.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),c=new wi(new U6(e.getProvider("auth-internal")),new z6(e.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Me(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xf(h.options.projectId,m)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),c._setSettings(r),c},"PUBLIC").setMultipleInstances(!0)),(0,Vs.registerVersion)(WL,"3.12.0",n),(0,Vs.registerVersion)(WL,"3.12.0","esm2017")}();class Ow{constructor(t){this._delegate=t}static fromBase64String(t){return mU(),new Ow(Kd.fromBase64String(t))}static fromUint8Array(t){return pU(),new Ow(Kd.fromUint8Array(t))}toBase64(){return mU(),this._delegate.toBase64()}toUint8Array(){return pU(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function zR(n){return function q8(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class W8{enableIndexedDbPersistence(t,e){return function $G(n,t){WV(n=yn(n,wi));const e=hr(n);if(e._uninitializedComponentsProvider)throw new Me(ue.FAILED_PRECONDITION,"SDK cache is already specified.");ml("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new py;return qV(e,r,new xR(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function GG(n){WV(n=yn(n,wi));const t=hr(n);if(t._uninitializedComponentsProvider)throw new Me(ue.FAILED_PRECONDITION,"SDK cache is already specified.");ml("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new py;return qV(t,i,new IV(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function qG(n){if(n._initialized&&!n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Pr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,be.Z)(function*(){try{yield(e=(0,be.Z)(function*(i){if(!Dc.D())return Promise.resolve();const r=i+"main";yield Dc.delete(r)}),function(i){return e.apply(this,arguments)})(p1(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class gU{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Xf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&ml("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function jV(n,t,e,i={}){var r;const o=(n=yn(n,Dw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&ml("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let c,h;if("string"==typeof i.mockUserToken)c=i.mockUserToken,h=io.MOCK_USER;else{c=(0,F.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Me(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new io(m)}n._authCredentials=new V6(new YL(c,h))}}(this._delegate,t,e,i)}enableNetwork(){return function YG(n){return function RG(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield AV(n),e=yield kV(n);return t.setNetworkEnabled(!0),function(i){const r=it(i);return r.vu.delete(0),xw(r)}(e)}))}(hr(n=yn(n,wi)))}(this._delegate)}disableNetwork(){return function KG(n){return function OG(n){return n.asyncQueue.enqueue((0,be.Z)(function*(){const t=yield AV(n),e=yield kV(n);return t.setNetworkEnabled(!1),(i=(0,be.Z)(function*(r){const o=it(r);o.vu.add(0),yield ay(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(hr(n=yn(n,wi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,LV("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function WG(n){return function(t){const e=new Pr;return t.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return function mG(n,t){return sR.apply(this,arguments)}(yield MR(t),e)})),e.promise}(hr(n=yn(n,wi)))}(this._delegate)}onSnapshotsInSync(t){return function I8(n,t){return function FG(n,t){const e=new oS(t);return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield my(n),r=e,it(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return i=yield my(n),r=e,void it(i).ku.delete(r);var i,r}))}}(hr(n=yn(n,wi)),OR(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new vy(this,zV(this._delegate,t))}catch(e){throw ps(e,"collection()","Firestore.collection()")}}doc(t){try{return new gl(this,dS(this._delegate,t))}catch(e){throw ps(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ms(this,function UG(n,t){if(n=yn(n,Dw),kR("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Co(n,null,(e=t,new nh(Cn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw ps(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function B8(n,t,e){n=yn(n,wi);const i=Object.assign(Object.assign({},F8),e);return function(r){if(r.maxAttempts<1)throw new Me(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,c){const h=new Pr;return r.asyncQueue.enqueueAndForget((0,be.Z)(function*(){const m=yield function RV(n){return aS(n).then(t=>t.datastore)}(r);new AG(r.asyncQueue,m,c,o,h).run()})),h.promise}(hr(n),r=>t(new L8(n,r)),i)}(this._delegate,e=>t(new _U(this,e)))}batch(){return hr(this._delegate),new vU(new hU(this._delegate,t=>_y(this._delegate,t)))}loadBundle(t){return function ZG(n,t){const e=hr(n=yn(n,wi)),i=new jG;return function LG(n,t,e,i){const r=function(o,c){let h;return h="string"==typeof o?nB().encode(o):o,m=function(m,v){if(m instanceof Uint8Array)return TV(m,v);if(m instanceof ArrayBuffer)return TV(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new TG(m,c);var m}(e,ww(t));n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){!function SG(n,t,e){const i=it(n);var r;(r=(0,be.Z)(function*(o,c,h){try{const m=yield c.getMetadata();if(yield function(R,N){const H=it(R),Y=ur(N.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",te=>H.qs.getBundleMetadata(te,N.id)).then(te=>!!te&&te.createTime.compareTo(Y)>=0)}(o.localStore,m))return yield c.close(),h._completeWith({taskState:"Success",documentsLoaded:(R=m).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);h._updateProgress(vV(m));const v=new oG(m,o.localStore,c.serializer);let x=yield c.bc();for(;x;){const R=yield v.zu(x);R&&h._updateProgress(R),x=yield c.bc()}const I=yield v.complete();return yield sh(o,I.Ju,void 0),yield function(R,N){const H=it(R);return H.persistence.runTransaction("Save bundle","readwrite",Y=>H.qs.saveBundleMetadata(Y,N))}(o.localStore,m),h._completeWith(I.progress),Promise.resolve(I.Hu)}catch(m){return ml("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var R}),function(o,c,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield MR(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function QG(n,t){return function BG(n,t){return n.asyncQueue.enqueue((0,be.Z)(function*(){return function(e,i){const r=it(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield lS(n),t)}))}(hr(n=yn(n,wi)),t).then(e=>e?new Co(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ms(this,e):null)}}class wS extends UR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ow(new Kd(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return gl.forKey(e,this.firestore,null)}}class _U{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new wS(t)}get(t){const e=Eg(t);return this._delegate.get(e).then(i=>new Pw(this._firestore,new lh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Eg(t);return i?(jR("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Eg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Eg(t);return this._delegate.delete(e),this}}class vU{constructor(t){this._delegate=t}set(t,e,i){const r=Eg(t);return i?(jR("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Eg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Eg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Cg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Rw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new Nw(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Cg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Cg(t,new wS(t),e),r.set(e,o)),o}}Cg.INSTANCES=new WeakMap;class gl{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wS(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new gl(e,new bi(e._delegate,i,new Je(t)))}static forKey(t,e,i){return new gl(e,new bi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new vy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new vy(this.firestore,zV(this._delegate,t))}catch(e){throw ps(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,F.m9)(t))instanceof bi&&$V(this._delegate,t)}set(t,e){e=jR("DocumentReference.set",e);try{return e?cU(this._delegate,t,e):cU(this._delegate,t)}catch(i){throw ps(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?dU(this._delegate,t):dU(this._delegate,t,e,...i)}catch(r){throw ps(r,"updateDoc()","DocumentReference.update()")}}delete(){return function D8(n){return _y(yn(n.firestore,wi),[new ey(n._key,Ri.none())])}(this._delegate)}onSnapshot(...t){const e=yU(t),i=bU(t,r=>new Pw(this.firestore,new lh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return uU(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function b8(n){n=yn(n,bi);const t=yn(n.firestore,wi),e=hr(t),i=new up(t);return function PG(n,t){const e=new Pr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,o,c){try{const h=yield function(m,v){const x=it(m);return x.persistence.runTransaction("read document","readonly",I=>x.localDocuments.getDocument(I,v))}(r,o);h.isFoundDocument()?c.resolve(h):h.isNoDocument()?c.resolve(null):c.reject(new Me(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=dy(h,`Failed to get document '${o} from cache`);c.reject(m)}}),function(r,o,c){return i.apply(this,arguments)})(yield lS(n),t,e);var i})),e.promise}(e,n._key).then(r=>new lh(t,i,n._key,r,new xg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function w8(n){n=yn(n,bi);const t=yn(n.firestore,wi);return OV(hr(t),n._key,{source:"server"}).then(e=>HR(t,n,e))}(this._delegate):function y8(n){n=yn(n,bi);const t=yn(n.firestore,wi);return OV(hr(t),n._key).then(e=>HR(t,n,e))}(this._delegate),e.then(i=>new Pw(this.firestore,new lh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new gl(this.firestore,this._delegate.withConverter(t?Cg.getInstance(this.firestore,t):null))}}function ps(n,t,e){return n.message=n.message.replace(t,e),n}function yU(n){for(const t of n)if("object"==typeof t&&!zR(t))return t;return{}}function bU(n,t){var e,i;let r;return r=zR(n[0])?n[0]:zR(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Pw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new gl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return lU(this._delegate,t._delegate)}}class Nw extends Pw{data(t){const e=this._delegate.data(t);return function L6(n,t){n||ht()}(void 0!==e),e}}class ms{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new wS(t)}where(t,e,i){try{return new ms(this.firestore,cp(this._delegate,function l8(n,t,e){const i=t,r=gS("where",n);return kw._create(r,i,e)}(t,e,i)))}catch(r){throw ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ms(this.firestore,cp(this._delegate,function c8(n,t="asc"){const e=t,i=gS("orderBy",n);return VR._create(i,e)}(t,e)))}catch(i){throw ps(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ms(this.firestore,cp(this._delegate,function d8(n){return UV("limit",n),_S._create("limit",n,"F")}(t)))}catch(e){throw ps(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ms(this.firestore,cp(this._delegate,function u8(n){return UV("limitToLast",n),_S._create("limitToLast",n,"L")}(t)))}catch(e){throw ps(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ms(this.firestore,cp(this._delegate,function h8(...n){return vS._create("startAt",n,!0)}(...t)))}catch(e){throw ps(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ms(this.firestore,cp(this._delegate,function f8(...n){return vS._create("startAfter",n,!1)}(...t)))}catch(e){throw ps(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ms(this.firestore,cp(this._delegate,function p8(...n){return yS._create("endBefore",n,!1)}(...t)))}catch(e){throw ps(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ms(this.firestore,cp(this._delegate,function m8(...n){return yS._create("endAt",n,!0)}(...t)))}catch(e){throw ps(e,"endAt()","Query.endAt()")}}isEqual(t){return RR(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function C8(n){n=yn(n,Co);const t=yn(n.firestore,wi),e=hr(t),i=new up(t);return function NG(n,t){const e=new Pr;return n.asyncQueue.enqueueAndForget((0,be.Z)(function*(){return(i=(0,be.Z)(function*(r,o,c){try{const h=yield XD(r,o,!0),m=new wV(o,h.ir),v=m.sc(h.documents),x=m.applyChanges(v,!1);c.resolve(x.snapshot)}catch(h){const m=dy(h,`Failed to execute query '${o} against cache`);c.reject(m)}}),function(r,o,c){return i.apply(this,arguments)})(yield lS(n),t,e);var i})),e.promise}(e,n._query).then(r=>new dp(t,i,n,r))}(this._delegate):"server"===t?.source?function E8(n){n=yn(n,Co);const t=yn(n.firestore,wi),e=hr(t),i=new up(t);return PV(e,n._query,{source:"server"}).then(r=>new dp(t,i,n,r))}(this._delegate):function x8(n){n=yn(n,Co);const t=yn(n.firestore,wi),e=hr(t),i=new up(t);return tU(n._query),PV(e,n._query).then(r=>new dp(t,i,n,r))}(this._delegate),e.then(i=>new $R(this.firestore,new dp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=yU(t),i=bU(t,r=>new $R(this.firestore,new dp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return uU(this._delegate,e,i)}withConverter(t){return new ms(this.firestore,this._delegate.withConverter(t?Cg.getInstance(this.firestore,t):null))}}class K8{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new Nw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class $R{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ms(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new Nw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new K8(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new Nw(this._firestore,i))})}isEqual(t){return lU(this._delegate,t._delegate)}}class vy extends ms{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new gl(this.firestore,t):null}doc(t){try{return new gl(this.firestore,void 0===t?dS(this._delegate):dS(this._delegate,t))}catch(e){throw ps(e,"doc()","CollectionReference.doc()")}}add(t){return function S8(n,t){const e=yn(n.firestore,wi),i=dS(n),r=bS(n.converter,t);return _y(e,[fS(bg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ri.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new gl(this.firestore,e))}isEqual(t){return $V(this._delegate,t._delegate)}withConverter(t){return new vy(this.firestore,this._delegate.withConverter(t?Cg.getInstance(this.firestore,t):null))}}function Eg(n){return yn(n,bi)}class GR{constructor(...t){this._delegate=new ah(...t)}static documentId(){return new GR(Ji.keyField().canonicalString())}isEqual(t){return(t=(0,F.m9)(t))instanceof ah&&this._delegate._internalPath.isEqual(t._internalPath)}}class Dg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function U8(){return new PR("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Dg(t)}static delete(){const t=function V8(){return new Iw("deleteField")}();return t._methodName="FieldValue.delete",new Dg(t)}static arrayUnion(...t){const e=function H8(...n){return new n8("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Dg(e)}static arrayRemove(...t){const e=function j8(...n){return new r8("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Dg(e)}static increment(t){const e=function z8(n){return new o8("increment",n)}(t);return e._methodName="FieldValue.increment",new Dg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Z8={Firestore:gU,GeoPoint:uS,Timestamp:ki,Blob:Ow,Transaction:_U,WriteBatch:vU,DocumentReference:gl,DocumentSnapshot:Pw,Query:ms,QueryDocumentSnapshot:Nw,QuerySnapshot:$R,CollectionReference:vy,FieldPath:GR,FieldValue:Dg,setLogLevel:function Y8(n){!function F6(n){Wf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function X8(n){(function Q8(n,t){n.INTERNAL.registerComponent(new cl.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},Z8)))})(n,(t,e)=>new gU(t,e,new W8)),n.registerVersion("@firebase/firestore-compat","0.3.9")}(y0.Z);var fp=V(6451),xS=V(5363),J8=V(6063);class eq extends xt.x{constructor(t=1/0,e=1/0,i=J8.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:c}=this;e||(i.push(t),!r&&i.push(o.now()+c)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let c=0;c<o.length&&!t.closed;c+=i?1:2)t.next(o[c]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const c=e.now();let h=0;for(let m=1;m<i.length&&i[m]<=c;m+=2)h=m;h&&i.splice(0,h+1)}}}var qR=V(3099);function WR(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,qR.B)({connector:()=>new eq(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function wU(n,t){return(0,Yr.m)(t)?ti(()=>n,t):ti(()=>n)}var YR=V(9468);V(259);const ZR=new Map,CU={activated:!1,tokenObservers:[]},oq={initialized:!1,enabled:!1};function tr(n){return ZR.get(n)||Object.assign({},CU)}function ES(){return oq}class uq{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,be.Z)(function*(){e.stop();try{e.pending=new F.BH,yield function hq(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new F.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Eo=new F.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function XR(n){if(!tr(n).activated)throw Eo.create("use-before-activation",{appName:n.name})}function IS(n,t){return eO.apply(this,arguments)}function eO(){return eO=(0,be.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const I=yield r.getHeartbeatsHeader();I&&(i["X-Firebase-Client"]=I)}const o={method:"POST",body:JSON.stringify(t),headers:i};let c,h;try{c=yield fetch(n,o)}catch(I){throw Eo.create("fetch-network-error",{originalErrorMessage:I?.message})}if(200!==c.status)throw Eo.create("fetch-status-error",{httpStatus:c.status});try{h=yield c.json()}catch(I){throw Eo.create("fetch-parse-error",{originalErrorMessage:I?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Eo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(m[1]),x=Date.now();return{token:h.token,expireTimeMillis:x+v,issuedAtTimeMillis:x}}),eO.apply(this,arguments)}function DU(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const Fw="firebase-app-check-store";let TS=null;function IU(){return TS||(TS=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Eo.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Fw,{keyPath:"compositeKey"})}}catch(e){t(Eo.create("storage-open",{originalErrorMessage:e?.message}))}}),TS)}function tO(){return tO=(0,be.Z)(function*(n,t){const i=(yield IU()).transaction(Fw,"readwrite"),o=i.objectStore(Fw).put({compositeKey:n,value:t});return new Promise((c,h)=>{o.onsuccess=m=>{c()},i.onerror=m=>{var v;h(Eo.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),tO.apply(this,arguments)}const Lw=new ga.Yd("@firebase/app-check");function rO(n,t){return(0,F.hl)()?function yq(n,t){return function TU(n,t){return tO.apply(this,arguments)}(function AU(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Lw.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function sO(){return ES().enabled}function aO(){return lO.apply(this,arguments)}function lO(){return lO=(0,be.Z)(function*(){const n=ES();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),lO.apply(this,arguments)}const Dq={error:"UNKNOWN_ERROR"};function Sq(n){return F.US.encodeString(JSON.stringify(n),!1)}function MS(n){return cO.apply(this,arguments)}function cO(){return cO=(0,be.Z)(function*(n,t=!1){const e=n.app;XR(e);const i=tr(e);let o,r=i.token;if(r&&!yy(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(yy(m)?r=m:yield rO(e,void 0))}if(!t&&r&&yy(r))return{token:r.token};let h,c=!1;if(sO()){i.exchangeTokenPromise||(i.exchangeTokenPromise=IS(DU(e,yield aO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),c=!0);const m=yield i.exchangeTokenPromise;return yield rO(e,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),c=!0),r=yield tr(e).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Lw.warn(m.message):Lw.error(m),o=m}return r?o?h=yy(r)?{token:r.token,internalError:o}:OU(o):(h={token:r.token},i.token=r,yield rO(e,r)):h=OU(o),c&&RU(e,h),h}),cO.apply(this,arguments)}function hO(n,t){const e=tr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function kU(n){const{app:t}=n,e=tr(t);let i=e.tokenRefresher;i||(i=function Tq(n){const{app:t}=n;return new uq((0,be.Z)(function*(){let i;if(i=tr(t).token?yield MS(n,!0):yield MS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=tr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function RU(n,t){const e=tr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function yy(n){return n.expireTimeMillis-Date.now()>0}function OU(n){return{token:Sq(Dq),error:n}}class Mq{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=tr(this.app);for(const e of t)hO(this.app,e.next);return Promise.resolve()}}const HU="app-check-internal";!function zq(){(0,Vs._registerComponent)(new cl.wA("app-check",n=>function Aq(n,t){return new Mq(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(HU).initialize()})),(0,Vs._registerComponent)(new cl.wA(HU,n=>function kq(n){return{getToken:t=>MS(n,t),addTokenListener:t=>function uO(n,t,e,i){const{app:r}=n,o=tr(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&yy(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),kU(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>kU(n))}(n,"INTERNAL",t),removeTokenListener:t=>hO(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vs.registerVersion)("@firebase/app-check","0.7.0")}();class kS{constructor(){return(0,li.vb)("app-check")}}typeof window<"u"&&window;var Yq=V(9260);const _O=new s.OlP("angularfire2.auth.use-emulator"),vO=new s.OlP("angularfire2.auth.settings"),yO=new s.OlP("angularfire2.auth.tenant-id"),bO=new s.OlP("angularfire2.auth.langugage-code"),wO=new s.OlP("angularfire2.auth.use-device-language"),xO=new s.OlP("angularfire.auth.persistence"),CO=(n,t,e,i,r,o,c,h)=>(0,to.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),i&&(m.tenantId=i),m.languageCode=r,o&&m.useDeviceLanguage(),c)for(const[v,x]of Object.entries(c))m.settings[v]=x;return h&&m.setPersistence(h),m},[e,i,r,o,c,h]);let EO=(()=>{class n{constructor(e,i,r,o,c,h,m,v,x,I,R,N){const H=new xt.x,Y=Qe(void 0).pipe((0,xS.Q)(c.outsideAngular),ti(()=>o.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2644)))),(0,nt.U)(()=>(0,to.on)(e,o,i)),(0,nt.U)(te=>CO(te,o,h,v,x,I,m,R)),WR({bufferSize:1,refCount:!1}));if(Ko(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{Y.pipe(mo()).subscribe();const Oe=Y.pipe(ti(_t=>_t.getRedirectResult().then(Xt=>Xt,()=>null)),li.iC,WR({bufferSize:1,refCount:!1})),Ye=Y.pipe(ti(_t=>new ei.y(Xt=>({unsubscribe:o.runOutsideAngular(()=>_t.onAuthStateChanged(Jt=>Xt.next(Jt),Jt=>Xt.error(Jt),()=>Xt.complete()))})))),et=Y.pipe(ti(_t=>new ei.y(Xt=>({unsubscribe:o.runOutsideAngular(()=>_t.onIdTokenChanged(Jt=>Xt.next(Jt),Jt=>Xt.error(Jt),()=>Xt.complete()))}))));this.authState=Oe.pipe(wU(Ye),(0,YR.R)(c.outsideAngular),(0,xS.Q)(c.insideAngular)),this.user=Oe.pipe(wU(et),(0,YR.R)(c.outsideAngular),(0,xS.Q)(c.insideAngular)),this.idToken=this.user.pipe(ti(_t=>_t?(0,dn.D)(_t.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(ti(_t=>_t?(0,dn.D)(_t.getIdTokenResult()):Qe(null))),this.credential=(0,fp.T)(Oe,H,this.authState.pipe(An(_t=>!_t))).pipe((0,nt.U)(_t=>_t?.user?_t:null),(0,YR.R)(c.outsideAngular),(0,xS.Q)(c.insideAngular))}return(0,to.pX)(this,Y,o,{spy:{apply:(te,Oe,Ye)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Ye.then(et=>H.next(et))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(to.Dh),s.LFG(to.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(li.HU),s.LFG(_O,8),s.LFG(vO,8),s.LFG(yO,8),s.LFG(bO,8),s.LFG(wO,8),s.LFG(xO,8),s.LFG(kS,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function zU(n,t){return function Zq(n,t=ym.z){return new ei.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function DO(n,t){return zU(n,t).pipe((0,nt.U)(e=>({payload:e,type:"query"})))}function RS(n,t){return DO(n,t).pipe(wr(void 0),v0(),(0,nt.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(c=>({type:c.type,payload:c}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((c,h)=>{const m=r.find(x=>x.doc.ref.isEqual(c.ref)),v=e?.payload.docs.find(x=>x.ref.isEqual(c.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(c.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:c}})}),o}))}function $U(n,t,e){return RS(n,e).pipe(Os((i,r)=>function Xq(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Jq(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return SO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return SO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return SO(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Nm(),(0,nt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function SO(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function GU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class qU{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=RS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,nt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(wr(void 0),v0(),An(([i,r])=>r.length>0||!i),(0,nt.U)(([i,r])=>r),li.iC)}auditTrail(t){return this.stateChanges(t).pipe(Os((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=GU(t);return $U(this.query,e,this.afs.schedulers.outsideAngular).pipe(li.iC)}valueChanges(t={}){return DO(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),li.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(li.iC)}add(t){return this.ref.add(t)}doc(t){return new WU(this.ref.doc(t),this.afs)}}class WU{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=YU(i,e);return new qU(r,o,this.afs)}snapshotChanges(){return function Qq(n,t){return zU(n,t).pipe(wr(void 0),v0(),(0,nt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(li.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,dn.D)(this.ref.get(t)).pipe(li.iC)}}class eW{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?RS(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),An(e=>e.length>0),li.iC):RS(this.query,this.afs.schedulers.outsideAngular).pipe(li.iC)}auditTrail(t){return this.stateChanges(t).pipe(Os((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=GU(t);return $U(this.query,e,this.afs.schedulers.outsideAngular).pipe(li.iC)}valueChanges(t={}){return DO(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),li.iC)}get(t){return(0,dn.D)(this.query.get(t)).pipe(li.iC)}}const tW=new s.OlP("angularfire2.enableFirestorePersistence"),nW=new s.OlP("angularfire2.firestore.persistenceSettings"),iW=new s.OlP("angularfire2.firestore.settings"),rW=new s.OlP("angularfire2.firestore.use-emulator");function YU(n,t=(e=>e)){return{query:t(n),ref:n}}let KU=(()=>{class n{constructor(e,i,r,o,c,h,m,v,x,I,R,N,H,Y,te,Oe,Ye){this.schedulers=m;const et=(0,to.on)(e,h,i),_t=x;I&&CO(et,h,R,H,Y,te,N,Oe),[this.firestore,this.persistenceEnabled$]=(0,to.cc)(`${et.name}.firestore`,"AngularFirestore",et.name,()=>{const Xt=h.runOutsideAngular(()=>et.firestore());if(o&&Xt.settings(o),_t&&Xt.useEmulator(..._t),r&&!Ko(c)){const Jt=()=>{try{return(0,dn.D)(Xt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(Rn){return typeof console<"u"&&console.warn(Rn),Qe(!1)}};return[Xt,h.runOutsideAngular(Jt)]}return[Xt,Qe(!1)]},[o,_t,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:c}=YU(r,i),h=this.schedulers.ngZone.run(()=>o);return new qU(h,c,this)}collectionGroup(e,i){const r=i||(c=>c),o=this.firestore.collectionGroup(e);return new eW(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new WU(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(to.Dh),s.LFG(to.xv,8),s.LFG(tW,8),s.LFG(iW,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(li.HU),s.LFG(nW,8),s.LFG(rW,8),s.LFG(EO,8),s.LFG(_O,8),s.LFG(vO,8),s.LFG(yO,8),s.LFG(bO,8),s.LFG(wO,8),s.LFG(xO,8),s.LFG(kS,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class by{constructor(t){this.db=t,this.dbPath="/Holidays",this.collection=t.collection(this.dbPath)}getAll(){return this.collection}create(t){return this.collection.add({...t})}update(t,e){return this.collection.doc(t).update(e)}delete(t){return this.collection.doc(t).delete()}}by.\u0275fac=function(t){return new(t||by)(s.LFG(KU))},by.\u0275prov=s.Yz7({token:by,factory:by.\u0275fac,providedIn:"root"});class wy{constructor(t){this.db=t,this.dbPath="/TeamMembers",this.collection=t.collection(this.dbPath)}getAll(){return this.collection}create(t){return this.collection.add({...t})}update(t,e){return this.collection.doc(t).update(e)}delete(t){return this.collection.doc(t).delete()}}wy.\u0275fac=function(t){return new(t||wy)(s.LFG(KU))},wy.\u0275prov=s.Yz7({token:wy,factory:wy.\u0275fac,providedIn:"root"});const oW=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];class xy{constructor(t,e){this.data=[],this.holidays=[],this.teamMembers=[],t.getAll().valueChanges().subscribe(i=>{this.holidays=Array.prototype.map.call(i,r=>{var o=new PA;return o.description=r.description,o.country=r.country,o.date=r.date.toDate(),o})}),e.getAll().valueChanges().subscribe(i=>{this.teamMembers=Array.prototype.map.call(i,r=>{var o=new OA;return o.name=r.name,o.color=r.color,o.pictureUrl=r.pictureUrl,o.vacations=[],r.vacations.forEach(c=>o.vacations.push(c.toDate())),o}),this.data=this.getDates()})}selectMember(t){this.data?.splice(0),this.data=this.getDates(t)}getDates(t){for(var h,e=[],i=this.getPropertyNames(),r=(new Date).getFullYear(),o=new Date(r,0,1),c=new Date(r,11,31),m=0,v=o;v<=c;v.setDate(v.getDate()+1)){1==v.getDate()&&(h={id:v.getMonth(),month:oW[v.getMonth()],sun1:void 0,mon1:void 0,tue1:void 0,wed1:void 0,thu1:void 0,fri1:void 0,sat1:void 0,sun2:void 0,mon2:void 0,tue2:void 0,wed2:void 0,thu2:void 0,fri2:void 0,sat2:void 0,sun3:void 0,mon3:void 0,tue3:void 0,wed3:void 0,thu3:void 0,fri3:void 0,sat3:void 0,sun4:void 0,mon4:void 0,tue4:void 0,wed4:void 0,thu4:void 0,fri4:void 0,sat4:void 0,sun5:void 0,mon5:void 0,tue5:void 0,wed5:void 0,thu5:void 0,fri5:void 0,sat5:void 0,sun6:void 0,mon6:void 0},m=i.indexOf(this.getPropFromDayOfWeek(v)));var x=i[m++];if(h){var I={date:new Date(v),displayText:v.getDate().toString(),holiday:this.getHoliday(v),vacationingMembers:this.getVacationingTeamMembers(v,t)};h[x]=I,this.isLastDayOfMonth(v)&&e.push(h)}}return e}getVacationingTeamMembers(t,e){return this.teamMembers.filter(i=>(!e||i.id==e?.id)&&i.vacations.filter(r=>r?.getTime()==t?.getTime()).length>0)}getHoliday(t){var e=this.holidays.filter(i=>i.date?.getTime()==t?.getTime());return e.length>0?e[0].description:void 0}isLastDayOfMonth(t){var e=new Date(t.getFullYear(),t.getMonth()+1,0).getDate();return t.getDate()==e}getPropertyNames(){return Object.getOwnPropertyNames({id:0,month:"",sun1:void 0,mon1:void 0,tue1:void 0,wed1:void 0,thu1:void 0,fri1:void 0,sat1:void 0,sun2:void 0,mon2:void 0,tue2:void 0,wed2:void 0,thu2:void 0,fri2:void 0,sat2:void 0,sun3:void 0,mon3:void 0,tue3:void 0,wed3:void 0,thu3:void 0,fri3:void 0,sat3:void 0,sun4:void 0,mon4:void 0,tue4:void 0,wed4:void 0,thu4:void 0,fri4:void 0,sat4:void 0,sun5:void 0,mon5:void 0,tue5:void 0,wed5:void 0,thu5:void 0,fri5:void 0,sat5:void 0,sun6:void 0,mon6:void 0})}getPropFromDayOfWeek(t){return["sun1","mon1","tue1","wed1","thu1","fri1","sat1"][t.getDay()]}}xy.\u0275fac=function(t){return new(t||xy)(s.LFG(by),s.LFG(wy))},xy.\u0275prov=s.Yz7({token:xy,factory:xy.\u0275fac,providedIn:"root"});const ZU=["*"];class aW{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new lW(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class lW{constructor(t,e){this.row=t,this.col=e}}const QU=new s.OlP("MAT_GRID_LIST");let XU=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(Ls(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(Ls(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(QU,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&s.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:ZU,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const cW=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class IO{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=JU(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Sg(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,r,o),this.setRowStyles(t,e,r,o)}setColStyles(t,e,i,r){let o=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",Sg(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class dW extends IO{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=JU(this.fixedRowHeight),cW.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Sg(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Sg(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class uW extends IO{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Sg(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Sg(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class hW extends IO{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",Sg(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Sg(n){return`calc(${n})`}function JU(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let pW=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(Ls(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new hW:e&&e.indexOf(":")>-1?new uW(e):new dW(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new aW);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((o,c)=>{const h=e.positions[c];this._tileStyler.setStyle(o,h.row,h.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(hs,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,XU,5),2&e){let o;s.iGM(o=s.CRH())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[s._Bn([{provide:QU,useExisting:n}])],ngContentSelectors:ZU,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div"),s.Hsn(1),s.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),mW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[d0,xn,d0,xn]}),n})();class TO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class eH extends TO{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class gW extends TO{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class _W extends TO{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class vW{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof eH?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof gW?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof _W?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class yW extends vW{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=c=>{const h=c.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=c,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let bW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const tH=CC();class wW{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Xi(-this._previousScrollPosition.left),t.style.top=Xi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",c=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),tH&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),tH&&(i.scrollBehavior=o,r.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class xW{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class nH{enable(){}disable(){}attach(){}}function MO(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function iH(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class CW{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();MO(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let EW=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new nH,this.close=c=>new xW(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new wW(this._viewportRuler,this._document),this.reposition=c=>new CW(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Vu),s.LFG(xf),s.LFG(s.R0b),s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DW{constructor(t){if(this.scrollStrategy=new nH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class SW{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let rH=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IW=(()=>{class n extends rH{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let c=o.length-1;c>-1;c--)if(o[c]._keydownEvents.observers.length>0){const h=o[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),TW=(()=>{class n extends rH{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Nd(o)},this._clickListener=o=>{const c=Nd(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let v=m.length-1;v>-1;v--){const x=m[v];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(c)||x.overlayElement.contains(h))break;const I=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>I.next(o)):I.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J),s.LFG(Mi),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oH=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||O_()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),O_()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J),s.LFG(Mi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class MW{constructor(t,e,i,r,o,c,h,m,v,x=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=c,this._document=h,this._location=m,this._outsideClickDispatcher=v,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new xt.x,this._attachments=new xt.x,this._detachments=new xt.x,this._locationChanges=ss.w0.EMPTY,this._backdropClickHandler=I=>this._backdropClick.next(I),this._backdropTransitionendHandler=I=>{this._disposeBackdrop(I.target)},this._keydownEvents=new xt.x,this._outsidePointerEvents=new xt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ti(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Xi(this._config.width),t.height=Xi(this._config.height),t.minWidth=Xi(this._config.minWidth),t.minHeight=Xi(this._config.minHeight),t.maxWidth=Xi(this._config.maxWidth),t.maxHeight=Xi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=bf(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(sn((0,fp.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const sH="cdk-overlay-connected-position-bounding-box",AW=/([A-Za-z%]+)$/;class kW{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xt.x,this._resizeSubscription=ss.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(sH),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let c;for(let h of this._preferredPositions){let m=this._getOriginPoint(t,r,h),v=this._getOverlayPoint(m,e,h),x=this._getOverlayFit(v,e,i,h);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(x,v,i)?o.push({position:h,origin:m,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!c||c.overlayFit.visibleArea<x.visibleArea)&&(c={overlayFit:x,overlayPoint:v,originPoint:m,position:h,overlayRect:e})}if(o.length){let h=null,m=-1;for(const v of o){const x=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);x>m&&(m=x,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ig(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(sH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const c=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?c:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=lH(e);let{x:c,y:h}=t,m=this._getOffset(r,"x"),v=this._getOffset(r,"y");m&&(c+=m),v&&(h+=v);let R=0-h,N=h+o.height-i.height,H=this._subtractOverflows(o.width,0-c,c+o.width-i.width),Y=this._subtractOverflows(o.height,R,N),te=H*Y;return{visibleArea:te,isCompletelyWithinViewport:o.width*o.height===te,fitsInViewportVertically:Y===o.height,fitsInViewportHorizontally:H==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,c=aH(this._overlayRef.getConfig().minHeight),h=aH(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=c&&c<=r)&&(t.fitsInViewportHorizontally||null!=h&&h<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=lH(e),o=this._viewportRect,c=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),m=Math.max(o.top-i.top-t.y,0),v=Math.max(o.left-i.left-t.x,0);let x=0,I=0;return x=r.width<=o.width?v||-c:t.x<this._viewportMargin?o.left-i.left-t.x:0,I=r.height<=o.height?m||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x,y:I},{x:t.x+x,y:t.y+I}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new SW(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,c,h,x,I,R;if("top"===e.overlayY)c=t.y,o=i.height-c+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const N=Math.min(i.bottom-t.y+i.top,t.y),H=this._lastBoundingBoxSize.height;o=2*N,c=t.y-N,o>H&&!this._isInitialRender&&!this._growAfterOpen&&(c=t.y-H/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)R=i.width-t.x+this._viewportMargin,x=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)I=t.x,x=i.right-t.x;else{const N=Math.min(i.right-t.x+i.left,t.x),H=this._lastBoundingBoxSize.width;x=2*N,I=t.x-N,x>H&&!this._isInitialRender&&!this._growAfterOpen&&(I=t.x-H/2)}return{top:c,left:I,bottom:h,right:R,width:x,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;r.height=Xi(i.height),r.top=Xi(i.top),r.bottom=Xi(i.bottom),r.width=Xi(i.width),r.left=Xi(i.left),r.right=Xi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Xi(o)),c&&(r.maxWidth=Xi(c))}this._lastBoundingBoxSize=i,Ig(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ig(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ig(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(r){const x=this._viewportRuler.getViewportScrollPosition();Ig(i,this._getExactOverlayY(e,t,x)),Ig(i,this._getExactOverlayX(e,t,x))}else i.position="static";let h="",m=this._getOffset(e,"x"),v=this._getOffset(e,"y");m&&(h+=`translateX(${m}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),c.maxHeight&&(r?i.maxHeight=Xi(c.maxHeight):o&&(i.maxHeight="")),c.maxWidth&&(r?i.maxWidth=Xi(c.maxWidth):o&&(i.maxWidth="")),Ig(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Xi(o.y),r}_getExactOverlayX(t,e,i){let c,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),c=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===c?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Xi(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:iH(t,i),isOriginOutsideView:MO(t,i),isOverlayClipped:iH(e,i),isOverlayOutsideView:MO(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&bf(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Ig(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function aH(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(AW);return e&&"px"!==e?null:parseFloat(t)}return n||null}function lH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const cH="cdk-global-overlay-wrapper";class RW{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(cH),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:c,maxHeight:h}=i,m=!("100%"!==r&&"100vw"!==r||c&&"100%"!==c&&"100vw"!==c),v=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),x=this._xPosition,I=this._xOffset,R="rtl"===this._overlayRef.getConfig().direction;let N="",H="",Y="";m?Y="flex-start":"center"===x?(Y="center",R?H=I:N=I):R?"left"===x||"end"===x?(Y="flex-end",N=I):("right"===x||"start"===x)&&(Y="flex-start",H=I):"left"===x||"start"===x?(Y="flex-start",N=I):("right"===x||"end"===x)&&(Y="flex-end",H=I),t.position=this._cssPosition,t.marginLeft=m?"0":N,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=m?"0":H,e.justifyContent=Y,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(cH),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let OW=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new RW}flexibleConnectedTo(e){return new kW(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xf),s.LFG(J),s.LFG(Mi),s.LFG(oH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PW=0,Bw=(()=>{class n{constructor(e,i,r,o,c,h,m,v,x,I,R,N){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=c,this._injector=h,this._ngZone=m,this._document=v,this._directionality=x,this._location=I,this._outsideClickDispatcher=R,this._animationsModuleType=N}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),c=new DW(e);return c.direction=c.direction||this._directionality.value,new MW(o,i,r,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+PW++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new yW(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(EW),s.LFG(oH),s.LFG(s._Vd),s.LFG(OW),s.LFG(IW),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(J),s.LFG(hs),s.LFG(Ue),s.LFG(TW),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LW={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Bw],useFactory:function FW(n){return()=>n.scrollStrategies.reposition()}};let dH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Bw,LW],imports:[Ou,bW,bm,bm]}),n})();class uH{}class BW{}const ch="*";function Sc(n,t){return{type:7,name:n,definitions:t,options:{}}}function zo(n,t=null){return{type:4,styles:t,timings:n}}function hH(n,t=null){return{type:2,steps:n,options:t}}function Fn(n){return{type:6,styles:n,offset:null}}function so(n,t,e){return{type:0,name:n,styles:t,options:e}}function ao(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function mH(n){Promise.resolve().then(n)}class Vw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){mH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class gH{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?mH(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++e==o&&this._onFinish()}),c.onDestroy(()=>{++i==o&&this._onDestroy()}),c.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,h)=>Math.max(c,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const VW=["tooltip"],_H=new s.OlP("mat-tooltip-scroll-strategy"),jW={provide:_H,deps:[Bw],useFactory:function HW(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},$W=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function zW(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),vH="tooltip-panel",yH=Nu({passive:!0});let ZW=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=rn(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=rn(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=Ls(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=Ls(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,c,h,m,v,x,I,R,N){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=c,this._platform=h,this._ariaDescriber=m,this._focusMonitor=v,this._dir=I,this._defaultOptions=R,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new xt.x,this._scrollStrategy=x,this._document=N,R&&(R.position&&(this.position=R.position),R.positionAtOrigin&&(this.positionAtOrigin=R.positionAtOrigin),R.touchGestures&&(this.touchGestures=R.touchGestures)),I.change.pipe(sn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(sn(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,yH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new eH(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(sn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof s.SBq)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(sn(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${vH}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(sn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(sn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(sn(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!$n(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:c}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:c}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:c}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:c}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ti(1),sn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let c;if(c="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",c!==this._currentPosition){const h=this._overlayRef;if(h){const m=`${this._cssClassPrefix}-${vH}-`;h.removePanelClass(m+this._currentPosition),h.addPanelClass(m+c)}this._currentPosition=c}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,yH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),QW=(()=>{class n extends ZW{constructor(e,i,r,o,c,h,m,v,x,I,R,N){super(e,i,r,o,c,h,m,v,x,I,R,N),this._tooltipComponent=JW,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bw),s.Y36(s.SBq),s.Y36(Vu),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(Mi),s.Y36(tE),s.Y36(Nf),s.Y36(_H),s.Y36(hs,8),s.Y36($W,8),s.Y36(J))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),XW=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new xt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const c=getComputedStyle(i);("0s"===c.getPropertyValue("animation-duration")||"none"===c.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),JW=(()=>{class n extends XW{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(VW,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.TgZ(2,"div",2),s._uU(3),s.qZA()()),2&e&&(s.ekj("mdc-tooltip--multiline",i._isMultiline),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message))},dependencies:[zt],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),bH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[jW],imports:[cA,Jn,dH,xn,xn,Ef]}),n})();const _l=new s.OlP("NgValueAccessor");let h9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,Jn,Z_,xn]}),n})();function f9(n,t){1&n&&(s.TgZ(0,"span",8),s.Hsn(1,1),s.qZA())}function p9(n,t){1&n&&(s.TgZ(0,"span",9),s.Hsn(1,2),s.qZA())}const m9=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],g9=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function _9(n,t){1&n&&(s.TgZ(0,"span",12),s.Hsn(1,2),s.qZA())}const v9=[[["mat-chip-avatar"],["","matChipAvatar",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],y9=["mat-chip-avatar, [matChipAvatar]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"],ZO=["*"],M4=new s.OlP("mat-chips-default-options"),A4=new s.OlP("MatChipAvatar"),k4=new s.OlP("MatChipTrailingIcon"),R4=new s.OlP("MatChipRemove"),qS=new s.OlP("MatChip");class M9{}const A9=iv(M9,-1);let Ey=(()=>{class n extends A9{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=rn(e)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,i){super(),this._elementRef=e,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(qS))},n.\u0275dir=s.lG2({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.uIk("tabindex",i._getTabindex())("disabled",i._getDisabledAttribute())("aria-disabled",i.disabled),s.ekj("mdc-evolution-chip__action--primary",i._isPrimary)("mdc-evolution-chip__action--presentational",!i.isInteractive)("mdc-evolution-chip__action--trailing",!i._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[s.qOj]}),n})(),O4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:["role","img",1,"mat-mdc-chip-avatar","mdc-evolution-chip__icon","mdc-evolution-chip__icon--primary"],features:[s._Bn([{provide:A4,useExisting:n}])]}),n})(),O9=0;const P9=iv(Bm(qu(pE(class{constructor(n){this._elementRef=n}})),"primary"),-1);let Dy=(()=>{class n extends P9{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get removable(){return this._removable}set removable(e){this._removable=rn(e)}get highlighted(){return this._highlighted}set highlighted(e){this._highlighted=rn(e)}constructor(e,i,r,o,c,h,m,v){super(i),this._changeDetectorRef=e,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=m,this._isRippleCentered=!1,this._onFocus=new xt.x,this._onBlur=new xt.x,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+O9++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new s.vpe,this.destroyed=new s.vpe,this.basicChipAttrName="mat-basic-chip";const x=i.nativeElement;this._document=c,this._animationsDisabled="NoopAnimations"===h,this._isBasicChip=x.hasAttribute(this.basicChipAttrName)||x.tagName.toLowerCase()===this.basicChipAttrName,null!=v&&(this.tabIndex=parseInt(v)??this.defaultTabIndex),this._monitorFocus()}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=null!==e;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(Ti(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Nf),s.Y36(J),s.Y36(s.QbO,8),s.Y36(Ff,8),s.$8M("tabindex"))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-basic-chip"],["mat-chip"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,A4,5),s.Suo(r,k4,5),s.Suo(r,R4,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.leadingIcon=o.first),s.iGM(o=s.CRH())&&(i.trailingIcon=o.first),s.iGM(o=s.CRH())&&(i.removeIcon=o.first)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Lf,5),s.Gf(Ey,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first),s.iGM(r=s.CRH())&&(i.primaryAction=r.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)}),2&e&&(s.Ikx("id",i.id),s.uIk("role",i.role)("tabindex",i.role?i.tabIndex:null)("aria-label",i.ariaLabel),s.ekj("mdc-evolution-chip",!i._isBasicChip)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",i.leadingIcon)("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-basic-chip",i._isBasicChip)("mat-mdc-standard-chip",!i._isBasicChip)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon())("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[s._Bn([{provide:qS,useExisting:n}]),s.qOj],ngContentSelectors:g9,decls:9,vars:6,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,i){1&e&&(s.F$t(m9),s._UZ(0,"span",0)(1,"span",1),s.TgZ(2,"span",2)(3,"span",3),s.YNc(4,f9,2,0,"span",4),s.TgZ(5,"span",5),s.Hsn(6),s._UZ(7,"span",6),s.qZA()()(),s.YNc(8,p9,2,0,"span",7)),2&e&&(s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i._isRippleCentered)("matRippleTrigger",i._elementRef.nativeElement),s.xp6(3),s.Q6J("isInteractive",!1),s.xp6(1),s.Q6J("ngIf",i.leadingIcon),s.xp6(4),s.Q6J("ngIf",i._hasTrailingIcon()))},dependencies:[Sr,Lf,Ey],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__graphic{height:24px;width:24px;font-size:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__icon--primary{height:24px;width:24px;font-size:24px}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 14px 14px 14px 14px)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size, 28px);width:var(--mdc-chip-with-avatar-avatar-size, 28px);font-size:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width, 1px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-outline-width, 1px)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--selected) .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-unselected-outline-width, 1px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size, 18px);width:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, currentColor)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),QO=(()=>{class n extends Dy{constructor(){super(...arguments),this.chipListSelectable=!0,this._chipListMultiple=!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new s.vpe}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=rn(e),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(e){this._setSelectedState(rn(e),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(e=!1){return this._setSelectedState(!this.selected,e,!0),this.selected}_handlePrimaryActionInteraction(){this.selectable&&!this.disabled&&this.toggleSelected(!0)}_setSelectedState(e,i,r){e!==this.selected&&(this._selected=e,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-basic-chip-option"],["mat-chip-option"]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option","mdc-evolution-chip","mdc-evolution-chip--filter","mdc-evolution-chip--selectable","mdc-evolution-chip--with-primary-graphic"],hostVars:29,hostBindings:function(e,i){2&e&&(s.Ikx("id",i.id),s.uIk("tabindex",null)("aria-label",null)("aria-description",null)("role",i.role),s.ekj("mat-mdc-chip-selected",i.selected)("mat-mdc-chip-multiple",i._chipListMultiple)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-chip-with-avatar",i.leadingIcon)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--selected",i.selected)("mdc-evolution-chip--selecting",!i._animationsDisabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[s._Bn([{provide:Dy,useExisting:n},{provide:qS,useExisting:n}]),s.qOj],ngContentSelectors:y9,decls:15,vars:11,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,i){1&e&&(s.F$t(v9),s._UZ(0,"span",0)(1,"span",1),s.TgZ(2,"span",2)(3,"button",3)(4,"span",4),s.Hsn(5),s.TgZ(6,"span",5),s.O4$(),s.TgZ(7,"svg",6),s._UZ(8,"path",7),s.qZA()()(),s.kcU(),s.TgZ(9,"span",8),s.Hsn(10,1),s._UZ(11,"span",9),s.qZA()()(),s.YNc(12,_9,2,0,"span",10),s.TgZ(13,"span",11),s._uU(14),s.qZA()),2&e&&(s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i._isRippleCentered)("matRippleTrigger",i._elementRef.nativeElement),s.xp6(3),s.Q6J("tabIndex",i.tabIndex)("_allowFocusWhenDisabled",!0),s.uIk("aria-selected",i.ariaSelected)("aria-label",i.ariaLabel)("aria-describedby",i._ariaDescriptionId),s.xp6(9),s.Q6J("ngIf",i._hasTrailingIcon()),s.xp6(1),s.Q6J("id",i._ariaDescriptionId),s.xp6(1),s.Oqu(i.ariaDescription))},dependencies:[Sr,Lf,Ey],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__graphic{height:24px;width:24px;font-size:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__icon--primary{height:24px;width:24px;font-size:24px}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 14px 14px 14px 14px)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size, 28px);width:var(--mdc-chip-with-avatar-avatar-size, 28px);font-size:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width, 1px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-outline-width, 1px)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--selected) .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-unselected-outline-width, 1px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size, 18px);width:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, currentColor)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();class N9{constructor(t){}}const F9=iv(N9);let XO=(()=>{class n extends F9{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get disabled(){return this._disabled}set disabled(e){this._disabled=rn(e),this._syncChipsState()}get empty(){return 0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,i,r){super(e),this._elementRef=e,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new xt.x,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new s.n_E}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){const e=this.tabIndex;-1!==this.tabIndex&&(this.tabIndex=-1,Promise.resolve().then(()=>{this.tabIndex=e,this._changeDetectorRef.markForCheck()}))}_getChipStream(e){return this._chips.changes.pipe(wr(null),ti(()=>(0,fp.T)(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList&&i.classList.contains("mdc-evolution-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(wr(this._chips)).subscribe(e=>{const i=[];e.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new nE(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(sn(this._destroyed)).subscribe(({chip:e})=>{const i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(sn(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(wr(null),sn(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(sn(this._destroyed)).subscribe(e=>{const r=this._chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(hs,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-chip-set"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,Dy,5),2&e){let o;s.iGM(o=s.CRH())&&(i._chips=o)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(e,i){1&e&&s.NdJ("keydown",function(o){return i._handleKeydown(o)}),2&e&&s.uIk("role",i.role)},inputs:{disabled:"disabled",role:"role"},features:[s.qOj],ngContentSelectors:ZO,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})();class L9{constructor(t,e){this.source=t,this.value=e}}const B9={provide:_l,useExisting:(0,s.Gpc)(()=>JO),multi:!0};let JO=(()=>{class n extends XO{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(e,i)=>e===i,this._required=!1,this.change=new s.vpe}get multiple(){return this._multiple}set multiple(e){this._multiple=rn(e),this._syncListboxProperties()}get selected(){const e=this._chips.toArray().filter(i=>i.selected);return this.multiple?e:e[0]}get selectable(){return this._selectable}set selectable(e){this._selectable=rn(e),this._syncListboxProperties()}get required(){return this._required}set required(e){this._required=rn(e)}get chipSelectionChanges(){return this._getChipStream(e=>e.selectionChange)}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(wr(null),sn(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(sn(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(sn(this._destroyed)).subscribe(e=>{this.multiple||this._chips.forEach(i=>{i!==e.source&&i._setSelectedState(!1,!1,!1)}),e.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const e=this._getFirstSelectedChip();e&&!e.disabled?e.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(e){this._chips?this._setSelectionByValue(e,!1):null!=e&&(this._pendingInitialValue=e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_setSelectionByValue(e,i=!0){this._clearSelection(),Array.isArray(e)?e.forEach(r=>this._selectValue(r,i)):this._selectValue(e,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_keydown(e){9===e.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let e=null;e=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=e,this.change.emit(new L9(this,e)),this._onChange(e),this._changeDetectorRef.markForCheck()}_clearSelection(e){this._chips.forEach(i=>{i!==e&&i.deselect()})}_selectValue(e,i){const r=this._chips.find(o=>null!=o.value&&this.compareWith(o.value,e));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(e=>{e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable,e._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(e){return!e.isInteractive}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,QO,5),2&e){let o;s.iGM(o=s.CRH())&&(i._chips=o)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(o){return i._keydown(o)}),2&e&&(s.Ikx("tabIndex",i.empty?-1:i.tabIndex),s.uIk("role",i.role)("aria-describedby",i._ariaDescribedby||null)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-multiselectable",i.multiple)("aria-orientation",i.ariaOrientation),s.ekj("mat-mdc-chip-list-disabled",i.disabled)("mat-mdc-chip-list-required",i.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",value:"value"},outputs:{change:"change"},features:[s._Bn([B9]),s.qOj],ngContentSelectors:ZO,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})(),G9=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_E,{provide:M4,useValue:{separatorKeyCodes:[13]}}],imports:[xn,Jn,rv,xn]}),n})();const pn=function(n){return{background:n}};function q9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-chip-option",49),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.selectTeamMember(o))}),s._UZ(1,"img",50),s._uU(2),s.qZA()}if(2&n){const e=t.$implicit;s.Q6J("ngStyle",s.VKq(3,pn,e.color)),s.xp6(1),s.Q6J("src",e.pictureUrl,s.LSH),s.xp6(1),s.hij(" ",e.name," ")}}function W9(n,t){1&n&&s._UZ(0,"th",51)}function Y9(n,t){if(1&n&&(s.TgZ(0,"td",52),s._uU(1),s.qZA()),2&n){const e=t.$implicit;s.xp6(1),s.Oqu(e.month)}}function K9(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"S"),s.qZA())}function Z9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.sun1))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.sun1))("matTooltip",i.getTooltip(e.sun1))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.sun1?null:e.sun1.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.sun1?null:e.sun1.displayText,"")}}function Q9(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"M"),s.qZA())}function X9(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.mon1))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.mon1))("matTooltip",i.getTooltip(e.mon1))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.mon1?null:e.mon1.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.mon1?null:e.mon1.displayText,"")}}function J9(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"T"),s.qZA())}function eY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.tue1))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.tue1))("matTooltip",i.getTooltip(e.tue1))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.tue1?null:e.tue1.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.tue1?null:e.tue1.displayText,"")}}function tY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"W"),s.qZA())}function nY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.wed1))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.wed1))("matTooltip",i.getTooltip(e.wed1))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.wed1?null:e.wed1.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.wed1?null:e.wed1.displayText,"")}}function iY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"T"),s.qZA())}function rY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.thu1))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.thu1))("matTooltip",i.getTooltip(e.thu1))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.thu1?null:e.thu1.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.thu1?null:e.thu1.displayText,"")}}function oY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"F"),s.qZA())}function sY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.fri1))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.fri1))("matTooltip",i.getTooltip(e.fri1))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.fri1?null:e.fri1.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.fri1?null:e.fri1.displayText,"")}}function aY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"S"),s.qZA())}function lY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.sat1))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.sat1))("matTooltip",i.getTooltip(e.sat1))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.sat1?null:e.sat1.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.sat1?null:e.sat1.displayText,"")}}function cY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"S"),s.qZA())}function dY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.sun2))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.sun2))("matTooltip",i.getTooltip(e.sun2))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.sun2?null:e.sun2.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.sun2?null:e.sun2.displayText,"")}}function uY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"M"),s.qZA())}function hY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.mon2))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.mon2))("matTooltip",i.getTooltip(e.mon2))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.mon2?null:e.mon2.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.mon2?null:e.mon2.displayText,"")}}function fY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"T"),s.qZA())}function pY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.tue2))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.tue2))("matTooltip",i.getTooltip(e.tue2))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.tue2?null:e.tue2.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.tue2?null:e.tue2.displayText,"")}}function mY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"W"),s.qZA())}function gY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.wed2))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.wed2))("matTooltip",i.getTooltip(e.wed2))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.wed2?null:e.wed2.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.wed2?null:e.wed2.displayText,"")}}function _Y(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"T"),s.qZA())}function vY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.thu2))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.thu2))("matTooltip",i.getTooltip(e.thu2))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.thu2?null:e.thu2.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.thu2?null:e.thu2.displayText,"")}}function yY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"F"),s.qZA())}function bY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.fri2))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.fri2))("matTooltip",i.getTooltip(e.fri2))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.fri2?null:e.fri2.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.fri2?null:e.fri2.displayText,"")}}function wY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"S"),s.qZA())}function xY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.sat2))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.sat2))("matTooltip",i.getTooltip(e.sat2))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.sat2?null:e.sat2.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.sat2?null:e.sat2.displayText,"")}}function CY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"S"),s.qZA())}function EY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.sun3))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.sun3))("matTooltip",i.getTooltip(e.sun3))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.sun3?null:e.sun3.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.sun3?null:e.sun3.displayText,"")}}function DY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"M"),s.qZA())}function SY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.mon3))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.mon3))("matTooltip",i.getTooltip(e.mon3))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.mon3?null:e.mon3.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.mon3?null:e.mon3.displayText,"")}}function IY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"T"),s.qZA())}function TY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.tue3))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.tue3))("matTooltip",i.getTooltip(e.tue3))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.tue3?null:e.tue3.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.tue3?null:e.tue3.displayText,"")}}function MY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"W"),s.qZA())}function AY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.wed3))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.wed3))("matTooltip",i.getTooltip(e.wed3))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.wed3?null:e.wed3.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.wed3?null:e.wed3.displayText,"")}}function kY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"T"),s.qZA())}function RY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.thu3))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.thu3))("matTooltip",i.getTooltip(e.thu3))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.thu3?null:e.thu3.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.thu3?null:e.thu3.displayText,"")}}function OY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"F"),s.qZA())}function PY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.fri3))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.fri3))("matTooltip",i.getTooltip(e.fri3))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.fri3?null:e.fri3.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.fri3?null:e.fri3.displayText,"")}}function NY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"S"),s.qZA())}function FY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.sat3))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.sat3))("matTooltip",i.getTooltip(e.sat3))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.sat3?null:e.sat3.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.sat3?null:e.sat3.displayText,"")}}function LY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"S"),s.qZA())}function BY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.sun4))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.sun4))("matTooltip",i.getTooltip(e.sun4))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.sun4?null:e.sun4.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.sun4?null:e.sun4.displayText,"")}}function VY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"M"),s.qZA())}function UY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.mon4))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.mon4))("matTooltip",i.getTooltip(e.mon4))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.mon4?null:e.mon4.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.mon4?null:e.mon4.displayText,"")}}function HY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"T"),s.qZA())}function jY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.tue4))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.tue4))("matTooltip",i.getTooltip(e.tue4))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.tue4?null:e.tue4.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.tue4?null:e.tue4.displayText,"")}}function zY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"W"),s.qZA())}function $Y(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.wed4))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.wed4))("matTooltip",i.getTooltip(e.wed4))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.wed4?null:e.wed4.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.wed4?null:e.wed4.displayText,"")}}function GY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"T"),s.qZA())}function qY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.thu4))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.thu4))("matTooltip",i.getTooltip(e.thu4))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.thu4?null:e.thu4.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.thu4?null:e.thu4.displayText,"")}}function WY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"F"),s.qZA())}function YY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.fri4))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.fri4))("matTooltip",i.getTooltip(e.fri4))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.fri4?null:e.fri4.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.fri4?null:e.fri4.displayText,"")}}function KY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"S"),s.qZA())}function ZY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.sat4))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.sat4))("matTooltip",i.getTooltip(e.sat4))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.sat4?null:e.sat4.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.sat4?null:e.sat4.displayText,"")}}function QY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"S"),s.qZA())}function XY(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.sun5))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.sun5))("matTooltip",i.getTooltip(e.sun5))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.sun5?null:e.sun5.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.sun5?null:e.sun5.displayText,"")}}function JY(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"M"),s.qZA())}function eK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.mon5))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.mon5))("matTooltip",i.getTooltip(e.mon5))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.mon5?null:e.mon5.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.mon5?null:e.mon5.displayText,"")}}function tK(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"T"),s.qZA())}function nK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.tue5))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.tue5))("matTooltip",i.getTooltip(e.tue5))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.tue5?null:e.tue5.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.tue5?null:e.tue5.displayText,"")}}function iK(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"W"),s.qZA())}function rK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.wed5))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.wed5))("matTooltip",i.getTooltip(e.wed5))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.wed5?null:e.wed5.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.wed5?null:e.wed5.displayText,"")}}function oK(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"T"),s.qZA())}function sK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.thu5))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.thu5))("matTooltip",i.getTooltip(e.thu5))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.thu5?null:e.thu5.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.thu5?null:e.thu5.displayText,"")}}function aK(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"F"),s.qZA())}function lK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.fri5))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.fri5))("matTooltip",i.getTooltip(e.fri5))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.fri5?null:e.fri5.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.fri5?null:e.fri5.displayText,"")}}function cK(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"S"),s.qZA())}function dK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.sat5))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.sat5))("matTooltip",i.getTooltip(e.sat5))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.sat5?null:e.sat5.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.sat5?null:e.sat5.displayText,"")}}function uK(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"S"),s.qZA())}function hK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.sun6))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.sun6))("matTooltip",i.getTooltip(e.sun6))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.sun6?null:e.sun6.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.sun6?null:e.sun6.displayText,"")}}function fK(n,t){1&n&&(s.TgZ(0,"th",51),s._uU(1,"M"),s.qZA())}function pK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",53),s.NdJ("click",function(){const o=s.CHM(e).$implicit,c=s.oxw();return s.KtG(c.toggleEvent(o.mon6))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit,i=s.oxw();s.Q6J("ngClass",i.getCellClasses(e.mon6))("matTooltip",i.getTooltip(e.mon6))("ngStyle",s.VKq(4,pn,i.getBackgroundColor(null==e.mon6?null:e.mon6.vacationingMembers))),s.xp6(1),s.hij(" ",null==e.mon6?null:e.mon6.displayText,"")}}function mK(n,t){1&n&&s._UZ(0,"tr",54)}function gK(n,t){1&n&&s._UZ(0,"tr",55)}const _K=function(n){return{border:n}};class $w{constructor(t){this.ds=t,this.selectedMemberColor="transparent",this.displayedColumns=["month","sun1","mon1","tue1","wed1","thu1","fri1","sat1","sun2","mon2","tue2","wed2","thu2","fri2","sat2","sun3","mon3","tue3","wed3","thu3","fri3","sat3","sun4","mon4","tue4","wed4","thu4","fri4","sat4","sun5","mon5","tue5","wed5","thu5","fri5","sat5","sun6","mon6"],this.dataSource=t}ngAfterViewInit(){}getCellClasses(t){var e=new Date,i=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=t?.displayText?"validday":"";return r+=t?.holiday?" holiday":"",(r+=t?.date.getTime()==i.getTime()?" today":"")+(t?.date.getTime()<i.getTime()?" pastdate":"")}getTooltip(t){var e=t?.holiday??"";if(t?.vacationingMembers)for(var i=0;i<t.vacationingMembers?.length;i++)e+=" - "+t.vacationingMembers[i].name+" on vacation";return e}getBackgroundColor(t){if(!t||0==t.length)return"";if(1==t.length)return t[0].color;for(var e=0,i=100/t.length,r="linear-gradient(45deg",o=0;o<t.length;o++)r+=", "+t[o].color+" "+e+"% "+(e+i)+"% ",e+=i;return r+")"}selectTeamMember(t){this.selectedMemberColor=this.selectedMemberColor==t.color?"transparent":t.color,this.selectedMember?.id==t.id?(this.dataSource.selectMember(void 0),this.selectedMember=void 0):(this.dataSource.selectMember(t),this.selectedMember=t)}toggleEvent(t){}}$w.\u0275fac=function(t){return new(t||$w)(s.Y36(xy))},$w.\u0275cmp=s.Xpm({type:$w,selectors:[["app-main-table"]],viewQuery:function(t,e){if(1&t&&s.Gf(Hm,5),2&t){let i;s.iGM(i=s.CRH())&&(e.table=i.first)}},decls:123,vars:7,consts:[["cols","1","rowHeight","1rem"],["rowspan","7"],[3,"ngStyle","click",4,"ngFor","ngForOf"],["rowspan","39"],["tabindex","0",1,"mat-elevation-z8",3,"ngStyle"],["mat-table","",3,"dataSource"],["matColumnDef","month","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","sun1"],["mat-cell","",3,"ngClass","matTooltip","ngStyle","click",4,"matCellDef"],["matColumnDef","mon1"],["matColumnDef","tue1"],["matColumnDef","wed1"],["matColumnDef","thu1"],["matColumnDef","fri1"],["matColumnDef","sat1"],["matColumnDef","sun2"],["matColumnDef","mon2"],["matColumnDef","tue2"],["matColumnDef","wed2"],["matColumnDef","thu2"],["matColumnDef","fri2"],["matColumnDef","sat2"],["matColumnDef","sun3"],["matColumnDef","mon3"],["matColumnDef","tue3"],["matColumnDef","wed3"],["matColumnDef","thu3"],["matColumnDef","fri3"],["matColumnDef","sat3"],["matColumnDef","sun4"],["matColumnDef","mon4"],["matColumnDef","tue4"],["matColumnDef","wed4"],["matColumnDef","thu4"],["matColumnDef","fri4"],["matColumnDef","sat4"],["matColumnDef","sun5"],["matColumnDef","mon5"],["matColumnDef","tue5"],["matColumnDef","wed5"],["matColumnDef","thu5"],["matColumnDef","fri5"],["matColumnDef","sat5"],["matColumnDef","sun6"],["matColumnDef","mon6"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"ngStyle","click"],["matChipAvatar","",3,"src"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"ngClass","matTooltip","ngStyle","click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(s.TgZ(0,"mat-grid-list",0)(1,"mat-grid-tile",1)(2,"mat-chip-listbox"),s.YNc(3,q9,3,5,"mat-chip-option",2),s.qZA()(),s.TgZ(4,"mat-grid-tile",3)(5,"section",4)(6,"table",5),s.ynx(7,6),s.YNc(8,W9,1,0,"th",7),s.YNc(9,Y9,2,1,"td",8),s.BQk(),s.ynx(10,9),s.YNc(11,K9,2,0,"th",7),s.YNc(12,Z9,2,6,"td",10),s.BQk(),s.ynx(13,11),s.YNc(14,Q9,2,0,"th",7),s.YNc(15,X9,2,6,"td",10),s.BQk(),s.ynx(16,12),s.YNc(17,J9,2,0,"th",7),s.YNc(18,eY,2,6,"td",10),s.BQk(),s.ynx(19,13),s.YNc(20,tY,2,0,"th",7),s.YNc(21,nY,2,6,"td",10),s.BQk(),s.ynx(22,14),s.YNc(23,iY,2,0,"th",7),s.YNc(24,rY,2,6,"td",10),s.BQk(),s.ynx(25,15),s.YNc(26,oY,2,0,"th",7),s.YNc(27,sY,2,6,"td",10),s.BQk(),s.ynx(28,16),s.YNc(29,aY,2,0,"th",7),s.YNc(30,lY,2,6,"td",10),s.BQk(),s.ynx(31,17),s.YNc(32,cY,2,0,"th",7),s.YNc(33,dY,2,6,"td",10),s.BQk(),s.ynx(34,18),s.YNc(35,uY,2,0,"th",7),s.YNc(36,hY,2,6,"td",10),s.BQk(),s.ynx(37,19),s.YNc(38,fY,2,0,"th",7),s.YNc(39,pY,2,6,"td",10),s.BQk(),s.ynx(40,20),s.YNc(41,mY,2,0,"th",7),s.YNc(42,gY,2,6,"td",10),s.BQk(),s.ynx(43,21),s.YNc(44,_Y,2,0,"th",7),s.YNc(45,vY,2,6,"td",10),s.BQk(),s.ynx(46,22),s.YNc(47,yY,2,0,"th",7),s.YNc(48,bY,2,6,"td",10),s.BQk(),s.ynx(49,23),s.YNc(50,wY,2,0,"th",7),s.YNc(51,xY,2,6,"td",10),s.BQk(),s.ynx(52,24),s.YNc(53,CY,2,0,"th",7),s.YNc(54,EY,2,6,"td",10),s.BQk(),s.ynx(55,25),s.YNc(56,DY,2,0,"th",7),s.YNc(57,SY,2,6,"td",10),s.BQk(),s.ynx(58,26),s.YNc(59,IY,2,0,"th",7),s.YNc(60,TY,2,6,"td",10),s.BQk(),s.ynx(61,27),s.YNc(62,MY,2,0,"th",7),s.YNc(63,AY,2,6,"td",10),s.BQk(),s.ynx(64,28),s.YNc(65,kY,2,0,"th",7),s.YNc(66,RY,2,6,"td",10),s.BQk(),s.ynx(67,29),s.YNc(68,OY,2,0,"th",7),s.YNc(69,PY,2,6,"td",10),s.BQk(),s.ynx(70,30),s.YNc(71,NY,2,0,"th",7),s.YNc(72,FY,2,6,"td",10),s.BQk(),s.ynx(73,31),s.YNc(74,LY,2,0,"th",7),s.YNc(75,BY,2,6,"td",10),s.BQk(),s.ynx(76,32),s.YNc(77,VY,2,0,"th",7),s.YNc(78,UY,2,6,"td",10),s.BQk(),s.ynx(79,33),s.YNc(80,HY,2,0,"th",7),s.YNc(81,jY,2,6,"td",10),s.BQk(),s.ynx(82,34),s.YNc(83,zY,2,0,"th",7),s.YNc(84,$Y,2,6,"td",10),s.BQk(),s.ynx(85,35),s.YNc(86,GY,2,0,"th",7),s.YNc(87,qY,2,6,"td",10),s.BQk(),s.ynx(88,36),s.YNc(89,WY,2,0,"th",7),s.YNc(90,YY,2,6,"td",10),s.BQk(),s.ynx(91,37),s.YNc(92,KY,2,0,"th",7),s.YNc(93,ZY,2,6,"td",10),s.BQk(),s.ynx(94,38),s.YNc(95,QY,2,0,"th",7),s.YNc(96,XY,2,6,"td",10),s.BQk(),s.ynx(97,39),s.YNc(98,JY,2,0,"th",7),s.YNc(99,eK,2,6,"td",10),s.BQk(),s.ynx(100,40),s.YNc(101,tK,2,0,"th",7),s.YNc(102,nK,2,6,"td",10),s.BQk(),s.ynx(103,41),s.YNc(104,iK,2,0,"th",7),s.YNc(105,rK,2,6,"td",10),s.BQk(),s.ynx(106,42),s.YNc(107,oK,2,0,"th",7),s.YNc(108,sK,2,6,"td",10),s.BQk(),s.ynx(109,43),s.YNc(110,aK,2,0,"th",7),s.YNc(111,lK,2,6,"td",10),s.BQk(),s.ynx(112,44),s.YNc(113,cK,2,0,"th",7),s.YNc(114,dK,2,6,"td",10),s.BQk(),s.ynx(115,45),s.YNc(116,uK,2,0,"th",7),s.YNc(117,hK,2,6,"td",10),s.BQk(),s.ynx(118,46),s.YNc(119,fK,2,0,"th",7),s.YNc(120,pK,2,6,"td",10),s.BQk(),s.YNc(121,mK,1,0,"tr",47),s.YNc(122,gK,1,0,"tr",48),s.qZA()()()()),2&t&&(s.xp6(3),s.Q6J("ngForOf",e.dataSource.teamMembers),s.xp6(2),s.Q6J("ngStyle",s.VKq(5,_K,"5px solid "+e.selectedMemberColor)),s.xp6(1),s.Q6J("dataSource",e.dataSource.data),s.xp6(115),s.Q6J("matHeaderRowDef",e.displayedColumns),s.xp6(1),s.Q6J("matRowDefColumns",e.displayedColumns))},dependencies:[zt,Sa,xs,Hm,h0,jm,Yu,Bs,EE,f0,p0,DE,m0,pW,XU,QW,O4,JO,QO],styles:[".validday[_ngcontent-%COMP%]{background-color:#f0f8ff;transition-duration:.2s}.validday[_ngcontent-%COMP%]:hover{background-color:#3f51b5;color:#fff;cursor:pointer;border-radius:25px}.mat-elevation-z8[_ngcontent-%COMP%]{overflow-x:auto}.mat-column-sun1[_ngcontent-%COMP%], .mat-column-sat1[_ngcontent-%COMP%], .mat-column-sun2[_ngcontent-%COMP%], .mat-column-sat2[_ngcontent-%COMP%], .mat-column-sun3[_ngcontent-%COMP%], .mat-column-sat3[_ngcontent-%COMP%], .mat-column-sun4[_ngcontent-%COMP%], .mat-column-sat4[_ngcontent-%COMP%], .mat-column-sun5[_ngcontent-%COMP%], .mat-column-sat5[_ngcontent-%COMP%], .mat-column-sun6[_ngcontent-%COMP%]{background-color:#edeaea;color:gray}td[_ngcontent-%COMP%]{text-align:center}tr[_ngcontent-%COMP%]{height:47px!important}.mat-mdc-chip-listbox[_ngcontent-%COMP%]{padding:0 2em}.mat-mdc-chip-selected[_ngcontent-%COMP%]{font-size:20px;height:50px;border-radius:25px}table[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.button-margin[_ngcontent-%COMP%]{margin-left:30px}.pastdate[_ngcontent-%COMP%]{background-color:#fff;color:#d3d3d3}.holiday[_ngcontent-%COMP%]{background-color:#ffa07a!important;color:#fff}.today[_ngcontent-%COMP%]{background-color:red!important;color:#fff;border-radius:30px}.mat-mdc-table[_ngcontent-%COMP%]{height:47px}"]});const vK=[{path:"",children:[{path:"",component:$w}]}];class Sy{}Sy.\u0275fac=function(t){return new(t||Sy)},Sy.\u0275mod=s.oAB({type:Sy}),Sy.\u0275inj=s.cJS({imports:[mC.forRoot(vK),mC]});const yK=["*",[["mat-toolbar-row"]]],bK=["*","mat-toolbar-row"],wK=Bm(class{constructor(n){this._elementRef=n}});let xK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),CK=(()=>{class n extends wK{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Mi),s.Y36(J))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,xK,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:bK,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(yK),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),EK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,xn]}),n})();const SK=["mat-icon-button",""],IK=["*"],TK=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],MK=Bm(pE(qu(class{constructor(n){this._elementRef=n}})));let AK=(()=>{class n extends MK{constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,s.f3M)(Nf),this._isFab=!1;const c=e.nativeElement.classList;for(const h of TK)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(m=>{c.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(Lf,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},features:[s.qOj]}),n})(),OK=(()=>{class n extends AK{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Mi),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:SK,ngContentSelectors:IK,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(s.F$t(),s._UZ(0,"span",0),s.Hsn(1),s._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(s.xp6(3),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Lf],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),N4=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,rv,xn]}),n})();const YS=["*"],PK=["content"];function NK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function FK(n,t){1&n&&(s.TgZ(0,"mat-drawer-content"),s.Hsn(1,2),s.qZA())}const LK=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],BK=["mat-drawer","mat-drawer-content","*"];function VK(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._onBackdropClicked())}),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function UK(n,t){1&n&&(s.TgZ(0,"mat-sidenav-content"),s.Hsn(1,2),s.qZA())}const HK=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],jK=["mat-sidenav","mat-sidenav-content","*"],F4={transformDrawer:Sc("transform",[so("open, open-instant",Fn({transform:"none",visibility:"visible"})),so("void",Fn({"box-shadow":"none",visibility:"hidden"})),ao("void => open-instant",zo("0ms")),ao("void <=> open, open-instant => void",zo("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},$K=new s.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function GK(){return!1}}),eP=new s.OlP("MAT_DRAWER_CONTAINER");let KS=(()=>{class n extends Uu{constructor(e,i,r,o,c){super(r,o,c),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>B4)),s.Y36(s.SBq),s.Y36(Vu),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:Uu,useExisting:n}]),s.qOj],ngContentSelectors:YS,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),L4=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=rn(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=rn(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(rn(e))}constructor(e,i,r,o,c,h,m,v){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=c,this._interactivityChecker=h,this._doc=m,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new xt.x,this._animationEnd=new xt.x,this._animationState="void",this.openedChange=new s.vpe(!0),this._openedStream=this.openedChange.pipe(An(x=>x),(0,nt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(An(x=>x.fromState!==x.toState&&0===x.toState.indexOf("open")),yd(void 0)),this._closedStream=this.openedChange.pipe(An(x=>!x),(0,nt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(An(x=>x.fromState!==x.toState&&"void"===x.toState),yd(void 0)),this._destroyed=new xt.x,this.onPositionChanged=new s.vpe,this._modeChanged=new xt.x,this.openedChange.subscribe(x=>{x?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{mm(this._elementRef.nativeElement,"keydown").pipe(An(x=>27===x.keyCode&&!this.disableClose&&!$n(x)),sn(this._destroyed)).subscribe(x=>this._ngZone.run(()=>{this.close(),x.stopPropagation(),x.preventDefault()}))}),this._animationEnd.pipe(Nm((x,I)=>x.fromState===I.fromState&&x.toState===I.toState)).subscribe(x=>{const{fromState:I,toState:R}=x;(0===R.indexOf("open")&&"void"===I||"void"===R&&0===I.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Ti(1)).subscribe(c=>o(c?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(sL),s.Y36(Nf),s.Y36(Mi),s.Y36(s.R0b),s.Y36(JM),s.Y36(J,8),s.Y36(eP,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&s.Gf(PK,5),2&e){let r;s.iGM(r=s.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&s.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(s.uIk("align",null),s.d8E("@transform",i._animationState),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:YS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[Uu],encapsulation:2,data:{animation:[F4.transformDrawer]},changeDetection:0}),n})(),B4=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=rn(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:rn(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,c,h=!1,m){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=m,this._drawers=new s.n_E,this.backdropClick=new s.vpe,this._destroyed=new xt.x,this._doCheckSubject=new xt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new xt.x,e&&e.change.pipe(sn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),c.change().pipe(sn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}ngAfterContentInit(){this._allDrawers.changes.pipe(wr(this._allDrawers),sn(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(wr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Wb(10),sn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(An(i=>i.fromState!==i.toState),sn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(sn(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(sn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ti(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(sn((0,fp.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(hs,8),s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(s.sBO),s.Y36(xf),s.Y36($K),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,KS,5),s.Suo(r,L4,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(KS,5),2&e){let r;s.iGM(r=s.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[s._Bn([{provide:eP,useExisting:n}])],ngContentSelectors:BK,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(LK),s.YNc(0,NK,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,FK,2,0,"mat-drawer-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Sr,KS],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),tP=(()=>{class n extends KS{constructor(e,i,r,o,c){super(e,i,r,o,c)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36((0,s.Gpc)(()=>U4)),s.Y36(s.SBq),s.Y36(Vu),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&s.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[s._Bn([{provide:Uu,useExisting:n}]),s.qOj],ngContentSelectors:YS,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),V4=(()=>{class n extends L4{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=rn(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Ls(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Ls(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(s.uIk("align",null),s.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),s.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[s.qOj],ngContentSelectors:YS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0,1),s.Hsn(2),s.qZA())},dependencies:[Uu],encapsulation:2,data:{animation:[F4.transformDrawer]},changeDetection:0}),n})(),U4=(()=>{class n extends B4{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,tP,5),s.Suo(r,V4,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._content=o.first),s.iGM(o=s.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[s._Bn([{provide:eP,useExisting:n}]),s.qOj],ngContentSelectors:jK,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(s.F$t(HK),s.YNc(0,VK,1,2,"div",0),s.Hsn(1),s.Hsn(2,1),s.YNc(3,UK,2,0,"mat-sidenav-content",1)),2&e&&(s.Q6J("ngIf",i.hasBackdrop),s.xp6(3),s.Q6J("ngIf",!i._content))},dependencies:[Sr,tP],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),qK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Jn,xn,Ef,Ef,xn]}),n})();class nP{}class gp{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),c=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof gp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new gp;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof gp?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let c=this.headers.get(e);if(!c)return;c=c.filter(h=>-1===o.indexOf(h)),0===c.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,c)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class WK{encodeKey(t){return j4(t)}encodeValue(t){return j4(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const KK=/%(\d[a-f0-9])/gi,ZK={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function j4(n){return encodeURIComponent(n).replace(KK,(t,e)=>ZK[e]??t)}function ZS(n){return`${n}`}class _p{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new WK,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function YK(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[c,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],m=e.get(c)||[];m.push(h),e.set(c,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(ZS):[ZS(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new _p({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(ZS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(ZS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class QK{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function z4(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function $4(n){return typeof Blob<"u"&&n instanceof Blob}function G4(n){return typeof FormData<"u"&&n instanceof FormData}class Gw{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function XK(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new gp),this.context||(this.context=new QK),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+c}}else this.params=new _p,this.urlWithParams=e}serializeBody(){return null===this.body?null:z4(this.body)||$4(this.body)||G4(this.body)||function JK(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _p?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||G4(this.body)?null:$4(this.body)?this.body.type||null:z4(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _p?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,c=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let m=t.headers||this.headers,v=t.params||this.params;const x=t.context??this.context;return void 0!==t.setHeaders&&(m=Object.keys(t.setHeaders).reduce((I,R)=>I.set(R,t.setHeaders[R]),m)),t.setParams&&(v=Object.keys(t.setParams).reduce((I,R)=>I.set(R,t.setParams[R]),v)),new Gw(e,i,o,{params:v,headers:m,context:x,reportProgress:h,responseType:r,withCredentials:c})}}var Do=(()=>((Do=Do||{})[Do.Sent=0]="Sent",Do[Do.UploadProgress=1]="UploadProgress",Do[Do.ResponseHeader=2]="ResponseHeader",Do[Do.DownloadProgress=3]="DownloadProgress",Do[Do.Response=4]="Response",Do[Do.User=5]="User",Do))();class eZ{constructor(t,e=200,i="OK"){this.headers=t.headers||new gp,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class iP extends eZ{constructor(t={}){super(t),this.type=Do.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new iP({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function rP(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let oP=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Gw)o=e;else{let m,v;m=r.headers instanceof gp?r.headers:new gp(r.headers),r.params&&(v=r.params instanceof _p?r.params:new _p({fromObject:r.params})),o=new Gw(e,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const c=Qe(o).pipe(as(m=>this.handler.handle(m)));if(e instanceof Gw||"events"===r.observe)return c;const h=c.pipe(An(m=>m instanceof iP));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,nt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,nt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,nt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,nt.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new _p).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,rP(r,i))}post(e,i,r={}){return this.request("POST",e,rP(r,i))}put(e,i,r={}){return this.request("PUT",e,rP(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nP))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const fZ=["*"];let XS;function qw(n){return function pZ(){if(void 0===XS&&(XS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(XS=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return XS}()?.createHTML(n)||n}function J4(n){return Error(`Unable to find icon with the name "${n}"`)}function e3(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function t3(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ag{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let JS=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Ag(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const c=this._sanitizer.sanitize(s.q3G.HTML,r);if(!c)throw t3(r);const h=qw(c);return this._addSvgIconConfig(e,i,new Ag("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Ag(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw t3(i);const c=qw(o);return this._addSvgIconSetConfig(e,new Ag("",c,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw e3(e);const r=this._cachedIconsByUrl.get(i);return r?Qe(eI(r)):this._loadSvgIconFromConfig(new Ag(e,null)).pipe((0,gi.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,nt.U)(o=>eI(o)))}getNamedSvgIcon(e,i=""){const r=n3(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const c=this._iconSetConfigs.get(i);return c?this._getSvgFromIconSetConfigs(e,c):os(J4(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Qe(eI(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,nt.U)(i=>eI(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Qe(r):function wH(...n){const t=(0,qr.jO)(n),{args:e,keys:i}=za(n),r=new ei.y(o=>{const{length:c}=e;if(!c)return void o.complete();const h=new Array(c);let m=c,v=c;for(let x=0;x<c;x++){let I=!1;(0,Rs.Xf)(e[x]).subscribe((0,Pn.x)(o,R=>{I||(I=!0,v--),h[x]=R},()=>m--,void 0,()=>{(!m||!I)&&(v||o.next(i?Uh(i,h):h),o.complete())}))}});return t?r.pipe(is(t)):r}(i.filter(c=>!c.svgText).map(c=>this._loadSvgIconSetFromConfig(c).pipe(ls(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,c.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),Qe(null)})))).pipe((0,nt.U)(()=>{const c=this._extractIconWithNameFromAnySet(e,i);if(!c)throw J4(e);return c}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const c=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(c,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,gi.b)(i=>e.svgText=i),(0,nt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Qe(null):this._fetchIcon(e).pipe((0,gi.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const c=o.cloneNode(!0);if(c.removeAttribute("id"),"svg"===c.nodeName.toLowerCase())return this._setSvgAttributes(c,r);if("symbol"===c.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(c),r);const h=this._svgElementFromString(qw("<svg></svg>"));return h.appendChild(c),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(qw("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:c,value:h}=r[o];"id"!==c&&i.setAttribute(c,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function mZ(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const c=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!c)throw e3(i);const h=this._inProgressUrlFetches.get(c);if(h)return h;const m=this._httpClient.get(c,{responseType:"text",withCredentials:o}).pipe((0,nt.U)(v=>qw(v)),xr(()=>this._inProgressUrlFetches.delete(c)),(0,qR.B)());return this._inProgressUrlFetches.set(c,m),m}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(n3(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return _Z(o)?new Ag(o.url,null,o.options):new Ag(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oP,8),s.LFG(Ha),s.LFG(J,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eI(n){return n.cloneNode(!0)}function n3(n,t){return n+":"+t}function _Z(n){return!(!n.url||!n.options)}const vZ=Bm(class{constructor(n){this._elementRef=n}}),yZ=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),bZ=new s.OlP("mat-icon-location",{providedIn:"root",factory:function wZ(){const n=(0,s.f3M)(J),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),r3=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],xZ=r3.map(n=>`[${n}]`).join(", "),CZ=/^url\(['"]?#(.*?)['"]?\)$/;let EZ=(()=>{class n extends vZ{get inline(){return this._inline}set inline(e){this._inline=rn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,c,h){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=c,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=ss.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(c=>{o.setAttribute(c.name,`url('${e}#${c.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(xZ),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)r3.forEach(c=>{const h=i[o],m=h.getAttribute(c),v=m?m.match(CZ):null;if(v){let x=r.get(h);x||(x=[],r.set(h,x)),x.push({name:c,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ti(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(JS),s.$8M("aria-hidden"),s.Y36(bZ),s.Y36(s.qLn),s.Y36(yZ,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:fZ,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),DZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,xn]}),n})(),SZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xn,xn]}),n})();const o3=["*"],a3=["unscopedContent"],IZ=["text"],TZ=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],MZ=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],l3=new s.OlP("ListOption");let c3=(()=>{class n{constructor(e){this._elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),d3=(()=>{class n{constructor(e){this._elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),WZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),u3=(()=>{class n{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(l3,8))},n.\u0275dir=s.lG2({type:n,hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),YZ=(()=>{class n extends u3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[s.qOj]}),n})(),KZ=(()=>{class n extends u3{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[s.qOj]}),n})();const ZZ=new s.OlP("MAT_LIST_CONFIG");let My=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,s.f3M)(ZZ,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=rn(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=rn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),aP=(()=>{class n{set lines(e){this._explicitLines=Ls(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=rn(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=rn(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,r,o,c,h){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new ss.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=c||{},this._hostElement=this._elementRef.nativeElement,this._noopAnimations="NoopAnimations"===h,r&&!r._isNonInteractive&&this._initInteractiveListItem(),"button"===this._hostElement.nodeName.toLowerCase()&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Wu(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,fp.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(My,8),s.Y36(Mi),s.Y36(Ff,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,YZ,4),s.Suo(r,KZ,4)),2&e){let o;s.iGM(o=s.CRH())&&(i._avatars=o),s.iGM(o=s.CRH())&&(i._icons=o)}},hostVars:3,hostBindings:function(e,i){2&e&&(s.uIk("aria-disabled",i.disabled),s.ekj("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),QZ=(()=>{class n extends aP{get activated(){return this._activated}set activated(e){this._activated=rn(e)}constructor(e,i,r,o,c,h){super(e,i,r,o,c,h),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(My,8),s.Y36(Mi),s.Y36(Ff,8),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,d3,5),s.Suo(r,c3,5),s.Suo(r,WZ,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._lines=o),s.iGM(o=s.CRH())&&(i._titles=o),s.iGM(o=s.CRH())&&(i._meta=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(a3,5),s.Gf(IZ,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._unscopedContent=r.first),s.iGM(r=s.CRH())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(e,i){2&e&&(s.uIk("aria-current",i._getAriaCurrent()),s.ekj("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[s.qOj],ngContentSelectors:MZ,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(e,i){1&e&&(s.F$t(TZ),s.Hsn(0),s.TgZ(1,"span",0),s.Hsn(2,1),s.Hsn(3,2),s.TgZ(4,"span",1,2),s.NdJ("cdkObserveContent",function(){return i._updateItemLines(!0)}),s.Hsn(6,3),s.qZA()(),s.Hsn(7,4),s.Hsn(8,5),s._UZ(9,"div",3))},dependencies:[Zb],encapsulation:2,changeDetection:0}),n})(),JZ=(()=>{class n extends My{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[s._Bn([{provide:My,useExisting:n}]),s.qOj],ngContentSelectors:o3,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:24px;height:24px}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-image .mdc-list-item__start{width:56px;height:56px}.mdc-list-item--with-leading-video .mdc-list-item__start{width:100px;height:56px}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-radio .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-switch .mdc-list-item__start{width:36px;height:20px}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:24px;height:24px}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{width:40px;height:40px}.mdc-list-item--with-trailing-radio .mdc-list-item__end{width:40px;height:40px}.mdc-list-item--with-trailing-switch .mdc-list-item__end{width:36px;height:20px}.mdc-list-divider{height:1px}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),n})(),iQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Z_,Jn,xn,rv,xE,SZ]}),n})();class Ww{constructor(t){this.breakpointObserver=t,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,nt.U)(e=>e.matches),WR())}}Ww.\u0275fac=function(t){return new(t||Ww)(s.Y36(QC))},Ww.\u0275cmp=s.Xpm({type:Ww,selectors:[["app-app-navigation"]],decls:16,vars:0,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav"],["drawer",""],["color","primary"],["mat-list-item","","routerLink","/",3,"click"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(t,e){if(1&t){const i=s.EpF();s.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar",3),s._uU(4,"Menu"),s.qZA(),s.TgZ(5,"mat-nav-list")(6,"a",4),s.NdJ("click",function(){s.CHM(i);const o=s.MAs(2);return s.KtG(o.toggle())}),s._uU(7,"Table"),s.qZA()()(),s.TgZ(8,"mat-sidenav-content")(9,"mat-toolbar",3)(10,"button",5),s.NdJ("click",function(){s.CHM(i);const o=s.MAs(2);return s.KtG(o.toggle())}),s.TgZ(11,"mat-icon",6),s._uU(12,"menu"),s.qZA()(),s.TgZ(13,"span"),s._uU(14," Team Vacation Planner "),s.qZA()(),s._UZ(15,"router-outlet"),s.qZA()()}},dependencies:[Te,lm,CK,OK,V4,U4,tP,EZ,JZ,QZ],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}body[_ngcontent-%COMP%]{margin:0}"]});class Yw{constructor(){this.title="TeamVacationPlanner"}}function f3(n){return new s.vHH(3e3,!1)}function BQ(){return typeof window<"u"&&typeof window.document<"u"}function lP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function vp(n){switch(n.length){case 0:return new Vw;case 1:return n[0];default:return new gH(n)}}function p3(n,t,e,i,r=new Map,o=new Map){const c=[],h=[];let m=-1,v=null;if(i.forEach(x=>{const I=x.get("offset"),R=I==m,N=R&&v||new Map;x.forEach((H,Y)=>{let te=Y,Oe=H;if("offset"!==Y)switch(te=t.normalizePropertyName(te,c),Oe){case"!":Oe=r.get(Y);break;case ch:Oe=o.get(Y);break;default:Oe=t.normalizeStyleValue(Y,te,Oe,c)}N.set(te,Oe)}),R||h.push(N),v=N,m=I}),c.length)throw function SQ(n){return new s.vHH(3502,!1)}();return h}function cP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&dP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&dP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&dP(e,"destroy",n)))}}function dP(n,t,e){const o=uP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),c=n._data;return null!=c&&(o._data=c),o}function uP(n,t,e,i,r="",o=0,c){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!c}}function ba(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function m3(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}Yw.\u0275fac=function(t){return new(t||Yw)},Yw.\u0275cmp=s.Xpm({type:Yw,selectors:[["app-root"]],decls:1,vars:0,template:function(t,e){1&t&&s._UZ(0,"app-app-navigation")},dependencies:[Ww]});let hP=(n,t)=>!1,g3=(n,t,e)=>[],_3=null;function fP(n){const t=n.parentNode||n.host;return t===_3?null:t}(lP()||typeof Element<"u")&&(BQ()?(_3=(()=>document.documentElement)(),hP=(n,t)=>{for(;t;){if(t===n)return!0;t=fP(t)}return!1}):hP=(n,t)=>n.contains(t),g3=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let kg=null,v3=!1;const y3=hP,b3=g3;let w3=(()=>{class n{validateStyleProperty(e){return function UQ(n){kg||(kg=function HQ(){return typeof document<"u"?document.body:null}()||{},v3=!!kg.style&&"WebkitAppearance"in kg.style);let t=!0;return kg.style&&!function VQ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in kg.style,!t&&v3&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in kg.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return y3(e,i)}getParentElement(e){return fP(e)}query(e,i,r){return b3(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,c,h=[],m){return new Vw(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),pP=(()=>{class n{}return n.NOOP=new w3,n})();const mP="ng-enter",tI="ng-leave",nI="ng-trigger",iI=".ng-trigger",C3="ng-animating",gP=".ng-animating";function uh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:_P(parseFloat(t[1]),t[2])}function _P(n,t){return"s"===t?1e3*n:n}function rI(n,t,e){return n.hasOwnProperty("duration")?n:function $Q(n,t,e){let r,o=0,c="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(f3()),{duration:0,delay:0,easing:""};r=_P(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(o=_P(parseFloat(m),h[4]));const v=h[5];v&&(c=v)}else r=n;if(!e){let h=!1,m=t.length;r<0&&(t.push(function rQ(){return new s.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function oQ(){return new s.vHH(3101,!1)}()),h=!0),h&&t.splice(m,0,f3())}return{duration:r,delay:o,easing:c}}(n,t,e)}function Kw(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function E3(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function yp(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function S3(n,t,e){return e?t+":"+e+";":""}function I3(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=S3(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=S3(0,YQ(e),n.style[e]));n.setAttribute("style",t)}function Zd(n,t,e){n.style&&(t.forEach((i,r)=>{const o=yP(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),lP()&&I3(n))}function Rg(n,t){n.style&&(t.forEach((e,i)=>{const r=yP(i);n.style[r]=""}),lP()&&I3(n))}function Zw(n){return Array.isArray(n)?1==n.length?n[0]:hH(n):n}const vP=new RegExp("{{\\s*(.+?)\\s*}}","g");function T3(n){let t=[];if("string"==typeof n){let e;for(;e=vP.exec(n);)t.push(e[1]);vP.lastIndex=0}return t}function Qw(n,t,e){const i=n.toString(),r=i.replace(vP,(o,c)=>{let h=t[c];return null==h&&(e.push(function aQ(n){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function oI(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const WQ=/-+([a-z0-9])/g;function yP(n){return n.replace(WQ,(...t)=>t[1].toUpperCase())}function YQ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function wa(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function lQ(n){return new s.vHH(3004,!1)}()}}function M3(n,t){return window.getComputedStyle(n)[t]}function eX(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function tX(n,t,e){if(":"==n[0]){const m=function nX(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function xQ(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function wQ(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],c=i[3];t.push(A3(r,c));"<"==o[0]&&!("*"==r&&"*"==c)&&t.push(A3(c,r))}(i,e,t)):e.push(n),e}const cI=new Set(["true","1"]),dI=new Set(["false","0"]);function A3(n,t){const e=cI.has(n)||dI.has(n),i=cI.has(t)||dI.has(t);return(r,o)=>{let c="*"==n||n==r,h="*"==t||t==o;return!c&&e&&"boolean"==typeof r&&(c=r?cI.has(n):dI.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?cI.has(t):dI.has(t)),c&&h}}const iX=new RegExp("s*:selfs*,?","g");function bP(n,t,e,i){return new rX(n).build(t,e,i)}class rX{constructor(t){this._driver=t}build(t,e,i){const r=new aX(e);return this._resetContextStyleTimingState(r),wa(this,Zw(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],c=[];return"@"==t.name.charAt(0)&&e.errors.push(function dQ(){return new s.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(x=>{m.name=x,o.push(this.visitState(m,e))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,e);i+=m.queryCount,r+=m.depCount,c.push(m)}else e.errors.push(function uQ(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:c,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,c=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{T3(m).forEach(v=>{c.hasOwnProperty(v)||o.add(v)})})}),o.size&&(oI(o.values()),e.errors.push(function hQ(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=wa(this,Zw(t.animation),e);return{type:1,matchers:eX(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Og(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>wa(this,i,e)),options:Og(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(c=>{e.currentTime=i;const h=wa(this,c,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Og(t.options)}}visitAnimate(t,e){const i=function cX(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return wP(rI(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=wP(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=rI(e,t);return wP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Fn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let c=t.styles,h=!1;if(!c){h=!0;const v={};i.easing&&(v.easing=i.easing),c=Fn(v)}e.currentTime+=i.duration+i.delay;const m=this.visitStyle(c,e);m.isEmptyStep=h,r=m}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===ch?i.push(h):e.errors.push(new s.vHH(3002,!1)):i.push(E3(h));let o=!1,c=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(c=h.get("easing"),h.delete("easing")),!o))for(let m of h.values())if(m.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:c,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(c=>{"string"!=typeof c&&c.forEach((h,m)=>{const v=e.collectedStyles.get(e.currentQuerySelector),x=v.get(m);let I=!0;x&&(o!=r&&o>=x.startTime&&r<=x.endTime&&(e.errors.push(function pQ(n,t,e,i,r){return new s.vHH(3010,!1)}()),I=!1),o=x.startTime),I&&v.set(m,{startTime:o,endTime:r}),e.options&&function qQ(n,t,e){const i=t.params||{},r=T3(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function sQ(n){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function mQ(){return new s.vHH(3011,!1)}()),i;let o=0;const c=[];let h=!1,m=!1,v=0;const x=t.steps.map(Oe=>{const Ye=this._makeStyleAst(Oe,e);let et=null!=Ye.offset?Ye.offset:function lX(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ye.styles),_t=0;return null!=et&&(o++,_t=Ye.offset=et),m=m||_t<0||_t>1,h=h||_t<v,v=_t,c.push(_t),Ye});m&&e.errors.push(function gQ(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function _Q(){return new s.vHH(3200,!1)}());const I=t.steps.length;let R=0;o>0&&o<I?e.errors.push(function vQ(){return new s.vHH(3202,!1)}()):0==o&&(R=1/(I-1));const N=I-1,H=e.currentTime,Y=e.currentAnimateTimings,te=Y.duration;return x.forEach((Oe,Ye)=>{const et=R>0?Ye==N?1:R*Ye:c[Ye],_t=et*te;e.currentTime=H+Y.delay+_t,Y.duration=_t,this._validateStyleAst(Oe,e),Oe.offset=et,i.styles.push(Oe)}),i}visitReference(t,e){return{type:8,animation:wa(this,Zw(t.animation),e),options:Og(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Og(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Og(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,c]=function oX(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(iX,"")),n=n.replace(/@\*/g,iI).replace(/@\w+/g,e=>iI+"-"+e.slice(1)).replace(/:animating/g,gP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ba(e.collectedStyles,e.currentQuerySelector,new Map);const h=wa(this,Zw(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:c,animation:h,originalSelector:t.selector,options:Og(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function yQ(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:rI(t.timings,e.errors,!0);return{type:12,animation:wa(this,Zw(t.animation),e),timings:i,options:null}}}class aX{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Og(n){return n?(n=Kw(n)).params&&(n.params=function sX(n){return n?Kw(n):null}(n.params)):n={},n}function wP(n,t,e){return{duration:n,delay:t,easing:e}}function xP(n,t,e,i,r,o,c=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:c,subTimeline:h}}class uI{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const hX=new RegExp(":enter","g"),pX=new RegExp(":leave","g");function CP(n,t,e,i,r,o=new Map,c=new Map,h,m,v=[]){return(new mX).buildKeyframes(n,t,e,i,r,o,c,h,m,v)}class mX{buildKeyframes(t,e,i,r,o,c,h,m,v,x=[]){v=v||new uI;const I=new EP(t,e,v,r,o,x,[]);I.options=m;const R=m.delay?uh(m.delay):0;I.currentTimeline.delayNextStep(R),I.currentTimeline.setStyles([c],null,I.errors,m),wa(this,i,I);const N=I.timelines.filter(H=>H.containsAnimation());if(N.length&&h.size){let H;for(let Y=N.length-1;Y>=0;Y--){const te=N[Y];if(te.element===e){H=te;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([h],null,I.errors,m)}return N.length?N.map(H=>H.buildKeyframes()):[xP(e,[],[],[],0,R,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,c=this._visitSubInstructions(i,r,r.options);o!=c&&e.transformIntoNewTimeline(c)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const c="number"==typeof o?o:uh(Qw(o,r?.params??{},e.errors));i.delayNextStep(c)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const c=null!=i.duration?uh(i.duration):null,h=null!=i.delay?uh(i.delay):null;return 0!==c&&t.forEach(m=>{const v=e.appendInstructionToTimeline(m,c,h);o=Math.max(o,v.duration+v.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),wa(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=hI);const c=uh(o.delay);r.delayNextStep(c)}t.steps.length&&(t.steps.forEach(c=>wa(this,c,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?uh(t.options.delay):0;t.steps.forEach(c=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),wa(this,c,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(c=>e.currentTimeline.mergeTimelineCollectedStyles(c)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return rI(e.params?Qw(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(m=>{h.forwardTime((m.offset||0)*o),h.setStyles(m.styles,m.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?uh(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=hI);let c=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let m=null;h.forEach((v,x)=>{e.currentQueryIndex=x;const I=e.createSubContext(t.options,v);o&&I.delayNextStep(o),v===e.element&&(m=I.currentTimeline),wa(this,t.animation,I),I.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,I.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(c),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,c=Math.abs(o.duration),h=c*(e.currentQueryTotal-1);let m=c*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const x=e.currentTimeline;m&&x.delayNextStep(m);const I=x.currentTime;wa(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-I+(r.startTime-i.currentTimeline.startTime)}}const hI={};class EP{constructor(t,e,i,r,o,c,h,m){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=c,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new fI(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=uh(i.duration)),null!=i.delay&&(r.delay=uh(i.delay));const o=i.params;if(o){let c=r.params;c||(c=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!c.hasOwnProperty(h))&&(c[h]=Qw(o[h],c,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new EP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=hI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new gX(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,c){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(hX,"."+this._enterClassName)).replace(pX,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!o&&0==h.length&&c.push(function bQ(n){return new s.vHH(3014,!1)}()),h}}class fI{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new fI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||ch),this._currentKeyframe.set(e,ch);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},c=function _X(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,ch)}else yp(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,m]of c){const v=Qw(m,o,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ch),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const v=yp(h,new Map,this._backFill);v.forEach((x,I)=>{"!"===x?t.add(I):x===ch&&e.add(I)}),i||v.set("offset",m/this.duration),r.push(v)});const o=t.size?oI(t.values()):[],c=e.size?oI(e.values()):[];if(i){const h=r[0],m=new Map(h);h.set("offset",0),m.set("offset",1),r=[h,m]}return xP(this.element,r,o,c,this.duration,this.startTime,this.easing,!1)}}class gX extends fI{constructor(t,e,i,r,o,c,h=!1){super(t,e,c.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],c=i+e,h=e/c,m=yp(t[0]);m.set("offset",0),o.push(m);const v=yp(t[0]);v.set("offset",O3(h)),o.push(v);const x=t.length-1;for(let I=1;I<=x;I++){let R=yp(t[I]);const N=R.get("offset");R.set("offset",O3((e+N*i)/c)),o.push(R)}i=c,e=0,r="",t=o}return xP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function O3(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class DP{}const vX=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class yX extends DP{normalizePropertyName(t,e){return yP(t)}normalizeStyleValue(t,e,i,r){let o="";const c=i.toString().trim();if(vX.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function cQ(n,t){return new s.vHH(3005,!1)}())}return c+o}}function P3(n,t,e,i,r,o,c,h,m,v,x,I,R){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:c,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:x,totalTime:I,errors:R}}const SP={};class N3{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function bX(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,c,h,m,v,x){const I=[],R=this.ast.options&&this.ast.options.params||SP,H=this.buildStyles(i,h&&h.params||SP,I),Y=m&&m.params||SP,te=this.buildStyles(r,Y,I),Oe=new Set,Ye=new Map,et=new Map,_t="void"===r,Xt={params:wX(Y,R),delay:this.ast.options?.delay},Jt=x?[]:CP(t,e,this.ast.animation,o,c,H,te,Xt,v,I);let Rn=0;if(Jt.forEach(El=>{Rn=Math.max(El.duration+El.delay,Rn)}),I.length)return P3(e,this._triggerName,i,r,_t,H,te,[],[],Ye,et,Rn,I);Jt.forEach(El=>{const ph=El.element,m6=ba(Ye,ph,new Set);El.preStyleProps.forEach(Gg=>m6.add(Gg));const Tx=ba(et,ph,new Set);El.postStyleProps.forEach(Gg=>Tx.add(Gg)),ph!==e&&Oe.add(ph)});const Io=oI(Oe.values());return P3(e,this._triggerName,i,r,_t,H,te,Jt,Io,Ye,et,Rn)}}function wX(n,t){const e=Kw(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class xX{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=Kw(this.defaultParams);return Object.keys(t).forEach(o=>{const c=t[o];null!==c&&(r[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,h)=>{c&&(c=Qw(c,r,e));const m=this.normalizer.normalizePropertyName(h,e);c=this.normalizer.normalizeStyleValue(h,m,c,e),i.set(h,c)})}),i}}class EX{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new xX(r.style,r.options&&r.options.params||{},i))}),F3(this.states,"true","1"),F3(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new N3(t,r,this.states))}),this.fallbackTransition=function DX(n,t,e){return new N3(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(c=>c.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function F3(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const SX=new uI;class IX{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=bP(this._driver,e,i,[]);if(i.length)throw function IQ(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=p3(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let c;const h=new Map;if(o?(c=CP(this._driver,e,o,mP,tI,new Map,new Map,i,SX,r),c.forEach(x=>{const I=ba(h,x.element,new Map);x.postStyleProps.forEach(R=>I.set(R,null))})):(r.push(function TQ(){return new s.vHH(3300,!1)}()),c=[]),r.length)throw function MQ(n){return new s.vHH(3504,!1)}();h.forEach((x,I)=>{x.forEach((R,N)=>{x.set(N,this._driver.computeStyle(I,N,ch))})});const v=vp(c.map(x=>{const I=h.get(x.element);return this._buildPlayer(x,new Map,I)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function AQ(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=uP(e,"","","");return cP(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const L3="ng-animate-queued",IP="ng-animate-disabled",RX=[],B3={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},OX={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},vl="__ng_removed";class TP{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function LX(n){return n??null}(i?t.value:t),i){const o=Kw(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const Xw="void",MP=new TP(Xw);class PX{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,yl(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function kQ(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function RQ(n){return new s.vHH(3303,!1)}();if(!function BX(n){return"start"==n||"done"==n}(i))throw function OQ(n,t){return new s.vHH(3400,!1)}();const o=ba(this._elementListeners,t,[]),c={name:e,phase:i,callback:r};o.push(c);const h=ba(this._engine.statesByElement,t,new Map);return h.has(e)||(yl(t,nI),yl(t,nI+"-"+e),h.set(e,MP)),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(c);m>=0&&o.splice(m,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function PQ(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),c=new AP(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(yl(t,nI),yl(t,nI+"-"+e),this._engine.statesByElement.set(t,h=new Map));let m=h.get(e);const v=new TP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h.set(e,v),m||(m=MP),v.value!==Xw&&m.value===v.value){if(!function HX(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(m.params,v.params)){const Y=[],te=o.matchStyles(m.value,m.params,Y),Oe=o.matchStyles(v.value,v.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{Rg(t,te),Zd(t,Oe)})}return}const R=ba(this._engine.playersByElement,t,[]);R.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==e&&Y.queued&&Y.destroy()});let N=o.matchTransition(m.value,v.value,t,v.params),H=!1;if(!N){if(!r)return;N=o.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:N,fromState:m,toState:v,player:c,isFallbackTransition:H}),H||(yl(t,L3),c.onStart(()=>{Ay(t,L3)})),c.onDone(()=>{let Y=this.players.indexOf(c);Y>=0&&this.players.splice(Y,1);const te=this._engine.playersByElement.get(t);if(te){let Oe=te.indexOf(c);Oe>=0&&te.splice(Oe,1)}}),this.players.push(c),R.push(c),c}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,iI,!0);i.forEach(r=>{if(r[vl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(c=>c.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),c=new Map;if(o){const h=[];if(o.forEach((m,v)=>{if(c.set(v,m.value),this._triggers.has(v)){const x=this.trigger(t,v,Xw,r);x&&h.push(x)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,c),i&&vp(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const c=o.name;if(r.has(c))return;r.add(c);const m=this._triggers.get(c).fallbackTransition,v=i.get(c)||MP,x=new TP(Xw),I=new AP(this.id,c,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:c,transition:m,fromState:v,toState:x,player:I,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let c=t;for(;c=c.parentNode;)if(i.statesByElement.get(c)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[vl];(!o||o===B3)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){yl(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,c=this._elementListeners.get(o);c&&c.forEach(h=>{if(h.name==i.triggerName){const m=uP(o,i.triggerName,i.fromState.value,i.toState.value);m._data=t,cP(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,c=r.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class NX{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new PX(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let c=!1,h=this.driver.getParentElement(e);for(;h;){const m=r.get(h);if(m){const v=i.indexOf(m);i.splice(v+1,0,t),c=!0;break}h=this.driver.getParentElement(h)}c||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(pI(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!pI(e))return;const o=e[vl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(e);c>=0&&this.collectedLeaveElements.splice(c,1)}if(t){const c=this._fetchNamespace(t);c&&c.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),yl(t,IP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ay(t,IP))}removeNode(t,e,i,r){if(pI(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[vl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return pI(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,iI,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,gP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return vp(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[vl];if(e&&e.setForRemoval){if(t[vl]=B3,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(IP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)yl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?vp(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function NQ(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new uI,r=[],o=new Map,c=[],h=new Map,m=new Map,v=new Map,x=new Set;this.disabledNodes.forEach(Ct=>{x.add(Ct);const Bt=this.driver.query(Ct,".ng-animate-queued",!0);for(let Gt=0;Gt<Bt.length;Gt++)x.add(Bt[Gt])});const I=this.bodyNode,R=Array.from(this.statesByElement.keys()),N=H3(R,this.collectedEnterElements),H=new Map;let Y=0;N.forEach((Ct,Bt)=>{const Gt=mP+Y++;H.set(Bt,Gt),Ct.forEach(In=>yl(In,Gt))});const te=[],Oe=new Set,Ye=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Bt=this.collectedLeaveElements[Ct],Gt=Bt[vl];Gt&&Gt.setForRemoval&&(te.push(Bt),Oe.add(Bt),Gt.hasAnimation?this.driver.query(Bt,".ng-star-inserted",!0).forEach(In=>Oe.add(In)):Ye.add(Bt))}const et=new Map,_t=H3(R,Array.from(Oe));_t.forEach((Ct,Bt)=>{const Gt=tI+Y++;et.set(Bt,Gt),Ct.forEach(In=>yl(In,Gt))}),t.push(()=>{N.forEach((Ct,Bt)=>{const Gt=H.get(Bt);Ct.forEach(In=>Ay(In,Gt))}),_t.forEach((Ct,Bt)=>{const Gt=et.get(Bt);Ct.forEach(In=>Ay(In,Gt))}),te.forEach(Ct=>{this.processLeaveNode(Ct)})});const Xt=[],Jt=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(e).forEach(Gt=>{const In=Gt.player,uo=Gt.element;if(Xt.push(In),this.collectedEnterElements.length){const qo=uo[vl];if(qo&&qo.setForMove){if(qo.previousTriggersValues&&qo.previousTriggersValues.has(Gt.triggerName)){const qg=qo.previousTriggersValues.get(Gt.triggerName),Dl=this.statesByElement.get(Gt.element);if(Dl&&Dl.has(Gt.triggerName)){const XI=Dl.get(Gt.triggerName);XI.value=qg,Dl.set(Gt.triggerName,XI)}}return void In.destroy()}}const eu=!I||!this.driver.containsElement(I,uo),Ea=et.get(uo),Rp=H.get(uo),qi=this._buildInstruction(Gt,i,Rp,Ea,eu);if(qi.errors&&qi.errors.length)return void Jt.push(qi);if(eu)return In.onStart(()=>Rg(uo,qi.fromStyles)),In.onDestroy(()=>Zd(uo,qi.toStyles)),void r.push(In);if(Gt.isFallbackTransition)return In.onStart(()=>Rg(uo,qi.fromStyles)),In.onDestroy(()=>Zd(uo,qi.toStyles)),void r.push(In);const v6=[];qi.timelines.forEach(qo=>{qo.stretchStartingKeyframe=!0,this.disabledNodes.has(qo.element)||v6.push(qo)}),qi.timelines=v6,i.append(uo,qi.timelines),c.push({instruction:qi,player:In,element:uo}),qi.queriedElements.forEach(qo=>ba(h,qo,[]).push(In)),qi.preStyleProps.forEach((qo,qg)=>{if(qo.size){let Dl=m.get(qg);Dl||m.set(qg,Dl=new Set),qo.forEach((XI,zN)=>Dl.add(zN))}}),qi.postStyleProps.forEach((qo,qg)=>{let Dl=v.get(qg);Dl||v.set(qg,Dl=new Set),qo.forEach((XI,zN)=>Dl.add(zN))})});if(Jt.length){const Ct=[];Jt.forEach(Bt=>{Ct.push(function FQ(n,t){return new s.vHH(3505,!1)}())}),Xt.forEach(Bt=>Bt.destroy()),this.reportError(Ct)}const Rn=new Map,Io=new Map;c.forEach(Ct=>{const Bt=Ct.element;i.has(Bt)&&(Io.set(Bt,Bt),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,Rn))}),r.forEach(Ct=>{const Bt=Ct.element;this._getPreviousPlayers(Bt,!1,Ct.namespaceId,Ct.triggerName,null).forEach(In=>{ba(Rn,Bt,[]).push(In),In.destroy()})});const El=te.filter(Ct=>z3(Ct,m,v)),ph=new Map;U3(ph,this.driver,Ye,v,ch).forEach(Ct=>{z3(Ct,m,v)&&El.push(Ct)});const Tx=new Map;N.forEach((Ct,Bt)=>{U3(Tx,this.driver,new Set(Ct),m,"!")}),El.forEach(Ct=>{const Bt=ph.get(Ct),Gt=Tx.get(Ct);ph.set(Ct,new Map([...Array.from(Bt?.entries()??[]),...Array.from(Gt?.entries()??[])]))});const Gg=[],g6=[],_6={};c.forEach(Ct=>{const{element:Bt,player:Gt,instruction:In}=Ct;if(i.has(Bt)){if(x.has(Bt))return Gt.onDestroy(()=>Zd(Bt,In.toStyles)),Gt.disabled=!0,Gt.overrideTotalTime(In.totalTime),void r.push(Gt);let uo=_6;if(Io.size>1){let Ea=Bt;const Rp=[];for(;Ea=Ea.parentNode;){const qi=Io.get(Ea);if(qi){uo=qi;break}Rp.push(Ea)}Rp.forEach(qi=>Io.set(qi,uo))}const eu=this._buildAnimation(Gt.namespaceId,In,Rn,o,Tx,ph);if(Gt.setRealPlayer(eu),uo===_6)Gg.push(Gt);else{const Ea=this.playersByElement.get(uo);Ea&&Ea.length&&(Gt.parentPlayer=vp(Ea)),r.push(Gt)}}else Rg(Bt,In.fromStyles),Gt.onDestroy(()=>Zd(Bt,In.toStyles)),g6.push(Gt),x.has(Bt)&&r.push(Gt)}),g6.forEach(Ct=>{const Bt=o.get(Ct.element);if(Bt&&Bt.length){const Gt=vp(Bt);Ct.setRealPlayer(Gt)}}),r.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<te.length;Ct++){const Bt=te[Ct],Gt=Bt[vl];if(Ay(Bt,tI),Gt&&Gt.hasAnimation)continue;let In=[];if(h.size){let eu=h.get(Bt);eu&&eu.length&&In.push(...eu);let Ea=this.driver.query(Bt,gP,!0);for(let Rp=0;Rp<Ea.length;Rp++){let qi=h.get(Ea[Rp]);qi&&qi.length&&In.push(...qi)}}const uo=In.filter(eu=>!eu.destroyed);uo.length?VX(this,Bt,uo):this.processLeaveNode(Bt)}return te.length=0,Gg.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Bt=this.players.indexOf(Ct);this.players.splice(Bt,1)}),Ct.play()}),Gg}elementContainsData(t,e){let i=!1;const r=e[vl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let c=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(c=h)}else{const h=this.playersByElement.get(t);if(h){const m=!o||o==Xw;h.forEach(v=>{v.queued||!m&&v.triggerName!=r||c.push(v)})}}return(i||r)&&(c=c.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),c}_beforeAnimationBuild(t,e,i){const o=e.element,c=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const v=m.element,x=v!==o,I=ba(i,v,[]);this._getPreviousPlayers(v,x,c,h,e.toState).forEach(N=>{const H=N.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),N.destroy(),I.push(N)})}Rg(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,c){const h=e.triggerName,m=e.element,v=[],x=new Set,I=new Set,R=e.timelines.map(H=>{const Y=H.element;x.add(Y);const te=Y[vl];if(te&&te.removedBeforeQueried)return new Vw(H.duration,H.delay);const Oe=Y!==m,Ye=function UX(n){const t=[];return j3(n,t),t}((i.get(Y)||RX).map(Rn=>Rn.getRealPlayer())).filter(Rn=>!!Rn.element&&Rn.element===Y),et=o.get(Y),_t=c.get(Y),Xt=p3(0,this._normalizer,0,H.keyframes,et,_t),Jt=this._buildPlayer(H,Xt,Ye);if(H.subTimeline&&r&&I.add(Y),Oe){const Rn=new AP(t,h,Y);Rn.setRealPlayer(Jt),v.push(Rn)}return Jt});v.forEach(H=>{ba(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function FX(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,H.element,H))}),x.forEach(H=>yl(H,C3));const N=vp(R);return N.onDestroy(()=>{x.forEach(H=>Ay(H,C3)),Zd(m,e.toStyles)}),I.forEach(H=>{ba(r,H,[]).push(N)}),N}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Vw(t.duration,t.delay)}}class AP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Vw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>cP(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ba(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function pI(n){return n&&1===n.nodeType}function V3(n,t){const e=n.style.display;return n.style.display=t??"none",e}function U3(n,t,e,i,r){const o=[];e.forEach(m=>o.push(V3(m)));const c=[];i.forEach((m,v)=>{const x=new Map;m.forEach(I=>{const R=t.computeStyle(v,I,r);x.set(I,R),(!R||0==R.length)&&(v[vl]=OX,c.push(v))}),n.set(v,x)});let h=0;return e.forEach(m=>V3(m,o[h++])),c}function H3(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function c(h){if(!h)return 1;let m=o.get(h);if(m)return m;const v=h.parentNode;return m=e.has(v)?v:r.has(v)?1:c(v),o.set(h,m),m}return t.forEach(h=>{const m=c(h);1!==m&&e.get(m).push(h)}),e}function yl(n,t){n.classList?.add(t)}function Ay(n,t){n.classList?.remove(t)}function VX(n,t,e){vp(e).onDone(()=>n.processLeaveNode(t))}function j3(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof gH?j3(i.players,t):t.push(i)}}function z3(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class mI{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new NX(t,e,i),this._timelineEngine=new IX(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const c=t+"-"+r;let h=this._triggerCache[c];if(!h){const m=[],x=bP(this._driver,o,m,[]);if(m.length)throw function DQ(n,t){return new s.vHH(3404,!1)}();h=function CX(n,t,e){return new EX(n,t,e)}(r,x,this._normalizer),this._triggerCache[c]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,c]=m3(i);this._timelineEngine.command(o,e,c,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[c,h]=m3(i);return this._timelineEngine.listen(c,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let zX=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Zd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Zd(this._element,this._initialStyles),this._endStyles&&(Zd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rg(this._element,this._endStyles),this._endStyles=null),Zd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function kP(n){let t=null;return n.forEach((e,i)=>{(function $X(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class $3{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:M3(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class GX{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return y3(t,e)}getParentElement(t){return fP(t)}query(t,e,i){return b3(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,c=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(m.easing=o);const v=new Map,x=c.filter(N=>N instanceof $3);(function KQ(n,t){return 0===n||0===t})(i,r)&&x.forEach(N=>{N.currentSnapshot.forEach((H,Y)=>v.set(Y,H))});let I=function GQ(n){return n.length?n[0]instanceof Map?n:n.map(t=>E3(t)):[]}(e).map(N=>yp(N));I=function ZQ(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,c)=>{i.has(c)||r.push(c),i.set(c,o)}),r.length)for(let o=1;o<t.length;o++){let c=t[o];r.forEach(h=>c.set(h,M3(n,h)))}}return t}(t,I,v);const R=function jX(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=kP(t[0]),t.length>1&&(i=kP(t[t.length-1]))):t instanceof Map&&(e=kP(t)),e||i?new zX(n,e,i):null}(t,I);return new $3(t,I,m,R)}}let qX=(()=>{class n extends uH{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?hH(e):e;return G3(this._renderer,null,i,"register",[r]),new WX(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(J))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class WX extends BW{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new YX(this._id,t,e||{},this._renderer)}}class YX{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return G3(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function G3(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const q3="@.disabled";let KX=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,c)=>{const h=c?.parentNode(o);h&&c.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let x=this._rendererCache.get(o);return x||(x=new W3("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,x)),x}const c=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const m=x=>{Array.isArray(x)?x.forEach(m):this.engine.registerTrigger(c,h,e,x.name,x)};return i.data.animation.forEach(m),new ZX(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,h]=o;c(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(mI),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class W3{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==q3?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ZX extends W3{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==q3?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function QX(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function XX(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,c,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let JX=(()=>{class n extends mI{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J),s.LFG(pP),s.LFG(DP),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Y3=[{provide:uH,useClass:qX},{provide:DP,useFactory:function eJ(){return new yX}},{provide:mI,useClass:JX},{provide:s.FYo,useFactory:function tJ(n,t,e){return new KX(n,t,e)},deps:[nd,mI,s.R0b]}],RP=[{provide:pP,useFactory:()=>new GX},{provide:s.QbO,useValue:"BrowserAnimations"},...Y3],K3=[{provide:pP,useClass:w3},{provide:s.QbO,useValue:"NoopAnimations"},...Y3];let nJ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?K3:RP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:RP,imports:[Xl]}),n})();const aJ={provide:new s.OlP("mat-select-scroll-strategy"),deps:[Bw],useFactory:function sJ(n){return()=>n.scrollStrategies.reposition()}};let lJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[aJ],imports:[Jn,dH,CE,xn,Ef,h9,CE,xn]}),n})(),OP=(()=>{class n{constructor(){this.changes=new xt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fJ={provide:OP,deps:[[new s.FiY,new s.tp0,OP]],useFactory:function hJ(n){return n||new OP}};let pJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[fJ],imports:[Jn,N4,lJ,bH]}),n})(),PP=(()=>{class n{constructor(){this.changes=new xt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const gJ={provide:PP,deps:[[new s.FiY,new s.tp0,PP]],useFactory:function mJ(n){return n||new PP}};let _J=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[gJ],imports:[Jn,xn]}),n})();const Z3="@firebase/database";let NP="";function X3(n){NP=n}class wJ{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,F.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,F.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class xJ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,F.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const J3=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new wJ(t)}}catch{}return new xJ},Pg=J3("localStorage"),FP=J3("sessionStorage"),ky=new ga.Yd("@firebase/database"),ej=function(){let n=1;return function(){return n++}}(),tj=function(n){const t=(0,F.dS)(n),e=new F.gQ;e.update(t);const i=e.digest();return F.US.encodeByteArray(i)},Jw=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=Jw.apply(null,i):t+="object"==typeof i?(0,F.Wl)(i):i,t+=" "}return t};let Ng=null,nj=!0;const ij=function(n,t){(0,F.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(ky.logLevel=ga.in.VERBOSE,Ng=ky.log.bind(ky),t&&FP.set("logging_enabled",!0)):"function"==typeof n?Ng=n:(Ng=null,FP.remove("logging_enabled"))},lo=function(...n){if(!0===nj&&(nj=!1,null===Ng&&!0===FP.get("logging_enabled")&&ij(!0)),Ng){const t=Jw.apply(null,n);Ng(t)}},ex=function(n){return function(...t){lo(n,...t)}},LP=function(...n){const t="FIREBASE INTERNAL ERROR: "+Jw(...n);ky.error(t)},Qd=function(...n){const t=`FIREBASE FATAL ERROR: ${Jw(...n)}`;throw ky.error(t),new Error(t)},Go=function(...n){const t="FIREBASE WARNING: "+Jw(...n);ky.warn(t)},_I=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},wp="[MIN_NAME]",hh="[MAX_NAME]",Fg=function(n,t){if(n===t)return 0;if(n===wp||t===hh)return-1;if(t===wp||n===hh)return 1;{const e=sj(n),i=sj(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},DJ=function(n,t){return n===t?0:n<t?-1:1},tx=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,F.Wl)(t))},BP=function(n){if("object"!=typeof n||null===n)return(0,F.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,F.Wl)(t[i]),e+=":",e+=BP(n[t[i]]);return e+="}",e},rj=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function co(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const oj=function(n){(0,F.hu)(!_I(n),"Invalid JSON number");const i=1023;let r,o,c,h,m;0===n?(o=0,c=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,c=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,c=Math.round(n/Math.pow(2,-1074))));const v=[];for(m=52;m;m-=1)v.push(c%2?1:0),c=Math.floor(c/2);for(m=11;m;m-=1)v.push(o%2?1:0),o=Math.floor(o/2);v.push(r?1:0),v.reverse();const x=v.join("");let I="";for(m=0;m<64;m+=8){let R=parseInt(x.substr(m,8),2).toString(16);1===R.length&&(R="0"+R),I+=R}return I.toLowerCase()},MJ=new RegExp("^-?(0*)\\d{1,10}$"),sj=function(n){if(MJ.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Ry=function(n){try{n()}catch(t){setTimeout(()=>{throw Go("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},nx=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class OJ{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){Go(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class PJ{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(lo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Go(t)}}let ix=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const uj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,pj="websocket",mj="long_polling";class UP{constructor(t,e,i,r,o=!1,c="",h=!1,m=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=c,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pg.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Pg.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function gj(n,t,e){let i;if((0,F.hu)("string"==typeof t,"typeof type must == string"),(0,F.hu)("object"==typeof e,"typeof params must == object"),t===pj)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==mj)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function NJ(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return co(e,(o,c)=>{r.push(o+"="+c)}),i+r.join("&")}class FJ{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,F.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,F.p$)(this.counters_)}}const HP={},jP={};function zP(n){const t=n.toString();return HP[t]||(HP[t]=new FJ),HP[t]}class BJ{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Ry(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class xp{constructor(t,e,i,r,o,c,h){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=c,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ex(t),this.stats_=zP(e),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),gj(e,mj,m))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new BJ(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,F.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new $P((...o)=>{const[c,h,m,v,x]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===c)this.id=h,this.password=m;else{if("close"!==c)throw new Error("Unrecognized command received: "+c);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[c,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(c,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&uj.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xp.forceAllow_=!0}static forceDisallow(){xp.forceDisallow_=!0}static isAvailable(){return!((0,F.Yr)()||!xp.forceAllow_&&(xp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,F.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,F.h$)(e),r=rj(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,F.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,F.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class $P{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,F.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=ej(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=$P.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const c="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(c),this.myIFrame.doc.close()}catch(h){lo("frame writing exception"),h.stack&&lo(h.stack),lo(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||lo("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const c=this.pendingSegs.shift();i=i+"&seg"+r+"="+c.seg+"&ts"+r+"="+c.ts+"&d"+r+"="+c.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,F.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{lo("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let yI=null;typeof MozWebSocket<"u"?yI=MozWebSocket:typeof WebSocket<"u"&&(yI=WebSocket);let Oy=(()=>{class n{constructor(e,i,r,o,c,h,m){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ex(this.connId),this.stats_=zP(i),this.connURL=n.connectionURL_(i,h,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,c){const h={v:"5"};return!(0,F.Yr)()&&typeof location<"u"&&location.hostname&&uj.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),o&&(h.ac=o),c&&(h.p=c),gj(e,pj,h)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pg.set("previous_websocket_failure",!0);try{let r;if((0,F.Yr)()){r={headers:{"User-Agent":`Firebase/5/${NP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const c=process.env,h=0===this.connURL.indexOf("wss://")?c.HTTPS_PROXY||c.https_proxy:c.HTTP_PROXY||c.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new yI(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==yI&&!n.forceDisallow_}static previouslyFailed(){return Pg.isInMemoryStorage||!0===Pg.get("previous_websocket_failure")}markConnectionHealthy(){Pg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,F.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,F.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,F.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=rj(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),Cj=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xp,Oy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Oy&&Oy.isAvailable();let r=i&&!Oy.previouslyFailed();if(e.webSocketOnly&&(i||Go("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Oy];else{const o=this.transports_=[];for(const c of n.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class Aj{constructor(t,e,i,r,o,c,h,m,v,x){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=c,this.onReady_=h,this.onDisconnect_=m,this.onKill_=v,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ex("c:"+this.id+":"),this.transportManager_=new Cj(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=nx(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=tx("t",t),i=tx("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=tx("t",t),i=tx("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=tx("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?LP("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):LP("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&Go("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),nx(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):nx(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class kj{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Rj{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,F.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,F.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class bI extends Rj{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,F.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new bI}getInitialEvent(t){return(0,F.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class Vn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function kn(){return new Vn("")}function un(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Cp(n){return n.pieces_.length-n.pieceNum_}function ii(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Vn(n.pieces_,t)}function qP(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function rx(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Nj(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Vn(t,0)}function Oi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Vn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Vn(e,0)}function hn(n){return n.pieceNum_>=n.pieces_.length}function _s(n,t){const e=un(n),i=un(t);if(null===e)return t;if(e===i)return _s(ii(n),ii(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function see(n,t){const e=rx(n,0),i=rx(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Fg(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function WP(n,t){if(Cp(n)!==Cp(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function bl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Cp(n)>Cp(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class aee{constructor(t,e){this.errorPrefix_=e,this.parts_=rx(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,F.ug)(this.parts_[i]);Fj(this)}}function Fj(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Lg(n))}function Lg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class YP extends Rj{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new YP}getInitialEvent(t){return(0,F.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const ox=1e3;let xI,Bg=(()=>{class n extends kj{constructor(e,i,r,o,c,h,m,v){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=ex("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ox,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,F.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");YP.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&bI.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,c={r:o,a:e,b:i};this.log_((0,F.Wl)(c)),(0,F.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new F.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:h=>{const m=h.d;"ok"===h.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const c=e._queryIdentifier,h=e._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,F.hu)(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(h).set(c,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r};e.tag&&(c.q=i._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest("q",c,m=>{const v=m.d,x=m.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",m),"ok"!==x&&this.removeListen_(r,o),e.onComplete&&e.onComplete(x,v))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,F.r3)(e,"w")){const r=(0,F.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();Go(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,F.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,F.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const c=o.s,h=o.d||"error";this.authToken_===e&&("ok"===c?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,F.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const c={p:e};o&&(c.q=r,c.t=o),this.sendRequest("n",c)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const c={p:i,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,c){this.initConnection_();const h={p:i,d:r};void 0!==c&&(h.h=c),this.outstandingPuts_.push({action:e,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,F.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):LP("Unrecognized action received from server: "+(0,F.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,F.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ox,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ox,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ox),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,be.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),c=e.id+":"+n.nextConnectionId_++,h=e.lastSessionId;let m=!1,v=null;const x=function(){v?v.close():(m=!0,o())};e.realtime_={close:x,sendRequest:function(N){(0,F.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(N)}};const R=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[N,H]=yield Promise.all([e.authTokenProvider_.getToken(R),e.appCheckTokenProvider_.getToken(R)]);m?lo("getToken() completed but was canceled"):(lo("getToken() completed. Creating connection."),e.authToken_=N&&N.accessToken,e.appCheckToken_=H&&H.token,v=new Aj(c,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,Y=>{Go(Y+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},h))}catch(N){e.log_("Failed to get token: "+N),m||(e.repoInfo_.nodeAdmin&&Go(N),x())}}})()}interrupt(e){lo("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){lo("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,F.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ox,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(c=>BP(c)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Vn(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(i),c.delete(i),0===c.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){lo("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){lo("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,F.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+NP.replace(/\./g,"-")]=1,(0,F.uI)()?e["framework.cordova"]=1:(0,F.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=bI.getInstance().currentlyOnline();return(0,F.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class mn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new mn(t,e)}}class wI{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new mn(wp,t),r=new mn(wp,e);return 0!==this.compare(i,r)}minPost(){return mn.MIN}}class Vj extends wI{static get __EMPTY_NODE(){return xI}static set __EMPTY_NODE(t){xI=t}compare(t,e){return Fg(t.name,e.name)}isDefinedOn(t){throw(0,F.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return mn.MIN}maxPost(){return new mn(hh,xI)}makePost(t,e){return(0,F.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new mn(t,xI)}toString(){return".key"}}const Xd=new Vj;class CI{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let c=1;for(;!t.isEmpty();)if(c=e?i(t.key,e):1,r&&(c*=-1),c<0)t=this.isReverse_?t.left:t.right;else{if(0===c){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let ZP,Ic=(()=>{class n{constructor(e,i,r,o,c){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??zs.EMPTY_NODE,this.right=c??zs.EMPTY_NODE}copy(e,i,r,o,c){return new n(e??this.key,i??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===c?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return zs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return zs.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class zs{constructor(t,e=zs.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new zs(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Ic.BLACK,null,null))}remove(t){return new zs(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ic.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new CI(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new CI(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new CI(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new CI(this.root_,null,this.comparator_,!0,t)}}function mee(n,t){return Fg(n.name,t.name)}function KP(n,t){return Fg(n,t)}zs.EMPTY_NODE=new class pee{copy(t,e,i,r,o){return this}insert(t,e,i){return new Ic(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Uj=function(n){return"number"==typeof n?"number:"+oj(n):"string:"+n},Hj=function(n){if(n.isLeafNode()){const t=n.val();(0,F.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,F.r3)(t,".sv"),"Priority must be a string or number.")}else(0,F.hu)(n===ZP||n.isEmpty(),"priority of unexpected type.");(0,F.hu)(n===ZP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let jj,zj,$j,Py=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,F.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Hj(this.priorityNode_)}static set __childrenNodeConstructor(e){jj=e}static get __childrenNodeConstructor(){return jj}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return hn(e)?this:".priority"===un(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=un(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,F.hu)(".priority"!==r||1===Cp(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ii(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Uj(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?oj(this.value_):this.value_,this.lazyHash_=tj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,F.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),c=n.VALUE_TYPE_ORDER.indexOf(r);return(0,F.hu)(o>=0,"Unknown leaf type: "+i),(0,F.hu)(c>=0,"Unknown leaf type: "+r),o===c?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const di=new class yee extends wI{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Fg(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return mn.MIN}maxPost(){return new mn(hh,new Py("[PRIORITY-POST]",$j))}makePost(t,e){const i=zj(t);return new mn(e,new Py("[PRIORITY-POST]",i))}toString(){return".priority"}},bee=Math.log(2);class wee{constructor(t){this.count=parseInt(Math.log(t+1)/bee,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const EI=function(n,t,e,i){n.sort(t);const r=function(m,v){const x=v-m;let I,R;if(0===x)return null;if(1===x)return I=n[m],R=e?e(I):I,new Ic(R,I.node,Ic.BLACK,null,null);{const N=parseInt(x/2,10)+m,H=r(m,N),Y=r(N+1,v);return I=n[N],R=e?e(I):I,new Ic(R,I.node,Ic.BLACK,H,Y)}},h=function(m){let v=null,x=null,I=n.length;const R=function(H,Y){const te=I-H,Oe=I;I-=H;const Ye=r(te+1,Oe),et=n[te],_t=e?e(et):et;N(new Ic(_t,et.node,Y,null,Ye))},N=function(H){v?(v.left=H,v=H):(x=H,v=H)};for(let H=0;H<m.count;++H){const Y=m.nextBitIsOne(),te=Math.pow(2,m.count-(H+1));Y?R(te,Ic.BLACK):(R(te,Ic.BLACK),R(te,Ic.RED))}return x}(new wee(n.length));return new zs(i||t,h)};let QP;const Ny={};class fh{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,F.hu)(Ny&&di,"ChildrenNode.ts has not been loaded"),QP=QP||new fh({".priority":Ny},{".priority":di}),QP}get(t){const e=(0,F.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof zs?e:null}hasIndex(t){return(0,F.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,F.hu)(t!==Xd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(mn.Wrap);let h,c=o.getNext();for(;c;)r=r||t.isDefinedOn(c.node),i.push(c),c=o.getNext();h=r?EI(i,t.getCompare()):Ny;const m=t.toString(),v=Object.assign({},this.indexSet_);v[m]=t;const x=Object.assign({},this.indexes_);return x[m]=h,new fh(x,v)}addToIndexes(t,e){const i=(0,F.UI)(this.indexes_,(r,o)=>{const c=(0,F.DV)(this.indexSet_,o);if((0,F.hu)(c,"Missing index implementation for "+o),r===Ny){if(c.isDefinedOn(t.node)){const h=[],m=e.getIterator(mn.Wrap);let v=m.getNext();for(;v;)v.name!==t.name&&h.push(v),v=m.getNext();return h.push(t),EI(h,c.getCompare())}return Ny}{const h=e.get(t.name);let m=r;return h&&(m=m.remove(new mn(t.name,h))),m.insert(t,t.node)}});return new fh(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,F.UI)(this.indexes_,r=>{if(r===Ny)return r;{const o=e.get(t.name);return o?r.remove(new mn(t.name,o)):r}});return new fh(i,this.indexSet_)}}let sx,on=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Hj(this.priorityNode_),this.children_.isEmpty()&&(0,F.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return sx||(sx=new n(new zs(KP),null,fh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sx}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?sx:i}}getChild(e){const i=un(e);return null===i?this:this.getImmediateChild(i).getChild(ii(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,F.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new mn(e,i);let o,c;i.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),c=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?sx:this.priorityNode_;return new n(o,h,c)}}updateChild(e,i){const r=un(e);if(null===r)return i;{(0,F.hu)(".priority"!==un(e)||1===Cp(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ii(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,c=!0;if(this.forEachChild(di,(h,m)=>{i[h]=m.val(e),r++,c&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!e&&c&&o<2*r){const h=[];for(const m in i)h[m]=i[m];return h}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Uj(this.getPriority().val())+":"),this.forEachChild(di,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":tj(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new mn(e,i));return c?c.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new mn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new mn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,mn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,mn.Wrap);let c=o.peek();for(;null!=c&&i.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ax?-1:0}withIndex(e){if(e===Xd||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Xd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(di),o=i.getIterator(di);let c=r.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=r.getNext(),h=o.getNext()}return null===c&&null===h}return!1}return!1}}resolveIndex_(e){return e===Xd?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const ax=new class xee extends on{constructor(){super(new zs(KP),on.EMPTY_NODE,fh.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return on.EMPTY_NODE}isEmpty(){return!1}};function Gi(n,t=null){if(null===n)return on.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,F.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Py(n,Gi(t));if(n instanceof Array){let e=on.EMPTY_NODE;return co(n,(i,r)=>{if((0,F.r3)(n,i)&&"."!==i.substring(0,1)){const o=Gi(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(Gi(t))}{const e=[];let i=!1;if(co(n,(c,h)=>{if("."!==c.substring(0,1)){const m=Gi(h);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),e.push(new mn(c,m)))}}),0===e.length)return on.EMPTY_NODE;const o=EI(e,mee,c=>c.name,KP);if(i){const c=EI(e,di.getCompare());return new on(o,Gi(t),new fh({".priority":c},{".priority":di}))}return new on(o,Gi(t),fh.Default)}}Object.defineProperties(mn,{MIN:{value:new mn(wp,on.EMPTY_NODE)},MAX:{value:new mn(hh,ax)}}),Vj.__EMPTY_NODE=on.EMPTY_NODE,Py.__childrenNodeConstructor=on,function gee(n){ZP=n}(ax),function vee(n){$j=n}(ax),function _ee(n){zj=n}(Gi);class XP extends wI{constructor(t){super(),this.indexPath_=t,(0,F.hu)(!hn(t)&&".priority"!==un(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Fg(t.name,e.name):o}makePost(t,e){const i=Gi(t),r=on.EMPTY_NODE.updateChild(this.indexPath_,i);return new mn(e,r)}maxPost(){const t=on.EMPTY_NODE.updateChild(this.indexPath_,ax);return new mn(hh,t)}toString(){return rx(this.indexPath_,0).join("/")}}const JP=new class Eee extends wI{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Fg(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return mn.MIN}maxPost(){return mn.MAX}makePost(t,e){const i=Gi(t);return new mn(e,i)}toString(){return".value"}};function Gj(n){return{type:"value",snapshotNode:n}}function Fy(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function lx(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function cx(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class eN{constructor(t){this.index_=t}updateChild(t,e,i,r,o,c){(0,F.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=c&&(i.isEmpty()?t.hasChild(e)?c.trackChildChange(lx(e,h)):(0,F.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?c.trackChildChange(Fy(e,i)):c.trackChildChange(cx(e,i,h))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(di,(r,o)=>{e.hasChild(r)||i.trackChildChange(lx(r,o))}),e.isLeafNode()||e.forEachChild(di,(r,o)=>{if(t.hasChild(r)){const c=t.getImmediateChild(r);c.equals(o)||i.trackChildChange(cx(r,o,c))}else i.trackChildChange(Fy(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?on.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class dx{constructor(t){this.indexedFilter_=new eN(t.getIndex()),this.index_=t.getIndex(),this.startPost_=dx.getStartPost_(t),this.endPost_=dx.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,c){return this.matches(new mn(e,i))||(i=on.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,c)}updateFullNode(t,e,i){e.isLeafNode()&&(e=on.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(on.EMPTY_NODE);const o=this;return e.forEachChild(di,(c,h)=>{o.matches(new mn(c,h))||(r=r.updateImmediateChild(c,on.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class See{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new dx(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,c){return this.rangedFilter_.matches(new mn(e,i))||(i=on.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,c):this.fullLimitUpdateChild_(t,e,i,o,c)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=on.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=on.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let c=0;for(;o.hasNext()&&c<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),c++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(on.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let c=0;for(;o.hasNext();){const h=o.getNext();c<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?c++:r=r.updateImmediateChild(h.name,on.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let c;if(this.reverse_){const I=this.index_.getCompare();c=(R,N)=>I(N,R)}else c=this.index_.getCompare();const h=t;(0,F.hu)(h.numChildren()===this.limit_,"");const m=new mn(e,i),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),x=this.rangedFilter_.matches(m);if(h.hasChild(e)){const I=h.getImmediateChild(e);let R=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=R&&(R.name===e||h.hasChild(R.name));)R=r.getChildAfterChild(this.index_,R,this.reverse_);const N=null==R?1:c(R,m);if(x&&!i.isEmpty()&&N>=0)return o?.trackChildChange(cx(e,i,I)),h.updateImmediateChild(e,i);{o?.trackChildChange(lx(e,I));const Y=h.updateImmediateChild(e,on.EMPTY_NODE);return null!=R&&this.rangedFilter_.matches(R)?(o?.trackChildChange(Fy(R.name,R.node)),Y.updateImmediateChild(R.name,R.node)):Y}}return i.isEmpty()?t:x&&c(v,m)>=0?(null!=o&&(o.trackChildChange(lx(v.name,v.node)),o.trackChildChange(Fy(e,i))),h.updateImmediateChild(e,i).updateImmediateChild(v.name,on.EMPTY_NODE)):t}}class DI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,F.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:wp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,F.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:hh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,F.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===di}copy(){const t=new DI;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function tN(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function nN(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function SI(n,t){const e=n.copy();return e.index_=t,e}function qj(n){const t={};if(n.isDefault())return t;let e;if(n.index_===di?e="$priority":n.index_===JP?e="$value":n.index_===Xd?e="$key":((0,F.hu)(n.index_ instanceof XP,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,F.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,F.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,F.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,F.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,F.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Wj(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==di&&(t.i=n.index_.toString()),t}class II extends kj{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=ex("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,F.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const c=II.getListenId_(t,i),h={};this.listens_[c]=h;const m=qj(t._queryParams);this.restRequest_(o+".json",m,(v,x)=>{let I=x;if(404===v&&(I=null,v=null),null===v&&this.onDataUpdate_(o,I,!1,i),(0,F.DV)(this.listens_,c)===h){let R;R=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(R,null)}})}unlisten(t,e){const i=II.getListenId_(t,e);delete this.listens_[i]}get(t){const e=qj(t._queryParams),i=t._path.toString(),r=new F.BH;return this.restRequest_(i+".json",e,(o,c)=>{let h=c;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const c=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,F.xO)(e);this.log_("Sending REST request for "+c);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+c+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=(0,F.cI)(h.responseText)}catch{Go("Failed to parse JSON response for "+c+": "+h.responseText)}i(null,m)}else 401!==h.status&&404!==h.status&&Go("Got unsuccessful REST response for "+c+" Status: "+h.status),i(h.status);i=null}},h.open("GET",c,!0),h.send()})}}class Ree{constructor(){this.rootNode_=on.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function TI(){return{value:null,children:new Map}}function Ly(n,t,e){if(hn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=un(t);n.children.has(i)||n.children.set(i,TI()),Ly(n.children.get(i),t=ii(t),e)}}function iN(n,t){if(hn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(di,(i,r)=>{Ly(n,new Vn(i),r)}),iN(n,t)}}if(n.children.size>0){const e=un(t);return t=ii(t),n.children.has(e)&&iN(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function rN(n,t,e){null!==n.value?e(t,n.value):function Oee(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{rN(r,new Vn(t.toString()+"/"+i),e)})}class Pee{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&co(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class Lee{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Pee(t);const i=1e4+2e4*Math.random();nx(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;co(t,(r,o)=>{o>0&&(0,F.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),nx(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var wl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(wl||(wl={})),wl))();function aN(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class MI{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=wl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(hn(this.path)){if(null!=this.affectedTree.value)return(0,F.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Vn(t));return new MI(kn(),e,this.revert)}}return(0,F.hu)(un(this.path)===t,"operationForChild called for unrelated child."),new MI(ii(this.path),this.affectedTree,this.revert)}}class ux{constructor(t,e){this.source=t,this.path=e,this.type=wl.LISTEN_COMPLETE}operationForChild(t){return hn(this.path)?new ux(this.source,kn()):new ux(this.source,ii(this.path))}}class Vg{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=wl.OVERWRITE}operationForChild(t){return hn(this.path)?new Vg(this.source,kn(),this.snap.getImmediateChild(t)):new Vg(this.source,ii(this.path),this.snap)}}class By{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=wl.MERGE}operationForChild(t){if(hn(this.path)){const e=this.children.subtree(new Vn(t));return e.isEmpty()?null:e.value?new Vg(this.source,kn(),e.value):new By(this.source,kn(),e)}return(0,F.hu)(un(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new By(this.source,ii(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class Ep{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(hn(t))return this.isFullyInitialized()&&!this.filtered_;const e=un(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Bee{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function hx(n,t,e,i,r,o){const c=i.filter(h=>h.type===e);c.sort((h,m)=>function Hee(n,t,e){if(null==t.childName||null==e.childName)throw(0,F.g5)("Should only compare child_ events.");const i=new mn(t.childName,t.snapshotNode),r=new mn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,h,m)),c.forEach(h=>{const m=function Uee(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,h,o);r.forEach(v=>{v.respondsTo(h.type)&&t.push(v.createEvent(m,n.query_))})})}function AI(n,t){return{eventCache:n,serverCache:t}}function fx(n,t,e,i){return AI(new Ep(t,e,i),n.serverCache)}function Kj(n,t,e,i){return AI(n.eventCache,new Ep(t,e,i))}function kI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ug(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let lN;class ui{constructor(t,e=(()=>(lN||(lN=new zs(DJ)),lN))()){this.value=t,this.children=e}static fromObject(t){let e=new ui(null);return co(t,(i,r)=>{e=e.set(new Vn(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:kn(),value:this.value};if(hn(t))return null;{const i=un(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(ii(t),e);return null!=o?{path:Oi(new Vn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(hn(t))return this;{const e=un(t),i=this.children.get(e);return null!==i?i.subtree(ii(t)):new ui(null)}}set(t,e){if(hn(t))return new ui(e,this.children);{const i=un(t),o=(this.children.get(i)||new ui(null)).set(ii(t),e),c=this.children.insert(i,o);return new ui(this.value,c)}}remove(t){if(hn(t))return this.children.isEmpty()?new ui(null):new ui(null,this.children);{const e=un(t),i=this.children.get(e);if(i){const r=i.remove(ii(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new ui(null):new ui(this.value,o)}return this}}get(t){if(hn(t))return this.value;{const e=un(t),i=this.children.get(e);return i?i.get(ii(t)):null}}setTree(t,e){if(hn(t))return e;{const i=un(t),o=(this.children.get(i)||new ui(null)).setTree(ii(t),e);let c;return c=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new ui(this.value,c)}}fold(t){return this.fold_(kn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Oi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,kn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(hn(t))return null;{const o=un(t),c=this.children.get(o);return c?c.findOnPath_(ii(t),Oi(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,kn(),e)}foreachOnPath_(t,e,i){if(hn(t))return this;{this.value&&i(e,this.value);const r=un(t),o=this.children.get(r);return o?o.foreachOnPath_(ii(t),Oi(e,r),i):new ui(null)}}foreach(t){this.foreach_(kn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Oi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class Tc{constructor(t){this.writeTree_=t}static empty(){return new Tc(new ui(null))}}function px(n,t,e){if(hn(t))return new Tc(new ui(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const c=_s(r,t);return o=o.updateChild(c,e),new Tc(n.writeTree_.set(r,o))}{const r=new ui(e),o=n.writeTree_.setTree(t,r);return new Tc(o)}}}function cN(n,t,e){let i=n;return co(e,(r,o)=>{i=px(i,Oi(t,r),o)}),i}function Zj(n,t){if(hn(t))return Tc.empty();{const e=n.writeTree_.setTree(t,new ui(null));return new Tc(e)}}function dN(n,t){return null!=Hg(n,t)}function Hg(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(_s(e.path,t)):null}function Qj(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(di,(i,r)=>{t.push(new mn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new mn(i,r.value))}),t}function Dp(n,t){if(hn(t))return n;{const e=Hg(n,t);return new Tc(null!=e?new ui(e):n.writeTree_.subtree(t))}}function uN(n){return n.writeTree_.isEmpty()}function Vy(n,t){return Xj(kn(),n.writeTree_,t)}function Xj(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,F.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=Xj(Oi(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Oi(n,".priority"),i)),e}}function RI(n,t){return iz(t,n)}function Wee(n,t){if(n.snap)return bl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&bl(Oi(n.path,e),t))return!0;return!1}function Kee(n){return n.visible}function Jj(n,t,e){let i=Tc.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const c=o.path;let h;if(o.snap)bl(e,c)?(h=_s(e,c),i=px(i,h,o.snap)):bl(c,e)&&(h=_s(c,e),i=px(i,kn(),o.snap.getChild(h)));else{if(!o.children)throw(0,F.g5)("WriteRecord should have .snap or .children");if(bl(e,c))h=_s(e,c),i=cN(i,h,o.children);else if(bl(c,e))if(h=_s(c,e),hn(h))i=cN(i,kn(),o.children);else{const m=(0,F.DV)(o.children,un(h));if(m){const v=m.getChild(ii(h));i=px(i,kn(),v)}}}}}return i}function ez(n,t,e,i,r){if(i||r){const o=Dp(n.visibleWrites,t);return!r&&uN(o)?e:r||null!=e||dN(o,kn())?Vy(Jj(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(bl(v.path,t)||bl(t,v.path))},t),e||on.EMPTY_NODE):null}{const o=Hg(n.visibleWrites,t);if(null!=o)return o;{const c=Dp(n.visibleWrites,t);return uN(c)?e:null!=e||dN(c,kn())?Vy(c,e||on.EMPTY_NODE):null}}}function OI(n,t,e,i){return ez(n.writeTree,n.treePath,t,e,i)}function hN(n,t){return function Zee(n,t,e){let i=on.EMPTY_NODE;const r=Hg(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(di,(o,c)=>{i=i.updateImmediateChild(o,c)}),i;if(e){const o=Dp(n.visibleWrites,t);return e.forEachChild(di,(c,h)=>{const m=Vy(Dp(o,new Vn(c)),h);i=i.updateImmediateChild(c,m)}),Qj(o).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}return Qj(Dp(n.visibleWrites,t)).forEach(c=>{i=i.updateImmediateChild(c.name,c.node)}),i}(n.writeTree,n.treePath,t)}function tz(n,t,e,i){return function Qee(n,t,e,i,r){(0,F.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Oi(t,e);if(dN(n.visibleWrites,o))return null;{const c=Dp(n.visibleWrites,o);return uN(c)?r.getChild(e):Vy(c,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function PI(n,t){return function Jee(n,t){return Hg(n.visibleWrites,t)}(n.writeTree,Oi(n.treePath,t))}function fN(n,t,e){return function Xee(n,t,e,i){const r=Oi(t,e),o=Hg(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Vy(Dp(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function nz(n,t){return iz(Oi(n.treePath,t),n.writeTree)}function iz(n,t){return{treePath:n,writeTree:t}}class ite{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,F.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,F.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,cx(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,lx(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,Fy(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,F.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,cx(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const rz=new class rte{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class pN{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new Ep(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fN(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ug(this.viewCache_),o=function nte(n,t,e,i,r,o){return function ete(n,t,e,i,r,o,c){let h;const m=Dp(n.visibleWrites,t),v=Hg(m,kn());if(null!=v)h=v;else{if(null==e)return[];h=Vy(m,e)}if(h=h.withIndex(c),h.isEmpty()||h.isLeafNode())return[];{const x=[],I=c.getCompare(),R=o?h.getReverseIteratorFrom(i,c):h.getIteratorFrom(i,c);let N=R.getNext();for(;N&&x.length<r;)0!==I(N,i)&&x.push(N),N=R.getNext();return x}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function oz(n,t,e,i,r,o){const c=t.eventCache;if(null!=PI(i,e))return t;{let h,m;if(hn(e))if((0,F.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const v=Ug(t),I=hN(i,v instanceof on?v:on.EMPTY_NODE);h=n.filter.updateFullNode(t.eventCache.getNode(),I,o)}else{const v=OI(i,Ug(t));h=n.filter.updateFullNode(t.eventCache.getNode(),v,o)}else{const v=un(e);if(".priority"===v){(0,F.hu)(1===Cp(e),"Can't have a priority with additional path components");const x=c.getNode();m=t.serverCache.getNode();const I=tz(i,e,x,m);h=null!=I?n.filter.updatePriority(x,I):c.getNode()}else{const x=ii(e);let I;if(c.isCompleteForChild(v)){m=t.serverCache.getNode();const R=tz(i,e,c.getNode(),m);I=null!=R?c.getNode().getImmediateChild(v).updateChild(x,R):c.getNode().getImmediateChild(v)}else I=fN(i,v,t.serverCache);h=null!=I?n.filter.updateChild(c.getNode(),v,I,x,r,o):c.getNode()}}return fx(t,h,c.isFullyInitialized()||hn(e),n.filter.filtersNodes())}}function NI(n,t,e,i,r,o,c,h){const m=t.serverCache;let v;const x=c?n.filter:n.filter.getIndexedFilter();if(hn(e))v=x.updateFullNode(m.getNode(),i,null);else if(x.filtersNodes()&&!m.isFiltered()){const N=m.getNode().updateChild(e,i);v=x.updateFullNode(m.getNode(),N,null)}else{const N=un(e);if(!m.isCompleteForPath(e)&&Cp(e)>1)return t;const H=ii(e),te=m.getNode().getImmediateChild(N).updateChild(H,i);v=".priority"===N?x.updatePriority(m.getNode(),te):x.updateChild(m.getNode(),N,te,H,rz,null)}const I=Kj(t,v,m.isFullyInitialized()||hn(e),x.filtersNodes());return oz(n,I,e,r,new pN(r,I,o),h)}function mN(n,t,e,i,r,o,c){const h=t.eventCache;let m,v;const x=new pN(r,t,o);if(hn(e))v=n.filter.updateFullNode(t.eventCache.getNode(),i,c),m=fx(t,v,!0,n.filter.filtersNodes());else{const I=un(e);if(".priority"===I)v=n.filter.updatePriority(t.eventCache.getNode(),i),m=fx(t,v,h.isFullyInitialized(),h.isFiltered());else{const R=ii(e),N=h.getNode().getImmediateChild(I);let H;if(hn(R))H=i;else{const Y=x.getCompleteChild(I);H=null!=Y?".priority"===qP(R)&&Y.getChild(Nj(R)).isEmpty()?Y:Y.updateChild(R,i):on.EMPTY_NODE}m=N.equals(H)?t:fx(t,n.filter.updateChild(h.getNode(),I,H,R,x,c),h.isFullyInitialized(),n.filter.filtersNodes())}}return m}function sz(n,t){return n.eventCache.isCompleteForChild(t)}function az(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function gN(n,t,e,i,r,o,c,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let v,m=t;v=hn(e)?i:new ui(null).setTree(e,i);const x=t.serverCache.getNode();return v.children.inorderTraversal((I,R)=>{if(x.hasChild(I)){const H=az(0,t.serverCache.getNode().getImmediateChild(I),R);m=NI(n,m,new Vn(I),H,r,o,c,h)}}),v.children.inorderTraversal((I,R)=>{const N=!t.serverCache.isCompleteForChild(I)&&null===R.value;if(!x.hasChild(I)&&!N){const Y=az(0,t.serverCache.getNode().getImmediateChild(I),R);m=NI(n,m,new Vn(I),Y,r,o,c,h)}}),m}class fte{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new eN(i.getIndex()),o=function Iee(n){return n.loadsAllData()?new eN(n.getIndex()):n.hasLimit()?new See(n):new dx(n)}(i);this.processor_=function ote(n){return{filter:n}}(o);const c=e.serverCache,h=e.eventCache,m=r.updateFullNode(on.EMPTY_NODE,c.getNode(),null),v=o.updateFullNode(on.EMPTY_NODE,h.getNode(),null),x=new Ep(m,c.isFullyInitialized(),r.filtersNodes()),I=new Ep(v,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=AI(I,x),this.eventGenerator_=new Bee(this.query_)}get query(){return this.query_}}function gte(n,t){const e=Ug(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!hn(t)&&!e.getImmediateChild(un(t)).isEmpty())?e.getChild(t):null}function lz(n){return 0===n.eventRegistrations_.length}function cz(n,t,e){const i=[];if(e){(0,F.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const c=o.createCancelEvent(e,r);c&&i.push(c)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const c=n.eventRegistrations_[o];if(c.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(c)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function dz(n,t,e,i){t.type===wl.MERGE&&null!==t.source.queryId&&((0,F.hu)(Ug(n.viewCache_),"We should always have a full cache before handling merges"),(0,F.hu)(kI(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function ate(n,t,e,i,r){const o=new ite;let c,h;if(e.type===wl.OVERWRITE){const v=e;v.source.fromUser?c=mN(n,t,v.path,v.snap,i,r,o):((0,F.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||t.serverCache.isFiltered()&&!hn(v.path),c=NI(n,t,v.path,v.snap,i,r,h,o))}else if(e.type===wl.MERGE){const v=e;v.source.fromUser?c=function cte(n,t,e,i,r,o,c){let h=t;return i.foreach((m,v)=>{const x=Oi(e,m);sz(t,un(x))&&(h=mN(n,h,x,v,r,o,c))}),i.foreach((m,v)=>{const x=Oi(e,m);sz(t,un(x))||(h=mN(n,h,x,v,r,o,c))}),h}(n,t,v.path,v.children,i,r,o):((0,F.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||t.serverCache.isFiltered(),c=gN(n,t,v.path,v.children,i,r,h,o))}else if(e.type===wl.ACK_USER_WRITE){const v=e;c=v.revert?function hte(n,t,e,i,r,o){let c;if(null!=PI(i,e))return t;{const h=new pN(i,t,r),m=t.eventCache.getNode();let v;if(hn(e)||".priority"===un(e)){let x;if(t.serverCache.isFullyInitialized())x=OI(i,Ug(t));else{const I=t.serverCache.getNode();(0,F.hu)(I instanceof on,"serverChildren would be complete if leaf node"),x=hN(i,I)}v=n.filter.updateFullNode(m,x,o)}else{const x=un(e);let I=fN(i,x,t.serverCache);null==I&&t.serverCache.isCompleteForChild(x)&&(I=m.getImmediateChild(x)),v=null!=I?n.filter.updateChild(m,x,I,ii(e),h,o):t.eventCache.getNode().hasChild(x)?n.filter.updateChild(m,x,on.EMPTY_NODE,ii(e),h,o):m,v.isEmpty()&&t.serverCache.isFullyInitialized()&&(c=OI(i,Ug(t)),c.isLeafNode()&&(v=n.filter.updateFullNode(v,c,o)))}return c=t.serverCache.isFullyInitialized()||null!=PI(i,kn()),fx(t,v,c,n.filter.filtersNodes())}}(n,t,v.path,i,r,o):function dte(n,t,e,i,r,o,c){if(null!=PI(r,e))return t;const h=t.serverCache.isFiltered(),m=t.serverCache;if(null!=i.value){if(hn(e)&&m.isFullyInitialized()||m.isCompleteForPath(e))return NI(n,t,e,m.getNode().getChild(e),r,o,h,c);if(hn(e)){let v=new ui(null);return m.getNode().forEachChild(Xd,(x,I)=>{v=v.set(new Vn(x),I)}),gN(n,t,e,v,r,o,h,c)}return t}{let v=new ui(null);return i.foreach((x,I)=>{const R=Oi(e,x);m.isCompleteForPath(R)&&(v=v.set(x,m.getNode().getChild(R)))}),gN(n,t,e,v,r,o,h,c)}}(n,t,v.path,v.affectedTree,i,r,o)}else{if(e.type!==wl.LISTEN_COMPLETE)throw(0,F.g5)("Unknown operation type: "+e.type);c=function ute(n,t,e,i,r){const o=t.serverCache;return oz(n,Kj(t,o.getNode(),o.isFullyInitialized()||hn(e),o.isFiltered()),e,i,rz,r)}(n,t,e.path,i,o)}const m=o.getChanges();return function lte(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=kI(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(Gj(kI(t)))}}(t,c,m),{viewCache:c,changes:m}}(n.processor_,r,t,e,i);return function ste(n,t){(0,F.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,F.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,F.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,uz(n,o.changes,o.viewCache.eventCache.getNode(),null)}function uz(n,t,e,i){return function Vee(n,t,e,i){const r=[],o=[];return t.forEach(c=>{"child_changed"===c.type&&n.index_.indexedValueChanged(c.oldSnap,c.snapshotNode)&&o.push(function Dee(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(c.childName,c.snapshotNode))}),hx(n,r,"child_removed",t,i,e),hx(n,r,"child_added",t,i,e),hx(n,r,"child_moved",o,i,e),hx(n,r,"child_changed",t,i,e),hx(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let FI,BI;class hz{constructor(){this.views=new Map}}function _N(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,F.hu)(null!=o,"SyncTree gave us an op for an invalid query."),dz(o,t,e,i)}{let o=[];for(const c of n.views.values())o=o.concat(dz(c,t,e,i));return o}}function fz(n,t,e,i,r){const c=n.views.get(t._queryIdentifier);if(!c){let h=OI(e,r?i:null),m=!1;h?m=!0:i instanceof on?(h=hN(e,i),m=!1):(h=on.EMPTY_NODE,m=!1);const v=AI(new Ep(h,m,!1),new Ep(i,r,!1));return new fte(t,v)}return c}function pz(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function Sp(n,t){let e=null;for(const i of n.views.values())e=e||gte(i,t);return e}function mz(n,t){return t._queryParams.loadsAllData()?LI(n):n.views.get(t._queryIdentifier)}function gz(n,t){return null!=mz(n,t)}function Ip(n){return null!=LI(n)}function LI(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let Ste=1;class _z{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ui(null),this.pendingWriteTree_=function tte(){return{visibleWrites:Tc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function vN(n,t,e,i,r){return function zee(n,t,e,i,r){(0,F.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=px(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?Uy(n,new Vg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function Tp(n,t,e=!1){const i=function Gee(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function qee(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);(0,F.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,c=n.allWrites.length-1;for(;r&&c>=0;){const h=n.allWrites[c];h.visible&&(c>=e&&Wee(h,i.path)?r=!1:bl(i.path,h.path)&&(o=!0)),c--}return!!r&&(o?(function Yee(n){n.visibleWrites=Jj(n.allWrites,Kee,kn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=Zj(n.visibleWrites,i.path):co(i.children,m=>{n.visibleWrites=Zj(n.visibleWrites,Oi(i.path,m))}),!0))}(n.pendingWriteTree_,t)){let o=new ui(null);return null!=i.snap?o=o.set(kn(),!0):co(i.children,c=>{o=o.set(new Vn(c),!0)}),Uy(n,new MI(i.path,o,e))}return[]}function mx(n,t,e){return Uy(n,new Vg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function VI(n,t,e,i,r=!1){const o=t._path,c=n.syncPointTree_.get(o);let h=[];if(c&&("default"===t._queryIdentifier||gz(c,t))){const m=function Cte(n,t,e,i){const r=t._queryIdentifier,o=[];let c=[];const h=Ip(n);if("default"===r)for(const[m,v]of n.views.entries())c=c.concat(cz(v,e,i)),lz(v)&&(n.views.delete(m),v.query._queryParams.loadsAllData()||o.push(v.query));else{const m=n.views.get(r);m&&(c=c.concat(cz(m,e,i)),lz(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||o.push(m.query)))}return h&&!Ip(n)&&o.push(new(function bte(){return(0,F.hu)(FI,"Reference.ts has not been loaded"),FI}())(t._repo,t._path)),{removed:o,events:c}}(c,t,e,i);(function wte(n){return 0===n.views.size})(c)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const v=m.removed;if(h=m.events,!r){const x=-1!==v.findIndex(R=>R._queryParams.loadsAllData()),I=n.syncPointTree_.findOnPath(o,(R,N)=>Ip(N));if(x&&!I){const R=n.syncPointTree_.subtree(o);if(!R.isEmpty()){const N=function Ote(n){return n.fold((t,e,i)=>{if(e&&Ip(e))return[LI(e)];{let r=[];return e&&(r=pz(e)),co(i,(o,c)=>{r=r.concat(c)}),r}})}(R);for(let H=0;H<N.length;++H){const Y=N[H],te=Y.query,Oe=wz(n,Y);n.listenProvider_.startListening(_x(te),gx(n,te),Oe.hashFn,Oe.onComplete)}}}!I&&v.length>0&&!i&&(x?n.listenProvider_.stopListening(_x(t),null):v.forEach(R=>{const N=n.queryToTagMap.get(HI(R));n.listenProvider_.stopListening(_x(R),N)}))}!function Pte(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=HI(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,v)}return h}function vz(n,t,e,i){const r=bN(n,i);if(null!=r){const o=wN(r),c=o.path,h=o.queryId,m=_s(c,t);return xN(n,c,new Vg(aN(h),m,e))}return[]}function yN(n,t,e,i=!1){const r=t._path;let o=null,c=!1;n.syncPointTree_.foreachOnPath(r,(R,N)=>{const H=_s(R,r);o=o||Sp(N,H),c=c||Ip(N)});let m,h=n.syncPointTree_.get(r);h?(c=c||Ip(h),o=o||Sp(h,kn())):(h=new hz,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=o?m=!0:(m=!1,o=on.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((N,H)=>{const Y=Sp(H,kn());Y&&(o=o.updateImmediateChild(N,Y))}));const v=gz(h,t);if(!v&&!t._queryParams.loadsAllData()){const R=HI(t);(0,F.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const N=function Nte(){return Ste++}();n.queryToTagMap.set(R,N),n.tagToQueryMap.set(N,R)}let I=function xte(n,t,e,i,r,o){const c=fz(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,c),function _te(n,t){n.eventRegistrations_.push(t)}(c,e),function vte(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(di,(o,c)=>{i.push(Fy(o,c))}),e.isFullyInitialized()&&i.push(Gj(e.getNode())),uz(n,i,e.getNode(),t)}(c,e)}(h,t,e,RI(n.pendingWriteTree_,r),o,m);if(!v&&!c&&!i){const R=mz(h,t);I=I.concat(function Fte(n,t,e){const i=t._path,r=gx(n,t),o=wz(n,e),c=n.listenProvider_.startListening(_x(t),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,F.hu)(!Ip(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((v,x,I)=>{if(!hn(v)&&x&&Ip(x))return[LI(x).query];{let R=[];return x&&(R=R.concat(pz(x).map(N=>N.query))),co(I,(N,H)=>{R=R.concat(H)}),R}});for(let v=0;v<m.length;++v){const x=m[v];n.listenProvider_.stopListening(_x(x),gx(n,x))}}return c}(n,t,R))}return I}function UI(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(c,h)=>{const v=Sp(h,_s(c,t));if(v)return v});return ez(r,t,o,e,!0)}function Uy(n,t){return yz(t,n.syncPointTree_,null,RI(n.pendingWriteTree_,kn()))}function yz(n,t,e,i){if(hn(n.path))return bz(n,t,e,i);{const r=t.get(kn());null==e&&null!=r&&(e=Sp(r,kn()));let o=[];const c=un(n.path),h=n.operationForChild(c),m=t.children.get(c);if(m&&h){const v=e?e.getImmediateChild(c):null,x=nz(i,c);o=o.concat(yz(h,m,v,x))}return r&&(o=o.concat(_N(r,n,i,e))),o}}function bz(n,t,e,i){const r=t.get(kn());null==e&&null!=r&&(e=Sp(r,kn()));let o=[];return t.children.inorderTraversal((c,h)=>{const m=e?e.getImmediateChild(c):null,v=nz(i,c),x=n.operationForChild(c);x&&(o=o.concat(bz(x,h,m,v)))}),r&&(o=o.concat(_N(r,n,i,e))),o}function wz(n,t){const e=t.query,i=gx(n,e);return{hashFn:()=>(function pte(n){return n.viewCache_.serverCache.getNode()}(t)||on.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function Ate(n,t,e){const i=bN(n,e);if(i){const r=wN(i),o=r.path,c=r.queryId,h=_s(o,t);return xN(n,o,new ux(aN(c),h))}return[]}(n,e._path,i):function Mte(n,t){return Uy(n,new ux({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function TJ(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return VI(n,e,null,o)}}}}function gx(n,t){const e=HI(t);return n.queryToTagMap.get(e)}function HI(n){return n._path.toString()+"$"+n._queryIdentifier}function bN(n,t){return n.tagToQueryMap.get(t)}function wN(n){const t=n.indexOf("$");return(0,F.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Vn(n.substr(0,t))}}function xN(n,t,e){const i=n.syncPointTree_.get(t);return(0,F.hu)(i,"Missing sync point for query tag that we're tracking"),_N(i,e,RI(n.pendingWriteTree_,t),null)}function _x(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function Dte(){return(0,F.hu)(BI,"Reference.ts has not been loaded"),BI}())(n._repo,n._path):n}class CN{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new CN(e)}node(){return this.node_}}class EN{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Oi(this.path_,t);return new EN(this.syncTree_,e)}node(){return UI(this.syncTree_,this.path_)}}const xz=function(n,t,e){return n&&"object"==typeof n?((0,F.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?Bte(n[".sv"],t,e):"object"==typeof n[".sv"]?Vte(n[".sv"],t):void(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},Bte=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,F.hu)(!1,"Unexpected server value: "+n)},Vte=function(n,t,e){n.hasOwnProperty("increment")||(0,F.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,F.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,F.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const c=r.getValue();return"number"!=typeof c?i:c+i},Cz=function(n,t,e,i){return SN(t,new EN(e,n),i)},DN=function(n,t,e){return SN(n,new CN(t),e)};function SN(n,t,e){const i=n.getPriority().val(),r=xz(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const c=n,h=xz(c.getValue(),t,e);return h!==c.getValue()||r!==c.getPriority().val()?new Py(h,Gi(r)):n}{const c=n;return o=c,r!==c.getPriority().val()&&(o=o.updatePriority(new Py(r))),c.forEachChild(di,(h,m)=>{const v=SN(m,t.getImmediateChild(h),e);v!==m&&(o=o.updateImmediateChild(h,v))}),o}}class IN{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function jI(n,t){let e=t instanceof Vn?t:new Vn(t),i=n,r=un(e);for(;null!==r;){const o=(0,F.DV)(i.node.children,r)||{children:{},childCount:0};i=new IN(r,i,o),e=ii(e),r=un(e)}return i}function jg(n){return n.node.value}function TN(n,t){n.node.value=t,MN(n)}function Ez(n){return n.node.childCount>0}function zI(n,t){co(n.node.children,(e,i)=>{t(new IN(e,n,i))})}function Dz(n,t,e,i){e&&!i&&t(n),zI(n,r=>{Dz(r,t,!0,i)}),e&&i&&t(n)}function vx(n){return new Vn(null===n.parent?n.name:vx(n.parent)+"/"+n.name)}function MN(n){null!==n.parent&&function jte(n,t,e){const i=function Ute(n){return void 0===jg(n)&&!Ez(n)}(e),r=(0,F.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,MN(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,MN(n))}(n.parent,n.name,n)}const zte=/[\[\].#$\/\u0000-\u001F\u007F]/,$te=/[\[\].#$\u0000-\u001F\u007F]/,AN=10485760,$I=function(n){return"string"==typeof n&&0!==n.length&&!zte.test(n)},Sz=function(n){return"string"==typeof n&&0!==n.length&&!$te.test(n)},yx=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!_I(n)||n&&"object"==typeof n&&(0,F.r3)(n,".sv")},Jd=function(n,t,e,i){i&&void 0===t||bx((0,F.gK)(n,"value"),t,e)},bx=function(n,t,e){const i=e instanceof Vn?new aee(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Lg(i));if("function"==typeof t)throw new Error(n+"contains a function "+Lg(i)+" with contents = "+t.toString());if(_I(t))throw new Error(n+"contains "+t.toString()+" "+Lg(i));if("string"==typeof t&&t.length>AN/3&&(0,F.ug)(t)>AN)throw new Error(n+"contains a string greater than "+AN+" utf8 bytes "+Lg(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(co(t,(c,h)=>{if(".value"===c)r=!0;else if(".priority"!==c&&".sv"!==c&&(o=!0,!$I(c)))throw new Error(n+" contains an invalid key ("+c+") "+Lg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function lee(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,F.ug)(t),Fj(n)})(i,c),bx(n,h,i),function cee(n){const t=n.parts_.pop();n.byteLength_-=(0,F.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Lg(i)+" in addition to actual children.")}},Iz=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,F.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];co(t,(c,h)=>{const m=new Vn(c);if(bx(r,h,Oi(e,m)),".priority"===qP(m)&&!yx(h))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(m)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=rx(i);for(let c=0;c<o.length;c++)if((".priority"!==o[c]||c!==o.length-1)&&!$I(o[c]))throw new Error(n+"contains an invalid key ("+o[c]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(see);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&bl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},kN=function(n,t,e){if(!e||void 0!==t){if(_I(t))throw new Error((0,F.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yx(t))throw new Error((0,F.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wx=function(n,t,e,i){if(!(i&&void 0===e||$I(e)))throw new Error((0,F.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xx=function(n,t,e,i){if(!(i&&void 0===e||Sz(e)))throw new Error((0,F.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},xl=function(n,t){if(".info"===un(t))throw new Error(n+" failed = Can't modify data under /.info/")},Tz=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!$I(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Sz(n)}(e))throw new Error((0,F.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Yte{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function GI(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!WP(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function Mz(n,t,e){GI(n,e),Az(n,i=>WP(i,t))}function xa(n,t,e){GI(n,e),Az(n,i=>bl(i,t)||bl(t,i))}function Az(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Kte(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Kte(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Ng&&lo("event: "+e.toString()),Ry(i)}}}const kz="repo_interrupt";class Qte{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Yte,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=TI(),this.transactionQueueTree_=new IN,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Rz(n){const e=n.infoData_.getNode(new Vn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Cx(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:Rz(n)})}function Oz(n,t,e,i,r){n.dataUpdateCount++;const o=new Vn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let c=[];if(r)if(i){const m=(0,F.UI)(e,v=>Gi(v));c=function kte(n,t,e,i){const r=bN(n,i);if(r){const o=wN(r),c=o.path,h=o.queryId,m=_s(c,t),v=ui.fromObject(e);return xN(n,c,new By(aN(h),m,v))}return[]}(n.serverSyncTree_,o,m,r)}else{const m=Gi(e);c=vz(n.serverSyncTree_,o,m,r)}else if(i){const m=(0,F.UI)(e,v=>Gi(v));c=function Tte(n,t,e){const i=ui.fromObject(e);return Uy(n,new By({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,m)}else{const m=Gi(e);c=mx(n.serverSyncTree_,o,m)}let h=o;c.length>0&&(h=jy(n,o)),xa(n.eventQueue_,h,c)}function Pz(n,t){RN(n,"connected",t),!1===t&&function nne(n){Hy(n,"onDisconnectEvents");const t=Cx(n),e=TI();rN(n.onDisconnect_,kn(),(r,o)=>{const c=Cz(r,o,n.serverSyncTree_,t);Ly(e,r,c)});let i=[];rN(e,kn(),(r,o)=>{i=i.concat(mx(n.serverSyncTree_,r,o));const c=FN(n,r);jy(n,c)}),n.onDisconnect_=TI(),xa(n.eventQueue_,kn(),i)}(n)}function RN(n,t,e){const i=new Vn("/.info/"+t),r=Gi(e);n.infoData_.updateSnapshot(i,r);const o=mx(n.infoSyncTree_,i,r);xa(n.eventQueue_,i,o)}function qI(n){return n.nextWriteId_++}function ON(n,t,e,i,r){Hy(n,"set",{path:t.toString(),value:e,priority:i});const o=Cx(n),c=Gi(e,i),h=UI(n.serverSyncTree_,t),m=DN(c,h,o),v=qI(n),x=vN(n.serverSyncTree_,t,m,v,!0);GI(n.eventQueue_,x),n.server_.put(t.toString(),c.val(!0),(R,N)=>{const H="ok"===R;H||Go("set at "+t+" failed: "+R);const Y=Tp(n.serverSyncTree_,v,!H);xa(n.eventQueue_,t,Y),Mp(0,r,R,N)});const I=FN(n,t);jy(n,I),xa(n.eventQueue_,I,[])}function ine(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&iN(n.onDisconnect_,t),Mp(0,e,i,r)})}function Nz(n,t,e,i){const r=Gi(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,c)=>{"ok"===o&&Ly(n.onDisconnect_,t,r),Mp(0,i,o,c)})}function PN(n,t,e){let i;i=".info"===un(t._path)?VI(n.infoSyncTree_,t,e):VI(n.serverSyncTree_,t,e),Mz(n.eventQueue_,t._path,i)}function Fz(n){n.persistentConnection_&&n.persistentConnection_.interrupt(kz)}function Hy(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),lo(e,...t)}function Mp(n,t,e,i){t&&Ry(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const c=new Error(o);c.code=r,t(c)}})}function NN(n,t,e){return UI(n.serverSyncTree_,t,e)||on.EMPTY_NODE}function WI(n,t=n.transactionQueueTree_){if(t||YI(n,t),jg(t)){const e=Bz(n,t);(0,F.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function cne(n,t,e){const i=e.map(v=>v.currentWriteId),r=NN(n,t,i);let o=r;const c=r.hash();for(let v=0;v<e.length;v++){const x=e[v];(0,F.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const I=_s(t,x.path);o=o.updateChild(I,x.currentOutputSnapshotRaw)}const h=o.val(!0),m=t;n.server_.put(m.toString(),h,v=>{Hy(n,"transaction put response",{path:m.toString(),status:v});let x=[];if("ok"===v){const I=[];for(let R=0;R<e.length;R++)e[R].status=2,x=x.concat(Tp(n.serverSyncTree_,e[R].currentWriteId)),e[R].onComplete&&I.push(()=>e[R].onComplete(null,!0,e[R].currentOutputSnapshotResolved)),e[R].unwatcher();YI(n,jI(n.transactionQueueTree_,t)),WI(n,n.transactionQueueTree_),xa(n.eventQueue_,t,x);for(let R=0;R<I.length;R++)Ry(I[R])}else{if("datastale"===v)for(let I=0;I<e.length;I++)e[I].status=3===e[I].status?4:0;else{Go("transaction at "+m.toString()+" failed: "+v);for(let I=0;I<e.length;I++)e[I].status=4,e[I].abortReason=v}jy(n,t)}},c)}(n,vx(t),e)}else Ez(t)&&zI(t,e=>{WI(n,e)})}function jy(n,t){const e=Lz(n,t),i=vx(e);return function dne(n,t,e){if(0===t.length)return;const i=[];let r=[];const c=t.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const m=t[h],v=_s(e,m.path);let I,x=!1;if((0,F.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)x=!0,I=m.abortReason,r=r.concat(Tp(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=25)x=!0,I="maxretry",r=r.concat(Tp(n.serverSyncTree_,m.currentWriteId,!0));else{const R=NN(n,m.path,c);m.currentInputSnapshot=R;const N=t[h].update(R.val());if(void 0!==N){bx("transaction failed: Data returned ",N,m.path);let H=Gi(N);"object"==typeof N&&null!=N&&(0,F.r3)(N,".priority")||(H=H.updatePriority(R.getPriority()));const te=m.currentWriteId,Oe=Cx(n),Ye=DN(H,R,Oe);m.currentOutputSnapshotRaw=H,m.currentOutputSnapshotResolved=Ye,m.currentWriteId=qI(n),c.splice(c.indexOf(te),1),r=r.concat(vN(n.serverSyncTree_,m.path,Ye,m.currentWriteId,m.applyLocally)),r=r.concat(Tp(n.serverSyncTree_,te,!0))}else x=!0,I="nodata",r=r.concat(Tp(n.serverSyncTree_,m.currentWriteId,!0))}xa(n.eventQueue_,e,r),r=[],x&&(t[h].status=2,setTimeout(t[h].unwatcher,Math.floor(0)),t[h].onComplete&&i.push("nodata"===I?()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot):()=>t[h].onComplete(new Error(I),!1,null)))}YI(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)Ry(i[h]);WI(n,n.transactionQueueTree_)}(n,Bz(n,e),i),i}function Lz(n,t){let e,i=n.transactionQueueTree_;for(e=un(t);null!==e&&void 0===jg(i);)i=jI(i,e),e=un(t=ii(t));return i}function Bz(n,t){const e=[];return Vz(n,t,e),e.sort((i,r)=>i.order-r.order),e}function Vz(n,t,e){const i=jg(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);zI(t,r=>{Vz(n,r,e)})}function YI(n,t){const e=jg(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,TN(t,e.length>0?e:void 0)}zI(t,i=>{YI(n,i)})}function FN(n,t){const e=vx(Lz(n,t)),i=jI(n.transactionQueueTree_,t);return function Hte(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{LN(n,r)}),LN(n,i),Dz(i,r=>{LN(n,r)}),e}function LN(n,t){const e=jg(t);if(e){const i=[];let r=[],o=-1;for(let c=0;c<e.length;c++)3===e[c].status||(1===e[c].status?((0,F.hu)(o===c-1,"All SENT items should be at beginning of queue."),o=c,e[c].status=3,e[c].abortReason="set"):((0,F.hu)(0===e[c].status,"Unexpected transaction status in abort"),e[c].unwatcher(),r=r.concat(Tp(n.serverSyncTree_,e[c].currentWriteId,!0)),e[c].onComplete&&i.push(e[c].onComplete.bind(null,new Error("set"),!1,null))));-1===o?TN(t,void 0):e.length=o+1,xa(n.eventQueue_,vx(t),r);for(let c=0;c<i.length;c++)Ry(i[c])}}const BN=function(n,t){const e=fne(n),i=e.namespace;return"firebase.com"===e.domain&&Qd(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Qd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Go("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new UP(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Vn(e.pathString)}},fne=function(n){let t="",e="",i="",r="",o="",c=!0,h="https",m=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let x=n.indexOf("/");-1===x&&(x=n.length);let I=n.indexOf("?");-1===I&&(I=n.length),t=n.substring(0,Math.min(x,I)),x<I&&(r=function une(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(x,I)));const R=function hne(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Go(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,I)));v=t.indexOf(":"),v>=0?(c="https"===h||"wss"===h,m=parseInt(t.substring(v+1),10)):v=t.length;const N=t.slice(0,v);if("localhost"===N.toLowerCase())e="localhost";else if(N.split(".").length<=2)e=N;else{const H=t.indexOf(".");i=t.substring(0,H).toLowerCase(),e=t.substring(H+1),o=i}"ns"in R&&(o=R.ns)}return{host:t,port:m,domain:e,subdomain:i,secure:c,scheme:h,pathString:r,namespace:o}},Uz="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",pne=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=Uz.charAt(e%64),e=Math.floor(e/64);(0,F.hu)(0===e,"Cannot push at time == 0");let c=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)c+=Uz.charAt(t[r]);return(0,F.hu)(20===c.length,"nextPushId: Length should be 20."),c}}();class Hz{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,F.Wl)(this.snapshot.exportVal())}}class jz{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class VN{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,F.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class zz{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new F.BH;return ine(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){xl("OnDisconnect.remove",this._path);const t=new F.BH;return Nz(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){xl("OnDisconnect.set",this._path),Jd("OnDisconnect.set",t,this._path,!1);const e=new F.BH;return Nz(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){xl("OnDisconnect.setWithPriority",this._path),Jd("OnDisconnect.setWithPriority",t,this._path,!1),kN("OnDisconnect.setWithPriority",e,!1);const i=new F.BH;return function rne(n,t,e,i,r){const o=Gi(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(c,h)=>{"ok"===c&&Ly(n.onDisconnect_,t,o),Mp(0,r,c,h)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){xl("OnDisconnect.update",this._path),Iz("OnDisconnect.update",t,this._path,!1);const e=new F.BH;return function one(n,t,e,i){if((0,F.xb)(e))return lo("onDisconnect().update() called with empty data.  Don't do anything."),void Mp(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&co(e,(c,h)=>{const m=Gi(h);Ly(n.onDisconnect_,Oi(t,c),m)}),Mp(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class $s{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return hn(this._path)?null:qP(this._path)}get ref(){return new Cl(this._repo,this._path)}get _queryIdentifier(){const t=Wj(this._queryParams),e=BP(t);return"{}"===e?"default":e}get _queryObject(){return Wj(this._queryParams)}isEqual(t){if(!((t=(0,F.m9)(t))instanceof $s))return!1;const e=this._repo===t._repo,i=WP(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function oee(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function KI(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Ap(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Xd){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==wp)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==hh)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===di){if(null!=t&&!yx(t)||null!=e&&!yx(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,F.hu)(n.getIndex()instanceof XP||n.getIndex()===JP,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function ZI(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Cl extends $s{constructor(t,e){super(t,e,new DI,!1)}get parent(){const t=Nj(this._path);return null===t?null:new Cl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class zg{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Vn(t),i=$g(this.ref,t);return new zg(this._node.getChild(e),i,di)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new zg(r,$g(this.ref,i),di)))}hasChild(t){const e=new Vn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function $z(n,t){return(n=(0,F.m9)(n))._checkNotDeleted("ref"),void 0!==t?$g(n._root,t):n._root}function Gz(n,t){(n=(0,F.m9)(n))._checkNotDeleted("refFromURL");const e=BN(t,n._repo.repoInfo_.nodeAdmin);Tz("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Qd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),$z(n,e.path.toString())}function $g(n,t){return null===un((n=(0,F.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),xx("child","path",e,!1)):xx("child","path",t,!1),new Cl(n._repo,Oi(n._path,t));var e}function UN(n,t){n=(0,F.m9)(n),xl("set",n._path),Jd("set",t,n._path,!1);const e=new F.BH;return ON(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function yne(n,t){Iz("update",t,n._path,!1);const e=new F.BH;return function tne(n,t,e,i){Hy(n,"update",{path:t.toString(),value:e});let r=!0;const o=Cx(n),c={};if(co(e,(h,m)=>{r=!1,c[h]=Cz(Oi(t,h),Gi(m),n.serverSyncTree_,o)}),r)lo("update() called with empty data.  Don't do anything."),Mp(0,i,"ok",void 0);else{const h=qI(n),m=function Ite(n,t,e,i){!function $ee(n,t,e,i){(0,F.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=cN(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=ui.fromObject(e);return Uy(n,new By({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,c,h);GI(n.eventQueue_,m),n.server_.merge(t.toString(),e,(v,x)=>{const I="ok"===v;I||Go("update at "+t+" failed: "+v);const R=Tp(n.serverSyncTree_,h,!I),N=R.length>0?jy(n,t):t;xa(n.eventQueue_,N,R),Mp(0,i,v,x)}),co(e,v=>{const x=FN(n,Oi(t,v));jy(n,x)}),xa(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function bne(n){n=(0,F.m9)(n);const t=new VN(()=>{}),e=new Ex(t);return function ene(n,t,e){const i=function Rte(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(v,x)=>{const I=_s(v,e);i=i||Sp(x,I)});let r=n.syncPointTree_.get(e);r?i=i||Sp(r,kn()):(r=new hz,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,c=o?new Ep(i,!0,!1):null;return function mte(n){return kI(n.viewCache_)}(fz(r,t,RI(n.pendingWriteTree_,t._path),o?c.getNode():on.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=Gi(r).withIndex(t._queryParams.getIndex());let c;if(yN(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())c=mx(n.serverSyncTree_,t._path,o);else{const h=gx(n.serverSyncTree_,t);c=vz(n.serverSyncTree_,t._path,o,h)}return xa(n.eventQueue_,t._path,c),VI(n.serverSyncTree_,t,e,null,!0),o},r=>(Hy(n,"get for query "+(0,F.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new zg(i,new Cl(n._repo,n._path),n._queryParams.getIndex()))}class Ex{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new Hz("value",this,new zg(t.snapshotNode,new Cl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new jz(this,t,e):null}matches(t){return t instanceof Ex&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class QI{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new jz(this,t,e):null}createEvent(t,e){(0,F.hu)(null!=t.childName,"Child events should have a childName.");const i=$g(new Cl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new Hz(t.type,this,new zg(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof QI&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Dx(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const m=e,v=(x,I)=>{PN(n._repo,n,h),m(x,I)};v.userCallback=e.userCallback,v.context=e.context,e=v}const c=new VN(e,o||void 0),h="value"===t?new Ex(c):new QI(t,c);return function sne(n,t,e){let i;i=".info"===un(t._path)?yN(n.infoSyncTree_,t,e):yN(n.serverSyncTree_,t,e),Mz(n.eventQueue_,t._path,i)}(n._repo,n,h),()=>PN(n._repo,n,h)}function HN(n,t,e,i){return Dx(n,"value",t,e,i)}function qz(n,t,e,i){return Dx(n,"child_added",t,e,i)}function Wz(n,t,e,i){return Dx(n,"child_changed",t,e,i)}function Yz(n,t,e,i){return Dx(n,"child_moved",t,e,i)}function Kz(n,t,e,i){return Dx(n,"child_removed",t,e,i)}function Zz(n,t,e){let i=null;const r=e?new VN(e):null;"value"===t?i=new Ex(r):t&&(i=new QI(t,r)),PN(n._repo,n,i)}class Mc{}class Qz extends Mc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Jd("endAt",this._value,t._path,!0);const e=nN(t._queryParams,this._value,this._key);if(ZI(e),Ap(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $s(t._repo,t._path,e,t._orderByCalled)}}class xne extends Mc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Jd("endBefore",this._value,t._path,!1);const e=function kee(n,t,e){let i;return i=nN(n,t,n.index_===Xd||e?e:wp),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(ZI(e),Ap(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $s(t._repo,t._path,e,t._orderByCalled)}}class Xz extends Mc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Jd("startAt",this._value,t._path,!0);const e=tN(t._queryParams,this._value,this._key);if(ZI(e),Ap(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $s(t._repo,t._path,e,t._orderByCalled)}}class Dne extends Mc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Jd("startAfter",this._value,t._path,!1);const e=function Aee(n,t,e){let i;return i=tN(n,t,n.index_===Xd||e?e:hh),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(ZI(e),Ap(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $s(t._repo,t._path,e,t._orderByCalled)}}class Ine extends Mc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $s(t._repo,t._path,function Tee(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class Mne extends Mc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $s(t._repo,t._path,function Mee(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class kne extends Mc{constructor(t){super(),this._path=t}_apply(t){KI(t,"orderByChild");const e=new Vn(this._path);if(hn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new XP(e),r=SI(t._queryParams,i);return Ap(r),new $s(t._repo,t._path,r,!0)}}class One extends Mc{_apply(t){KI(t,"orderByKey");const e=SI(t._queryParams,Xd);return Ap(e),new $s(t._repo,t._path,e,!0)}}class Nne extends Mc{_apply(t){KI(t,"orderByPriority");const e=SI(t._queryParams,di);return Ap(e),new $s(t._repo,t._path,e,!0)}}class Lne extends Mc{_apply(t){KI(t,"orderByValue");const e=SI(t._queryParams,JP);return Ap(e),new $s(t._repo,t._path,e,!0)}}class Vne extends Mc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Jd("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Qz(this._value,this._key)._apply(new Xz(this._value,this._key)._apply(t))}}function Ac(n,...t){let e=(0,F.m9)(n);for(const i of t)e=i._apply(e);return e}(function yte(n){(0,F.hu)(!FI,"__referenceConstructor has already been defined"),FI=n})(Cl),function Ete(n){(0,F.hu)(!BI,"__referenceConstructor has already been defined"),BI=n}(Cl);const jN={};function e6(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Qd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lo("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,v,c=BN(o,r),h=c.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(m=!0,o=`http://${v}?ns=${h.namespace}`,c=BN(o,r),h=c.repoInfo):m=!c.repoInfo.secure;const x=r&&m?new ix(ix.OWNER):new PJ(n.name,n.options,t);Tz("Invalid Firebase Database URL",c),hn(c.path)||Qd("Database URL must point to the root of a Firebase Database (not including a child path).");const I=function $ne(n,t,e,i){let r=jN[t.name];r||(r={},jN[t.name]=r);let o=r[n.toURLString()];return o&&Qd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Qte(n,false,e,i),r[n.toURLString()]=o,o}(h,n,x,new OJ(n.name,e));return new qne(I,n)}class qne{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Xte(n,t,e){if(n.stats_=zP(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new II(n.repoInfo_,(i,r,o,c)=>{Oz(n,i,r,o,c)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Pz(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,F.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Bg(n.repoInfo_,t,(i,r,o,c)=>{Oz(n,i,r,o,c)},i=>{Pz(n,i)},i=>{!function Jte(n,t){co(t,(e,i)=>{RN(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function LJ(n,t){const e=n.toString();return jP[e]||(jP[e]=t()),jP[e]}(n.repoInfo_,()=>new Lee(n.stats_,n.server_)),n.infoData_=new Ree,n.infoSyncTree_=new _z({startListening:(i,r,o,c)=>{let h=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(h=mx(n.infoSyncTree_,i._path,m),setTimeout(()=>{c("ok")},0)),h},stopListening:()=>{}}),RN(n,"connected",!1),n.serverSyncTree_=new _z({startListening:(i,r,o,c)=>(n.server_.listen(i,o,r,(h,m)=>{const v=c(h,m);xa(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Cl(this._repo,kn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function zne(n,t){const e=jN[t];(!e||e[n.key]!==n)&&Qd(`Database ${t}(${n.repoInfo_}) has already been deleted.`),Fz(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Qd("Cannot call "+t+" on a deleted database.")}}function t6(){Cj.IS_TRANSPORT_INITIALIZED&&Go("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Wne(){t6(),xp.forceDisallow()}function Yne(){t6(),Oy.forceDisallow(),xp.forceAllow()}function Qne(n,t){ij(n,t)}const Jne={".sv":"timestamp"};class nie{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Bg.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Bg.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Xne(n){X3(Vs.SDK_VERSION),(0,Vs._registerComponent)(new cl.wA("database",(t,{instanceIdentifier:e})=>e6(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Vs.registerVersion)(Z3,"0.14.4",n),(0,Vs.registerVersion)(Z3,"0.14.4","esm2017")}();const sie=new ga.Yd("@firebase/database-compat"),r6=function(n){sie.warn("FIREBASE WARNING: "+n)};class cie{constructor(t){this._delegate=t}cancel(t){(0,F.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,F.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,F.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,F.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,F.Dv)("OnDisconnect.set",1,2,arguments.length),(0,F.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,F.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,F.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,r6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,F.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class die{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,F.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class kp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,F.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,F.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,F.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,F.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,F.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),xx("DataSnapshot.child","path",t,!1),new kp(this._database,this._delegate.child(t))}hasChild(t){return(0,F.Dv)("DataSnapshot.hasChild",1,1,arguments.length),xx("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,F.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,F.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,F.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new kp(this._database,e)))}hasChildren(){return(0,F.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,F.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,F.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ca(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class So{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,F.Dv)("Query.on",2,4,arguments.length),(0,F.Wj)("Query.on","callback",e,!1);const c=So.getCancelAndContextArgs_("Query.on",i,r),h=(v,x)=>{e.call(c.context,new kp(this.database,v),x)};h.userCallback=e,h.context=c.context;const m=null===(o=c.cancel)||void 0===o?void 0:o.bind(c.context);switch(t){case"value":return HN(this._delegate,h,m),e;case"child_added":return qz(this._delegate,h,m),e;case"child_removed":return Kz(this._delegate,h,m),e;case"child_changed":return Wz(this._delegate,h,m),e;case"child_moved":return Yz(this._delegate,h,m),e;default:throw new Error((0,F.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,F.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,F.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,F.Wj)("Query.off","callback",e,!0),(0,F.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,Zz(this._delegate,t,r)}else Zz(this._delegate,t)}get(){return bne(this._delegate).then(t=>new kp(this.database,t))}once(t,e,i,r){(0,F.Dv)("Query.once",1,4,arguments.length),(0,F.Wj)("Query.once","callback",e,!0);const o=So.getCancelAndContextArgs_("Query.once",i,r),c=new F.BH,h=(v,x)=>{const I=new kp(this.database,v);e&&e.call(o.context,I,x),c.resolve(I)};h.userCallback=e,h.context=o.context;const m=v=>{o.cancel&&o.cancel.call(o.context,v),c.reject(v)};switch(t){case"value":HN(this._delegate,h,m,{onlyOnce:!0});break;case"child_added":qz(this._delegate,h,m,{onlyOnce:!0});break;case"child_removed":Kz(this._delegate,h,m,{onlyOnce:!0});break;case"child_changed":Wz(this._delegate,h,m,{onlyOnce:!0});break;case"child_moved":Yz(this._delegate,h,m,{onlyOnce:!0});break;default:throw new Error((0,F.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return c.promise}limitToFirst(t){return(0,F.Dv)("Query.limitToFirst",1,1,arguments.length),new So(this.database,Ac(this._delegate,function Tne(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ine(n)}(t)))}limitToLast(t){return(0,F.Dv)("Query.limitToLast",1,1,arguments.length),new So(this.database,Ac(this._delegate,function Ane(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Mne(n)}(t)))}orderByChild(t){return(0,F.Dv)("Query.orderByChild",1,1,arguments.length),new So(this.database,Ac(this._delegate,function Rne(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return xx("orderByChild","path",n,!1),new kne(n)}(t)))}orderByKey(){return(0,F.Dv)("Query.orderByKey",0,0,arguments.length),new So(this.database,Ac(this._delegate,function Pne(){return new One}()))}orderByPriority(){return(0,F.Dv)("Query.orderByPriority",0,0,arguments.length),new So(this.database,Ac(this._delegate,function Fne(){return new Nne}()))}orderByValue(){return(0,F.Dv)("Query.orderByValue",0,0,arguments.length),new So(this.database,Ac(this._delegate,function Bne(){return new Lne}()))}startAt(t=null,e){return(0,F.Dv)("Query.startAt",0,2,arguments.length),new So(this.database,Ac(this._delegate,function Ene(n=null,t){return wx("startAt","key",t,!0),new Xz(n,t)}(t,e)))}startAfter(t=null,e){return(0,F.Dv)("Query.startAfter",0,2,arguments.length),new So(this.database,Ac(this._delegate,function Sne(n,t){return wx("startAfter","key",t,!0),new Dne(n,t)}(t,e)))}endAt(t=null,e){return(0,F.Dv)("Query.endAt",0,2,arguments.length),new So(this.database,Ac(this._delegate,function wne(n,t){return wx("endAt","key",t,!0),new Qz(n,t)}(t,e)))}endBefore(t=null,e){return(0,F.Dv)("Query.endBefore",0,2,arguments.length),new So(this.database,Ac(this._delegate,function Cne(n,t){return wx("endBefore","key",t,!0),new xne(n,t)}(t,e)))}equalTo(t,e){return(0,F.Dv)("Query.equalTo",1,2,arguments.length),new So(this.database,Ac(this._delegate,function Une(n,t){return wx("equalTo","key",t,!0),new Vne(n,t)}(t,e)))}toString(){return(0,F.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,F.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,F.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof So))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,F.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,F.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,F.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new Ca(this.database,new Cl(this._delegate._repo,this._delegate._path))}}class Ca extends So{constructor(t,e){super(t,new $s(e._repo,e._path,new DI,!1)),this.database=t,this._delegate=e}getKey(){return(0,F.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,F.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Ca(this.database,$g(this._delegate,t))}getParent(){(0,F.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Ca(this.database,t):null}getRoot(){return(0,F.Dv)("Reference.root",0,0,arguments.length),new Ca(this.database,this._delegate.root)}set(t,e){(0,F.Dv)("Reference.set",1,2,arguments.length),(0,F.Wj)("Reference.set","onComplete",e,!0);const i=UN(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,F.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,r6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}xl("Reference.update",this._delegate._path),(0,F.Wj)("Reference.update","onComplete",e,!0);const i=yne(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,F.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,F.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function vne(n,t,e){if(xl("setWithPriority",n._path),Jd("setWithPriority",t,n._path,!1),kN("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new F.BH;return ON(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,F.Dv)("Reference.remove",0,1,arguments.length),(0,F.Wj)("Reference.remove","onComplete",t,!0);const e=function gne(n){return xl("remove",n._path),UN(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,F.Dv)("Reference.transaction",1,3,arguments.length),(0,F.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,F.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,F.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function iie(n,t,e){var i;if(n=(0,F.m9)(n),xl("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new F.BH,h=HN(n,()=>{});return function lne(n,t,e,i,r,o){Hy(n,"transaction on "+t);const c={path:t,update:e,onComplete:i,status:null,order:ej(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=NN(n,t,void 0);c.currentInputSnapshot=h;const m=c.update(h.val());if(void 0===m)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{bx("transaction failed: Data returned ",m,c.path),c.status=0;const v=jI(n.transactionQueueTree_,t),x=jg(v)||[];let I;x.push(c),TN(v,x),"object"==typeof m&&null!==m&&(0,F.r3)(m,".priority")?(I=(0,F.DV)(m,".priority"),(0,F.hu)(yx(I),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):I=(UI(n.serverSyncTree_,t)||on.EMPTY_NODE).getPriority().val();const R=Cx(n),N=Gi(m,I),H=DN(N,h,R);c.currentOutputSnapshotRaw=N,c.currentOutputSnapshotResolved=H,c.currentWriteId=qI(n);const Y=vN(n.serverSyncTree_,t,H,c.currentWriteId,c.applyLocally);xa(n.eventQueue_,t,Y),WI(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(m,v,x)=>{let I=null;m?o.reject(m):(I=new zg(x,new Cl(n._repo,n._path),di),o.resolve(new nie(v,I)))},h,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new die(o.committed,new kp(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,F.Dv)("Reference.setPriority",1,2,arguments.length),(0,F.Wj)("Reference.setPriority","onComplete",e,!0);const i=function _ne(n,t){n=(0,F.m9)(n),xl("setPriority",n._path),kN("setPriority",t,!1);const e=new F.BH;return ON(n._repo,Oi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,F.Dv)("Reference.push",0,2,arguments.length),(0,F.Wj)("Reference.push","onComplete",e,!0);const i=function mne(n,t){n=(0,F.m9)(n),xl("push",n._path),Jd("push",t,n._path,!0);const e=Rz(n._repo),i=pne(e),r=$g(n,i),o=$g(n,i);let c;return c=null!=t?UN(o,t).then(()=>o):Promise.resolve(o),r.then=c.then.bind(c),r.catch=c.then.bind(c,void 0),r}(this._delegate,t),r=i.then(c=>new Ca(this.database,c));e&&r.then(()=>e(null),c=>e(c));const o=new Ca(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return xl("Reference.onDisconnect",this._delegate._path),new cie(new zz(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Sx{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Wne,forceLongPolling:Yne}}useEmulator(t,e,i={}){!function n6(n,t,e,i={}){(n=(0,F.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Qd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Qd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ix(ix.OWNER);else if(i.mockUserToken){const c="string"==typeof i.mockUserToken?i.mockUserToken:(0,F.Sg)(i.mockUserToken,n.app.options.projectId);o=new ix(c)}!function jne(n,t,e,i){n.repoInfo_=new UP(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,F.Dv)("database.ref",0,1,arguments.length),t instanceof Ca){const e=Gz(this._delegate,t.toString());return new Ca(this,e)}{const e=$z(this._delegate,t);return new Ca(this,e)}}refFromURL(t){(0,F.Dv)("database.refFromURL",1,1,arguments.length);const i=Gz(this._delegate,t);return new Ca(this,i)}goOffline(){return(0,F.Dv)("database.goOffline",0,0,arguments.length),function Kne(n){(n=(0,F.m9)(n))._checkNotDeleted("goOffline"),Fz(n._repo)}(this._delegate)}goOnline(){return(0,F.Dv)("database.goOnline",0,0,arguments.length),function Zne(n){(n=(0,F.m9)(n))._checkNotDeleted("goOnline"),function ane(n){n.persistentConnection_&&n.persistentConnection_.resume(kz)}(n._repo)}(this._delegate)}}Sx.ServerValue={TIMESTAMP:function eie(){return Jne}(),increment:n=>function tie(n){return{".sv":{increment:n}}}(n)};var hie=Object.freeze({__proto__:null,initStandalone:function uie({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){X3(e);const c=new cl.zt("auth-internal",new cl.H0("database-standalone"));return c.setComponent(new cl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Sx(e6(n,c,void 0,t,o),n),namespace:r}}});const fie=Sx.ServerValue;function o6(n){return null==n}function s6(n){return"function"==typeof n.set}function a6(n,t){return s6(t)?t:n.ref(t)}function l6(n,t){if(function mie(n){return"string"==typeof n}(n))return t.stringCase();if(s6(n))return t.firebaseCase();if(function gie(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Ix(n,t,e="on",i=ym.z){return new ei.y(r=>{let o=null;return o=n[e](t,(c,h)=>{i.schedule(()=>{r.next({snapshot:c,prevKey:h})}),"once"===e&&i.schedule(()=>r.complete())},c=>{i.schedule(()=>r.error(c))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,nt.U)(r=>{const{snapshot:o,prevKey:c}=r;let h=null;return o.exists()&&(h=o.key),{type:t,payload:o,prevKey:c,key:h}}),(0,qR.B)())}function c6(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function yie(n,t){const{payload:e,prevKey:i,key:r}=t,o=c6(n,r),c=function vie(n,t){if(o6(t))return 0;{const e=c6(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let h=null;t.payload.forEach(m=>{const v={payload:m,type:"value",prevKey:h,key:m.key};return h=m.key,n=[...n,v],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==i&&(n=n.filter(m=>m.payload.key!==e.key)).splice(c,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(c,0,t)}return n;case"child_removed":return n.filter(h=>h.payload.key!==e.key);case"child_changed":return n.map(h=>h.payload.key===r?t:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(c,0,h),n}return n;default:return n}}function d6(n){return(o6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function u6(n,t,e){return function _ie(n,t,e){return Ix(n,"value","once",e).pipe(ti(i=>{const r=[Qe(i)];return t.forEach(o=>r.push(Ix(n,o,"on",e))),(0,fp.T)(...r).pipe(Os(yie,[]))}),Nm())}(n,t=d6(t),e)}function h6(n,t,e){const i=(t=d6(t)).map(r=>Ix(n,r,"on",e));return(0,fp.T)(...i)}function f6(n,t){return function(i,r){return l6(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function Cie(n){return function(e){return e?l6(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function p6(n,t){return function(){return Ix(n,"value","on",t)}}!function pie(n){n.INTERNAL.registerComponent(new cl.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Sx(r,i)},"PUBLIC").setServiceProps({Reference:Ca,Query:So,Database:Sx,DataSnapshot:kp,enableLogging:Qne,INTERNAL:hie,ServerValue:fie}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(y0.Z);const Sie=new s.OlP("angularfire2.realtimeDatabaseURL"),Iie=new s.OlP("angularfire2.database.use-emulator");let Tie=(()=>{class n{constructor(e,i,r,o,c,h,m,v,x,I,R,N,H,Y,te){this.schedulers=h;const Oe=m,Ye=(0,to.on)(e,c,i);v&&CO(Ye,c,x,R,N,H,I,Y),this.database=(0,to.cc)(`${Ye.name}.database.${r}`,"AngularFireDatabase",Ye.name,()=>{const et=c.runOutsideAngular(()=>Ye.database(r||void 0));return Oe&&et.useEmulator(...Oe),et},[Oe])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>a6(this.database,e));let o=r;return i&&(o=i(r)),function Eie(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:f6(i,"update"),set:f6(i,"set"),push:r=>i.push(r),remove:Cie(i),snapshotChanges:r=>u6(n,r,e).pipe(li.iC),stateChanges:r=>h6(n,r,e).pipe(li.iC),auditTrail:r=>function bie(n,t,e){return function xie(n,t,e){return function wie(n,t){return Ix(n,"value","on",t).pipe((0,nt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function yJ(...n){const t=(0,qr.jO)(n);return(0,si.e)((e,i)=>{const r=n.length,o=new Array(r);let c=n.map(()=>!1),h=!1;for(let m=0;m<r;m++)(0,Rs.Xf)(n[m]).subscribe((0,Pn.x)(i,v=>{o[m]=v,!h&&!c[m]&&(c[m]=!0,(h=c.every(ns.y))&&(c=null))},MC.Z));e.subscribe((0,Pn.x)(i,m=>{if(h){const v=[m,...o];i.next(t?t(...v):v)}}))})}(t),(0,nt.U)(([r,o])=>{const c=r.lastKeyToLoad,h=o.map(m=>m.key);return{actions:o,lastKeyToLoad:c,loadedKeys:h}}),function bJ(n){return(0,si.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Pn.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,nt.U)(r=>r.actions))}(n,h6(n,t).pipe(Os((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(li.iC),valueChanges:(r,o)=>u6(n,r,e).pipe((0,nt.U)(h=>h.map(m=>o&&o.idField?Object.assign(Object.assign({},m.payload.val()),{[o.idField]:m.key}):m.payload.val())),li.iC)}}(o,this)}object(e){return function Die(n,t){return{query:n,snapshotChanges:()=>p6(n,t.schedulers.outsideAngular)().pipe(li.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>p6(n,t.schedulers.outsideAngular)().pipe(li.iC,(0,nt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>a6(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(to.Dh),s.LFG(to.xv,8),s.LFG(Sie,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(li.HU),s.LFG(Iie,8),s.LFG(EO,8),s.LFG(_O,8),s.LFG(vO,8),s.LFG(yO,8),s.LFG(bO,8),s.LFG(wO,8),s.LFG(xO,8),s.LFG(kS,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Mie=(()=>{class n{constructor(){Yq.Z.registerVersion("angularfire",li.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Tie]}),n})();class zy{}zy.\u0275fac=function(t){return new(t||zy)},zy.\u0275mod=s.oAB({type:zy,bootstrap:[Yw]}),zy.\u0275inj=s.cJS({imports:[Xl,Sy,nJ,_0,pJ,_J,WM,EK,N4,qK,DZ,iQ,mW,bH,G9,to.hO.initializeApp({apiKey:"AIzaSyCeBCuFMxvxExw_kEoip_zZPerQ5rZIbrs",authDomain:"team-vacation-planner-poc.firebaseapp.com",projectId:"team-vacation-planner-poc",storageBucket:"team-vacation-planner-poc.appspot.com",messagingSenderId:"798745482636",appId:"1:798745482636:web:cc8779acb5acdffe2832a9",measurementId:"G-6WQCV4D8G3"}),Mie]}),Hp().bootstrapModule(zy).catch(n=>console.error(n))},9751:(bt,Se,V)=>{V.d(Se,{y:()=>xe});var s=V(930),ne=V(727),B=V(8822),ce=V(9635),de=V(2416),J=V(576),we=V(2806);let xe=(()=>{class Q{constructor(Ie){Ie&&(this._subscribe=Ie)}lift(Ie){const Ze=new Q;return Ze.source=this,Ze.operator=Ie,Ze}subscribe(Ie,Ze,ft){const ge=function q(Q){return Q&&Q instanceof s.Lv||function W(Q){return Q&&(0,J.m)(Q.next)&&(0,J.m)(Q.error)&&(0,J.m)(Q.complete)}(Q)&&(0,ne.Nn)(Q)}(Ie)?Ie:new s.Hp(Ie,Ze,ft);return(0,we.x)(()=>{const{operator:Pe,source:Ne}=this;ge.add(Pe?Pe.call(ge,Ne):Ne?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Ie){try{return this._subscribe(Ie)}catch(Ze){Ie.error(Ze)}}forEach(Ie,Ze){return new(Ze=pe(Ze))((ft,ge)=>{const Pe=new s.Hp({next:Ne=>{try{Ie(Ne)}catch(Ue){ge(Ue),Pe.unsubscribe()}},error:ge,complete:ft});this.subscribe(Pe)})}_subscribe(Ie){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Ie)}[B.L](){return this}pipe(...Ie){return(0,ce.U)(Ie)(this)}toPromise(Ie){return new(Ie=pe(Ie))((Ze,ft)=>{let ge;this.subscribe(Pe=>ge=Pe,Pe=>ft(Pe),()=>Ze(ge))})}}return Q.create=ze=>new Q(ze),Q})();function pe(Q){var ze;return null!==(ze=Q??de.v.Promise)&&void 0!==ze?ze:Promise}},7579:(bt,Se,V)=>{V.d(Se,{x:()=>we});var s=V(9751),ne=V(727);const ce=(0,V(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=V(8737),J=V(2806);let we=(()=>{class pe extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(q){const Q=new xe(this,this);return Q.operator=q,Q}_throwIfClosed(){if(this.closed)throw new ce}next(q){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(q)}})}error(q){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=q;const{observers:Q}=this;for(;Q.length;)Q.shift().error(q)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:q}=this;for(;q.length;)q.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var q;return(null===(q=this.observers)||void 0===q?void 0:q.length)>0}_trySubscribe(q){return this._throwIfClosed(),super._trySubscribe(q)}_subscribe(q){return this._throwIfClosed(),this._checkFinalizedStatuses(q),this._innerSubscribe(q)}_innerSubscribe(q){const{hasError:Q,isStopped:ze,observers:Ie}=this;return Q||ze?ne.Lc:(this.currentObservers=null,Ie.push(q),new ne.w0(()=>{this.currentObservers=null,(0,de.P)(Ie,q)}))}_checkFinalizedStatuses(q){const{hasError:Q,thrownError:ze,isStopped:Ie}=this;Q?q.error(ze):Ie&&q.complete()}asObservable(){const q=new s.y;return q.source=this,q}}return pe.create=(W,q)=>new xe(W,q),pe})();class xe extends we{constructor(W,q){super(),this.destination=W,this.source=q}next(W){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.next)||void 0===Q||Q.call(q,W)}error(W){var q,Q;null===(Q=null===(q=this.destination)||void 0===q?void 0:q.error)||void 0===Q||Q.call(q,W)}complete(){var W,q;null===(q=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===q||q.call(W)}_subscribe(W){var q,Q;return null!==(Q=null===(q=this.source)||void 0===q?void 0:q.subscribe(W))&&void 0!==Q?Q:ne.Lc}}},930:(bt,Se,V)=>{V.d(Se,{Hp:()=>ft,Lv:()=>Q});var s=V(576),ne=V(727),B=V(2416),ce=V(7849),de=V(5032);const J=pe("C",void 0,void 0);function pe(Fe,Ce,Ee){return{kind:Fe,value:Ce,error:Ee}}var W=V(3410),q=V(2806);class Q extends ne.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,ne.Nn)(Ce)&&Ce.add(this)):this.destination=Ue}static create(Ce,Ee,qe){return new ft(Ce,Ee,qe)}next(Ce){this.isStopped?Ne(function xe(Fe){return pe("N",Fe,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?Ne(function we(Fe){return pe("E",void 0,Fe)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?Ne(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ze=Function.prototype.bind;function Ie(Fe,Ce){return ze.call(Fe,Ce)}class Ze{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ce)}catch(qe){ge(qe)}}error(Ce){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ce)}catch(qe){ge(qe)}else ge(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Ee){ge(Ee)}}}class ft extends Q{constructor(Ce,Ee,qe){let Le;if(super(),(0,s.m)(Ce)||!Ce)Le={next:Ce??void 0,error:Ee??void 0,complete:qe??void 0};else{let lt;this&&B.v.useDeprecatedNextContext?(lt=Object.create(Ce),lt.unsubscribe=()=>this.unsubscribe(),Le={next:Ce.next&&Ie(Ce.next,lt),error:Ce.error&&Ie(Ce.error,lt),complete:Ce.complete&&Ie(Ce.complete,lt)}):Le=Ce}this.destination=new Ze(Le)}}function ge(Fe){B.v.useDeprecatedSynchronousErrorHandling?(0,q.O)(Fe):(0,ce.h)(Fe)}function Ne(Fe,Ce){const{onStoppedNotification:Ee}=B.v;Ee&&W.z.setTimeout(()=>Ee(Fe,Ce))}const Ue={closed:!0,next:de.Z,error:function Pe(Fe){throw Fe},complete:de.Z}},727:(bt,Se,V)=>{V.d(Se,{Lc:()=>J,w0:()=>de,Nn:()=>we});var s=V(576);const B=(0,V(3888).d)(pe=>function(q){pe(this),this.message=q?`${q.length} errors occurred during unsubscription:\n${q.map((Q,ze)=>`${ze+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=q});var ce=V(8737);class de{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:q}=this;if(q)if(this._parentage=null,Array.isArray(q))for(const Ie of q)Ie.remove(this);else q.remove(this);const{initialTeardown:Q}=this;if((0,s.m)(Q))try{Q()}catch(Ie){W=Ie instanceof B?Ie.errors:[Ie]}const{_finalizers:ze}=this;if(ze){this._finalizers=null;for(const Ie of ze)try{xe(Ie)}catch(Ze){W=W??[],Ze instanceof B?W=[...W,...Ze.errors]:W.push(Ze)}}if(W)throw new B(W)}}add(W){var q;if(W&&W!==this)if(this.closed)xe(W);else{if(W instanceof de){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(q=this._finalizers)&&void 0!==q?q:[]).push(W)}}_hasParent(W){const{_parentage:q}=this;return q===W||Array.isArray(q)&&q.includes(W)}_addParent(W){const{_parentage:q}=this;this._parentage=Array.isArray(q)?(q.push(W),q):q?[q,W]:W}_removeParent(W){const{_parentage:q}=this;q===W?this._parentage=null:Array.isArray(q)&&(0,ce.P)(q,W)}remove(W){const{_finalizers:q}=this;q&&(0,ce.P)(q,W),W instanceof de&&W._removeParent(this)}}de.EMPTY=(()=>{const pe=new de;return pe.closed=!0,pe})();const J=de.EMPTY;function we(pe){return pe instanceof de||pe&&"closed"in pe&&(0,s.m)(pe.remove)&&(0,s.m)(pe.add)&&(0,s.m)(pe.unsubscribe)}function xe(pe){(0,s.m)(pe)?pe():pe.unsubscribe()}},2416:(bt,Se,V)=>{V.d(Se,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(bt,Se,V)=>{V.d(Se,{E:()=>ne});const ne=new(V(9751).y)(de=>de.complete())},8996:(bt,Se,V)=>{V.d(Se,{D:()=>Ce});var s=V(8421),ne=V(5363),B=V(9468),J=V(9751),xe=V(2202),pe=V(576),W=V(9672);function Q(Ee,qe){if(!Ee)throw new Error("Iterable cannot be null");return new J.y(Le=>{(0,W.f)(Le,qe,()=>{const lt=Ee[Symbol.asyncIterator]();(0,W.f)(Le,qe,()=>{lt.next().then(le=>{le.done?Le.complete():Le.next(le.value)})},0,!0)})})}var ze=V(3670),Ie=V(8239),Ze=V(1144),ft=V(6495),ge=V(2206),Pe=V(4532),Ne=V(3260);function Ce(Ee,qe){return qe?function Fe(Ee,qe){if(null!=Ee){if((0,ze.c)(Ee))return function ce(Ee,qe){return(0,s.Xf)(Ee).pipe((0,B.R)(qe),(0,ne.Q)(qe))}(Ee,qe);if((0,Ze.z)(Ee))return function we(Ee,qe){return new J.y(Le=>{let lt=0;return qe.schedule(function(){lt===Ee.length?Le.complete():(Le.next(Ee[lt++]),Le.closed||this.schedule())})})}(Ee,qe);if((0,Ie.t)(Ee))return function de(Ee,qe){return(0,s.Xf)(Ee).pipe((0,B.R)(qe),(0,ne.Q)(qe))}(Ee,qe);if((0,ge.D)(Ee))return Q(Ee,qe);if((0,ft.T)(Ee))return function q(Ee,qe){return new J.y(Le=>{let lt;return(0,W.f)(Le,qe,()=>{lt=Ee[xe.h](),(0,W.f)(Le,qe,()=>{let le,Rt;try{({value:le,done:Rt}=lt.next())}catch(rt){return void Le.error(rt)}Rt?Le.complete():Le.next(le)},0,!0)}),()=>(0,pe.m)(lt?.return)&&lt.return()})}(Ee,qe);if((0,Ne.L)(Ee))return function Ue(Ee,qe){return Q((0,Ne.Q)(Ee),qe)}(Ee,qe)}throw(0,Pe.z)(Ee)}(Ee,qe):(0,s.Xf)(Ee)}},8421:(bt,Se,V)=>{V.d(Se,{Xf:()=>ze});var s=V(655),ne=V(1144),B=V(8239),ce=V(9751),de=V(3670),J=V(2206),we=V(4532),xe=V(6495),pe=V(3260),W=V(576),q=V(7849),Q=V(8822);function ze(Fe){if(Fe instanceof ce.y)return Fe;if(null!=Fe){if((0,de.c)(Fe))return function Ie(Fe){return new ce.y(Ce=>{const Ee=Fe[Q.L]();if((0,W.m)(Ee.subscribe))return Ee.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Fe);if((0,ne.z)(Fe))return function Ze(Fe){return new ce.y(Ce=>{for(let Ee=0;Ee<Fe.length&&!Ce.closed;Ee++)Ce.next(Fe[Ee]);Ce.complete()})}(Fe);if((0,B.t)(Fe))return function ft(Fe){return new ce.y(Ce=>{Fe.then(Ee=>{Ce.closed||(Ce.next(Ee),Ce.complete())},Ee=>Ce.error(Ee)).then(null,q.h)})}(Fe);if((0,J.D)(Fe))return Pe(Fe);if((0,xe.T)(Fe))return function ge(Fe){return new ce.y(Ce=>{for(const Ee of Fe)if(Ce.next(Ee),Ce.closed)return;Ce.complete()})}(Fe);if((0,pe.L)(Fe))return function Ne(Fe){return Pe((0,pe.Q)(Fe))}(Fe)}throw(0,we.z)(Fe)}function Pe(Fe){return new ce.y(Ce=>{(function Ue(Fe,Ce){var Ee,qe,Le,lt;return(0,s.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,s.KL)(Fe);!(qe=yield Ee.next()).done;)if(Ce.next(qe.value),Ce.closed)return}catch(le){Le={error:le}}finally{try{qe&&!qe.done&&(lt=Ee.return)&&(yield lt.call(Ee))}finally{if(Le)throw Le.error}}Ce.complete()})})(Fe,Ce).catch(Ee=>Ce.error(Ee))})}},6451:(bt,Se,V)=>{V.d(Se,{T:()=>J});var s=V(8189),ne=V(8421),B=V(515),ce=V(3269),de=V(8996);function J(...we){const xe=(0,ce.yG)(we),pe=(0,ce._6)(we,1/0),W=we;return W.length?1===W.length?(0,ne.Xf)(W[0]):(0,s.J)(pe)((0,de.D)(W,xe)):B.E}},5403:(bt,Se,V)=>{V.d(Se,{x:()=>ne});var s=V(930);function ne(ce,de,J,we,xe){return new B(ce,de,J,we,xe)}class B extends s.Lv{constructor(de,J,we,xe,pe,W){super(de),this.onFinalize=pe,this.shouldUnsubscribe=W,this._next=J?function(q){try{J(q)}catch(Q){de.error(Q)}}:super._next,this._error=xe?function(q){try{xe(q)}catch(Q){de.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=we?function(){try{we()}catch(q){de.error(q)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(bt,Se,V)=>{V.d(Se,{U:()=>B});var s=V(4482),ne=V(5403);function B(ce,de){return(0,s.e)((J,we)=>{let xe=0;J.subscribe((0,ne.x)(we,pe=>{we.next(ce.call(de,pe,xe++))}))})}},8189:(bt,Se,V)=>{V.d(Se,{J:()=>B});var s=V(5577),ne=V(4671);function B(ce=1/0){return(0,s.z)(ne.y,ce)}},5577:(bt,Se,V)=>{V.d(Se,{z:()=>xe});var s=V(4004),ne=V(8421),B=V(4482),ce=V(9672),de=V(5403),we=V(576);function xe(pe,W,q=1/0){return(0,we.m)(W)?xe((Q,ze)=>(0,s.U)((Ie,Ze)=>W(Q,Ie,ze,Ze))((0,ne.Xf)(pe(Q,ze))),q):("number"==typeof W&&(q=W),(0,B.e)((Q,ze)=>function J(pe,W,q,Q,ze,Ie,Ze,ft){const ge=[];let Pe=0,Ne=0,Ue=!1;const Fe=()=>{Ue&&!ge.length&&!Pe&&W.complete()},Ce=qe=>Pe<Q?Ee(qe):ge.push(qe),Ee=qe=>{Ie&&W.next(qe),Pe++;let Le=!1;(0,ne.Xf)(q(qe,Ne++)).subscribe((0,de.x)(W,lt=>{ze?.(lt),Ie?Ce(lt):W.next(lt)},()=>{Le=!0},void 0,()=>{if(Le)try{for(Pe--;ge.length&&Pe<Q;){const lt=ge.shift();Ze?(0,ce.f)(W,Ze,()=>Ee(lt)):Ee(lt)}Fe()}catch(lt){W.error(lt)}}))};return pe.subscribe((0,de.x)(W,Ce,()=>{Ue=!0,Fe()})),()=>{ft?.()}}(Q,ze,pe,q)))}},5363:(bt,Se,V)=>{V.d(Se,{Q:()=>ce});var s=V(9672),ne=V(4482),B=V(5403);function ce(de,J=0){return(0,ne.e)((we,xe)=>{we.subscribe((0,B.x)(xe,pe=>(0,s.f)(xe,de,()=>xe.next(pe),J),()=>(0,s.f)(xe,de,()=>xe.complete(),J),pe=>(0,s.f)(xe,de,()=>xe.error(pe),J)))})}},3099:(bt,Se,V)=>{V.d(Se,{B:()=>de});var s=V(8421),ne=V(7579),B=V(930),ce=V(4482);function de(we={}){const{connector:xe=(()=>new ne.x),resetOnError:pe=!0,resetOnComplete:W=!0,resetOnRefCountZero:q=!0}=we;return Q=>{let ze,Ie,Ze,ft=0,ge=!1,Pe=!1;const Ne=()=>{Ie?.unsubscribe(),Ie=void 0},Ue=()=>{Ne(),ze=Ze=void 0,ge=Pe=!1},Fe=()=>{const Ce=ze;Ue(),Ce?.unsubscribe()};return(0,ce.e)((Ce,Ee)=>{ft++,!Pe&&!ge&&Ne();const qe=Ze=Ze??xe();Ee.add(()=>{ft--,0===ft&&!Pe&&!ge&&(Ie=J(Fe,q))}),qe.subscribe(Ee),!ze&&ft>0&&(ze=new B.Hp({next:Le=>qe.next(Le),error:Le=>{Pe=!0,Ne(),Ie=J(Ue,pe,Le),qe.error(Le)},complete:()=>{ge=!0,Ne(),Ie=J(Ue,W),qe.complete()}}),(0,s.Xf)(Ce).subscribe(ze))})(Q)}}function J(we,xe,...pe){if(!0===xe)return void we();if(!1===xe)return;const W=new B.Hp({next:()=>{W.unsubscribe(),we()}});return(0,s.Xf)(xe(...pe)).subscribe(W)}},9468:(bt,Se,V)=>{V.d(Se,{R:()=>ne});var s=V(4482);function ne(B,ce=0){return(0,s.e)((de,J)=>{J.add(B.schedule(()=>de.subscribe(J),ce))})}},8505:(bt,Se,V)=>{V.d(Se,{b:()=>de});var s=V(576),ne=V(4482),B=V(5403),ce=V(4671);function de(J,we,xe){const pe=(0,s.m)(J)||we||xe?{next:J,error:we,complete:xe}:J;return pe?(0,ne.e)((W,q)=>{var Q;null===(Q=pe.subscribe)||void 0===Q||Q.call(pe);let ze=!0;W.subscribe((0,B.x)(q,Ie=>{var Ze;null===(Ze=pe.next)||void 0===Ze||Ze.call(pe,Ie),q.next(Ie)},()=>{var Ie;ze=!1,null===(Ie=pe.complete)||void 0===Ie||Ie.call(pe),q.complete()},Ie=>{var Ze;ze=!1,null===(Ze=pe.error)||void 0===Ze||Ze.call(pe,Ie),q.error(Ie)},()=>{var Ie,Ze;ze&&(null===(Ie=pe.unsubscribe)||void 0===Ie||Ie.call(pe)),null===(Ze=pe.finalize)||void 0===Ze||Ze.call(pe)}))}):ce.y}},4408:(bt,Se,V)=>{V.d(Se,{o:()=>de});var s=V(727);class ne extends s.w0{constructor(we,xe){super()}schedule(we,xe=0){return this}}const B={setInterval(J,we,...xe){const{delegate:pe}=B;return pe?.setInterval?pe.setInterval(J,we,...xe):setInterval(J,we,...xe)},clearInterval(J){const{delegate:we}=B;return(we?.clearInterval||clearInterval)(J)},delegate:void 0};var ce=V(8737);class de extends ne{constructor(we,xe){super(we,xe),this.scheduler=we,this.work=xe,this.pending=!1}schedule(we,xe=0){var pe;if(this.closed)return this;this.state=we;const W=this.id,q=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(q,W,xe)),this.pending=!0,this.delay=xe,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(q,this.id,xe),this}requestAsyncId(we,xe,pe=0){return B.setInterval(we.flush.bind(we,this),pe)}recycleAsyncId(we,xe,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return xe;null!=xe&&B.clearInterval(xe)}execute(we,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(we,xe);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(we,xe){let W,pe=!1;try{this.work(we)}catch(q){pe=!0,W=q||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:we,scheduler:xe}=this,{actions:pe}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(pe,this),null!=we&&(this.id=this.recycleAsyncId(xe,we,null)),this.delay=null,super.unsubscribe()}}}},7565:(bt,Se,V)=>{V.d(Se,{v:()=>B});var s=V(6063);class ne{constructor(de,J=ne.now){this.schedulerActionCtor=de,this.now=J}schedule(de,J=0,we){return new this.schedulerActionCtor(this,de).schedule(we,J)}}ne.now=s.l.now;class B extends ne{constructor(de,J=ne.now){super(de,J),this.actions=[],this._active=!1}flush(de){const{actions:J}=this;if(this._active)return void J.push(de);let we;this._active=!0;do{if(we=de.execute(de.state,de.delay))break}while(de=J.shift());if(this._active=!1,we){for(;de=J.shift();)de.unsubscribe();throw we}}}},4986:(bt,Se,V)=>{V.d(Se,{P:()=>ce,z:()=>B});var s=V(4408);const B=new(V(7565).v)(s.o),ce=B},6063:(bt,Se,V)=>{V.d(Se,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(bt,Se,V)=>{V.d(Se,{z:()=>s});const s={setTimeout(ne,B,...ce){const{delegate:de}=s;return de?.setTimeout?de.setTimeout(ne,B,...ce):setTimeout(ne,B,...ce)},clearTimeout(ne){const{delegate:B}=s;return(B?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},2202:(bt,Se,V)=>{V.d(Se,{h:()=>ne});const ne=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bt,Se,V)=>{V.d(Se,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(bt,Se,V)=>{V.d(Se,{_6:()=>J,jO:()=>ce,yG:()=>de});var s=V(576),ne=V(3532);function B(we){return we[we.length-1]}function ce(we){return(0,s.m)(B(we))?we.pop():void 0}function de(we){return(0,ne.K)(B(we))?we.pop():void 0}function J(we,xe){return"number"==typeof B(we)?we.pop():xe}},8737:(bt,Se,V)=>{function s(ne,B){if(ne){const ce=ne.indexOf(B);0<=ce&&ne.splice(ce,1)}}V.d(Se,{P:()=>s})},3888:(bt,Se,V)=>{function s(ne){const ce=ne(de=>{Error.call(de),de.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}V.d(Se,{d:()=>s})},2806:(bt,Se,V)=>{V.d(Se,{O:()=>ce,x:()=>B});var s=V(2416);let ne=null;function B(de){if(s.v.useDeprecatedSynchronousErrorHandling){const J=!ne;if(J&&(ne={errorThrown:!1,error:null}),de(),J){const{errorThrown:we,error:xe}=ne;if(ne=null,we)throw xe}}else de()}function ce(de){s.v.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=de)}},9672:(bt,Se,V)=>{function s(ne,B,ce,de=0,J=!1){const we=B.schedule(function(){ce(),J?ne.add(this.schedule(null,de)):this.unsubscribe()},de);if(ne.add(we),!J)return we}V.d(Se,{f:()=>s})},4671:(bt,Se,V)=>{function s(ne){return ne}V.d(Se,{y:()=>s})},1144:(bt,Se,V)=>{V.d(Se,{z:()=>s});const s=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},2206:(bt,Se,V)=>{V.d(Se,{D:()=>ne});var s=V(576);function ne(B){return Symbol.asyncIterator&&(0,s.m)(B?.[Symbol.asyncIterator])}},576:(bt,Se,V)=>{function s(ne){return"function"==typeof ne}V.d(Se,{m:()=>s})},3670:(bt,Se,V)=>{V.d(Se,{c:()=>B});var s=V(8822),ne=V(576);function B(ce){return(0,ne.m)(ce[s.L])}},6495:(bt,Se,V)=>{V.d(Se,{T:()=>B});var s=V(2202),ne=V(576);function B(ce){return(0,ne.m)(ce?.[s.h])}},8239:(bt,Se,V)=>{V.d(Se,{t:()=>ne});var s=V(576);function ne(B){return(0,s.m)(B?.then)}},3260:(bt,Se,V)=>{V.d(Se,{L:()=>ce,Q:()=>B});var s=V(655),ne=V(576);function B(de){return(0,s.FC)(this,arguments,function*(){const we=de.getReader();try{for(;;){const{value:xe,done:pe}=yield(0,s.qq)(we.read());if(pe)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(xe)}}finally{we.releaseLock()}})}function ce(de){return(0,ne.m)(de?.getReader)}},3532:(bt,Se,V)=>{V.d(Se,{K:()=>ne});var s=V(576);function ne(B){return B&&(0,s.m)(B.schedule)}},4482:(bt,Se,V)=>{V.d(Se,{A:()=>ne,e:()=>B});var s=V(576);function ne(ce){return(0,s.m)(ce?.lift)}function B(ce){return de=>{if(ne(de))return de.lift(function(J){try{return ce(J,this)}catch(we){this.error(we)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(bt,Se,V)=>{function s(){}V.d(Se,{Z:()=>s})},9635:(bt,Se,V)=>{V.d(Se,{U:()=>B,z:()=>ne});var s=V(4671);function ne(...ce){return B(ce)}function B(ce){return 0===ce.length?s.y:1===ce.length?ce[0]:function(J){return ce.reduce((we,xe)=>xe(we),J)}}},7849:(bt,Se,V)=>{V.d(Se,{h:()=>B});var s=V(2416),ne=V(3410);function B(ce){ne.z.setTimeout(()=>{const{onUnhandledError:de}=s.v;if(!de)throw ce;de(ce)})}},4532:(bt,Se,V)=>{function s(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Se,{z:()=>s})},655:(bt,Se,V)=>{function ce(me,_e){var De={};for(var Ae in me)Object.prototype.hasOwnProperty.call(me,Ae)&&_e.indexOf(Ae)<0&&(De[Ae]=me[Ae]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var We=0;for(Ae=Object.getOwnPropertySymbols(me);We<Ae.length;We++)_e.indexOf(Ae[We])<0&&Object.prototype.propertyIsEnumerable.call(me,Ae[We])&&(De[Ae[We]]=me[Ae[We]])}return De}function Q(me,_e,De,Ae){return new(De||(De=Promise))(function(He,vt){function mt(en){try{tt(Ae.next(en))}catch(kt){vt(kt)}}function jt(en){try{tt(Ae.throw(en))}catch(kt){vt(kt)}}function tt(en){en.done?He(en.value):function We(He){return He instanceof De?He:new De(function(vt){vt(He)})}(en.value).then(mt,jt)}tt((Ae=Ae.apply(me,_e||[])).next())})}function Fe(me){return this instanceof Fe?(this.v=me,this):new Fe(me)}function Ce(me,_e,De){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var We,Ae=De.apply(me,_e||[]),He=[];return We={},vt("next"),vt("throw"),vt("return"),We[Symbol.asyncIterator]=function(){return this},We;function vt(fn){Ae[fn]&&(We[fn]=function(Dn){return new Promise(function(Un,nr){He.push([fn,Dn,Un,nr])>1||mt(fn,Dn)})})}function mt(fn,Dn){try{!function jt(fn){fn.value instanceof Fe?Promise.resolve(fn.value.v).then(tt,en):kt(He[0][2],fn)}(Ae[fn](Dn))}catch(Un){kt(He[0][3],Un)}}function tt(fn){mt("next",fn)}function en(fn){mt("throw",fn)}function kt(fn,Dn){fn(Dn),He.shift(),He.length&&mt(He[0][0],He[0][1])}}function qe(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var De,_e=me[Symbol.asyncIterator];return _e?_e.call(me):(me=function ft(me){var _e="function"==typeof Symbol&&Symbol.iterator,De=_e&&me[_e],Ae=0;if(De)return De.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&Ae>=me.length&&(me=void 0),{value:me&&me[Ae++],done:!me}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),De={},Ae("next"),Ae("throw"),Ae("return"),De[Symbol.asyncIterator]=function(){return this},De);function Ae(He){De[He]=me[He]&&function(vt){return new Promise(function(mt,jt){!function We(He,vt,mt,jt){Promise.resolve(jt).then(function(tt){He({value:tt,done:mt})},vt)}(mt,jt,(vt=me[He](vt)).done,vt.value)})}}}V.d(Se,{FC:()=>Ce,KL:()=>qe,_T:()=>ce,mG:()=>Q,qq:()=>Fe})},4650:(bt,Se,V)=>{V.d(Se,{$8M:()=>ld,$WT:()=>Ml,$Z:()=>gC,AFp:()=>XE,AaK:()=>xe,BQk:()=>Ub,CHM:()=>Vl,CRH:()=>cl,CZH:()=>Ym,CqO:()=>lM,D6c:()=>pk,EJc:()=>qA,EiD:()=>ds,EpF:()=>sM,F$t:()=>Mm,F4k:()=>aM,FYo:()=>pf,FiY:()=>za,Gf:()=>be,GfV:()=>zx,GkF:()=>OC,Gpc:()=>q,Hsn:()=>Am,Ikx:()=>qC,JOm:()=>xr,JVY:()=>Td,JZr:()=>ft,KtG:()=>Ul,L6k:()=>__,LAX:()=>Qr,LFG:()=>gn,LSH:()=>Du,Lbi:()=>Or,Lck:()=>pA,MAs:()=>sl,MMx:()=>mE,NdJ:()=>Dm,O4$:()=>Gl,OlP:()=>bn,Oqu:()=>$C,P3R:()=>lf,PXZ:()=>P0,Q6J:()=>xm,QGY:()=>PC,QbO:()=>$A,Qsj:()=>jx,R0b:()=>Us,RDi:()=>h_,Rgc:()=>Yu,SBq:()=>Od,Sil:()=>iD,Suo:()=>Vs,TTD:()=>ru,TgZ:()=>zu,Udp:()=>jC,VKq:()=>Wu,W1O:()=>lv,WFA:()=>Hb,X6Q:()=>ek,XFs:()=>wt,Xpm:()=>he,Xts:()=>ob,Y36:()=>vf,YKP:()=>iv,YNc:()=>Mf,Yjl:()=>Kn,Yz7:()=>kt,Z0I:()=>nr,ZZ4:()=>qf,_Bn:()=>Bm,_UZ:()=>Bb,_Vd:()=>ff,_c5:()=>hk,_uU:()=>IM,aQg:()=>Ju,c2e:()=>GA,cJS:()=>Dn,cg1:()=>YC,d8E:()=>WC,dDg:()=>yo,dqk:()=>At,eBb:()=>nm,eFA:()=>Sv,ekj:()=>q_,eoX:()=>R0,f3M:()=>Fi,g9A:()=>cr,h0i:()=>qu,hGG:()=>fk,hij:()=>Y_,iGM:()=>y0,ifc:()=>Dt,ip1:()=>vv,jDz:()=>gA,kL8:()=>$M,kcU:()=>Is,lG2:()=>Ei,lqb:()=>Mu,lri:()=>Hf,mCW:()=>Ad,n5z:()=>Ql,n_E:()=>sv,oAB:()=>Mt,oxw:()=>cM,pB0:()=>il,q3G:()=>ai,q4F:()=>$x,qLn:()=>sm,qOj:()=>Ab,qZA:()=>Em,qzn:()=>da,rWj:()=>k0,sBO:()=>xc,s_b:()=>av,soG:()=>bv,tBr:()=>nc,tb:()=>Zm,tp0:()=>ns,uIk:()=>Pb,vHH:()=>ge,vpe:()=>Bs,wAp:()=>Lt,xp6:()=>iC,ynx:()=>Vb,z2F:()=>Ud,z3N:()=>Qi,zSh:()=>hf,zs3:()=>Ru});var s=V(7579),ne=V(727),B=V(9751),ce=V(6451),de=V(3099);function J(a){for(let l in a)if(a[l]===J)return l;throw Error("Could not find renamed property on target object.")}function we(a,l){for(const d in l)l.hasOwnProperty(d)&&!a.hasOwnProperty(d)&&(a[d]=l[d])}function xe(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(xe).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const d=l.indexOf("\n");return-1===d?l:l.substring(0,d)}function pe(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const W=J({__forward_ref__:J});function q(a){return a.__forward_ref__=q,a.toString=function(){return xe(this())},a}function Q(a){return ze(a)?a():a}function ze(a){return"function"==typeof a&&a.hasOwnProperty(W)&&a.__forward_ref__===q}function Ie(a){return a&&!!a.\u0275providers}const ft="https://g.co/ng/security#xss";class ge extends Error{constructor(l,d){super(function Pe(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,d)),this.code=l}}function Ne(a){return"string"==typeof a?a:null==a?"":String(a)}function qe(a,l){throw new ge(-201,!1)}function vt(a,l){null==a&&function mt(a,l,d,u){throw new Error(`ASSERTION ERROR: ${a}`+(null==u?"":` [Expected=> ${d} ${u} ${l} <=Actual]`))}(l,a,null,"!=")}function kt(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function Dn(a){return{providers:a.providers||[],imports:a.imports||[]}}function Un(a){return fr(a,ys)||fr(a,Pi)}function nr(a){return null!==Un(a)}function fr(a,l){return a.hasOwnProperty(l)?a[l]:null}function To(a){return a&&(a.hasOwnProperty(bs)||a.hasOwnProperty(Fr))?a[bs]:null}const ys=J({\u0275prov:J}),bs=J({\u0275inj:J}),Pi=J({ngInjectableDef:J}),Fr=J({ngInjectorDef:J});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Sl;function Ln(a){const l=Sl;return Sl=a,l}function Lr(a,l,d){const u=Un(a);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:d&wt.Optional?null:void 0!==l?l:void qe(xe(a))}const At=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ir={},Ni="__NG_DI_FLAG__",xi="ngTempTokenPath",mr=/\n/gm,Da="__source";let ln;function rr(a){const l=ln;return ln=a,l}function Br(a,l=wt.Default){if(void 0===ln)throw new ge(-203,!1);return null===ln?Lr(a,void 0,l):ln.get(a,l&wt.Optional?null:void 0,l)}function gn(a,l=wt.Default){return(function Il(){return Sl}()||Br)(Q(a),l)}function Fi(a,l=wt.Default){return gn(a,Vr(l))}function Vr(a){return typeof a>"u"||"number"==typeof a?a:0|(a.optional&&8)|(a.host&&1)|(a.self&&2)|(a.skipSelf&&4)}function Yn(a){const l=[];for(let d=0;d<a.length;d++){const u=Q(a[d]);if(Array.isArray(u)){if(0===u.length)throw new ge(900,!1);let f,_=wt.Default;for(let b=0;b<u.length;b++){const E=u[b],S=gr(E);"number"==typeof S?-1===S?f=E.token:_|=S:f=E}l.push(gn(f,_))}else l.push(gn(u))}return l}function or(a,l){return a[Ni]=l,a.prototype[Ni]=l,a}function gr(a){return a[Ni]}function Z(a){return{toString:a}.toString()}var ye=(()=>((ye=ye||{})[ye.OnPush=0]="OnPush",ye[ye.Default=1]="Default",ye))(),Dt=(()=>{return(a=Dt||(Dt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Dt;var a})();const Kt={},Pt=[],On=J({\u0275cmp:J}),Hn=J({\u0275dir:J}),cn=J({\u0275pipe:J}),Yi=J({\u0275mod:J}),Ci=J({\u0275fac:J}),_r=J({__NG_ELEMENT_ID__:J});let Tl=0;function he(a){return Z(()=>{const d=!0===a.standalone,u={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===ye.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||Pt,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Dt.Emulated,id:"c"+Tl++,styles:a.styles||Pt,_:null,setInput:null,schemas:a.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},_=a.dependencies,b=a.features;return f.inputs=_n(a.inputs,u),f.outputs=_n(a.outputs),b&&b.forEach(E=>E(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map(Re).filter(yt):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(Li).filter(yt):null,f})}function Re(a){return qt(a)||Zn(a)}function yt(a){return null!==a}function Mt(a){return Z(()=>({type:a.type,bootstrap:a.bootstrap||Pt,declarations:a.declarations||Pt,imports:a.imports||Pt,exports:a.exports||Pt,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null}))}function _n(a,l){if(null==a)return Kt;const d={};for(const u in a)if(a.hasOwnProperty(u)){let f=a[u],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),d[f]=u,l&&(l[f]=_)}return d}const Ei=he;function Kn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function qt(a){return a[On]||null}function Zn(a){return a[Hn]||null}function Li(a){return a[cn]||null}function Ml(a){const l=qt(a)||Zn(a)||Li(a);return null!==l&&l.standalone}function sr(a,l){const d=a[Yi]||null;if(!d&&!0===l)throw new Error(`Type ${xe(a)} does not have '\u0275mod' property.`);return d}function Tr(a){return Array.isArray(a)&&"object"==typeof a[1]}function Mr(a){return Array.isArray(a)&&!0===a[1]}function Ol(a){return 0!=(4&a.flags)}function Ma(a){return a.componentOffset>-1}function nu(a){return 1==(1&a.flags)}function jr(a){return null!==a.template}function Rc(a){return 0!=(256&a[2])}function Ao(a,l){return a.hasOwnProperty(Ci)?a[Ci]:null}class Ys{constructor(l,d,u){this.previousValue=l,this.currentValue=d,this.firstChange=u}isFirstChange(){return this.firstChange}}function ru(){return Pl}function Pl(a){return a.type.prototype.ngOnChanges&&(a.setInput=ou),bh}function bh(){const a=Np(this),l=a?.current;if(l){const d=a.previous;if(d===Kt)a.previous=l;else for(let u in l)d[u]=l[u];a.current=null,this.ngOnChanges(l)}}function ou(a,l,d,u){const f=this.declaredInputs[d],_=Np(a)||function Nc(a,l){return a[Es]=l}(a,{previous:Kt,current:null}),b=_.current||(_.current={}),E=_.previous,S=E[f];b[f]=new Ys(S&&S.currentValue,l,E===Kt),a[u]=l}ru.ngInherit=!0;const Es="__ngSimpleChanges__";function Np(a){return a[Es]||null}function Vi(a){for(;Array.isArray(a);)a=a[0];return a}function Zo(a,l){return Vi(l[a])}function Ui(a,l){return Vi(l[a.index])}function xh(a,l){return a.data[l]}function Hi(a,l){const d=l[a];return Tr(d)?d:d[0]}function Qo(a){return 64==(64&a[2])}function Ss(a,l){return null==l?null:a[l]}function ka(a){a[18]=0}function Ll(a,l){a[5]+=l;let d=a,u=a[3];for(;null!==u&&(1===l&&1===d[5]||-1===l&&0===d[5]);)u[5]+=l,d=u,u=u[3]}const Ut={lFrame:lu(null),bindingsEnabled:!0};function Vc(){return Ut.bindingsEnabled}function fe(){return Ut.lFrame.lView}function $t(){return Ut.lFrame.tView}function Vl(a){return Ut.lFrame.contextLView=a,a[8]}function Ul(a){return Ut.lFrame.contextLView=null,a}function Si(){let a=Ks();for(;null!==a&&64===a.type;)a=a.parent;return a}function Ks(){return Ut.lFrame.currentTNode}function yr(a,l){const d=Ut.lFrame;d.currentTNode=a,d.isParent=l}function Ih(){return Ut.lFrame.isParent}function Hc(){Ut.lFrame.isParent=!1}function Zs(){return Ut.lFrame.bindingIndex++}function jc(a,l){const d=Ut.lFrame;d.bindingIndex=d.bindingRootIndex=a,pi(l)}function pi(a){Ut.lFrame.currentDirectiveIndex=a}function Ra(a){const l=Ut.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function au(){return Ut.lFrame.currentQueryIndex}function zc(a){Ut.lFrame.currentQueryIndex=a}function Mh(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function $c(a,l,d){if(d&wt.SkipSelf){let f=l,_=a;for(;!(f=f.parent,null!==f||d&wt.Host||(f=Mh(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;l=f,a=_}const u=Ut.lFrame=zl();return u.currentTNode=l,u.lView=a,!0}function Gc(a){const l=zl(),d=a[1];Ut.lFrame=l,l.currentTNode=d.firstChild,l.lView=a,l.tView=d,l.contextLView=a,l.bindingIndex=d.bindingStartIndex,l.inI18n=!1}function zl(){const a=Ut.lFrame,l=null===a?null:a.child;return null===l?lu(a):l}function lu(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function $l(){const a=Ut.lFrame;return Ut.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Ah=$l;function qc(){const a=$l();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function Ki(){return Ut.lFrame.selectedIndex}function Jo(a){Ut.lFrame.selectedIndex=a}function jn(){const a=Ut.lFrame;return xh(a.tView,a.selectedIndex)}function Gl(){Ut.lFrame.currentNamespace="svg"}function Is(){!function Bp(){Ut.lFrame.currentNamespace=null}()}function Yc(a,l){for(let d=l.directiveStart,u=l.directiveEnd;d<u;d++){const _=a.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:S,ngAfterViewChecked:M,ngOnDestroy:P}=_;b&&(a.contentHooks||(a.contentHooks=[])).push(-d,b),E&&((a.contentHooks||(a.contentHooks=[])).push(d,E),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(d,E)),S&&(a.viewHooks||(a.viewHooks=[])).push(-d,S),M&&((a.viewHooks||(a.viewHooks=[])).push(d,M),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(d,M)),null!=P&&(a.destroyHooks||(a.destroyHooks=[])).push(d,P)}}function cu(a,l,d){ql(a,l,3,d)}function Kc(a,l,d,u){(3&a[2])===d&&ql(a,l,d,u)}function Zc(a,l){let d=a[2];(3&d)===l&&(d&=2047,d+=1,a[2]=d)}function ql(a,l,d,u){const _=u??-1,b=l.length-1;let E=0;for(let S=void 0!==u?65535&a[18]:0;S<b;S++)if("number"==typeof l[S+1]){if(E=l[S],null!=u&&E>=u)break}else l[S]<0&&(a[18]+=65536),(E<_||-1==_)&&(Rh(a,d,l,S),a[18]=(4294901760&a[18])+S+2),S++}function Rh(a,l,d,u){const f=d[u]<0,_=d[u+1],E=a[f?-d[u]:d[u]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{_.call(E)}finally{}}}else try{_.call(E)}finally{}}class Oa{constructor(l,d,u){this.factory=l,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=u}}function Pa(a,l,d){let u=0;for(;u<d.length;){const f=d[u];if("number"==typeof f){if(0!==f)break;u++;const _=d[u++],b=d[u++],E=d[u++];a.setAttribute(l,b,E,_)}else{const _=f,b=d[++u];Xc(_)?a.setProperty(l,_,b):a.setAttribute(l,_,b),u++}}return u}function Na(a){return 3===a||4===a||6===a}function Xc(a){return 64===a.charCodeAt(0)}function Xs(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let d=-1;for(let u=0;u<l.length;u++){const f=l[u];"number"==typeof f?d=f:0===d||Jc(a,d,f,null,-1===d||2===d?l[++u]:null)}}return a}function Jc(a,l,d,u,f){let _=0,b=a.length;if(-1===l)b=-1;else for(;_<a.length;){const E=a[_++];if("number"==typeof E){if(E===l){b=-1;break}if(E>l){b=_-1;break}}}for(;_<a.length;){const E=a[_];if("number"==typeof E)break;if(E===d){if(null===u)return void(null!==f&&(a[_+1]=f));if(u===a[_+1])return void(a[_+2]=f)}_++,null!==u&&_++,null!==f&&_++}-1!==b&&(a.splice(b,0,l),_=b+1),a.splice(_++,0,d),null!==u&&a.splice(_++,0,u),null!==f&&a.splice(_++,0,f)}function Js(a){return-1!==a}function Ts(a){return 32767&a}function ea(a,l){let d=function Ph(a){return a>>16}(a),u=l;for(;d>0;)u=u[15],d--;return u}let ed=!0;function td(a){const l=ed;return ed=a,l}let Ms=0;const ts={};function id(a,l){const d=Zl(a,l);if(-1!==d)return d;const u=l[1];u.firstCreatePass&&(a.injectorIndex=l.length,Kl(u.data,a),Kl(l,null),Kl(u.blueprint,null));const f=Nh(a,l),_=a.injectorIndex;if(Js(f)){const b=Ts(f),E=ea(f,l),S=E[1].data;for(let M=0;M<8;M++)l[_+M]=E[b+M]|S[b+M]}return l[_+8]=f,_}function Kl(a,l){a.push(0,0,0,0,0,0,0,0,l)}function Zl(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function Nh(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let d=0,u=null,f=l;for(;null!==f;){if(u=Xl(f),null===u)return-1;if(d++,f=f[15],-1!==u.injectorIndex)return u.injectorIndex|d<<16}return-1}function Mn(a,l,d){!function As(a,l,d){let u;"string"==typeof d?u=d.charCodeAt(0)||0:d.hasOwnProperty(_r)&&(u=d[_r]),null==u&&(u=d[_r]=Ms++);const f=255&u;l.data[a+(f>>5)]|=1<<f}(a,l,d)}function rd(a,l,d){if(d&wt.Optional||void 0!==a)return a;qe()}function Fh(a,l,d,u){if(d&wt.Optional&&void 0===u&&(u=null),!(d&(wt.Self|wt.Host))){const f=a[9],_=Ln(void 0);try{return f?f.get(l,u,d&wt.Optional):Lr(l,u,d&wt.Optional)}finally{Ln(_)}}return rd(u,0,d)}function Fa(a,l,d,u=wt.Default,f){if(null!==a){if(1024&l[2]){const b=function ad(a,l,d,u,f){let _=a,b=l;for(;null!==_&&null!==b&&1024&b[2]&&!(256&b[2]);){const E=uu(_,b,d,u|wt.Self,ts);if(E!==ts)return E;let S=_.parent;if(!S){const M=b[21];if(M){const P=M.get(d,ts,u);if(P!==ts)return P}S=Xl(b),b=b[15]}_=S}return f}(a,l,d,u,ts);if(b!==ts)return b}const _=uu(a,l,d,u,ts);if(_!==ts)return _}return Fh(l,d,u,f)}function uu(a,l,d,u,f){const _=function od(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(_r)?a[_r]:void 0;return"number"==typeof l?l>=0?255&l:Hp:l}(d);if("function"==typeof _){if(!$c(l,a,u))return u&wt.Host?rd(f,0,u):Fh(l,d,u,f);try{const b=_(u);if(null!=b||u&wt.Optional)return b;qe()}finally{Ah()}}else if("number"==typeof _){let b=null,E=Zl(a,l),S=-1,M=u&wt.Host?l[16][6]:null;for((-1===E||u&wt.SkipSelf)&&(S=-1===E?Nh(a,l):l[E+8],-1!==S&&Ba(u,!1)?(b=l[1],E=Ts(S),l=ea(S,l)):E=-1);-1!==E;){const P=l[1];if(sd(_,E,P.data)){const U=ji(E,l,d,b,u,M);if(U!==ts)return U}S=l[E+8],-1!==S&&Ba(u,l[1].data[E+8]===M)&&sd(_,E,l)?(b=P,E=Ts(S),l=ea(S,l)):E=-1}}return f}function ji(a,l,d,u,f,_){const b=l[1],E=b.data[a+8],P=La(E,b,d,null==u?Ma(E)&&ed:u!=b&&0!=(3&E.type),f&wt.Host&&_===E);return null!==P?oi(l,b,P,E):ts}function La(a,l,d,u,f){const _=a.providerIndexes,b=l.data,E=1048575&_,S=a.directiveStart,P=_>>20,K=f?E+P:a.directiveEnd;for(let ie=u?E:E+P;ie<K;ie++){const ve=b[ie];if(ie<S&&d===ve||ie>=S&&ve.type===d)return ie}if(f){const ie=b[S];if(ie&&jr(ie)&&ie.type===d)return S}return null}function oi(a,l,d,u){let f=a[d];const _=l.data;if(function Vp(a){return a instanceof Oa}(f)){const b=f;b.resolving&&function Fe(a,l){const d=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new ge(-200,`Circular dependency in DI detected for ${a}${d}`)}(function Ue(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():Ne(a)}(_[d]));const E=td(b.canSeeViewProviders);b.resolving=!0;const S=b.injectImpl?Ln(b.injectImpl):null;$c(a,u,wt.Default);try{f=a[d]=b.factory(void 0,_,a,u),l.firstCreatePass&&d>=u.directiveStart&&function Jg(a,l,d){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:_}=l.type.prototype;if(u){const b=Pl(l);(d.preOrderHooks||(d.preOrderHooks=[])).push(a,b),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,b)}f&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-a,f),_&&((d.preOrderHooks||(d.preOrderHooks=[])).push(a,_),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(a,_))}(d,_[d],l)}finally{null!==S&&Ln(S),td(E),b.resolving=!1,Ah()}}return f}function sd(a,l,d){return!!(d[l+(a>>5)]&1<<a)}function Ba(a,l){return!(a&wt.Self||a&wt.Host&&l)}class Oo{constructor(l,d){this._tNode=l,this._lView=d}get(l,d,u){return Fa(this._tNode,this._lView,l,Vr(u),d)}}function Hp(){return new Oo(Si(),fe())}function Ql(a){return Z(()=>{const l=a.prototype.constructor,d=l[Ci]||ta(l),u=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==u;){const _=f[Ci]||ta(f);if(_&&_!==d)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function ta(a){return ze(a)?()=>{const l=ta(Q(a));return l&&l()}:Ao(a)}function Xl(a){const l=a[1],d=l.type;return 2===d?l.declTNode:1===d?a[6]:null}function ld(a){return function Up(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const d=a.attrs;if(d){const u=d.length;let f=0;for(;f<u;){const _=d[f];if(Na(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<u&&"string"==typeof d[f];)f++;else{if(_===l)return d[f+1];f+=2}}}return null}(Si(),a)}const Jl="__parameters__";function ia(a,l,d){return Z(()=>{const u=function ks(a){return function(...d){if(a){const u=a(...d);for(const f in u)this[f]=u[f]}}}(l);function f(..._){if(this instanceof f)return u.apply(this,_),this;const b=new f(..._);return E.annotation=b,E;function E(S,M,P){const U=S.hasOwnProperty(Jl)?S[Jl]:Object.defineProperty(S,Jl,{value:[]})[Jl];for(;U.length<=P;)U.push(null);return(U[P]=U[P]||[]).push(b),S}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class bn{constructor(l,d){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=kt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Po(a,l){a.forEach(d=>Array.isArray(d)?Po(d,l):l(d))}function qp(a,l,d){l>=a.length?a.push(d):a.splice(l,0,d)}function oa(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ud(a,l){const d=[];for(let u=0;u<a;u++)d.push(l);return d}function Zi(a,l,d){let u=dn(a,l);return u>=0?a[1|u]=d:(u=~u,function Ha(a,l,d,u){let f=a.length;if(f==l)a.push(d,u);else if(1===f)a.push(u,a[0]),a[0]=d;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=d,a[l+1]=u}}(a,u,l,d)),u}function pd(a,l){const d=dn(a,l);if(d>=0)return a[1|d]}function dn(a,l){return function Qe(a,l,d){let u=0,f=a.length>>d;for(;f!==u;){const _=u+(f-u>>1),b=a[_<<d];if(l===b)return _<<d;b>l?f=_:u=_+1}return~(f<<d)}(a,l,1)}const nc=or(ia("Inject",a=>({token:a})),-1),za=or(ia("Optional"),8),ns=or(ia("SkipSelf"),4);var xr=(()=>((xr=xr||{})[xr.Important=1]="Important",xr[xr.DashCase=2]="DashCase",xr))();const $h=new Map;let Gh=0;const X="__ngContext__";function se(a,l){Tr(l)?(a[X]=l[20],function qh(a){$h.set(a[20],a)}(l)):a[X]=l}function bd(a,l){return undefined(a,l)}function sc(a){const l=a[3];return Mr(l)?l[3]:l}function Ya(a){return xd(a[13])}function ac(a){return xd(a[4])}function xd(a){for(;null!==a&&!Mr(a);)a=a[4];return a}function lc(a,l,d,u,f){if(null!=u){let _,b=!1;Mr(u)?_=u:Tr(u)&&(b=!0,u=u[0]);const E=Vi(u);0===a&&null!==d?null==f?Qh(l,d,E):Cd(l,d,E,f||null,!0):1===a&&null!==d?Cd(l,d,E,f||null,!0):2===a?function Xa(a,l,d){const u=Ka(a,l);u&&function Jy(a,l,d,u){a.removeChild(l,d,u)}(a,u,l,d)}(l,E,b):3===a&&l.destroyNode(E),null!=_&&function u_(a,l,d,u,f){const _=d[7];_!==Vi(d)&&lc(l,a,u,_,f);for(let E=10;E<d.length;E++){const S=d[E];uc(S[1],S,a,l,u,_)}}(l,a,_,d,f)}}function Yh(a,l,d){return a.createElement(l,d)}function s_(a,l){const d=a[9],u=d.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,Ll(f,-1)),d.splice(u,1)}function vu(a,l){if(a.length<=10)return;const d=10+l,u=a[d];if(u){const f=u[17];null!==f&&f!==a&&s_(f,u),l>0&&(a[d-1][4]=u[4]);const _=oa(a,10+l);!function Ky(a,l){uc(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(u[1],u);const b=_[19];null!==b&&b.detachView(_[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function a_(a,l){if(!(128&l[2])){const d=l[11];d.destroyNode&&uc(a,l,d,3,null,null),function Kp(a){let l=a[13];if(!l)return dc(a[1],a);for(;l;){let d=null;if(Tr(l))d=l[13];else{const u=l[10];u&&(d=u)}if(!d){for(;l&&!l[4]&&l!==a;)Tr(l)&&dc(l[1],l),l=l[3];null===l&&(l=a),Tr(l)&&dc(l[1],l),d=l&&l[4]}l=d}}(l)}}function dc(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function Xy(a,l){let d;if(null!=a&&null!=(d=a.destroyHooks))for(let u=0;u<d.length;u+=2){const f=l[d[u]];if(!(f instanceof Oa)){const _=d[u+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const E=f[_[b]],S=_[b+1];try{S.call(E)}finally{}}else try{_.call(f)}finally{}}}}(a,l),function Kh(a,l){const d=a.cleanup,u=l[7];let f=-1;if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const b=d[_+3];b>=0?u[f=b]():u[f=-b].unsubscribe(),_+=2}else{const b=u[f=d[_+1]];d[_].call(b)}if(null!==u){for(let _=f+1;_<u.length;_++)(0,u[_])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const d=l[17];if(null!==d&&Mr(l[3])){d!==l[3]&&s_(d,l);const u=l[19];null!==u&&u.detachView(a)}!function C(a){$h.delete(a[20])}(l)}}function Ns(a,l,d){return function Zh(a,l,d){let u=l;for(;null!==u&&40&u.type;)u=(l=u).parent;if(null===u)return d[0];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:_}=a.data[u.directiveStart+f];if(_===Dt.None||_===Dt.Emulated)return null}return Ui(u,d)}}(a,l.parent,d)}function Cd(a,l,d,u,f){a.insertBefore(l,d,u,f)}function Qh(a,l,d){a.appendChild(l,d)}function l_(a,l,d,u,f){null!==u?Cd(a,l,d,u,f):Qh(a,l,d)}function Ka(a,l){return a.parentNode(l)}function Jh(a,l,d){return Zp(a,l,d)}let tl,xu,Sd,Zp=function yu(a,l,d){return 40&a.type?Ui(a,d):null};function Dd(a,l,d,u){const f=Ns(a,u,l),_=l[11],E=Jh(u.parent||l[6],u,l);if(null!=f)if(Array.isArray(d))for(let S=0;S<d.length;S++)l_(_,f,d[S],E,!1);else l_(_,f,d,E,!1)}function bu(a,l){if(null!==l){const d=l.type;if(3&d)return Ui(l,a);if(4&d)return Qa(-1,a[l.index]);if(8&d){const u=l.child;if(null!==u)return bu(a,u);{const f=a[l.index];return Mr(f)?Qa(-1,f):Vi(f)}}if(32&d)return bd(l,a)()||Vi(a[l.index]);{const u=c_(a,l);return null!==u?Array.isArray(u)?u[0]:bu(sc(a[16]),u):bu(a,l.next)}}return null}function c_(a,l){return null!==l?a[16][6].projection[l.projection]:null}function Qa(a,l){const d=10+a+1;if(d<l.length){const u=l[d],f=u[1].firstChild;if(null!==f)return bu(u,f)}return l[7]}function Qp(a,l,d,u,f,_,b){for(;null!=d;){const E=u[d.index],S=d.type;if(b&&0===l&&(E&&se(Vi(E),u),d.flags|=2),32!=(32&d.flags))if(8&S)Qp(a,l,d.child,u,f,_,!1),lc(l,a,f,E,_);else if(32&S){const M=bd(d,u);let P;for(;P=M();)lc(l,a,f,P,_);lc(l,a,f,E,_)}else 16&S?Xp(a,l,u,d,f,_):lc(l,a,f,E,_);d=b?d.projectionNext:d.next}}function uc(a,l,d,u,f,_){Qp(d,u,a.firstChild,l,f,_,!1)}function Xp(a,l,d,u,f,_){const b=d[16],S=b[6].projection[u.projection];if(Array.isArray(S))for(let M=0;M<S.length;M++)lc(l,a,f,S[M],_);else Qp(a,l,S,b[3],f,_,!0)}function Ja(a,l,d){""===d?a.removeAttribute(l,"class"):a.setAttribute(l,"class",d)}function el(a,l,d){const{mergedAttrs:u,classes:f,styles:_}=d;null!==u&&Pa(a,l,u),null!==f&&Ja(a,l,f),null!==_&&function Fs(a,l,d){a.setAttribute(l,"style",d)}(a,l,_)}function nl(a){return function tf(){if(void 0===tl&&(tl=null,At.trustedTypes))try{tl=At.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return tl}()?.createHTML(a)||a}function h_(a){xu=a}function nf(a){return function em(){if(void 0===Sd&&(Sd=null,At.trustedTypes))try{Sd=At.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Sd}()?.createScriptURL(a)||a}class hc{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}class p_ extends hc{getTypeName(){return"HTML"}}class tm extends hc{getTypeName(){return"Style"}}class Ax extends hc{getTypeName(){return"Script"}}class m_ extends hc{getTypeName(){return"URL"}}class g_ extends hc{getTypeName(){return"ResourceURL"}}function Qi(a){return a instanceof hc?a.changingThisBreaksApplicationSecurity:a}function da(a,l){const d=function ua(a){return a instanceof hc&&a.getTypeName()||null}(a);if(null!=d&&d!==l){if("ResourceURL"===d&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${d} (see ${ft})`)}return d===l}function Td(a){return new p_(a)}function __(a){return new tm(a)}function nm(a){return new Ax(a)}function Qr(a){return new m_(a)}function il(a){return new g_(a)}class ib{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const d=(new window.DOMParser).parseFromString(nl(l),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(l):(d.removeChild(d.firstChild),d)}catch{return null}}}class Lo{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const u=this.inertDocument.createElement("body");d.appendChild(u)}}getInertBodyElement(l){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=nl(l),d;const u=this.inertDocument.createElement("body");return u.innerHTML=nl(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(l){const d=l.attributes;for(let f=d.length-1;0<f;f--){const b=d.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&l.removeAttribute(b)}let u=l.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const rf=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ad(a){return(a=String(a)).match(rf)?a:"unsafe:"+a}function cs(a){const l={};for(const d of a.split(","))l[d]=!0;return l}function ha(...a){const l={};for(const d of a)for(const u in d)d.hasOwnProperty(u)&&(l[u]=!0);return l}const v_=cs("area,br,col,hr,img,wbr"),kd=cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),y_=cs("rp,rt"),g=ha(v_,ha(kd,cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ha(y_,cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ha(y_,kd)),w=cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),z=ha(w,cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ee=cs("script,style,template");class Te{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let d=l.firstChild,u=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?u=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,u&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(l){const d=l.nodeName.toLowerCase();if(!g.hasOwnProperty(d))return this.sanitizedSomething=!0,!ee.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const u=l.attributes;for(let f=0;f<u.length;f++){const _=u.item(f),b=_.name,E=b.toLowerCase();if(!z.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let S=_.value;w[E]&&(S=Ad(S)),this.buf.push(" ",b,'="',ot(S),'"')}return this.buf.push(">"),!0}endElement(l){const d=l.nodeName.toLowerCase();g.hasOwnProperty(d)&&!v_.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(l){this.buf.push(ot(l))}checkClobberedElement(l,d){if(d&&(l.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return d}}const je=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,at=/([^\#-~ |!])/g;function ot(a){return a.replace(/&/g,"&amp;").replace(je,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(at,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Nn;function ds(a,l){let d=null;try{Nn=Nn||function Cu(a){const l=new Lo(a);return function Md(){try{return!!(new window.DOMParser).parseFromString(nl(""),"text/html")}catch{return!1}}()?new ib(l):l}(a);let u=l?String(l):"";d=Nn.getInertBodyElement(u);let f=5,_=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=_,_=d.innerHTML,d=Nn.getInertBodyElement(u)}while(u!==_);return nl((new Te).sanitizeChildren(Eu(d)||d))}finally{if(d){const u=Eu(d)||d;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Eu(a){return"content"in a&&function rb(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var ai=(()=>((ai=ai||{})[ai.NONE=0]="NONE",ai[ai.HTML=1]="HTML",ai[ai.STYLE=2]="STYLE",ai[ai.SCRIPT=3]="SCRIPT",ai[ai.URL=4]="URL",ai[ai.RESOURCE_URL=5]="RESOURCE_URL",ai))();function Du(a){const l=Rd();return l?l.sanitize(ai.URL,a)||"":da(a,"URL")?Qi(a):Ad(Ne(a))}function im(a){const l=Rd();if(l)return nf(l.sanitize(ai.RESOURCE_URL,a)||"");if(da(a,"ResourceURL"))return nf(Qi(a));throw new ge(904,!1)}function lf(a,l,d){return function Su(a,l){return"src"===l&&("embed"===a||"frame"===a||"iframe"===a||"media"===a||"script"===a)||"href"===l&&("base"===a||"link"===a)?im:Du}(l,d)(a)}function Rd(){const a=fe();return a&&a[12]}const ob=new bn("ENVIRONMENT_INITIALIZER"),Ox=new bn("INJECTOR",-1),Iu=new bn("INJECTOR_DEF_TYPES");class cf{get(l,d=ir){if(d===ir){const u=new Error(`NullInjectorError: No provider for ${xe(l)}!`);throw u.name="NullInjectorError",u}return d}}function eT(...a){return{\u0275providers:df(0,a),\u0275fromNgModule:!0}}function df(a,...l){const d=[],u=new Set;let f;return Po(l,_=>{const b=_;sb(b,d,[],u)&&(f||(f=[]),f.push(b))}),void 0!==f&&uf(f,d),d}function uf(a,l){for(let d=0;d<a.length;d++){const{providers:f}=a[d];ab(f,_=>{l.push(_)})}}function sb(a,l,d,u){if(!(a=Q(a)))return!1;let f=null,_=To(a);const b=!_&&qt(a);if(_||b){if(b&&!b.standalone)return!1;f=a}else{const S=a.ngModule;if(_=To(S),!_)return!1;f=S}const E=u.has(f);if(b){if(E)return!1;if(u.add(f),b.dependencies){const S="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const M of S)sb(M,l,d,u)}}else{if(!_)return!1;{if(null!=_.imports&&!E){let M;u.add(f);try{Po(_.imports,P=>{sb(P,l,d,u)&&(M||(M=[]),M.push(P))})}finally{}void 0!==M&&uf(M,l)}if(!E){const M=Ao(f)||(()=>new f);l.push({provide:f,useFactory:M,deps:Pt},{provide:Iu,useValue:f,multi:!0},{provide:ob,useValue:()=>gn(f),multi:!0})}const S=_.providers;null==S||E||ab(S,P=>{l.push(P)})}}return f!==a&&void 0!==a.providers}function ab(a,l){for(let d of a)Ie(d)&&(d=d.\u0275providers),Array.isArray(d)?ab(d,l):l(d)}const tT=J({provide:String,useValue:J});function lb(a){return null!==a&&"object"==typeof a&&tT in a}function Tu(a){return"function"==typeof a}const hf=new bn("Set Injector scope."),fc={},iT={};let db;function w_(){return void 0===db&&(db=new cf),db}class Mu{}class Nx extends Mu{get destroyed(){return this._destroyed}constructor(l,d,u,f){super(),this.parent=d,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,om(l,b=>this.processProvider(b)),this.records.set(Ox,Au(void 0,this)),f.has("environment")&&this.records.set(Mu,Au(void 0,this));const _=this.records.get(hf);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Iu.multi,Pt,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const d=rr(this),u=Ln(void 0);try{return l()}finally{rr(d),Ln(u)}}get(l,d=ir,u=wt.Default){this.assertNotDestroyed(),u=Vr(u);const f=rr(this),_=Ln(void 0);try{if(!(u&wt.SkipSelf)){let E=this.records.get(l);if(void 0===E){const S=function Lx(a){return"function"==typeof a||"object"==typeof a&&a instanceof bn}(l)&&Un(l);E=S&&this.injectableDefInScope(S)?Au(ub(l),fc):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(u&wt.Self?w_():this.parent).get(l,d=u&wt.Optional&&d===ir?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[xi]=b[xi]||[]).unshift(xe(l)),f)throw b;return function $(a,l,d,u){const f=a[xi];throw l[Da]&&f.unshift(l[Da]),a.message=function j(a,l,d,u=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=xe(l);if(Array.isArray(l))f=l.map(xe).join(" -> ");else if("object"==typeof l){let _=[];for(let b in l)if(l.hasOwnProperty(b)){let E=l[b];_.push(b+":"+("string"==typeof E?JSON.stringify(E):xe(E)))}f=`{${_.join(", ")}}`}return`${d}${u?"("+u+")":""}[${f}]: ${a.replace(mr,"\n  ")}`}("\n"+a.message,f,d,u),a.ngTokenPath=f,a[xi]=null,a}(b,l,"R3InjectorError",this.source)}throw b}finally{Ln(_),rr(f)}}resolveInjectorInitializers(){const l=rr(this),d=Ln(void 0);try{const u=this.get(ob.multi,Pt,wt.Self);for(const f of u)f()}finally{rr(l),Ln(d)}}toString(){const l=[],d=this.records;for(const u of d.keys())l.push(xe(u));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(l){let d=Tu(l=Q(l))?l:Q(l&&l.provide);const u=function oT(a){return lb(a)?Au(void 0,a.useValue):Au(Fx(a),fc)}(l);if(Tu(l)||!0!==l.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=Au(void 0,fc,!0),f.factory=()=>Yn(f.multi),this.records.set(d,f)),d=l,f.multi.push(l)}this.records.set(d,u)}hydrate(l,d){return d.value===fc&&(d.value=iT,d.value=d.factory()),"object"==typeof d.value&&d.value&&function hb(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(l){if(!l.providedIn)return!1;const d=Q(l.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function ub(a){const l=Un(a),d=null!==l?l.factory:Ao(a);if(null!==d)return d;if(a instanceof bn)throw new ge(204,!1);if(a instanceof Function)return function rT(a){const l=a.length;if(l>0)throw ud(l,"?"),new ge(204,!1);const d=function Wi(a){const l=a&&(a[ys]||a[Pi]);if(l){const d=function vs(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),l}return null}(a);return null!==d?()=>d.factory(a):()=>new a}(a);throw new ge(204,!1)}function Fx(a,l,d){let u;if(Tu(a)){const f=Q(a);return Ao(f)||ub(f)}if(lb(a))u=()=>Q(a.useValue);else if(function nT(a){return!(!a||!a.useFactory)}(a))u=()=>a.useFactory(...Yn(a.deps||[]));else if(function Px(a){return!(!a||!a.useExisting)}(a))u=()=>gn(Q(a.useExisting));else{const f=Q(a&&(a.useClass||a.provide));if(!function sT(a){return!!a.deps}(a))return Ao(f)||ub(f);u=()=>new f(...Yn(a.deps))}return u}function Au(a,l,d=!1){return{factory:a,value:l,multi:d?[]:void 0}}function om(a,l){for(const d of a)Array.isArray(d)?om(d,l):d&&Ie(d)?om(d.\u0275providers,l):l(d)}class x_{}class Bx{}class C_{resolveComponentFactory(l){throw function aT(a){const l=Error(`No component factory found for ${xe(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let ff=(()=>{class a{}return a.NULL=new C_,a})();function Ux(){return pc(Si(),fe())}function pc(a,l){return new Od(Ui(a,l))}let Od=(()=>{class a{constructor(d){this.nativeElement=d}}return a.__NG_ELEMENT_ID__=Ux,a})();function Hx(a){return a instanceof Od?a.nativeElement:a}class pf{}let jx=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function lT(){const a=fe(),d=Hi(Si().index,a);return(Tr(d)?d:a)[11]}(),a})(),cT=(()=>{class a{}return a.\u0275prov=kt({token:a,providedIn:"root",factory:()=>null}),a})();class zx{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const $x=new zx("15.1.4"),fb={};function pb(a){return a.ngOriginalError}class sm{constructor(){this._console=console}handleError(l){const d=this._findOriginalError(l);this._console.error("ERROR",l),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(l){let d=l&&pb(l);for(;d&&pb(d);)d=pb(d);return d||null}}function Pd(a){return a instanceof Function?a():a}function Zx(a,l,d){let u=a.length;for(;;){const f=a.indexOf(l,d);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const _=l.length;if(f+_===u||a.charCodeAt(f+_)<=32)return f}d=f+1}}const Qx="ng-template";function Xx(a,l,d){let u=0;for(;u<a.length;){let f=a[u++];if(d&&"class"===f){if(f=a[u],-1!==Zx(f.toLowerCase(),l,0))return!0}else if(1===f){for(;u<a.length&&"string"==typeof(f=a[u++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function D_(a){return 4===a.type&&a.value!==Qx}function gT(a,l,d){return l===(4!==a.type||d?a.value:Qx)}function Jx(a,l,d){let u=4;const f=a.attrs||[],_=function S_(a){for(let l=0;l<a.length;l++)if(Na(a[l]))return l;return a.length}(f);let b=!1;for(let E=0;E<l.length;E++){const S=l[E];if("number"!=typeof S){if(!b)if(4&u){if(u=2|1&u,""!==S&&!gT(a,S,d)||""===S&&1===l.length){if(Jr(u))return!1;b=!0}}else{const M=8&u?S:l[++E];if(8&u&&null!==a.attrs){if(!Xx(a.attrs,M,d)){if(Jr(u))return!1;b=!0}continue}const U=mb(8&u?"class":S,f,D_(a),d);if(-1===U){if(Jr(u))return!1;b=!0;continue}if(""!==M){let K;K=U>_?"":f[U+1].toLowerCase();const ie=8&u?K:null;if(ie&&-1!==Zx(ie,M,0)||2&u&&M!==K){if(Jr(u))return!1;b=!0}}}}else{if(!b&&!Jr(u)&&!Jr(S))return!1;if(b&&Jr(S))continue;b=!1,u=S|1&u}}return Jr(u)||b}function Jr(a){return 0==(1&a)}function mb(a,l,d,u){if(null===l)return-1;let f=0;if(u||!d){let _=!1;for(;f<l.length;){const b=l[f];if(b===a)return f;if(3===b||6===b)_=!0;else{if(1===b||2===b){let E=l[++f];for(;"string"==typeof E;)E=l[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=_?1:2}return-1}return function I_(a,l){let d=a.indexOf(4);if(d>-1)for(d++;d<a.length;){const u=a[d];if("number"==typeof u)return-1;if(u===l)return d;d++}return-1}(l,a)}function eC(a,l,d=!1){for(let u=0;u<l.length;u++)if(Jx(a,l[u],d))return!0;return!1}function nC(a,l){e:for(let d=0;d<l.length;d++){const u=l[d];if(a.length===u.length){for(let f=0;f<a.length;f++)if(a[f]!==u[f])continue e;return!0}}return!1}function gb(a,l){return a?":not("+l.trim()+")":l}function _T(a){let l=a[0],d=1,u=2,f="",_=!1;for(;d<a.length;){let b=a[d];if("string"==typeof b)if(2&u){const E=a[++d];f+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?f+="."+b:4&u&&(f+=" "+b);else""!==f&&!Jr(b)&&(l+=gb(_,f),f=""),u=b,_=_||!Jr(u);d++}return""!==f&&(l+=gb(_,f)),l}const Zt={};function iC(a){am($t(),fe(),Ki()+a,!1)}function am(a,l,d,u){if(!u)if(3==(3&l[2])){const _=a.preOrderCheckHooks;null!==_&&cu(l,_,d)}else{const _=a.preOrderHooks;null!==_&&Kc(l,_,0,d)}Jo(d)}function lm(a,l=null,d=null,u){const f=lC(a,l,d,u);return f.resolveInjectorInitializers(),f}function lC(a,l=null,d=null,u,f=new Set){const _=[d||Pt,eT(a)];return u=u||("object"==typeof a?void 0:xe(a)),new Nx(_,l||w_(),u||null,f)}let Ru=(()=>{class a{static create(d,u){if(Array.isArray(d))return lm({name:""},u,d,"");{const f=d.name??"";return lm({name:f},d.parent,d.providers,f)}}}return a.THROW_IF_NOT_FOUND=ir,a.NULL=new cf,a.\u0275prov=kt({token:a,providedIn:"any",factory:()=>gn(Ox)}),a.__NG_ELEMENT_ID__=-1,a})();function vf(a,l=wt.Default){const d=fe();return null===d?gn(a,l):Fa(Si(),d,Q(a),l)}function gC(){throw new Error("invalid")}function _C(a,l){const d=a.contentQueries;if(null!==d)for(let u=0;u<d.length;u+=2){const _=d[u+1];if(-1!==_){const b=a.data[_];zc(d[u]),b.contentQueries(2,l[_],_)}}}function bb(a,l,d,u,f,_,b,E,S,M,P){const U=l.blueprint.slice();return U[0]=f,U[2]=76|u,(null!==P||a&&1024&a[2])&&(U[2]|=1024),ka(U),U[3]=U[15]=a,U[8]=d,U[10]=b||a&&a[10],U[11]=E||a&&a[11],U[12]=S||a&&a[12]||null,U[9]=M||a&&a[9]||null,U[6]=_,U[20]=function Fo(){return Gh++}(),U[21]=P,U[16]=2==l.type?a[16]:U,U}function yf(a,l,d,u,f){let _=a.data[l];if(null===_)_=function wb(a,l,d,u,f){const _=Ks(),b=Ih(),S=a.data[l]=function nF(a,l,d,u,f,_){return{type:d,index:u,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,d,l,u,f);return null===a.firstChild&&(a.firstChild=S),null!==_&&(b?null==_.child&&null!==S.parent&&(_.child=S):null===_.next&&(_.next=S)),S}(a,l,d,u,f),function Th(){return Ut.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=d,_.value=u,_.attrs=f;const b=function Uc(){const a=Ut.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return yr(_,!0),_}function um(a,l,d,u){if(0===d)return-1;const f=l.length;for(let _=0;_<d;_++)l.push(u),a.blueprint.push(u),a.data.push(null);return f}function xb(a,l,d){Gc(l);try{const u=a.viewQuery;null!==u&&Lu(1,u,d);const f=a.template;null!==f&&PT(a,l,f,1,d),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&_C(a,l),a.staticViewQueries&&Lu(2,a.viewQuery,d);const _=a.components;null!==_&&function OT(a,l){for(let d=0;d<l.length;d++)mm(a,l[d])}(l,_)}catch(u){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),u}finally{l[2]&=-5,qc()}}function hs(a,l,d,u){const f=l[2];if(128!=(128&f)){Gc(l);try{ka(l),function ko(a){return Ut.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==d&&PT(a,l,d,2,u);const b=3==(3&f);if(b){const M=a.preOrderCheckHooks;null!==M&&cu(l,M,null)}else{const M=a.preOrderHooks;null!==M&&Kc(l,M,0,null),Zc(l,0)}if(function jT(a){for(let l=Ya(a);null!==l;l=ac(l)){if(!l[2])continue;const d=l[9];for(let u=0;u<d.length;u++){const f=d[u];512&f[2]||Ll(f[3],1),f[2]|=512}}}(l),function HT(a){for(let l=Ya(a);null!==l;l=ac(l))for(let d=10;d<l.length;d++){const u=l[d],f=u[1];Qo(u)&&hs(f,u,f.template,u[8])}}(l),null!==a.contentQueries&&_C(a,l),b){const M=a.contentCheckHooks;null!==M&&cu(l,M)}else{const M=a.contentHooks;null!==M&&Kc(l,M,1),Zc(l,1)}!function RT(a,l){const d=a.hostBindingOpCodes;if(null!==d)try{for(let u=0;u<d.length;u++){const f=d[u];if(f<0)Jo(~f);else{const _=f,b=d[++u],E=d[++u];jc(b,_),E(2,l[_])}}}finally{Jo(-1)}}(a,l);const E=a.components;null!==E&&function vC(a,l){for(let d=0;d<l.length;d++)zT(a,l[d])}(l,E);const S=a.viewQuery;if(null!==S&&Lu(2,S,u),b){const M=a.viewCheckHooks;null!==M&&cu(l,M)}else{const M=a.viewHooks;null!==M&&Kc(l,M,2),Zc(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,Ll(l[3],-1))}finally{qc()}}}function PT(a,l,d,u,f){const _=Ki(),b=2&u;try{Jo(-1),b&&l.length>22&&am(a,l,22,!1),d(u,f)}finally{Jo(_)}}function Ou(a,l,d){if(Ol(l)){const f=l.directiveEnd;for(let _=l.directiveStart;_<f;_++){const b=a.data[_];b.contentQueries&&b.contentQueries(1,d[_],_)}}}function rn(a,l,d){Vc()&&(function xC(a,l,d,u){const f=d.directiveStart,_=d.directiveEnd;Ma(d)&&function Cb(a,l,d){const u=Ui(l,a),f=yC(d),_=a[10],b=P_(a,bb(a,f,null,d.onPush?32:16,u,l,_,_.createRenderer(u,d),null,null,null));a[l.index]=b}(l,d,a.data[f+d.componentOffset]),a.firstCreatePass||id(d,l),se(u,l);const b=d.initialInputs;for(let E=f;E<_;E++){const S=a.data[E],M=oi(l,a,E,d);se(M,l),null!==b&&UT(0,E-f,M,S,0,b),jr(S)&&(Hi(d.index,l)[8]=oi(l,a,E,d))}}(a,l,d,Ui(d,l)),64==(64&d.flags)&&BT(a,l,d))}function Ls(a,l,d=Ui){const u=l.localNames;if(null!==u){let f=l.index+1;for(let _=0;_<u.length;_+=2){const b=u[_+1],E=-1===b?d(l,a):a[b];a[f++]=E}}}function yC(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=bf(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function bf(a,l,d,u,f,_,b,E,S,M){const P=22+u,U=P+f,K=function Xi(a,l){const d=[];for(let u=0;u<l;u++)d.push(u<a?null:Zt);return d}(P,U),ie="function"==typeof M?M():M;return K[1]={type:a,blueprint:K,template:d,queries:null,viewQuery:E,declTNode:l,data:K.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:S,consts:ie,incompleteFirstPass:!1}}function NT(a,l,d,u){const f=Ib(l);null===d?f.push(u):(f.push(d),a.firstCreatePass&&DC(a).push(u,f.length-1))}function A_(a,l,d,u){for(let f in a)if(a.hasOwnProperty(f)){d=null===d?{}:d;const _=a[f];null===u?FT(d,l,f,_):u.hasOwnProperty(f)&&FT(d,l,u[f],_)}return d}function FT(a,l,d,u){a.hasOwnProperty(d)?a[d].push(l,u):a[d]=[l,u]}function Bo(a,l,d,u,f,_,b,E){const S=Ui(l,d);let P,M=l.inputs;!E&&null!=M&&(P=M[u])?(Tb(a,d,P,u,f),Ma(l)&&LT(d,l.index)):3&l.type&&(u=function wC(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(u),f=null!=b?b(f,l.value||"",u):f,_.setProperty(S,u,f))}function LT(a,l){const d=Hi(l,a);16&d[2]||(d[2]|=32)}function hm(a,l,d,u){let f=!1;if(Vc()){const _=null===u?null:{"":-1},b=function VT(a,l){const d=a.directiveRegistry;let u=null,f=null;if(d)for(let _=0;_<d.length;_++){const b=d[_];if(eC(l,b.selectors,!1))if(u||(u=[]),jr(b))if(null!==b.findHostDirectiveDefs){const E=[];f=f||new Map,b.findHostDirectiveDefs(b,E,f),u.unshift(...E,b),Nu(a,l,E.length)}else u.unshift(b),Nu(a,l,0);else f=f||new Map,b.findHostDirectiveDefs?.(b,u,f),u.push(b)}return null===u?null:[u,f]}(a,d);let E,S;null===b?E=S=null:[E,S]=b,null!==E&&(f=!0,Mi(a,l,d,E,_,S)),_&&function R_(a,l,d){if(l){const u=a.localNames=[];for(let f=0;f<l.length;f+=2){const _=d[l[f+1]];if(null==_)throw new ge(-301,!1);u.push(l[f],_)}}}(d,u,_)}return d.mergedAttrs=Xs(d.mergedAttrs,d.attrs),f}function Mi(a,l,d,u,f,_){for(let M=0;M<u.length;M++)Mn(id(d,l),a,u[M].type);!function CC(a,l,d){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+d,a.providerIndexes=l}(d,a.data.length,u.length);for(let M=0;M<u.length;M++){const P=u[M];P.providersResolver&&P.providersResolver(P)}let b=!1,E=!1,S=um(a,l,u.length,null);for(let M=0;M<u.length;M++){const P=u[M];d.mergedAttrs=Xs(d.mergedAttrs,P.hostAttrs),pm(a,d,l,S,P),Fu(S,P,f),null!==P.contentQueries&&(d.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(d.flags|=64);const U=P.type.prototype;!b&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(d.index),b=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(d.index),E=!0),S++}!function bC(a,l,d){const f=l.directiveEnd,_=a.data,b=l.attrs,E=[];let S=null,M=null;for(let P=l.directiveStart;P<f;P++){const U=_[P],K=d?d.get(U):null,ve=K?K.outputs:null;S=A_(U.inputs,P,S,K?K.inputs:null),M=A_(U.outputs,P,M,ve);const Ve=null===S||null===b||D_(l)?null:Nd(S,P,b);E.push(Ve)}null!==S&&(S.hasOwnProperty("class")&&(l.flags|=8),S.hasOwnProperty("style")&&(l.flags|=16)),l.initialInputs=E,l.inputs=S,l.outputs=M}(a,d,_)}function BT(a,l,d){const u=d.directiveStart,f=d.directiveEnd,_=d.index,b=function Xg(){return Ut.lFrame.currentDirectiveIndex}();try{Jo(_);for(let E=u;E<f;E++){const S=a.data[E],M=l[E];pi(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&fm(S,M)}}finally{Jo(-1),pi(b)}}function fm(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Nu(a,l,d){l.componentOffset=d,(a.components||(a.components=[])).push(l.index)}function Fu(a,l,d){if(d){if(l.exportAs)for(let u=0;u<l.exportAs.length;u++)d[l.exportAs[u]]=a;jr(l)&&(d[""]=a)}}function pm(a,l,d,u,f){a.data[u]=f;const _=f.factory||(f.factory=Ao(f.type)),b=new Oa(_,jr(f),vf);a.blueprint[u]=b,d[u]=b,function rF(a,l,d,u,f){const _=f.hostBindings;if(_){let b=a.hostBindingOpCodes;null===b&&(b=a.hostBindingOpCodes=[]);const E=~l.index;(function wf(a){let l=a.length;for(;l>0;){const d=a[--l];if("number"==typeof d&&d<0)return d}return 0})(b)!=E&&b.push(E),b.push(d,u,_)}}(a,l,u,um(a,d,f.hostVars,Zt),f)}function rl(a,l,d,u,f,_){const b=Ui(a,l);!function Eb(a,l,d,u,f,_,b){if(null==_)a.removeAttribute(l,f,d);else{const E=null==b?Ne(_):b(_,u||"",f);a.setAttribute(l,f,E,d)}}(l[11],b,_,a.value,d,u,f)}function UT(a,l,d,u,f,_){const b=_[l];if(null!==b){const E=u.setInput;for(let S=0;S<b.length;){const M=b[S++],P=b[S++],U=b[S++];null!==E?u.setInput(d,U,M,P):d[P]=U}}}function Nd(a,l,d){let u=null,f=0;for(;f<d.length;){const _=d[f];if(0!==_)if(5!==_){if("number"==typeof _)break;if(a.hasOwnProperty(_)){null===u&&(u=[]);const b=a[_];for(let E=0;E<b.length;E+=2)if(b[E]===l){u.push(_,b[E+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function O_(a,l,d,u){return[a,!0,!1,l,null,0,u,d,null,null]}function zT(a,l){const d=Hi(l,a);if(Qo(d)){const u=d[1];48&d[2]?hs(u,d,u.template,d[8]):d[5]>0&&Db(d)}}function Db(a){for(let u=Ya(a);null!==u;u=ac(u))for(let f=10;f<u.length;f++){const _=u[f];if(Qo(_))if(512&_[2]){const b=_[1];hs(b,_,b.template,_[8])}else _[5]>0&&Db(_)}const d=a[1].components;if(null!==d)for(let u=0;u<d.length;u++){const f=Hi(d[u],a);Qo(f)&&f[5]>0&&Db(f)}}function mm(a,l){const d=Hi(l,a),u=d[1];(function EC(a,l){for(let d=l.length;d<a.blueprint.length;d++)l.push(a.blueprint[d])})(u,d),xb(u,d,d[8])}function P_(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Sb(a){for(;a;){a[2]|=32;const l=sc(a);if(Rc(a)&&!l)return a;a=l}return null}function N_(a,l,d,u=!0){const f=l[10];f.begin&&f.begin();try{hs(a,l,a.template,d)}catch(b){throw u&&GT(l,b),b}finally{f.end&&f.end()}}function Lu(a,l,d){zc(0),l(a,d)}function Ib(a){return a[7]||(a[7]=[])}function DC(a){return a.cleanup||(a.cleanup=[])}function SC(a,l,d){return(null===a||jr(a))&&(d=function Fl(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(d[l.index])),d[11]}function GT(a,l){const d=a[9],u=d?d.get(sm,null):null;u&&u.handleError(l)}function Tb(a,l,d,u,f){for(let _=0;_<d.length;){const b=d[_++],E=d[_++],S=l[b],M=a.data[b];null!==M.setInput?M.setInput(S,f,u,E):S[E]=f}}function Bu(a,l,d){let u=d?a.styles:null,f=d?a.classes:null,_=0;if(null!==l)for(let b=0;b<l.length;b++){const E=l[b];"number"==typeof E?_=E:1==_?f=pe(f,E):2==_&&(u=pe(u,E+": "+l[++b]+";"))}d?a.styles=u:a.stylesWithoutHost=u,d?a.classes=f:a.classesWithoutHost=f}function gm(a,l,d,u,f=!1){for(;null!==d;){const _=l[d.index];if(null!==_&&u.push(Vi(_)),Mr(_))for(let E=10;E<_.length;E++){const S=_[E],M=S[1].firstChild;null!==M&&gm(S[1],S,M,u)}const b=d.type;if(8&b)gm(a,l,d.child,u);else if(32&b){const E=bd(d,l);let S;for(;S=E();)u.push(S)}else if(16&b){const E=c_(l,d);if(Array.isArray(E))u.push(...E);else{const S=sc(l[16]);gm(S[1],S,E,u,!0)}}d=f?d.projectionNext:d.next}return u}class _m{get rootNodes(){const l=this._lView,d=l[1];return gm(d,l,d.firstChild,[])}constructor(l,d){this._lView=l,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(Mr(l)){const d=l[8],u=d?d.indexOf(this):-1;u>-1&&(vu(l,u),oa(d,u))}this._attachedToViewContainer=!1}a_(this._lView[1],this._lView)}onDestroy(l){NT(this._lView[1],this._lView,null,l)}markForCheck(){Sb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){N_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zy(a,l){uc(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=l}}class sF extends _m{constructor(l){super(l),this._view=l}detectChanges(){const l=this._view;N_(l[1],l,l[8],!1)}checkNoChanges(){}get context(){return null}}class IC extends ff{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const d=qt(l);return new vm(d,this.ngModule)}}function TC(a){const l=[];for(let d in a)a.hasOwnProperty(d)&&l.push({propName:a[d],templateName:d});return l}class qT{constructor(l,d){this.injector=l,this.parentInjector=d}get(l,d,u){u=Vr(u);const f=this.injector.get(l,fb,u);return f!==fb||d===fb?f:this.parentInjector.get(l,d,u)}}class vm extends Bx{get inputs(){return TC(this.componentDef.inputs)}get outputs(){return TC(this.componentDef.outputs)}constructor(l,d){super(),this.componentDef=l,this.ngModule=d,this.componentType=l.type,this.selector=function vT(a){return a.map(_T).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!d}create(l,d,u,f){let _=(f=f||this.ngModule)instanceof Mu?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new qT(l,_):l,E=b.get(pf,null);if(null===E)throw new ge(407,!1);const S=b.get(cT,null),M=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",U=u?function Pu(a,l,d){return a.selectRootElement(l,d===Dt.ShadowDom)}(M,u,this.componentDef.encapsulation):Yh(M,P,function F_(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(P)),K=this.componentDef.onPush?288:272,ie=bf(0,null,null,1,0,null,null,null,null,null),ve=bb(null,ie,null,K,null,null,E,M,S,b,null);let Ve,Xe;Gc(ve);try{const gt=this.componentDef;let Nt,ke=null;gt.findHostDirectiveDefs?(Nt=[],ke=new Map,gt.findHostDirectiveDefs(gt,Nt,ke),Nt.push(gt)):Nt=[gt];const It=function ym(a,l){const d=a[1];return a[22]=l,yf(d,22,2,"#host",null)}(ve,U),ni=function YT(a,l,d,u,f,_,b,E){const S=f[1];!function KT(a,l,d,u){for(const f of a)l.mergedAttrs=Xs(l.mergedAttrs,f.hostAttrs);null!==l.mergedAttrs&&(Bu(l,l.mergedAttrs,!0),null!==d&&el(u,d,l))}(u,a,l,b);const M=_.createRenderer(l,d),P=bb(f,yC(d),null,d.onPush?32:16,f[a.index],a,_,M,E||null,null,null);return S.firstCreatePass&&Nu(S,a,u.length-1),P_(f,P),f[a.index]=P}(It,U,gt,Nt,ve,E,M);Xe=xh(ie,22),U&&function QT(a,l,d,u){if(u)Pa(a,d,["ng-version",$x.full]);else{const{attrs:f,classes:_}=function yT(a){const l=[],d=[];let u=1,f=2;for(;u<a.length;){let _=a[u];if("string"==typeof _)2===f?""!==_&&l.push(_,a[++u]):8===f&&d.push(_);else{if(!Jr(f))break;f=_}u++}return{attrs:l,classes:d}}(l.selectors[0]);f&&Pa(a,d,f),_&&_.length>0&&Ja(a,d,_.join(" "))}}(M,gt,U,u),void 0!==d&&function Mb(a,l,d){const u=a.projection=[];for(let f=0;f<l.length;f++){const _=d[f];u.push(null!=_?Array.from(_):null)}}(Xe,this.ngContentSelectors,d),Ve=function ZT(a,l,d,u,f,_){const b=Si(),E=f[1],S=Ui(b,f);Mi(E,f,b,d,null,u);for(let P=0;P<d.length;P++)se(oi(f,E,b.directiveStart+P,b),f);BT(E,f,b),S&&se(S,f);const M=oi(f,E,b.directiveStart+b.componentOffset,b);if(a[8]=f[8]=M,null!==_)for(const P of _)P(M,l);return Ou(E,b,a),M}(ni,gt,Nt,ke,ve,[MC]),xb(ie,ve,null)}finally{qc()}return new WT(this.componentType,Ve,pc(Xe,ve),ve,Xe)}}class WT extends x_{constructor(l,d,u,f,_){super(),this.location=u,this._rootLView=f,this._tNode=_,this.instance=d,this.hostView=this.changeDetectorRef=new sF(f),this.componentType=l}setInput(l,d){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[l])){const _=this._rootLView;Tb(_[1],_,f,l,d),LT(_,this._tNode.index)}}get injector(){return new Oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function MC(){const a=Si();Yc(fe()[1],a)}function Ab(a){let l=function sn(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),d=!0;const u=[a];for(;l;){let f;if(jr(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new ge(903,!1);f=l.\u0275dir}if(f){if(d){u.push(f);const b=a;b.inputs=kb(a.inputs),b.declaredInputs=kb(a.declaredInputs),b.outputs=kb(a.outputs);const E=f.hostBindings;E&&cF(a,E);const S=f.viewQuery,M=f.contentQueries;if(S&&aF(a,S),M&&lF(a,M),we(a.inputs,f.inputs),we(a.declaredInputs,f.declaredInputs),we(a.outputs,f.outputs),jr(f)&&f.data.animation){const P=a.data;P.animation=(P.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let b=0;b<_.length;b++){const E=_[b];E&&E.ngInherit&&E(a),E===Ab&&(d=!1)}}l=Object.getPrototypeOf(l)}!function XT(a){let l=0,d=null;for(let u=a.length-1;u>=0;u--){const f=a[u];f.hostVars=l+=f.hostVars,f.hostAttrs=Xs(f.hostAttrs,d=Xs(d,f.hostAttrs))}}(u)}function kb(a){return a===Kt?{}:a===Pt?[]:a}function aF(a,l){const d=a.viewQuery;a.viewQuery=d?(u,f)=>{l(u,f),d(u,f)}:l}function lF(a,l){const d=a.contentQueries;a.contentQueries=d?(u,f,_)=>{l(u,f,_),d(u,f,_)}:l}function cF(a,l){const d=a.hostBindings;a.hostBindings=d?(u,f)=>{l(u,f),d(u,f)}:l}let L_=null;function Cf(){if(!L_){const a=At.Symbol;if(a&&a.iterator)L_=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<l.length;++d){const u=l[d];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(L_=u)}}}return L_}function Ob(a){return!!bm(a)&&(Array.isArray(a)||!(a instanceof Map)&&Cf()in a)}function bm(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function eo(a,l,d){return!Object.is(a[l],d)&&(a[l]=d,!0)}function Pb(a,l,d,u){const f=fe();return eo(f,Zs(),l)&&($t(),rl(jn(),f,a,l,d,u)),Pb}function Mf(a,l,d,u,f,_,b,E){const S=fe(),M=$t(),P=a+22,U=M.firstCreatePass?function oM(a,l,d,u,f,_,b,E,S){const M=l.consts,P=yf(l,a,4,b||null,Ss(M,E));hm(l,d,P,Ss(M,S)),Yc(l,P);const U=P.tViews=bf(2,P,u,f,_,l.directiveRegistry,l.pipeRegistry,null,l.schemas,M);return null!==l.queries&&(l.queries.template(l,P),U.queries=l.queries.embeddedTView(P)),P}(P,M,S,l,d,u,f,_,b):M.data[P];yr(U,!1);const K=S[11].createComment("");Dd(M,S,K,U),se(K,S),P_(S,S[P]=O_(K,S,K,U)),nu(U)&&rn(M,S,U),null!=b&&Ls(S,U,E)}function sl(a){return function lr(a,l){return a[l]}(function Qg(){return Ut.lFrame.contextLView}(),22+a)}function xm(a,l,d){const u=fe();return eo(u,Zs(),l)&&Bo($t(),jn(),u,a,l,u[11],d,!1),xm}function Cm(a,l,d,u,f){const b=f?"class":"style";Tb(a,d,l.inputs[b],b,u)}function zu(a,l,d,u){const f=fe(),_=$t(),b=22+a,E=f[11],S=f[b]=Yh(E,l,function kh(){return Ut.lFrame.currentNamespace}()),M=_.firstCreatePass?function Lb(a,l,d,u,f,_,b){const E=l.consts,M=yf(l,a,2,f,Ss(E,_));return hm(l,d,M,Ss(E,b)),null!==M.attrs&&Bu(M,M.attrs,!1),null!==M.mergedAttrs&&Bu(M,M.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,M),M}(b,_,f,0,l,d,u):_.data[b];return yr(M,!0),el(E,S,M),32!=(32&M.flags)&&Dd(_,f,S,M),0===function Eh(){return Ut.lFrame.elementDepthCount}()&&se(S,f),function Bc(){Ut.lFrame.elementDepthCount++}(),nu(M)&&(rn(_,f,M),Ou(_,M,f)),null!==u&&Ls(f,M),zu}function Em(){let a=Si();Ih()?Hc():(a=a.parent,yr(a,!1));const l=a;!function Dh(){Ut.lFrame.elementDepthCount--}();const d=$t();return d.firstCreatePass&&(Yc(d,a),Ol(a)&&d.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Wl(a){return 0!=(8&a.flags)}(l)&&Cm(d,l,fe(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Ro(a){return 0!=(16&a.flags)}(l)&&Cm(d,l,fe(),l.stylesWithoutHost,!1),Em}function Bb(a,l,d,u){return zu(a,l,d,u),Em(),Bb}function Vb(a,l,d){const u=fe(),f=$t(),_=a+22,b=f.firstCreatePass?function hF(a,l,d,u,f){const _=l.consts,b=Ss(_,u),E=yf(l,a,8,"ng-container",b);return null!==b&&Bu(E,b,!0),hm(l,d,E,Ss(_,f)),null!==l.queries&&l.queries.elementStart(l,E),E}(_,f,u,l,d):f.data[_];yr(b,!0);const E=u[_]=u[11].createComment("");return Dd(f,u,E,b),se(E,u),nu(b)&&(rn(f,u,b),Ou(f,b,u)),null!=d&&Ls(u,b),Vb}function Ub(){let a=Si();const l=$t();return Ih()?Hc():(a=a.parent,yr(a,!1)),l.firstCreatePass&&(Yc(l,a),Ol(a)&&l.queries.elementEnd(a)),Ub}function OC(a,l,d){return Vb(a,l,d),Ub(),OC}function sM(){return fe()}function PC(a){return!!a&&"function"==typeof a.then}function aM(a){return!!a&&"function"==typeof a.subscribe}const lM=aM;function Dm(a,l,d,u){const f=fe(),_=$t(),b=Si();return Sm(_,f,f[11],b,a,l,u),Dm}function Hb(a,l){const d=Si(),u=fe(),f=$t();return Sm(f,u,SC(Ra(f.data),d,u),d,a,l),Hb}function Sm(a,l,d,u,f,_,b){const E=nu(u),M=a.firstCreatePass&&DC(a),P=l[8],U=Ib(l);let K=!0;if(3&u.type||b){const Ve=Ui(u,l),Xe=b?b(Ve):Ve,gt=U.length,Nt=b?It=>b(Vi(It[u.index])):u.index;let ke=null;if(!b&&E&&(ke=function j_(a,l,d,u){const f=a.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const b=f[_];if(b===d&&f[_+1]===u){const E=l[7],S=f[_+2];return E.length>S?E[S]:null}"string"==typeof b&&(_+=2)}return null}(a,l,f,u.index)),null!==ke)(ke.__ngLastListenerFn__||ke).__ngNextListenerFn__=_,ke.__ngLastListenerFn__=_,K=!1;else{_=Tm(u,l,P,_,!1);const It=d.listen(Xe,f,_);U.push(_,It),M&&M.push(f,Nt,gt,gt+1)}}else _=Tm(u,l,P,_,!1);const ie=u.outputs;let ve;if(K&&null!==ie&&(ve=ie[f])){const Ve=ve.length;if(Ve)for(let Xe=0;Xe<Ve;Xe+=2){const ni=l[ve[Xe]][ve[Xe+1]].subscribe(_),Ai=U.length;U.push(_,ni),M&&M.push(f,u.index,Ai,-(Ai+1))}}}function Im(a,l,d,u){try{return!1!==d(u)}catch(f){return GT(a,f),!1}}function Tm(a,l,d,u,f){return function _(b){if(b===Function)return u;Sb(a.componentOffset>-1?Hi(a.index,l):l);let S=Im(l,0,u,b),M=_.__ngNextListenerFn__;for(;M;)S=Im(l,0,M,b)&&S,M=M.__ngNextListenerFn__;return f&&!1===S&&(b.preventDefault(),b.returnValue=!1),S}}function cM(a=1){return function Fp(a){return(Ut.lFrame.contextLView=function Wc(a,l){for(;a>0;)l=l[15],a--;return l}(a,Ut.lFrame.contextLView))[8]}(a)}function fF(a,l){let d=null;const u=function tC(a){const l=a.attrs;if(null!=l){const d=l.indexOf(5);if(!(1&d))return l[d+1]}return null}(a);for(let f=0;f<l.length;f++){const _=l[f];if("*"!==_){if(null===u?eC(a,_,!0):nC(u,_))return f}else d=f}return d}function Mm(a){const l=fe()[16][6];if(!l.projection){const u=l.projection=ud(a?a.length:1,null),f=u.slice();let _=l.child;for(;null!==_;){const b=a?fF(_,a):0;null!==b&&(f[b]?f[b].projectionNext=_:u[b]=_,f[b]=_),_=_.next}}}function Am(a,l=0,d){const u=fe(),f=$t(),_=yf(f,22+a,16,null,d||null);null===_.projection&&(_.projection=l),Hc(),32!=(32&_.flags)&&function d_(a,l,d){Xp(l[11],0,l,d,Ns(a,d,l),Jh(d.parent||l[6],d,l))}(f,u,_)}function G_(a,l){return a<<17|l<<2}function $u(a){return a>>17&32767}function km(a){return 2|a}function Gu(a){return(131068&a)>>2}function zb(a,l){return-131069&a|l<<2}function $b(a){return 1|a}function mM(a,l,d,u,f){const _=a[d+1],b=null===l;let E=u?$u(_):Gu(_),S=!1;for(;0!==E&&(!1===S||b);){const P=a[E+1];_F(a[E],l)&&(S=!0,a[E+1]=u?$b(P):km(P)),E=u?$u(P):Gu(P)}S&&(a[d+1]=u?km(_):$b(_))}function _F(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&dn(a,l)>=0}function jC(a,l,d){return al(a,l,d,!1),jC}function q_(a,l){return al(a,l,null,!0),q_}function al(a,l,d,u){const f=fe(),_=$t(),b=function $r(a){const l=Ut.lFrame,d=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,d}(2);_.firstUpdatePass&&function xM(a,l,d,u){const f=a.data;if(null===f[d+1]){const _=f[Ki()],b=function wM(a,l){return l>=a.expandoStartIndex}(a,d);(function SM(a,l){return 0!=(a.flags&(l?8:16))})(_,u)&&null===l&&!b&&(l=!1),l=function DF(a,l,d,u){const f=Ra(a);let _=u?l.residualClasses:l.residualStyles;if(null===f)0===(u?l.classBindings:l.styleBindings)&&(d=W_(d=zC(null,a,l,d,u),l.attrs,u),_=null);else{const b=l.directiveStylingLast;if(-1===b||a[b]!==f)if(d=zC(f,a,l,d,u),null===_){let S=function SF(a,l,d){const u=d?l.classBindings:l.styleBindings;if(0!==Gu(u))return a[$u(u)]}(a,l,u);void 0!==S&&Array.isArray(S)&&(S=zC(null,a,l,S[1],u),S=W_(S,l.attrs,u),function IF(a,l,d,u){a[$u(d?l.classBindings:l.styleBindings)]=u}(a,l,u,S))}else _=function TF(a,l,d){let u;const f=l.directiveEnd;for(let _=1+l.directiveStylingLast;_<f;_++)u=W_(u,a[_].hostAttrs,d);return W_(u,l.attrs,d)}(a,l,u)}return void 0!==_&&(u?l.residualClasses=_:l.residualStyles=_),d}(f,_,l,u),function fM(a,l,d,u,f,_){let b=_?l.classBindings:l.styleBindings,E=$u(b),S=Gu(b);a[u]=d;let P,M=!1;if(Array.isArray(d)?(P=d[1],(null===P||dn(d,P)>0)&&(M=!0)):P=d,f)if(0!==S){const K=$u(a[E+1]);a[u+1]=G_(K,E),0!==K&&(a[K+1]=zb(a[K+1],u)),a[E+1]=function VC(a,l){return 131071&a|l<<17}(a[E+1],u)}else a[u+1]=G_(E,0),0!==E&&(a[E+1]=zb(a[E+1],u)),E=u;else a[u+1]=G_(S,0),0===E?E=u:a[S+1]=zb(a[S+1],u),S=u;M&&(a[u+1]=km(a[u+1])),mM(a,P,u,!0),mM(a,P,u,!1),function pM(a,l,d,u,f){const _=f?a.residualClasses:a.residualStyles;null!=_&&"string"==typeof l&&dn(_,l)>=0&&(d[u+1]=$b(d[u+1]))}(l,P,a,u,_),b=G_(E,S),_?l.classBindings=b:l.styleBindings=b}(f,_,l,d,b,u)}}(_,a,b,u),l!==Zt&&eo(f,b,l)&&function EM(a,l,d,u,f,_,b,E){if(!(3&l.type))return;const S=a.data,M=S[E+1],P=function hM(a){return 1==(1&a)}(M)?DM(S,l,d,f,Gu(M),b):void 0;Gb(P)||(Gb(_)||function pF(a){return 2==(2&a)}(M)&&(_=DM(S,null,d,f,E,b)),function wu(a,l,d,u,f){if(l)f?a.addClass(d,u):a.removeClass(d,u);else{let _=-1===u.indexOf("-")?void 0:xr.DashCase;null==f?a.removeStyle(d,u,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=xr.Important),a.setStyle(d,u,f,_))}}(u,b,Zo(Ki(),d),f,_))}(_,_.data[Ki()],f,f[11],a,f[b+1]=function kF(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=xe(Qi(a)))),a}(l,d),u,b)}function zC(a,l,d,u,f){let _=null;const b=d.directiveEnd;let E=d.directiveStylingLast;for(-1===E?E=d.directiveStart:E++;E<b&&(_=l[E],u=W_(u,_.hostAttrs,f),_!==a);)E++;return null!==a&&(d.directiveStylingLast=E),u}function W_(a,l,d){const u=d?1:2;let f=-1;if(null!==l)for(let _=0;_<l.length;_++){const b=l[_];"number"==typeof b?f=b:f===u&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Zi(a,b,!!d||l[++_]))}return void 0===a?null:a}function DM(a,l,d,u,f,_){const b=null===l;let E;for(;f>0;){const S=a[f],M=Array.isArray(S),P=M?S[1]:S,U=null===P;let K=d[f+1];K===Zt&&(K=U?Pt:void 0);let ie=U?pd(K,u):P===u?K:void 0;if(M&&!Gb(ie)&&(ie=pd(S,u)),Gb(ie)&&(E=ie,b))return E;const ve=a[f+1];f=b?$u(ve):Gu(ve)}if(null!==l){let S=_?l.residualClasses:l.residualStyles;null!=S&&(E=pd(S,u))}return E}function Gb(a){return void 0!==a}function IM(a,l=""){const d=fe(),u=$t(),f=a+22,_=u.firstCreatePass?yf(u,f,1,l,null):u.data[f],b=d[f]=function gu(a,l){return a.createText(l)}(d[11],l);Dd(u,d,b,_),yr(_,!1)}function $C(a){return Y_("",a,""),$C}function Y_(a,l,d){const u=fe(),f=function ma(a,l,d,u){return eo(a,Zs(),d)?l+Ne(d)+u:Zt}(u,a,l,d);return f!==Zt&&function fa(a,l,d){const u=Zo(l,a);!function _u(a,l,d){a.setValue(l,d)}(a[11],u,d)}(u,Ki(),f),Y_}function qC(a,l,d){const u=fe();return eo(u,Zs(),l)&&Bo($t(),jn(),u,a,l,u[11],d,!0),qC}function WC(a,l,d){const u=fe();if(eo(u,Zs(),l)){const _=$t(),b=jn();Bo(_,b,u,a,l,SC(Ra(_.data),b,u),d,!0)}return WC}const kf=void 0;var QF=["en",[["a","p"],["AM","PM"],kf],[["AM","PM"],kf,kf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],kf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],kf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",kf,"{1} 'at' {0}",kf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ZF(a){const d=Math.floor(Math.abs(a)),u=a.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===u?1:5}];let Om={};function YC(a){const l=function XF(a){return a.toLowerCase().replace(/_/g,"-")}(a);let d=GM(l);if(d)return d;const u=l.split("-")[0];if(d=GM(u),d)return d;if("en"===u)return QF;throw new ge(701,!1)}function $M(a){return YC(a)[Lt.PluralCase]}function GM(a){return a in Om||(Om[a]=At.ng&&At.ng.common&&At.ng.common.locales&&At.ng.common.locales[a]),Om[a]}var Lt=(()=>((Lt=Lt||{})[Lt.LocaleId=0]="LocaleId",Lt[Lt.DayPeriodsFormat=1]="DayPeriodsFormat",Lt[Lt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Lt[Lt.DaysFormat=3]="DaysFormat",Lt[Lt.DaysStandalone=4]="DaysStandalone",Lt[Lt.MonthsFormat=5]="MonthsFormat",Lt[Lt.MonthsStandalone=6]="MonthsStandalone",Lt[Lt.Eras=7]="Eras",Lt[Lt.FirstDayOfWeek=8]="FirstDayOfWeek",Lt[Lt.WeekendRange=9]="WeekendRange",Lt[Lt.DateFormat=10]="DateFormat",Lt[Lt.TimeFormat=11]="TimeFormat",Lt[Lt.DateTimeFormat=12]="DateTimeFormat",Lt[Lt.NumberSymbols=13]="NumberSymbols",Lt[Lt.NumberFormats=14]="NumberFormats",Lt[Lt.CurrencyCode=15]="CurrencyCode",Lt[Lt.CurrencySymbol=16]="CurrencySymbol",Lt[Lt.CurrencyName=17]="CurrencyName",Lt[Lt.Currencies=18]="Currencies",Lt[Lt.Directionality=19]="Directionality",Lt[Lt.PluralCase=20]="PluralCase",Lt[Lt.ExtraData=21]="ExtraData",Lt))();const Pm="en-US";let Yb=Pm;function a0(a,l,d,u,f){if(a=Q(a),Array.isArray(a))for(let _=0;_<a.length;_++)a0(a[_],l,d,u,f);else{const _=$t(),b=fe();let E=Tu(a)?a:Q(a.provide),S=Fx(a);const M=Si(),P=1048575&M.providerIndexes,U=M.directiveStart,K=M.providerIndexes>>20;if(Tu(a)||!a.multi){const ie=new Oa(S,f,vf),ve=xn(E,l,f?P:P+K,U);-1===ve?(Mn(id(M,b),_,E),l0(_,a,l.length),l.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),d.push(ie),b.push(ie)):(d[ve]=ie,b[ve]=ie)}else{const ie=xn(E,l,P+K,U),ve=xn(E,l,P,P+K),Xe=ve>=0&&d[ve];if(f&&!Xe||!f&&!(ie>=0&&d[ie])){Mn(id(M,b),_,E);const gt=function pE(a,l,d,u,f){const _=new Oa(a,d,vf);return _.multi=[],_.index=l,_.componentProviders=0,hE(_,f,u&&!d),_}(f?wL:bL,d.length,f,u,S);!f&&Xe&&(d[ve].providerFactory=gt),l0(_,a,l.length,0),l.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),d.push(gt),b.push(gt)}else l0(_,a,ie>-1?ie:ve,hE(d[f?ve:ie],S,!f&&u));!f&&u&&Xe&&d[ve].componentProviders++}}}function l0(a,l,d,u){const f=Tu(l),_=function cb(a){return!!a.useClass}(l);if(f||_){const S=(_?Q(l.useClass):l).prototype.ngOnDestroy;if(S){const M=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const P=M.indexOf(d);-1===P?M.push(d,[u,S]):M[P+1].push(u,S)}else M.push(d,S)}}}function hE(a,l,d){return d&&a.componentProviders++,a.multi.push(l)-1}function xn(a,l,d,u){for(let f=d;f<u;f++)if(l[f]===a)return f;return-1}function bL(a,l,d,u){return fE(this.multi,[])}function wL(a,l,d,u){const f=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=oi(d,d[1],this.providerFactory.index,u);_=E.slice(0,b),fE(f,_);for(let S=b;S<E.length;S++)_.push(E[S])}else _=[],fE(f,_);return _}function fE(a,l){for(let d=0;d<a.length;d++)l.push((0,a[d])());return l}function Bm(a,l=[]){return d=>{d.providersResolver=(u,f)=>function fA(a,l,d){const u=$t();if(u.firstCreatePass){const f=jr(a);a0(d,u.data,u.blueprint,f,!0),a0(l,u.data,u.blueprint,f,!1)}}(u,f?f(a):a,l)}}class qu{}class iv{}function pA(a,l){return new mA(a,l??null)}class mA extends qu{constructor(l,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new IC(this);const u=sr(l);this._bootstrapComponents=Pd(u.bootstrap),this._r3Injector=lC(l,d,[{provide:qu,useValue:this},{provide:ff,useValue:this.componentFactoryResolver}],xe(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class c0 extends iv{constructor(l){super(),this.moduleType=l}create(l){return new mA(this.moduleType,l)}}class xL extends qu{constructor(l,d,u){super(),this.componentFactoryResolver=new IC(this),this.instance=null;const f=new Nx([...l,{provide:qu,useValue:this},{provide:ff,useValue:this.componentFactoryResolver}],d||w_(),u,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function mE(a,l,d=null){return new xL(a,l,d).injector}let CL=(()=>{class a{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const u=df(0,d.type),f=u.length>0?mE([u],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,f)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return a.\u0275prov=kt({token:a,providedIn:"environment",factory:()=>new a(gn(Mu))}),a})();function gA(a){a.getStandaloneInjector=l=>l.get(CL).getOrCreateStandaloneInjector(a)}function Wu(a,l,d,u){return function CA(a,l,d,u,f,_){const b=l+d;return eo(a,b,f)?function ol(a,l,d){return a[l]=d}(a,b+1,_?u.call(_,f):u(f)):function ov(a,l){const d=a[l];return d===Zt?void 0:d}(a,b+1)}(fe(),function fi(){const a=Ut.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}(),a,l,d,u)}function Hm(a){return l=>{setTimeout(a,void 0,l)}}const Bs=class kA extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,d,u){let f=l,_=d||(()=>null),b=u;if(l&&"object"==typeof l){const S=l;f=S.next?.bind(S),_=S.error?.bind(S),b=S.complete?.bind(S)}this.__isAsync&&(_=Hm(_),f&&(f=Hm(f)),b&&(b=Hm(b)));const E=super.subscribe({next:f,error:_,complete:b});return l instanceof ne.w0&&l.add(E),E}};function h0(){return this._results[Cf()]()}class sv{get changes(){return this._changes||(this._changes=new Bs)}constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Cf(),u=sv.prototype;u[d]||(u[d]=h0)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,d){return this._results.reduce(l,d)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,d){const u=this;u.dirty=!1;const f=function Gr(a){return a.flat(Number.POSITIVE_INFINITY)}(l);(this._changesDetected=!function Bh(a,l,d){if(a.length!==l.length)return!1;for(let u=0;u<a.length;u++){let f=a[u],_=l[u];if(d&&(f=d(f),_=d(_)),_!==f)return!1}return!0}(u._results,f,d))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Yu=(()=>{class a{}return a.__NG_ELEMENT_ID__=p0,a})();const f0=Yu,RA=class extends f0{constructor(l,d,u){super(),this._declarationLView=l,this._declarationTContainer=d,this.elementRef=u}createEmbeddedView(l,d){const u=this._declarationTContainer.tViews,f=bb(this._declarationLView,u,l,16,null,u.declTNode,null,null,null,null,d||null);f[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(f[19]=b.createEmbeddedView(u)),xb(u,f,l),new _m(f)}};function p0(){return jm(Si(),fe())}function jm(a,l){return 4&a.type?new RA(l,a,pc(a,l)):null}let av=(()=>{class a{}return a.__NG_ELEMENT_ID__=EE,a})();function EE(){return IE(Si(),fe())}const DE=av,SE=class extends DE{constructor(l,d,u){super(),this._lContainer=l,this._hostTNode=d,this._hostLView=u}get element(){return pc(this._hostTNode,this._hostLView)}get injector(){return new Oo(this._hostTNode,this._hostLView)}get parentInjector(){const l=Nh(this._hostTNode,this._hostLView);if(Js(l)){const d=ea(l,this._hostLView),u=Ts(l);return new Oo(d[1].data[u+8],d)}return new Oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const d=m0(this._lContainer);return null!==d&&d[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,d,u){let f,_;"number"==typeof u?f=u:null!=u&&(f=u.index,_=u.injector);const b=l.createEmbeddedView(d||{},_);return this.insert(b,f),b}createComponent(l,d,u,f,_){const b=l&&!function dd(a){return"function"==typeof a}(l);let E;if(b)E=d;else{const U=d||{};E=U.index,u=U.injector,f=U.projectableNodes,_=U.environmentInjector||U.ngModuleRef}const S=b?l:new vm(qt(l)),M=u||this.parentInjector;if(!_&&null==S.ngModule){const K=(b?M:this.parentInjector).get(Mu,null);K&&(_=K)}const P=S.create(M,f,void 0,_);return this.insert(P.hostView,E),P}insert(l,d){const u=l._lView,f=u[1];if(function su(a){return Mr(a[3])}(u)){const P=this.indexOf(l);if(-1!==P)this.detach(P);else{const U=u[3],K=new SE(U,U[6],U[3]);K.detach(K.indexOf(l))}}const _=this._adjustIndex(d),b=this._lContainer;!function cc(a,l,d,u){const f=10+u,_=d.length;u>0&&(d[f-1][4]=l),u<_-10?(l[4]=d[f],qp(d,10+u,l)):(d.push(l),l[4]=null),l[3]=d;const b=l[17];null!==b&&d!==b&&function Qy(a,l){const d=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===d?a[9]=[l]:d.push(l)}(b,l);const E=l[19];null!==E&&E.insertView(a),l[2]|=64}(f,u,b,_);const E=Qa(_,b),S=u[11],M=Ka(S,b[7]);return null!==M&&function o_(a,l,d,u,f,_){u[0]=f,u[6]=l,uc(a,u,d,1,f,_)}(f,b[6],S,u,M,E),l.attachToViewContainerRef(),qp(g0(b),_,l),l}move(l,d){return this.insert(l,d)}indexOf(l){const d=m0(this._lContainer);return null!==d?d.indexOf(l):-1}remove(l){const d=this._adjustIndex(l,-1),u=vu(this._lContainer,d);u&&(oa(g0(this._lContainer),d),a_(u[1],u))}detach(l){const d=this._adjustIndex(l,-1),u=vu(this._lContainer,d);return u&&null!=oa(g0(this._lContainer),d)?new _m(u):null}_adjustIndex(l,d=0){return l??this.length+d}};function m0(a){return a[8]}function g0(a){return a[8]||(a[8]=[])}function IE(a,l){let d;const u=l[a.index];if(Mr(u))d=u;else{let f;if(8&a.type)f=Vi(u);else{const _=l[11];f=_.createComment("");const b=Ui(a,l);Cd(_,Ka(_,b),f,function Ed(a,l){return a.nextSibling(l)}(_,b),!1)}l[a.index]=d=O_(u,l,f,a),P_(l,d)}return new SE(d,a,l)}class TE{constructor(l){this.queryList=l,this.matches=null}clone(){return new TE(this.queryList)}setDirty(){this.queryList.setDirty()}}class _0{constructor(l=[]){this.queries=l}createEmbeddedView(l){const d=l.queries;if(null!==d){const u=null!==l.contentQueries?l.contentQueries[0]:d.length,f=[];for(let _=0;_<u;_++){const b=d.getByIndex(_);f.push(this.queries[b.indexInDeclarationView].clone())}return new _0(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let d=0;d<this.queries.length;d++)null!==st(l,d).matches&&this.queries[d].setDirty()}}class ME{constructor(l,d,u=null){this.predicate=l,this.flags=d,this.read=u}}class AE{constructor(l=[]){this.queries=l}elementStart(l,d){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(l,d)}elementEnd(l){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(l)}embeddedTView(l){let d=null;for(let u=0;u<this.length;u++){const f=null!==d?d.length:0,_=this.getByIndex(u).embeddedTView(l,f);_&&(_.indexInDeclarationView=u,null!==d?d.push(_):d=[_])}return null!==d?new AE(d):null}template(l,d){for(let u=0;u<this.queries.length;u++)this.queries[u].template(l,d)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class kE{constructor(l,d=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(l,d){this.isApplyingToNode(d)&&this.matchTNode(l,d)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,d){this.elementStart(l,d)}embeddedTView(l,d){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,d),new kE(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let u=l.parent;for(;null!==u&&8&u.type&&u.index!==d;)u=u.parent;return d===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(l,d){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const _=u[f];this.matchTNodeWithReadOption(l,d,OA(d,_)),this.matchTNodeWithReadOption(l,d,La(d,l,_,!1,!1))}else u===Yu?4&d.type&&this.matchTNodeWithReadOption(l,d,-1):this.matchTNodeWithReadOption(l,d,La(d,l,u,!1,!1))}matchTNodeWithReadOption(l,d,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===Od||f===av||f===Yu&&4&d.type)this.addMatch(d.index,-2);else{const _=La(d,l,f,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,u)}}addMatch(l,d){null===this.matches?this.matches=[l,d]:this.matches.push(l,d)}}function OA(a,l){const d=a.localNames;if(null!==d)for(let u=0;u<d.length;u+=2)if(d[u]===l)return d[u+1];return null}function li(a,l,d,u){return-1===d?function PA(a,l){return 11&a.type?pc(a,l):4&a.type?jm(a,l):null}(l,a):-2===d?function v0(a,l,d){return d===Od?pc(l,a):d===Yu?jm(l,a):d===av?IE(l,a):void 0}(a,l,u):oi(a,a[1],d,l)}function to(a,l,d,u){const f=l[19].queries[u];if(null===f.matches){const _=a.data,b=d.matches,E=[];for(let S=0;S<b.length;S+=2){const M=b[S];E.push(M<0?null:li(l,_[M],b[S+1],d.metadata.read))}f.matches=E}return f.matches}function RE(a,l,d,u){const f=a.queries.getByIndex(d),_=f.matches;if(null!==_){const b=to(a,l,f,d);for(let E=0;E<_.length;E+=2){const S=_[E];if(S>0)u.push(b[E/2]);else{const M=_[E+1],P=l[-S];for(let U=10;U<P.length;U++){const K=P[U];K[17]===K[3]&&RE(K[1],K,M,u)}if(null!==P[9]){const U=P[9];for(let K=0;K<U.length;K++){const ie=U[K];RE(ie[1],ie,M,u)}}}}}return u}function y0(a){const l=fe(),d=$t(),u=au();zc(u+1);const f=st(d,u);if(a.dirty&&function Lc(a){return 4==(4&a[2])}(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const _=f.crossesNgTemplate?RE(d,l,u,[]):to(d,l,f,u);a.reset(_,Hx),a.notifyOnChanges()}return!0}return!1}function be(a,l,d){const u=$t();u.firstCreatePass&&(OE(u,new ME(a,l,d),-1),2==(2&l)&&(u.staticViewQueries=!0)),F(u,fe(),l)}function Vs(a,l,d,u){const f=$t();if(f.firstCreatePass){const _=Si();OE(f,new ME(l,d,u),_.index),function _a(a,l){const d=a.contentQueries||(a.contentQueries=[]);l!==(d.length?d[d.length-1]:-1)&&d.push(a.queries.length-1,l)}(f,a),2==(2&d)&&(f.staticContentQueries=!0)}F(f,fe(),d)}function cl(){return function ga(a,l){return a[19].queries[l].queryList}(fe(),au())}function F(a,l,d){const u=new sv(4==(4&d));NT(a,l,u,u.destroy),null===l[19]&&(l[19]=new _0),l[19].queries.push(new TE(u))}function OE(a,l,d){null===a.queries&&(a.queries=new AE),a.queries.track(new kE(l,d))}function st(a,l){return a.queries.getByIndex(l)}function lv(a,l){return jm(a,l)}function Wm(...a){}const vv=new bn("Application Initializer");let Ym=(()=>{class a{constructor(d){this.appInits=d,this.resolve=Wm,this.reject=Wm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const d=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(PC(_))d.push(_);else if(lM(_)){const b=new Promise((E,S)=>{_.subscribe({complete:E,error:S})});d.push(b)}}Promise.all(d).then(()=>{u()}).catch(f=>{this.reject(f)}),0===d.length&&u(),this.initialized=!0}}return a.\u0275fac=function(d){return new(d||a)(gn(vv,8))},a.\u0275prov=kt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const XE=new bn("AppId",{providedIn:"root",factory:function yv(){return`${Km()}${Km()}${Km()}`}});function Km(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const cr=new bn("Platform Initializer"),Or=new bn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Zm=new bn("appBootstrapListener"),$A=new bn("AnimationModuleType");let GA=(()=>{class a{log(d){console.log(d)}warn(d){console.warn(d)}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=kt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const bv=new bn("LocaleId",{providedIn:"root",factory:()=>Fi(bv,wt.Optional|wt.SkipSelf)||function tD(){return typeof $localize<"u"&&$localize.locale||Pm}()}),qA=new bn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class D0{constructor(l,d){this.ngModuleFactory=l,this.componentFactories=d}}let iD=(()=>{class a{compileModuleSync(d){return new c0(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const u=this.compileModuleSync(d),_=Pd(sr(d).declarations).reduce((b,E)=>{const S=qt(E);return S&&b.push(new vm(S)),b},[]);return new D0(u,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=kt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const rD=(()=>Promise.resolve(0))();function xv(a){typeof Zone>"u"?rD.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Us{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bs(!1),this.onMicrotaskEmpty=new Bs(!1),this.onStable=new Bs(!1),this.onError=new Bs(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&d,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function oD(){let a=At.requestAnimationFrame,l=At.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d);const u=l[Zone.__symbol__("OriginalDelegate")];u&&(l=u)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function QA(a){const l=()=>{!function ZA(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(At,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,bc(a),a.isCheckStableRunning=!0,Vd(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),bc(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,u,f,_,b,E)=>{try{return A0(a),d.invokeTask(f,_,b,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||a.shouldCoalesceRunChangeDetection)&&l(),Qm(a)}},onInvoke:(d,u,f,_,b,E,S)=>{try{return A0(a),d.invoke(f,_,b,E,S)}finally{a.shouldCoalesceRunChangeDetection&&l(),Qm(a)}},onHasTask:(d,u,f,_)=>{d.hasTask(f,_),u===f&&("microTask"==_.change?(a._hasPendingMicrotasks=_.microTask,bc(a),Vd(a)):"macroTask"==_.change&&(a.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,u,f,_)=>(d.handleError(f,_),a.runOutsideAngular(()=>a.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Us.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(Us.isInAngularZone())throw new ge(909,!1)}run(l,d,u){return this._inner.run(l,d,u)}runTask(l,d,u,f){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+f,l,KA,Wm,Wm);try{return _.runTask(b,d,u)}finally{_.cancelTask(b)}}runGuarded(l,d,u){return this._inner.runGuarded(l,d,u)}runOutsideAngular(l){return this._outer.run(l)}}const KA={};function Vd(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function bc(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function A0(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function Qm(a){a._nesting--,Vd(a)}class sD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bs,this.onMicrotaskEmpty=new Bs,this.onStable=new Bs,this.onError=new Bs}run(l,d,u){return l.apply(d,u)}runGuarded(l,d,u){return l.apply(d,u)}runOutsideAngular(l){return l()}runTask(l,d,u,f){return l.apply(d,u)}}const Hf=new bn(""),k0=new bn("");let jf,yo=(()=>{class a{constructor(d,u,f){this._ngZone=d,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jf||(function Xm(a){jf=a}(f),f.addToWindow(u)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Us.assertNotInAngularZone(),xv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xv(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(d)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,u,f){let _=-1;u&&u>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),d(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:f})}whenStable(d,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,u,f){return[]}}return a.\u0275fac=function(d){return new(d||a)(gn(Us),gn(R0),gn(k0))},a.\u0275prov=kt({token:a,factory:a.\u0275fac}),a})(),R0=(()=>{class a{constructor(){this._applications=new Map}registerApplication(d,u){this._applications.set(d,u)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,u=!0){return jf?.findTestabilityInTree(this,d,u)??null}}return a.\u0275fac=function(d){return new(d||a)},a.\u0275prov=kt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),wc=null;const Cv=new bn("AllowMultipleToken"),Ev=new bn("PlatformDestroyListeners");class P0{constructor(l,d){this.name=l,this.token=d}}function Sv(a,l,d=[]){const u=`Platform: ${l}`,f=new bn(u);return(_=[])=>{let b=Mv();if(!b||b.injector.get(Cv,!1)){const E=[...d,..._,{provide:f,useValue:!0}];a?a(E):function Dv(a){if(wc&&!wc.get(Cv,!1))throw new ge(400,!1);wc=a;const l=a.get(F0);(function N0(a){const l=a.get(cr,null);l&&l.forEach(d=>d())})(a)}(function Tv(a=[],l){return Ru.create({name:l,providers:[{provide:hf,useValue:"platform"},{provide:Ev,useValue:new Set([()=>wc=null])},...a]})}(E,u))}return function Iv(a){const l=Mv();if(!l)throw new ge(401,!1);return l}()}}function Mv(){return wc?.get(F0)??null}let F0=(()=>{class a{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,u){const f=function zf(a,l){let d;return d="noop"===a?new sD:("zone.js"===a?void 0:a)||new Us(l),d}(u?.ngZone,function lD(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(u)),_=[{provide:Us,useValue:f}];return f.run(()=>{const b=Ru.create({providers:_,parent:this.injector,name:d.moduleType.name}),E=d.create(b),S=E.injector.get(sm,null);if(!S)throw new ge(402,!1);return f.runOutsideAngular(()=>{const M=f.onError.subscribe({next:P=>{S.handleError(P)}});E.onDestroy(()=>{hl(this._modules,E),M.unsubscribe()})}),function L0(a,l,d){try{const u=d();return PC(u)?u.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):u}catch(u){throw l.runOutsideAngular(()=>a.handleError(u)),u}}(S,f,()=>{const M=E.injector.get(Ym);return M.runInitializers(),M.donePromise.then(()=>(function Nm(a){vt(a,"Expected localeId to be defined"),"string"==typeof a&&(Yb=a.toLowerCase().replace(/_/g,"-"))}(E.injector.get(bv,Pm)||Pm),this._moduleDoBootstrap(E),E))})})}bootstrapModule(d,u=[]){const f=tg({},u);return function Jm(a,l,d){const u=new c0(d);return Promise.resolve(u)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(d){const u=d.injector.get(Ud);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new ge(-403,!1);d.instance.ngDoBootstrap(u)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const d=this._injector.get(Ev,null);d&&(d.forEach(u=>u()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(d){return new(d||a)(gn(Ru))},a.\u0275prov=kt({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function tg(a,l){return Array.isArray(l)?l.reduce(tg,a):{...a,...l}}let Ud=(()=>{class a{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,u,f){this._zone=d,this._injector=u,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new B.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),b=new B.y(E=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Us.assertNotInAngularZone(),xv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{Us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{S.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ce.T)(_,b.pipe((0,de.B)()))}bootstrap(d,u){const f=d instanceof Bx;if(!this._injector.get(Ym).done)throw!f&&Ml(d),new ge(405,false);let b;b=f?d:this._injector.get(ff).resolveComponentFactory(d),this.componentTypes.push(b.componentType);const E=function O0(a){return a.isBoundToModule}(b)?void 0:this._injector.get(qu),M=b.create(Ru.NULL,[],u||b.selector,E),P=M.location.nativeElement,U=M.injector.get(Hf,null);return U?.registerApplication(P),M.onDestroy(()=>{this.detachView(M.hostView),hl(this.components,M),U?.unregisterApplication(P)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const u=d;this._views.push(u),u.attachToAppRef(this)}detachView(d){const u=d;hl(this._views,u),u.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const u=this._injector.get(Zm,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>hl(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new ge(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(d){return new(d||a)(gn(Us),gn(Mu),gn(sm))},a.\u0275prov=kt({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function hl(a,l){const d=a.indexOf(l);d>-1&&a.splice(d,1)}function ek(){return!1}let xc=(()=>{class a{}return a.__NG_ELEMENT_ID__=kv,a})();function kv(a){return function Rv(a,l,d){if(Ma(a)&&!d){const u=Hi(a.index,l);return new _m(u,u)}return 47&a.type?new _m(l[16],l):null}(Si(),fe(),16==(16&a))}class V0{constructor(){}supports(l){return Ob(l)}create(l){return new H0(l)}}const U0=(a,l)=>l;class H0{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||U0}forEachItem(l){let d;for(d=this._itHead;null!==d;d=d._next)l(d)}forEachOperation(l){let d=this._itHead,u=this._removalsHead,f=0,_=null;for(;d||u;){const b=!u||d&&d.currentIndex<fD(u,f,_)?d:u,E=fD(b,f,_),S=b.currentIndex;if(b===u)f--,u=u._nextRemoved;else if(d=d._next,null==b.previousIndex)f++;else{_||(_=[]);const M=E-f,P=S-f;if(M!=P){for(let K=0;K<M;K++){const ie=K<_.length?_[K]:_[K]=0,ve=ie+K;P<=ve&&ve<M&&(_[K]=ie+1)}_[b.previousIndex]=P-M}}E!==S&&l(b,E,S)}}forEachPreviousItem(l){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachMovedItem(l){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}forEachIdentityChange(l){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)l(d)}diff(l){if(null==l&&(l=[]),!Ob(l))throw new ge(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,_,b,d=this._itHead,u=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)_=l[E],b=this._trackByFn(E,_),null!==d&&Object.is(d.trackById,b)?(u&&(d=this._verifyReinsertion(d,_,b,E)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,b,E),u=!0),d=d._next}else f=0,function Ef(a,l){if(Array.isArray(a))for(let d=0;d<a.length;d++)l(a[d]);else{const d=a[Cf()]();let u;for(;!(u=d.next()).done;)l(u.value)}}(l,E=>{b=this._trackByFn(f,E),null!==d&&Object.is(d.trackById,b)?(u&&(d=this._verifyReinsertion(d,E,b,f)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,b,f),u=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,d,u,f){let _;return null===l?_=this._itTail:(_=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._reinsertAfter(l,_,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(l.item,d)||this._addIdentityChange(l,d),this._moveAfter(l,_,f)):l=this._addAfter(new uD(d,u),_,f),l}_verifyReinsertion(l,d,u,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==_?l=this._reinsertAfter(_,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const d=l._next;this._addToRemovals(this._unlink(l)),l=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,d,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,_=l._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(l,d,u),this._addToMoves(l,u),l}_moveAfter(l,d,u){return this._unlink(l),this._insertAfter(l,d,u),this._addToMoves(l,u),l}_addAfter(l,d,u){return this._insertAfter(l,d,u),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,d,u){const f=null===d?this._itHead:d._next;return l._next=f,l._prev=d,null===f?this._itTail=l:f._prev=l,null===d?this._itHead=l:d._next=l,null===this._linkedRecords&&(this._linkedRecords=new Bv),this._linkedRecords.put(l),l.currentIndex=u,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const d=l._prev,u=l._next;return null===d?this._itHead=u:d._next=u,null===u?this._itTail=d:u._prev=d,l}_addToMoves(l,d){return l.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bv),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,d){return l.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class uD{constructor(l,d){this.item=l,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class hD{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,d){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===d||d<=u.currentIndex)&&Object.is(u.trackById,l))return u;return null}remove(l){const d=l._prevDup,u=l._nextDup;return null===d?this._head=u:d._nextDup=u,null===u?this._tail=d:u._prevDup=d,null===this._head}}class Bv{constructor(){this.map=new Map}put(l){const d=l.trackById;let u=this.map.get(d);u||(u=new hD,this.map.set(d,u)),u.add(l)}get(l,d){const f=this.map.get(l);return f?f.get(l,d):null}remove(l){const d=l.trackById;return this.map.get(d).remove(l)&&this.map.delete(d),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function fD(a,l,d){const u=a.previousIndex;if(null===u)return u;let f=0;return d&&u<d.length&&(f=d[u]),u+l+f}class pD{constructor(){}supports(l){return l instanceof Map||bm(l)}create(){return new ck}}class ck{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let d;for(d=this._mapHead;null!==d;d=d._next)l(d)}forEachPreviousItem(l){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)l(d)}forEachChangedItem(l){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)l(d)}forEachAddedItem(l){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)l(d)}forEachRemovedItem(l){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)l(d)}diff(l){if(l){if(!(l instanceof Map||bm(l)))throw new ge(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(l,(u,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,u),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(f,u);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let u=d;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,d){if(l){const u=l._prev;return d._next=l,d._prev=u,l._prev=d,u&&(u._next=d),l===this._mapHead&&(this._mapHead=d),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(l,d){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,d);const _=f._prev,b=f._next;return _&&(_._next=b),b&&(b._prev=_),f._next=null,f._prev=null,f}const u=new Vv(l);return this._records.set(l,u),u.currentValue=d,this._addToAdditions(u),u}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,d){Object.is(d,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=d,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,d){l instanceof Map?l.forEach(d):Object.keys(l).forEach(u=>d(l[u],u))}}class Vv{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Gf(){return new qf([new V0])}let qf=(()=>{class a{constructor(d){this.factories=d}static create(d,u){if(null!=u){const f=u.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:u=>a.create(d,u||Gf()),deps:[[a,new ns,new za]]}}find(d){const u=this.factories.find(f=>f.supports(d));if(null!=u)return u;throw new ge(901,!1)}}return a.\u0275prov=kt({token:a,providedIn:"root",factory:Gf}),a})();function j0(){return new Ju([new pD])}let Ju=(()=>{class a{constructor(d){this.factories=d}static create(d,u){if(u){const f=u.factories.slice();d=d.concat(f)}return new a(d)}static extend(d){return{provide:a,useFactory:u=>a.create(d,u||j0()),deps:[[a,new ns,new za]]}}find(d){const u=this.factories.find(f=>f.supports(d));if(u)return u;throw new ge(901,!1)}}return a.\u0275prov=kt({token:a,providedIn:"root",factory:j0}),a})();const hk=Sv(null,"core",[]);let fk=(()=>{class a{constructor(d){}}return a.\u0275fac=function(d){return new(d||a)(gn(Ud))},a.\u0275mod=Mt({type:a}),a.\u0275inj=Dn({}),a})();function pk(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(bt,Se,V)=>{V.d(Se,{Z:()=>Ze});var s=V(2090),ne=V(4859),B=V(6881),ce=V(1877);class de{constructor(ge,Pe){this._delegate=ge,this.firebase=Pe,(0,B._addComponent)(ge,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(ge,Pe=B._DEFAULT_ENTRY_NAME){var Ne;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(ge);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Ne=Ue.getComponent())||void 0===Ne?void 0:Ne.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Pe})}_removeServiceInstance(ge,Pe=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Pe)}_addComponent(ge){(0,B._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,B._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const we=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function pe(){const ft=function xe(ft){const ge={},Pe={__esModule:!0,initializeApp:function Fe(Le,lt={}){const le=B.initializeApp(Le,lt);if((0,s.r3)(ge,le.name))return ge[le.name];const Rt=new ft(le,Pe);return ge[le.name]=Rt,Rt},app:Ue,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Le){const lt=Le.name,le=lt.replace("-compat","");if(B._registerComponent(Le)&&"PUBLIC"===Le.type){const Rt=(rt=Ue())=>{if("function"!=typeof rt[le])throw we.create("invalid-app-argument",{appName:lt});return rt[le]()};void 0!==Le.serviceProps&&(0,s.ZB)(Rt,Le.serviceProps),Pe[le]=Rt,ft.prototype[le]=function(...rt){return this._getService.bind(this,lt).apply(this,Le.multipleInstances?rt:[])}}return"PUBLIC"===Le.type?Pe[le]:null},removeApp:function Ne(Le){delete ge[Le]},useAsService:function qe(Le,lt){return"serverAuth"===lt?null:lt},modularAPIs:B}};function Ue(Le){if(!(0,s.r3)(ge,Le=Le||B._DEFAULT_ENTRY_NAME))throw we.create("no-app",{appName:Le});return ge[Le]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function Ce(){return Object.keys(ge).map(Le=>ge[Le])}}),Ue.App=ft,Pe}(de);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ge(Pe){(0,s.ZB)(ft,Pe)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),ft}(),q=new ce.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){q.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&q.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=W;!function Ie(ft){(0,B.registerVersion)("@firebase/app-compat","0.2.10",ft)}()},6881:(bt,Se,V)=>{V.r(Se),V.d(Se,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Da,_DEFAULT_ENTRY_NAME:()=>Ln,_addComponent:()=>ct,_addOrOverwriteComponent:()=>Vt,_apps:()=>pr,_clearComponents:()=>xi,_components:()=>At,_getProvider:()=>ir,_registerComponent:()=>Gs,_removeServiceInstance:()=>Ni,deleteApp:()=>gn,getApp:()=>rr,getApps:()=>Br,initializeApp:()=>ln,onLog:()=>Vr,registerVersion:()=>Fi,setLogLevel:()=>Yn});var s=V(5861),ne=V(4859),B=V(1877),ce=V(2090);let J,we;const W=new WeakMap,q=new WeakMap,Q=new WeakMap,ze=new WeakMap,Ie=new WeakMap;let ge={get(he,re,Re){if(he instanceof IDBTransaction){if("done"===re)return q.get(he);if("objectStoreNames"===re)return he.objectStoreNames||Q.get(he);if("store"===re)return Re.objectStoreNames[1]?void 0:Re.objectStore(Re.objectStoreNames[0])}return Fe(he[re])},set:(he,re,Re)=>(he[re]=Re,!0),has:(he,re)=>he instanceof IDBTransaction&&("done"===re||"store"===re)||re in he};function Ue(he){return"function"==typeof he?function Ne(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return we||(we=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...re){return he.apply(Ce(this),re),Fe(W.get(this))}:function(...re){return Fe(he.apply(Ce(this),re))}:function(re,...Re){const yt=he.call(Ce(this),re,...Re);return Q.set(yt,re.sort?re.sort():[re]),Fe(yt)}}(he):(he instanceof IDBTransaction&&function ft(he){if(q.has(he))return;const re=new Promise((Re,yt)=>{const Mt=()=>{he.removeEventListener("complete",tn),he.removeEventListener("error",_n),he.removeEventListener("abort",_n)},tn=()=>{Re(),Mt()},_n=()=>{yt(he.error||new DOMException("AbortError","AbortError")),Mt()};he.addEventListener("complete",tn),he.addEventListener("error",_n),he.addEventListener("abort",_n)});q.set(he,re)}(he),((he,re)=>re.some(Re=>he instanceof Re))(he,function xe(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,ge):he)}function Fe(he){if(he instanceof IDBRequest)return function Ze(he){const re=new Promise((Re,yt)=>{const Mt=()=>{he.removeEventListener("success",tn),he.removeEventListener("error",_n)},tn=()=>{Re(Fe(he.result)),Mt()},_n=()=>{yt(he.error),Mt()};he.addEventListener("success",tn),he.addEventListener("error",_n)});return re.then(Re=>{Re instanceof IDBCursor&&W.set(Re,he)}).catch(()=>{}),Ie.set(re,he),re}(he);if(ze.has(he))return ze.get(he);const re=Ue(he);return re!==he&&(ze.set(he,re),Ie.set(re,he)),re}const Ce=he=>Ie.get(he),Le=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],le=new Map;function Rt(he,re){if(!(he instanceof IDBDatabase)||re in he||"string"!=typeof re)return;if(le.get(re))return le.get(re);const Re=re.replace(/FromIndex$/,""),yt=re!==Re,Mt=lt.includes(Re);if(!(Re in(yt?IDBIndex:IDBObjectStore).prototype)||!Mt&&!Le.includes(Re))return;const tn=function(){var _n=(0,s.Z)(function*(Ei,...Kn){const qt=this.transaction(Ei,Mt?"readwrite":"readonly");let Zn=qt.store;return yt&&(Zn=Zn.index(Kn.shift())),(yield Promise.all([Zn[Re](...Kn),Mt&&qt.done]))[0]});return function(Kn){return _n.apply(this,arguments)}}();return le.set(re,tn),tn}!function Pe(he){ge=he(ge)}(he=>({...he,get:(re,Re,yt)=>Rt(re,Re)||he.get(re,Re,yt),has:(re,Re)=>!!Rt(re,Re)||he.has(re,Re)}));class rt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Re=>{if(function nn(he){return"VERSION"===he.getComponent()?.type}(Re)){const yt=Re.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(Re=>Re).join(" ")}}const pt="@firebase/app",_e=new B.Yd("@firebase/app"),Ln="[DEFAULT]",Lr={[pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pr=new Map,At=new Map;function ct(he,re){try{he.container.addComponent(re)}catch(Re){_e.debug(`Component ${re.name} failed to register with FirebaseApp ${he.name}`,Re)}}function Vt(he,re){he.container.addOrOverwriteComponent(re)}function Gs(he){const re=he.name;if(At.has(re))return _e.debug(`There were multiple attempts to register component ${re}.`),!1;At.set(re,he);for(const Re of pr.values())ct(Re,he);return!0}function ir(he,re){const Re=he.container.getProvider("heartbeat").getImmediate({optional:!0});return Re&&Re.triggerHeartbeat(),he.container.getProvider(re)}function Ni(he,re,Re=Ln){ir(he,re).clearInstance(Re)}function xi(){At.clear()}const mr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Sn{constructor(re,Re,yt){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Re),this._name=Re.name,this._automaticDataCollectionEnabled=Re.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Da="9.22.0";function ln(he,re={}){let Re=he;"object"!=typeof re&&(re={name:re});const yt=Object.assign({name:Ln,automaticDataCollectionEnabled:!1},re),Mt=yt.name;if("string"!=typeof Mt||!Mt)throw mr.create("bad-app-name",{appName:String(Mt)});if(Re||(Re=(0,ce.aH)()),!Re)throw mr.create("no-options");const tn=pr.get(Mt);if(tn){if((0,ce.vZ)(Re,tn.options)&&(0,ce.vZ)(yt,tn.config))return tn;throw mr.create("duplicate-app",{appName:Mt})}const _n=new ne.H0(Mt);for(const Kn of At.values())_n.addComponent(Kn);const Ei=new Sn(Re,yt,_n);return pr.set(Mt,Ei),Ei}function rr(he=Ln){const re=pr.get(he);if(!re&&he===Ln&&(0,ce.aH)())return ln();if(!re)throw mr.create("no-app",{appName:he});return re}function Br(){return Array.from(pr.values())}function gn(he){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,s.Z)(function*(he){const re=he.name;pr.has(re)&&(pr.delete(re),yield Promise.all(he.container.getProviders().map(Re=>Re.delete())),he.isDeleted=!0)})).apply(this,arguments)}function Fi(he,re,Re){var yt;let Mt=null!==(yt=Lr[he])&&void 0!==yt?yt:he;Re&&(Mt+=`-${Re}`);const tn=Mt.match(/\s|\//),_n=re.match(/\s|\//);if(tn||_n){const Ei=[`Unable to register library "${Mt}" with version "${re}":`];return tn&&Ei.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),tn&&_n&&Ei.push("and"),_n&&Ei.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void _e.warn(Ei.join(" "))}Gs(new ne.wA(`${Mt}-version`,()=>({library:Mt,version:re}),"VERSION"))}function Vr(he,re){if(null!==he&&"function"!=typeof he)throw mr.create("invalid-log-argument");(0,B.Am)(he,re)}function Yn(he){(0,B.Ub)(he)}const $="firebase-heartbeat-store";let j=null;function Z(){return j||(j=function Ee(he,re,{blocked:Re,upgrade:yt,blocking:Mt,terminated:tn}={}){const _n=indexedDB.open(he,re),Ei=Fe(_n);return yt&&_n.addEventListener("upgradeneeded",Kn=>{yt(Fe(_n.result),Kn.oldVersion,Kn.newVersion,Fe(_n.transaction),Kn)}),Re&&_n.addEventListener("blocked",Kn=>Re(Kn.oldVersion,Kn.newVersion,Kn)),Ei.then(Kn=>{tn&&Kn.addEventListener("close",()=>tn()),Mt&&Kn.addEventListener("versionchange",qt=>Mt(qt.oldVersion,qt.newVersion,qt))}).catch(()=>{}),Ei}("firebase-heartbeat-database",1,{upgrade:(he,re)=>{0===re&&he.createObjectStore($)}}).catch(he=>{throw mr.create("idb-open",{originalErrorMessage:he.message})})),j}function oe(){return(oe=(0,s.Z)(function*(he){try{return yield(yield Z()).transaction($).objectStore($).get(Kt(he))}catch(re){if(re instanceof ce.ZR)_e.warn(re.message);else{const Re=mr.create("idb-get",{originalErrorMessage:re?.message});_e.warn(Re.message)}}})).apply(this,arguments)}function dt(he,re){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,s.Z)(function*(he,re){try{const yt=(yield Z()).transaction($,"readwrite");yield yt.objectStore($).put(re,Kt(he)),yield yt.done}catch(Re){if(Re instanceof ce.ZR)_e.warn(Re.message);else{const yt=mr.create("idb-set",{originalErrorMessage:Re?.message});_e.warn(yt.message)}}})).apply(this,arguments)}function Kt(he){return`${he.name}!${he.options.appId}`}class Hn{constructor(re){this.container=re,this._heartbeatsCache=null;const Re=this.container.getProvider("app").getImmediate();this._storage=new Ci(Re),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var re=this;return(0,s.Z)(function*(){const yt=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=cn();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!re._heartbeatsCache.heartbeats.some(tn=>tn.date===Mt))return re._heartbeatsCache.heartbeats.push({date:Mt,agent:yt}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(tn=>{const _n=new Date(tn.date).valueOf();return Date.now()-_n<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,s.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Re=cn(),{heartbeatsToSend:yt,unsentEntries:Mt}=function Yi(he,re=1024){const Re=[];let yt=he.slice();for(const Mt of he){const tn=Re.find(_n=>_n.agent===Mt.agent);if(tn){if(tn.dates.push(Mt.date),_r(Re)>re){tn.dates.pop();break}}else if(Re.push({agent:Mt.agent,dates:[Mt.date]}),_r(Re)>re){Re.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:Re,unsentEntries:yt}}(re._heartbeatsCache.heartbeats),tn=(0,ce.L)(JSON.stringify({version:2,heartbeats:yt}));return re._heartbeatsCache.lastSentHeartbeatDate=Re,Mt.length>0?(re._heartbeatsCache.heartbeats=Mt,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),tn})()}}function cn(){return(new Date).toISOString().substring(0,10)}class Ci{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,s.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function ye(he){return oe.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Re=this;return(0,s.Z)(function*(){var yt;if(yield Re._canUseIndexedDBPromise){const tn=yield Re.read();return dt(Re.app,{lastSentHeartbeatDate:null!==(yt=re.lastSentHeartbeatDate)&&void 0!==yt?yt:tn.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Re=this;return(0,s.Z)(function*(){var yt;if(yield Re._canUseIndexedDBPromise){const tn=yield Re.read();return dt(Re.app,{lastSentHeartbeatDate:null!==(yt=re.lastSentHeartbeatDate)&&void 0!==yt?yt:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...re.heartbeats]})}})()}}function _r(he){return(0,ce.L)(JSON.stringify({version:2,heartbeats:he})).length}!function Tl(he){Gs(new ne.wA("platform-logger",re=>new rt(re),"PRIVATE")),Gs(new ne.wA("heartbeat",re=>new Hn(re),"PRIVATE")),Fi(pt,"0.9.10",he),Fi(pt,"0.9.10","esm2017"),Fi("fire-js","")}("")},4859:(bt,Se,V)=>{V.d(Se,{H0:()=>xe,wA:()=>B,zt:()=>de});var s=V(5861),ne=V(2090);class B{constructor(W,q,Q){this.name=W,this.instanceFactory=q,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ce="[DEFAULT]";class de{constructor(W,q){this.name=W,this.container=q,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const q=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(q)){const Q=new ne.BH;if(this.instancesDeferred.set(q,Q),this.isInitialized(q)||this.shouldAutoInitialize())try{const ze=this.getOrInitializeService({instanceIdentifier:q});ze&&Q.resolve(ze)}catch{}}return this.instancesDeferred.get(q).promise}getImmediate(W){var q;const Q=this.normalizeInstanceIdentifier(W?.identifier),ze=null!==(q=W?.optional)&&void 0!==q&&q;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(ze)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Ie){if(ze)return null;throw Ie}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function we(pe){return"EAGER"===pe.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[q,Q]of this.instancesDeferred.entries()){const ze=this.normalizeInstanceIdentifier(q);try{const Ie=this.getOrInitializeService({instanceIdentifier:ze});Q.resolve(Ie)}catch{}}}}clearInstance(W=ce){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,s.Z)(function*(){const q=Array.from(W.instances.values());yield Promise.all([...q.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...q.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ce){return this.instances.has(W)}getOptions(W=ce){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:q={}}=W,Q=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ze=this.getOrInitializeService({instanceIdentifier:Q,options:q});for(const[Ie,Ze]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Ie)&&Ze.resolve(ze);return ze}onInit(W,q){var Q;const ze=this.normalizeInstanceIdentifier(q),Ie=null!==(Q=this.onInitCallbacks.get(ze))&&void 0!==Q?Q:new Set;Ie.add(W),this.onInitCallbacks.set(ze,Ie);const Ze=this.instances.get(ze);return Ze&&W(Ze,ze),()=>{Ie.delete(W)}}invokeOnInitCallbacks(W,q){const Q=this.onInitCallbacks.get(q);if(Q)for(const ze of Q)try{ze(W,q)}catch{}}getOrInitializeService({instanceIdentifier:W,options:q={}}){let Q=this.instances.get(W);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=W,pe===ce?void 0:pe),options:q}),this.instances.set(W,Q),this.instancesOptions.set(W,q),this.invokeOnInitCallbacks(Q,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,Q)}catch{}var pe;return Q||null}normalizeInstanceIdentifier(W=ce){return this.component?this.component.multipleInstances?W:ce:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const q=this.getProvider(W.name);if(q.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);q.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const q=new de(W,this);return this.providers.set(W,q),q}getProviders(){return Array.from(this.providers.values())}}},1877:(bt,Se,V)=>{V.d(Se,{Am:()=>pe,Ub:()=>xe,Yd:()=>we,in:()=>ne});const s=[];var ne=(()=>{return(W=ne||(ne={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",ne;var W})();const B={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ce=ne.INFO,de={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},J=(W,q,...Q)=>{if(q<W.logLevel)return;const ze=(new Date).toISOString(),Ie=de[q];if(!Ie)throw new Error(`Attempted to log a message with an invalid logType (value: ${q})`);console[Ie](`[${ze}]  ${W.name}:`,...Q)};class we{constructor(q){this.name=q,this._logLevel=ce,this._logHandler=J,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(q){if(!(q in ne))throw new TypeError(`Invalid value "${q}" assigned to \`logLevel\``);this._logLevel=q}setLogLevel(q){this._logLevel="string"==typeof q?B[q]:q}get logHandler(){return this._logHandler}set logHandler(q){if("function"!=typeof q)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=q}get userLogHandler(){return this._userLogHandler}set userLogHandler(q){this._userLogHandler=q}debug(...q){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...q),this._logHandler(this,ne.DEBUG,...q)}log(...q){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...q),this._logHandler(this,ne.VERBOSE,...q)}info(...q){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...q),this._logHandler(this,ne.INFO,...q)}warn(...q){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...q),this._logHandler(this,ne.WARN,...q)}error(...q){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...q),this._logHandler(this,ne.ERROR,...q)}}function xe(W){s.forEach(q=>{q.setLogLevel(W)})}function pe(W,q){for(const Q of s){let ze=null;q&&q.level&&(ze=B[q.level]),Q.userLogHandler=null===W?null:(Ie,Ze,...ft)=>{const ge=ft.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");Ze>=(ze??Ie.logLevel)&&W({level:ne[Ze].toLowerCase(),message:ge,args:ft,type:Ie.name})}}}},259:(bt,Se,V)=>{V.d(Se,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=V(6881);(0,s.registerVersion)("firebase","9.22.0","app")},9260:(bt,Se,V)=>{V.d(Se,{Z:()=>s.Z});var s=V(3942);s.Z.registerVersion("firebase","9.22.0","app-compat")},2644:(bt,Se,V)=>{V.r(Se);var s=V(5861),ne=V(3942),B=V(2090),ce=V(6881),de=V(655),J=V(1877),we=V(4859);const Ze=function ze(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ft=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ne=new J.Yd("@firebase/auth");function Fe(y,...p){Ne.logLevel<=J.in.ERROR&&Ne.error(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}function Ce(y,...p){throw lt(y,...p)}function Ee(y,...p){return lt(y,...p)}function qe(y,p,g){const w=Object.assign(Object.assign({},ft()),{[p]:g});return new B.LL("auth","Firebase",w).create(p,{appName:y.name})}function Le(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ce(y,"argument-error"),qe(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return ge.create(y,...p)}function le(y,p,...g){if(!y)throw lt(p,...g)}function Rt(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Fe(p),new Error(p)}function rt(y,p){y||Rt(p)}function nn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===me()||"https:"===me()}function me(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ae{constructor(p,g){this.shortDelay=p,this.longDelay=g,rt(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function _e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function We(y,p){rt(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class He{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mt=new Ae(3e4,6e4);function jt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function tt(y,p,g,w){return en.apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(y,p,g,w,T={}){return kt(y,T,(0,s.Z)(function*(){let O={},z={};w&&("GET"===p?z=w:O={body:JSON.stringify(w)});const ee=(0,B.xO)(Object.assign({key:y.config.apiKey},z)).slice(1),Te=yield y._getAdditionalHeaders();return Te["Content-Type"]="application/json",y.languageCode&&(Te["X-Firebase-Locale"]=y.languageCode),He.fetch()(nr(y,y.config.apiHost,g,ee),Object.assign({method:p,headers:Te,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function kt(y,p,g){return fn.apply(this,arguments)}function fn(){return(fn=(0,s.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},vt),p);try{const T=new fr(y),O=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const z=yield O.json();if("needConfirmation"in z)throw Wi(y,"account-exists-with-different-credential",z);if(O.ok&&!("errorMessage"in z))return z;{const ee=O.ok?z.errorMessage:z.error.message,[Te,je]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Te)throw Wi(y,"credential-already-in-use",z);if("EMAIL_EXISTS"===Te)throw Wi(y,"email-already-in-use",z);if("USER_DISABLED"===Te)throw Wi(y,"user-disabled",z);const at=w[Te]||Te.toLowerCase().replace(/[_\s]+/g,"-");if(je)throw qe(y,at,je);Ce(y,at)}}catch(T){if(T instanceof B.ZR)throw T;Ce(y,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function Dn(y,p,g,w){return Un.apply(this,arguments)}function Un(){return(Un=(0,s.Z)(function*(y,p,g,w,T={}){const O=yield tt(y,p,g,w,T);return"mfaPendingCredential"in O&&Ce(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function nr(y,p,g,w){const T=`${p}${g}?${w}`;return y.config.emulator?We(y.config,T):`${y.config.apiScheme}://${T}`}class fr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Ee(this.auth,"network-request-failed")),mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wi(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const T=Ee(y,p,w);return T.customData._tokenResponse=g,T}function To(){return(To=(0,s.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ys(y,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,s.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pi(y,p){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,s.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function wt(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ln(){return(Ln=(0,s.Z)(function*(y,p=!1){const g=(0,B.m9)(y),w=yield g.getIdToken(p),T=pr(w);le(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,z=O?.sign_in_provider;return{claims:T,token:w,authTime:wt(Lr(T.auth_time)),issuedAtTime:wt(Lr(T.iat)),expirationTime:wt(Lr(T.exp)),signInProvider:z||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Lr(y){return 1e3*Number(y)}function pr(y){const[p,g,w]=y.split(".");if(void 0===p||void 0===g||void 0===w)return Fe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,B.tV)(g);return T?JSON.parse(T):(Fe("Failed to decode base64 JWT payload"),null)}catch(T){return Fe("Caught error parsing JWT payload as JSON",T?.toString()),null}}function ct(y,p){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,s.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof B.ZR&&Gs(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Gs({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class ir{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,s.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Ni{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=wt(this.lastLoginAt),this.creationTime=wt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xi(y){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,s.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),T=yield ct(y,Pi(g,{idToken:w}));le(T?.users.length,g,"internal-error");const O=T.users[0];y._notifyReloadListener(O);const z=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?ln(O.providerUserInfo):[],ee=Da(y.providerData,z),at=!!y.isAnonymous&&!(y.email&&O.passwordHash||ee?.length),ot={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ee,metadata:new Ni(O.createdAt,O.lastLoginAt),isAnonymous:at};Object.assign(y,ot)})).apply(this,arguments)}function Sn(){return(Sn=(0,s.Z)(function*(y){const p=(0,B.m9)(y);yield xi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Da(y,p){return[...y.filter(w=>!p.some(T=>T.providerId===w.providerId)),...p]}function ln(y){return y.map(p=>{var{providerId:g}=p,w=(0,de._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Br(){return(Br=(0,s.Z)(function*(y,p){const g=yield kt(y,{},(0,s.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:O}=y.config,z=nr(y,T,"/v1/token",`key=${O}`),ee=yield y._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",He.fetch()(z,{method:"POST",headers:ee,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){le(p.idToken,"internal-error"),le(typeof p.idToken<"u","internal-error"),le(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function At(y){const p=pr(y);return le(p,"internal-error"),le(typeof p.exp<"u","internal-error"),le(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,s.Z)(function*(){return le(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,s.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:z}=yield function rr(y,p){return Br.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(T,O,Number(z))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:T,expirationTime:O}=g,z=new gn;return w&&(le("string"==typeof w,"internal-error",{appName:p}),z.refreshToken=w),T&&(le("string"==typeof T,"internal-error",{appName:p}),z.accessToken=T),O&&(le("number"==typeof O,"internal-error",{appName:p}),z.expirationTime=O),z}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new gn,this.toJSON())}_performRefresh(){return Rt("not implemented")}}function Qn(y,p){le("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Fi{constructor(p){var{uid:g,auth:w,stsTokenManager:T}=p,O=(0,de._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ir(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Ni(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,s.Z)(function*(){const w=yield ct(g,g.stsTokenManager.getToken(g.auth,p));return le(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function Il(y){return Ln.apply(this,arguments)}(this,p)}reload(){return function mr(y){return Sn.apply(this,arguments)}(this)}_assign(p){this!==p&&(le(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new Fi(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,s.Z)(function*(){let T=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),T=!0),g&&(yield xi(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,s.Z)(function*(){const g=yield p.getIdToken();return yield ct(p,function vs(y,p){return To.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,T,O,z,ee,Te,je,at;const ot=null!==(w=g.displayName)&&void 0!==w?w:void 0,Nn=null!==(T=g.email)&&void 0!==T?T:void 0,ds=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,Eu=null!==(z=g.photoURL)&&void 0!==z?z:void 0,rb=null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,ai=null!==(Te=g._redirectEventId)&&void 0!==Te?Te:void 0,sf=null!==(je=g.createdAt)&&void 0!==je?je:void 0,b_=null!==(at=g.lastLoginAt)&&void 0!==at?at:void 0,{uid:Du,emailVerified:im,isAnonymous:af,providerData:Xr,stsTokenManager:rm}=g;le(Du&&rm,p,"internal-error");const Su=gn.fromJSON(this.name,rm);le("string"==typeof Du,p,"internal-error"),Qn(ot,p.name),Qn(Nn,p.name),le("boolean"==typeof im,p,"internal-error"),le("boolean"==typeof af,p,"internal-error"),Qn(ds,p.name),Qn(Eu,p.name),Qn(rb,p.name),Qn(ai,p.name),Qn(sf,p.name),Qn(b_,p.name);const lf=new Fi({uid:Du,auth:p,email:Nn,emailVerified:im,displayName:ot,isAnonymous:af,photoURL:Eu,phoneNumber:ds,tenantId:rb,stsTokenManager:Su,createdAt:sf,lastLoginAt:b_});return Xr&&Array.isArray(Xr)&&(lf.providerData=Xr.map(Rx=>Object.assign({},Rx))),ai&&(lf._redirectEventId=ai),lf}static _fromIdTokenResponse(p,g,w=!1){return(0,s.Z)(function*(){const T=new gn;T.updateFromServerResponse(g);const O=new Fi({uid:g.localId,auth:p,stsTokenManager:T,isAnonymous:w});return yield xi(O),O})()}}const Vr=new Map;function Yn(y){rt(y instanceof Function,"Expected a class definition");let p=Vr.get(y);return p?(rt(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Vr.set(y,p),p)}const gr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(g,w){var T=this;return(0,s.Z)(function*(){T.storage[g]=w})()}_get(g){var w=this;return(0,s.Z)(function*(){const T=w.storage[g];return void 0===T?null:T})()}_remove(g){var w=this;return(0,s.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function $(y,p,g){return`firebase:${y}:${p}:${g}`}class j{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:T,name:O}=this.auth;this.fullUserKey=$(this.userKey,T.apiKey,O),this.fullPersistenceKey=$("persistence",T.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Fi._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,s.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,s.Z)(function*(){if(!g.length)return new j(Yn(gr),p,w);const T=(yield Promise.all(g.map(function(){var je=(0,s.Z)(function*(at){if(yield at._isAvailable())return at});return function(at){return je.apply(this,arguments)}}()))).filter(je=>je);let O=T[0]||Yn(gr);const z=$(w,p.config.apiKey,p.name);let ee=null;for(const je of g)try{const at=yield je._get(z);if(at){const ot=Fi._fromJSON(p,at);je!==O&&(ee=ot),O=je;break}}catch{}const Te=T.filter(je=>je._shouldAllowMigration);return O._shouldAllowMigration&&Te.length?(O=Te[0],ee&&(yield O._set(z,ee.toJSON())),yield Promise.all(g.map(function(){var je=(0,s.Z)(function*(at){if(at!==O)try{yield at._remove(z)}catch{}});return function(at){return je.apply(this,arguments)}}())),new j(O,p,w)):new j(O,p,w)})()}}function Z(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Dt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ye(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Pt(p))return"Blackberry";if(On(p))return"Webos";if(oe(p))return"Safari";if((p.includes("chrome/")||dt(p))&&!p.includes("edge/"))return"Chrome";if(Kt(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function ye(y=(0,B.z$)()){return/firefox\//i.test(y)}function oe(y=(0,B.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function dt(y=(0,B.z$)()){return/crios\//i.test(y)}function Dt(y=(0,B.z$)()){return/iemobile/i.test(y)}function Kt(y=(0,B.z$)()){return/android/i.test(y)}function Pt(y=(0,B.z$)()){return/blackberry/i.test(y)}function On(y=(0,B.z$)()){return/webos/i.test(y)}function Hn(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function _r(y=(0,B.z$)()){return Hn(y)||Kt(y)||On(y)||Pt(y)||/windows phone/i.test(y)||Dt(y)}function he(y,p=[]){let g;switch(y){case"Browser":g=Z((0,B.z$)());break;case"Worker":g=`${Z((0,B.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${w}`}function Re(){return(Re=(0,s.Z)(function*(y){return(yield tt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yt(y,p){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,s.Z)(function*(y,p){return tt(y,"GET","/v2/recaptchaConfig",jt(y,p))})).apply(this,arguments)}function tn(y){return void 0!==y&&void 0!==y.getResponse}function _n(y){return void 0!==y&&void 0!==y.enterprise}class Ei{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function qt(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=T=>{const O=Ee("internal-error");O.customData=T,g(O)},w.type="text/javascript",w.charset="UTF-8",function Kn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Zn(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Ur{constructor(p){this.type="recaptcha-enterprise",this.auth=wn(p)}verify(p="verify",g=!1){var w=this;return(0,s.Z)(function*(){function O(){return O=(0,s.Z)(function*(ee){if(!g){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Te=(0,s.Z)(function*(je,at){yt(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ot=>{if(void 0!==ot.recaptchaKey){const Nn=new Ei(ot);return null==ee.tenantId?ee._agentRecaptchaConfig=Nn:ee._tenantRecaptchaConfigs[ee.tenantId]=Nn,je(Nn.siteKey)}at(new Error("recaptcha Enterprise site key undefined"))}).catch(ot=>{at(ot)})});return function(je,at){return Te.apply(this,arguments)}}())}),O.apply(this,arguments)}function z(ee,Te,je){const at=window.grecaptcha;_n(at)?at.enterprise.ready(()=>{at.enterprise.execute(ee,{action:p}).then(ot=>{Te(ot)}).catch(()=>{Te("NO_RECAPTCHA")})}):je(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Te)=>{(function T(ee){return O.apply(this,arguments)})(w.auth).then(je=>{if(!g&&_n(window.grecaptcha))z(je,ee,Te);else{if(typeof window>"u")return void Te(new Error("RecaptchaVerifier is only supported in browser"));qt("https://www.google.com/recaptcha/enterprise.js?render="+je).then(()=>{z(je,ee,Te)}).catch(at=>{Te(at)})}}).catch(je=>{Te(je)})})})()}}function Ke(y,p,g){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(y,p,g,w=!1){const T=new Ur(y);let O;try{O=yield T.verify(g)}catch{O=yield T.verify(g,!0)}const z=Object.assign({},p);return Object.assign(z,w?{captchaResp:O}:{captchaResponse:O}),Object.assign(z,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(z,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),z})).apply(this,arguments)}class Bn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=O=>new Promise((z,ee)=>{try{z(p(O))}catch(Te){ee(Te)}});w.onAbort=g,this.queue.push(w);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,s.Z)(function*(){if(g.auth.currentUser===p)return;const w=[];try{for(const T of g.queue)yield T(p),T.onAbort&&w.push(T.onAbort)}catch(T){w.reverse();for(const O of w)try{O()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Hr{constructor(p,g,w,T){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hi(this),this.idTokenSubscription=new hi(this),this.beforeStateQueue=new Bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=Yn(g)),this._initializationPromise=this.queue((0,s.Z)(function*(){var T,O;if(!w._deleted&&(w.persistenceManager=yield j.create(w,p),!w._deleted)){if(null!==(T=w._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,s.Z)(function*(){var w;const T=yield g.assertedPersistence.getCurrentUser();let O=T,z=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ee=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Te=O?._redirectEventId,je=yield g.tryRedirectSignIn(p);(!ee||ee===Te)&&je?.user&&(O=je.user,z=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(z)try{yield g.beforeStateQueue.runMiddleware(O)}catch(ee){O=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ee))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return le(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var g=this;return(0,s.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,s.Z)(function*(){try{yield xi(p)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function De(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,s.Z)(function*(){const w=p?(0,B.m9)(p):null;return w&&le(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,s.Z)(function*(){if(!w._deleted)return p&&le(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,s.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,s.Z)(function*(){yield g.assertedPersistence.setPersistence(Yn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,s.Z)(function*(){const g=yield yt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new Ei(g);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new Ur(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,s.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(g);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,s.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&Yn(p)||g._popupRedirectResolver;le(w,g,"argument-error"),g.redirectPersistenceManager=yield j.create(g,[Yn(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,s.Z)(function*(){var w,T;return g._isInitialized&&(yield g.queue((0,s.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,s.Z)(function*(){if(p===g.currentUser)return g.queue((0,s.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,T){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),z=this._isInitialized?Promise.resolve():this._initializationPromise;return le(z,this,"internal-error"),z.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,w,T):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,s.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();T&&(w["X-Firebase-Client"]=T);const O=yield p._getAppCheckToken();return O&&(w["X-Firebase-AppCheck"]=O),w})()}_getAppCheckToken(){var p=this;return(0,s.Z)(function*(){var g;const w=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function Ue(y,...p){Ne.logLevel<=J.in.WARN&&Ne.warn(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function wn(y){return(0,B.m9)(y)}class hi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Sr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function kl(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Mo{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Rt("not implemented")}_getIdTokenResponse(p){return Rt("not implemented")}_linkToIdToken(p,g){return Rt("not implemented")}_getReauthenticationResolver(p){return Rt("not implemented")}}function ws(y,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,s.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:resetPassword",jt(y,p))})).apply(this,arguments)}function Ia(y,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,s.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ho(y,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,s.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:update",jt(y,p))})).apply(this,arguments)}function Di(y,p){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithPassword",jt(y,p))})).apply(this,arguments)}function Ir(y,p){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,s.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:sendOobCode",jt(y,p))})).apply(this,arguments)}function tu(y,p){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,s.Z)(function*(y,p){return Ir(y,p)})).apply(this,arguments)}function Cs(y,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,s.Z)(function*(y,p){return Ir(y,p)})).apply(this,arguments)}function Bi(y,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,s.Z)(function*(y,p){return Ir(y,p)})).apply(this,arguments)}function Tr(y,p){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,s.Z)(function*(y,p){return Ir(y,p)})).apply(this,arguments)}function Ma(){return(Ma=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithEmailLink",jt(y,p))})).apply(this,arguments)}function jr(){return(jr=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithEmailLink",jt(y,p))})).apply(this,arguments)}class Rc extends Mo{constructor(p,g,w,T=null){super("password",w),this._email=p,this._password=g,this._tenantId=T}static _fromEmailAndPassword(p,g){return new Rc(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Rc(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,s.Z)(function*(){var w;switch(g.signInMethod){case"password":const T={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const O=yield Ke(p,T,"signInWithPassword");return Di(p,O)}return Di(p,T).catch(function(){var O=(0,s.Z)(function*(z){if("auth/missing-recaptcha-token"===z.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield Ke(p,T,"signInWithPassword");return Di(p,ee)}return Promise.reject(z)});return function(z){return O.apply(this,arguments)}}());case"emailLink":return function Ol(y,p){return Ma.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ce(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,s.Z)(function*(){switch(w.signInMethod){case"password":return Ia(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function nu(y,p){return jr.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Ce(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function fo(y,p){return mh.apply(this,arguments)}function mh(){return(mh=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithIdp",jt(y,p))})).apply(this,arguments)}class Yo extends Mo{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Yo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ce("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T}=g,O=(0,de._T)(g,["providerId","signInMethod"]);if(!w||!T)return null;const z=new Yo(w,T);return z.idToken=O.idToken||void 0,z.accessToken=O.accessToken||void 0,z.secret=O.secret,z.nonce=O.nonce,z.pendingToken=O.pendingToken||null,z}_getIdTokenResponse(p){return fo(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,fo(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,fo(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,B.xO)(g)}return p}}function Wg(y,p){return iu.apply(this,arguments)}function iu(){return(iu=(0,s.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:sendVerificationCode",jt(y,p))})).apply(this,arguments)}function gh(){return(gh=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,p))})).apply(this,arguments)}function Oc(){return(Oc=(0,s.Z)(function*(y,p){const g=yield Dn(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,p));if(g.temporaryProof)throw Wi(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const _h={USER_NOT_FOUND:"user-not-found"};function Pc(){return(Pc=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithPhoneNumber",jt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),_h)})).apply(this,arguments)}class Jn extends Mo{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Jn({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Jn({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Yg(y,p){return gh.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Kg(y,p){return Oc.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function $y(y,p){return Pc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:T}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:O}=p;return w||g||T||O?new Jn({verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:O}):null}}class Aa{constructor(p){var g,w,T,O,z,ee;const Te=(0,B.zd)((0,B.pd)(p)),je=null!==(g=Te.apiKey)&&void 0!==g?g:null,at=null!==(w=Te.oobCode)&&void 0!==w?w:null,ot=function Pp(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Te.mode)&&void 0!==T?T:null);le(je&&at&&ot,"argument-error"),this.apiKey=je,this.operation=ot,this.code=at,this.continueUrl=null!==(O=Te.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(z=Te.languageCode)&&void 0!==z?z:null,this.tenantId=null!==(ee=Te.tenantId)&&void 0!==ee?ee:null}static parseLink(p){const g=function vh(y){const p=(0,B.zd)((0,B.pd)(y)).link,g=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||g||p||y}(p);try{return new Aa(g)}catch{return null}}}let yh=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return Rc._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const T=Aa.parseLink(w);return le(T,"argument-error"),Rc._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Ko{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ao extends Ko{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Ys extends Ao{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return le("providerId"in g&&"signInMethod"in g,"argument-error"),Yo._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return le(p.idToken||p.accessToken,"argument-error"),Yo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Ys.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Ys.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:O,nonce:z,providerId:ee}=p;if(!w&&!T&&!g&&!O||!ee)return null;try{return new Ys(ee)._credential({idToken:g,accessToken:w,nonce:z,pendingToken:O})}catch{return null}}}let ru=(()=>{class y extends Ao{constructor(){super("facebook.com")}static credential(g){return Yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Pl=(()=>{class y extends Ao{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:T}=g;if(!w&&!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),bh=(()=>{class y extends Ao{constructor(){super("github.com")}static credential(g){return Yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Es extends Mo{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return fo(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,fo(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,fo(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T,pendingToken:O}=g;return w&&T&&O&&w===T?new Es(w,O):null}static _create(p,g){return new Es(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Nc extends Ko{constructor(p){le(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Nc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Nc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Es.fromJSON(p);return le(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return Es._create(w,g)}catch{return null}}}let Fc=(()=>{class y extends Ao{constructor(){super("twitter.com")}static credential(g,w){return Yo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=g;if(!w||!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ds(y,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signUp",jt(y,p))})).apply(this,arguments)}class ar{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,T=!1){return(0,s.Z)(function*(){const O=yield Fi._fromIdTokenResponse(p,w,T),z=Nl(w);return new ar({user:O,providerId:z,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const T=Nl(w);return new ar({user:p,providerId:T,_tokenResponse:w,operationType:g})})()}}function Nl(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Fl(){return(Fl=(0,s.Z)(function*(y){var p;const g=wn(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new ar({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Ds(g,{returnSecureToken:!0}),T=yield ar._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Zo extends B.ZR{constructor(p,g,w,T){var O;super(g.code,g.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,Zo.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,T){return new Zo(p,g,w,T)}}function Ui(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Zo._fromErrorAndOperation(y,O,p,w):O})}function wh(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function lr(){return(lr=(0,s.Z)(function*(y,p){const g=(0,B.m9)(y);yield Qo(!0,g,p);const{providerUserInfo:w}=yield ys(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),T=wh(w||[]);return g.providerData=g.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Hi(y,p){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,s.Z)(function*(y,p,g=!1){const w=yield ct(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return ar._forOperation(y,"link",w)})).apply(this,arguments)}function Qo(y,p,g){return su.apply(this,arguments)}function su(){return(su=(0,s.Z)(function*(y,p,g){yield xi(p);const T=!1===y?"provider-already-linked":"no-such-provider";le(wh(p.providerData).has(g)===y,p.auth,T)})).apply(this,arguments)}function Ss(y,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,s.Z)(function*(y,p,g=!1){const{auth:w}=y,T="reauthenticate";try{const O=yield ct(y,Ui(w,T,p,y),g);le(O.idToken,w,"internal-error");const z=pr(O.idToken);le(z,w,"internal-error");const{sub:ee}=z;return le(y.uid===ee,w,"user-mismatch"),ar._forOperation(y,T,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ce(w,"user-mismatch"),O}})).apply(this,arguments)}function Ll(y,p){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,s.Z)(function*(y,p,g=!1){const w="signIn",T=yield Ui(y,w,p),O=yield ar._fromIdTokenResponse(y,w,T);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Bl(y,p){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,s.Z)(function*(y,p){return Ll(wn(y),p)})).apply(this,arguments)}function Eh(y,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,s.Z)(function*(y,p){const g=(0,B.m9)(y);return yield Qo(!1,g,p.providerId),Hi(g,p)})).apply(this,arguments)}function Dh(y,p){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,s.Z)(function*(y,p){return Ss((0,B.m9)(y),p)})).apply(this,arguments)}function Zg(y,p){return Sh.apply(this,arguments)}function Sh(){return(Sh=(0,s.Z)(function*(y,p){return Dn(y,"POST","/v1/accounts:signInWithCustomToken",jt(y,p))})).apply(this,arguments)}function $t(){return($t=(0,s.Z)(function*(y,p){const g=wn(y),w=yield Zg(g,{token:p,returnSecureToken:!0}),T=yield ar._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Vl{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ul._fromServerResponse(p,g):"totpInfo"in g?Si._fromServerResponse(p,g):Ce(p,"internal-error")}}class Ul extends Vl{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ul(g)}}class Si extends Vl{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Si(g)}}function Ks(y,p,g){var w;le((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),le(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(le(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(le(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function yr(){return yr=(0,s.Z)(function*(y,p,g){var w;const T=wn(y),O={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const z=yield Ke(T,O,"getOobCode",!0);g&&Ks(T,z,g),yield Cs(T,z)}else g&&Ks(T,O,g),yield Cs(T,O).catch(function(){var z=(0,s.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Te=yield Ke(T,O,"getOobCode",!0);g&&Ks(T,Te,g),yield Cs(T,Te)}});return function(ee){return z.apply(this,arguments)}}())}),yr.apply(this,arguments)}function Hc(){return(Hc=(0,s.Z)(function*(y,p,g){yield ws((0,B.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Xo(){return(Xo=(0,s.Z)(function*(y,p){yield ho((0,B.m9)(y),{oobCode:p})})).apply(this,arguments)}function Hl(y,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,s.Z)(function*(y,p){const g=(0,B.m9)(y),w=yield ws(g,{oobCode:p}),T=w.requestType;switch(le(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,g,"internal-error");default:le(w.email,g,"internal-error")}let O=null;return w.mfaInfo&&(O=Vl._fromServerResponse(wn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function ko(){return(ko=(0,s.Z)(function*(y,p){const{data:g}=yield Hl((0,B.m9)(y),p);return g.email})).apply(this,arguments)}function $r(){return $r=(0,s.Z)(function*(y,p,g){var w;const T=wn(y),O={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let z;if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const je=yield Ke(T,O,"signUpPassword");z=Ds(T,je)}else z=Ds(T,O).catch(function(){var je=(0,s.Z)(function*(at){if("auth/missing-recaptcha-token"===at.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ot=yield Ke(T,O,"signUpPassword");return Ds(T,ot)}return Promise.reject(at)});return function(at){return je.apply(this,arguments)}}());const ee=yield z.catch(je=>Promise.reject(je)),Te=yield ar._fromIdTokenResponse(T,"signIn",ee);return yield T._updateCurrentUser(Te.user),Te}),$r.apply(this,arguments)}function jc(){return jc=(0,s.Z)(function*(y,p,g){var w;const T=wn(y),O={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function z(ee,Te){le(Te.handleCodeInApp,T,"argument-error"),Te&&Ks(T,ee,Te)}if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield Ke(T,O,"getOobCode",!0);z(ee,g),yield Bi(T,ee)}else z(O,g),yield Bi(T,O).catch(function(){var ee=(0,s.Z)(function*(Te){if("auth/missing-recaptcha-token"!==Te.code)return Promise.reject(Te);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const je=yield Ke(T,O,"getOobCode",!0);z(je,g),yield Bi(T,je)}});return function(Te){return ee.apply(this,arguments)}}())}),jc.apply(this,arguments)}function Ra(){return(Ra=(0,s.Z)(function*(y,p,g){const w=(0,B.m9)(y),T=yh.credentialWithLink(p,g||nn());return le(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Bl(w,T)})).apply(this,arguments)}function au(y,p){return zc.apply(this,arguments)}function zc(){return(zc=(0,s.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:createAuthUri",jt(y,p))})).apply(this,arguments)}function $c(){return($c=(0,s.Z)(function*(y,p){const w={identifier:p,continueUri:pt()?nn():"http://localhost"},{signinMethods:T}=yield au((0,B.m9)(y),w);return T||[]})).apply(this,arguments)}function zl(){return(zl=(0,s.Z)(function*(y,p){const g=(0,B.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Ks(g.auth,T,p);const{email:O}=yield tu(g.auth,T);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function $l(){return($l=(0,s.Z)(function*(y,p,g){const w=(0,B.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Ks(w.auth,O,g);const{email:z}=yield Tr(w.auth,O);z!==y.email&&(yield y.reload())})).apply(this,arguments)}function Ah(y,p){return qc.apply(this,arguments)}function qc(){return(qc=(0,s.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Wc(){return(Wc=(0,s.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,B.m9)(y),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},z=yield ct(w,Ah(w.auth,O));w.displayName=z.displayName||null,w.photoURL=z.photoUrl||null;const ee=w.providerData.find(({providerId:Te})=>"password"===Te);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(z)})).apply(this,arguments)}function jn(y,p,g){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,s.Z)(function*(y,p,g){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const z=yield ct(y,Ia(w,O));yield y._updateTokensIfNecessary(z,!0)})).apply(this,arguments)}class Is{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class Bp extends Is{constructor(p,g,w,T){super(p,g,w),this.username=T}}class kh extends Is{constructor(p,g){super(p,"facebook.com",g)}}class Jg extends Bp{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Yc extends Is{constructor(p,g){super(p,"google.com",g)}}class cu extends Bp{constructor(p,g,w){super(p,"twitter.com",g,w)}}function Kc(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Lp(y){var p,g;if(!y)return null;const{providerId:w}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const z=null===(g=null===(p=pr(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(z)return new Is(O,"anonymous"!==z&&"custom"!==z?z:null)}if(!w)return null;switch(w){case"facebook.com":return new kh(O,T);case"github.com":return new Jg(O,T);case"google.com":return new Yc(O,T);case"twitter.com":return new cu(O,T,y.screenName||null);case"custom":case"anonymous":return new Is(O,null);default:return new Is(O,w,T)}}(g)}class Ro{constructor(p,g,w){this.type=p,this.credential=g,this.auth=w}static _fromIdtoken(p,g){return new Ro("enroll",p,g)}static _fromMfaPendingCredential(p){return new Ro("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Ro._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return Ro._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Qs{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=wn(p),T=g.customData._serverResponse,O=(T.mfaInfo||[]).map(ee=>Vl._fromServerResponse(w,ee));le(T.mfaPendingCredential,w,"internal-error");const z=Ro._fromMfaPendingCredential(T.mfaPendingCredential);return new Qs(z,O,function(){var ee=(0,s.Z)(function*(Te){const je=yield Te._process(w,z);delete T.mfaInfo,delete T.mfaPendingCredential;const at=Object.assign(Object.assign({},T),{idToken:je.idToken,refreshToken:je.refreshToken});switch(g.operationType){case"signIn":const ot=yield ar._fromIdTokenResponse(w,g.operationType,at);return yield w._updateCurrentUser(ot.user),ot;case"reauthenticate":return le(g.user,w,"internal-error"),ar._forOperation(g.user,g.operationType,at);default:Ce(w,"internal-error")}});return function(Te){return ee.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,s.Z)(function*(){return g.signInResolver(p)})()}}function Pa(y,p){return tt(y,"POST","/v2/accounts/mfaEnrollment:start",jt(y,p))}class Js{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Vl._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new Js(p)}getSession(){var p=this;return(0,s.Z)(function*(){return Ro._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var w=this;return(0,s.Z)(function*(){const T=p,O=yield w.getSession(),z=yield ct(w.user,T._process(w.user.auth,O,g));return yield w.user._updateTokensIfNecessary(z),w.user.reload()})()}unenroll(p){var g=this;return(0,s.Z)(function*(){const w="string"==typeof p?p:p.uid,T=yield g.user.getIdToken();try{const O=yield ct(g.user,function Jc(y,p){return tt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(y,p))}(g.user.auth,{idToken:T,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:z})=>z!==w),yield g.user._updateTokensIfNecessary(O),yield g.user.reload()}catch(O){throw O}})()}}const Ts=new WeakMap,ea="__sak";class ed{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ea,"1"),this.storage.removeItem(ea),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ms=(()=>{class y extends ed{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function td(){const y=(0,B.z$)();return oe(y)||Hn(y)}()&&function Tl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=_r(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),O=this.localCache[w];T!==O&&g(w,O,T)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ee,Te,je)=>{this.notifyListeners(ee,je)});const T=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(T);if(g.newValue!==ee)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!w)return}const O=()=>{const ee=this.storage.getItem(T);!w&&this.localCache[T]===ee||this.notifyListeners(T,ee)},z=this.storage.getItem(T);!function Ci(){return(0,B.w1)()&&10===document.documentMode}()||z===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var T=()=>super._set,O=this;return(0,s.Z)(function*(){yield T().call(O,g,w),O.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,T=this;return(0,s.Z)(function*(){const O=yield w().call(T,g);return T.localCache[g]=JSON.stringify(O),O})()}_remove(g){var w=()=>super._remove,T=this;return(0,s.Z)(function*(){yield w().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),As=(()=>{class y extends ed{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Kl=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(O=>O.isListeningto(g));if(w)return w;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,s.Z)(function*(){const T=g,{eventId:O,eventType:z,data:ee}=T.data,Te=w.handlersMap[z];if(!Te?.size)return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:z});const je=Array.from(Te).map(function(){var ot=(0,s.Z)(function*(Nn){return Nn(T.origin,ee)});return function(Nn){return ot.apply(this,arguments)}}()),at=yield function id(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(je);T.ports[0].postMessage({status:"done",eventId:O,eventType:z,response:at})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Zl(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class Nh{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var T=this;return(0,s.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let z,ee;return new Promise((Te,je)=>{const at=Zl("",20);O.port1.start();const ot=setTimeout(()=>{je(new Error("unsupported_event"))},w);ee={messageChannel:O,onMessage(Nn){const ds=Nn;if(ds.data.eventId===at)switch(ds.data.status){case"ack":clearTimeout(ot),z=setTimeout(()=>{je(new Error("timeout"))},3e3);break;case"done":clearTimeout(z),Te(ds.data.response);break;default:clearTimeout(ot),clearTimeout(z),je(new Error("invalid_response"))}}},T.handlers.add(ee),O.port1.addEventListener("message",ee.onMessage),T.target.postMessage({eventType:p,eventId:at,data:g},[O.port2])}).finally(()=>{ee&&T.removeMessageHandler(ee)})})()}}function Mn(){return window}function rd(){return typeof Mn().WorkerGlobalScope<"u"&&"function"==typeof Mn().importScripts}function Fa(){return(Fa=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const La="firebaseLocalStorageDb",od="firebaseLocalStorage",sd="fbase_key";class Ba{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Oo(y,p){return y.transaction([od],p?"readwrite":"readonly").objectStore(od)}function Ql(){const y=indexedDB.open(La,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(od,{keyPath:sd})}catch(T){g(T)}}),y.addEventListener("success",(0,s.Z)(function*(){const w=y.result;w.objectStoreNames.contains(od)?p(w):(w.close(),yield function Hp(){const y=indexedDB.deleteDatabase(La);return new Ba(y).toPromise()}(),p(yield Ql()))}))})}function ta(y,p,g){return ad.apply(this,arguments)}function ad(){return(ad=(0,s.Z)(function*(y,p,g){const w=Oo(y,!0).put({[sd]:p,value:g});return new Ba(w).toPromise()})).apply(this,arguments)}function ld(){return(ld=(0,s.Z)(function*(y,p){const g=Oo(y,!1).get(p),w=yield new Ba(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function na(y,p){const g=Oo(y,!0).delete(p);return new Ba(g).toPromise()}const ks=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,s.Z)(function*(){return g.db||(g.db=yield Ql()),g.db})()}_withRetries(g){var w=this;return(0,s.Z)(function*(){let T=0;for(;;)try{const O=yield w._openDb();return yield g(O)}catch(O){if(T++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,s.Z)(function*(){return rd()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,s.Z)(function*(){g.receiver=Kl._getInstance(function ji(){return rd()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,s.Z)(function*(T,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(T,O){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,s.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,s.Z)(function*(){var w,T;if(g.activeServiceWorker=yield function Fh(){return Fa.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Nh(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(T=O[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,s.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function uu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Ql();return yield ta(g,ea,"1"),yield na(g,ea),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,s.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var T=this;return(0,s.Z)(function*(){return T._withPendingWrite((0,s.Z)(function*(){return yield T._withRetries(O=>ta(O,g,w)),T.localCache[g]=w,T.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,s.Z)(function*(){const T=yield w._withRetries(O=>function Xl(y,p){return ld.apply(this,arguments)}(O,g));return w.localCache[g]=T,T})()}_remove(g){var w=this;return(0,s.Z)(function*(){return w._withPendingWrite((0,s.Z)(function*(){return yield w._withRetries(T=>na(T,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,s.Z)(function*(){const w=yield g._withRetries(z=>{const ee=Oo(z,!1).getAll();return new Ba(ee).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:z,value:ee}of w)O.add(z),JSON.stringify(g.localCache[z])!==JSON.stringify(ee)&&(g.notifyListeners(z,ee),T.push(z));for(const z of Object.keys(g.localCache))g.localCache[z]&&!O.has(z)&&(g.notifyListeners(z,null),T.push(z));return T})()}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function ia(y,p){return tt(y,"POST","/v2/accounts/mfaSignIn:start",jt(y,p))}const ec=1e12;class jp{constructor(p){this.auth=p,this.counter=ec,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new cd(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||ec;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||ec))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,s.Z)(function*(){var w;return null===(w=g._widgets.get(p||ec))||void 0===w||w.execute(),""})()}}class cd{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;le(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function zp(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const $p=Zn("rcb"),Yy=new Ae(3e4,6e4);class n_{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Mn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return le(function Gp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&tn(Mn().grecaptcha)?Promise.resolve(Mn().grecaptcha):new Promise((w,T)=>{const O=Mn().setTimeout(()=>{T(Ee(p,"network-request-failed"))},Yy.get());Mn()[$p]=()=>{Mn().clearTimeout(O),delete Mn()[$p];const ee=Mn().grecaptcha;if(!ee||!tn(ee))return void T(Ee(p,"internal-error"));const Te=ee.render;ee.render=(je,at)=>{const ot=Te(je,at);return this.counter++,ot},this.hostLanguage=g,w(ee)},qt(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:$p,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),T(Ee(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Mn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ii{load(p){return(0,s.Z)(function*(){return new jp(p)})()}clearedOneInstance(){}}const tc="recaptcha",dd={theme:"light",type:"image"};class Bh{constructor(p,g=Object.assign({},dd),w){this.parameters=g,this.type=tc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(w),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;le(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ii:new n_,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(O=>{const z=ee=>{ee&&(p.tokenChangeListeners.delete(z),O(ee))};p.tokenChangeListeners.add(z),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Mn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){le(pt()&&!rd(),p.auth,"internal-error"),yield function Gr(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function re(y){return Re.apply(this,arguments)}(p.auth);le(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Po{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Jn._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function oa(){return(oa=(0,s.Z)(function*(y,p,g){const w=wn(y),T=yield fd(w,p,(0,B.m9)(g));return new Po(T,O=>Bl(w,O))})).apply(this,arguments)}function hd(){return(hd=(0,s.Z)(function*(y,p,g){const w=(0,B.m9)(y);yield Qo(!1,w,"phone");const T=yield fd(w.auth,p,(0,B.m9)(g));return new Po(T,O=>Eh(w,O))})).apply(this,arguments)}function Ha(){return(Ha=(0,s.Z)(function*(y,p,g){const w=(0,B.m9)(y),T=yield fd(w.auth,p,(0,B.m9)(g));return new Po(T,O=>Dh(w,O))})).apply(this,arguments)}function fd(y,p,g){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,s.Z)(function*(y,p,g){var w;const T=yield g.verify();try{let O;if(le("string"==typeof T,y,"argument-error"),le(g.type===tc,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const z=O.session;if("phoneNumber"in O)return le("enroll"===z.type,y,"internal-error"),(yield Pa(y,{idToken:z.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{le("signin"===z.type,y,"internal-error");const ee=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return le(ee,y,"missing-multi-factor-info"),(yield ia(y,{mfaPendingCredential:z.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:z}=yield Wg(y,{phoneNumber:O.phoneNumber,recaptchaToken:T});return z}}finally{g._reset()}})).apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(y,p){yield Hi((0,B.m9)(y),p)})).apply(this,arguments)}let qr=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=wn(g)}verifyPhoneNumber(g,w){return fd(this.auth,g,(0,B.m9)(w))}static credential(g,w){return Jn._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:T}=g;return w&&T?Jn._fromTokenResponse(w,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Qe(y,p){return p?Yn(p):(le(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class xt extends Mo{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return fo(p,this._buildIdpRequest())}_linkToIdToken(p,g){return fo(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return fo(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function br(y){return Ll(y.auth,new xt(y),y.bypassAuthState)}function Vh(y){const{auth:p,user:g}=y;return le(g,p,"internal-error"),Ss(g,new xt(y),y.bypassAuthState)}function sa(y){return ei.apply(this,arguments)}function ei(){return(ei=(0,s.Z)(function*(y){const{auth:p,user:g}=y;return le(g,p,"internal-error"),Hi(g,new xt(y),y.bypassAuthState)})).apply(this,arguments)}class hu{constructor(p,g,w,T,O=!1){this.auth=p,this.resolver=w,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,s.Z)(function*(w,T){p.pendingPromise={resolve:w,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,T){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,s.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:O,tenantId:z,error:ee,type:Te}=p;if(ee)return void g.reject(ee);const je={auth:g.auth,requestUri:w,sessionId:T,tenantId:z||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Te)(je))}catch(at){g.reject(at)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return br;case"linkViaPopup":case"linkViaRedirect":return sa;case"reauthViaPopup":case"reauthViaRedirect":return Vh;default:Ce(this.auth,"internal-error")}}resolve(p){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Wr=new Ae(2e3,1e4);function nc(){return(nc=(0,s.Z)(function*(y,p,g){const w=wn(y);Le(y,p,Ko);const T=Qe(w,g);return new gd(w,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function md(){return(md=(0,s.Z)(function*(y,p,g){const w=(0,B.m9)(y);Le(w.auth,p,Ko);const T=Qe(w.auth,g);return new gd(w.auth,"reauthViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}function nt(){return(nt=(0,s.Z)(function*(y,p,g){const w=(0,B.m9)(y);Le(w.auth,p,Ko);const T=Qe(w.auth,g);return new gd(w.auth,"linkViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}let gd=(()=>{class y extends hu{constructor(g,w,T,O,z){super(g,w,O,z),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,s.Z)(function*(){const w=yield g.execute();return le(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,s.Z)(function*(){rt(1===g.filter.length,"Popup operations only handle one event");const w=Zl();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Ee(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,T;this.pollId=null!==(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Wr.get())};g()}}return y.currentPopupAction=null,y})();const is=new Map;class Uh extends hu{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,s.Z)(function*(){let w=is.get(g.auth._key());if(!w){try{const O=(yield function Pn(y,p){return Hh.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(O)}catch(T){w=()=>Promise.reject(T)}is.set(g.auth._key(),w)}return g.bypassAuthState||is.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const T=yield w.auth._redirectUserForId(p.eventId);if(T)return w.user=T,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function Hh(){return(Hh=(0,s.Z)(function*(y,p){const g=qa(p),w=jh(y);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(g));return yield w._remove(g),T})).apply(this,arguments)}function rs(y,p){return $a.apply(this,arguments)}function $a(){return($a=(0,s.Z)(function*(y,p){return jh(y)._set(qa(p),"true")})).apply(this,arguments)}function Ga(y,p){is.set(y._key(),p)}function jh(y){return Yn(y._redirectPersistence)}function qa(y){return $("pendingRedirect",y.config.apiKey,y.name)}function fu(){return(fu=(0,s.Z)(function*(y,p,g){const w=wn(y);Le(y,p,Ko),yield w._initializationPromise;const T=Qe(w,g);return yield rs(T,w),T._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function po(){return(po=(0,s.Z)(function*(y,p,g){const w=(0,B.m9)(y);Le(w.auth,p,Ko),yield w.auth._initializationPromise;const T=Qe(w.auth,g);yield rs(T,w.auth);const O=yield An(w);return T._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function _d(){return(_d=(0,s.Z)(function*(y,p,g){const w=(0,B.m9)(y);Le(w.auth,p,Ko),yield w.auth._initializationPromise;const T=Qe(w.auth,g);yield Qo(!1,w,p.providerId),yield rs(T,w.auth);const O=yield An(w);return T._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ti(){return(ti=(0,s.Z)(function*(y,p){return yield wn(y)._initializationPromise,Ti(y,p,!1)})).apply(this,arguments)}function Ti(y,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,s.Z)(function*(y,p,g=!1){const w=wn(y),T=Qe(w,p),z=yield new Uh(w,T,g).execute();return z&&!g&&(delete z.user._redirectEventId,yield w._persistUserIfCurrent(z.user),yield w._setRedirectUser(null,p)),z})).apply(this,arguments)}function An(y){return mi.apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(y){const p=Zl(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class la{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function as(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mo(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!mo(p)){const T=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Ee(this.auth,T))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(pu(p))}saveEventToCache(p){this.cachedEventUids.add(pu(p)),this.lastProcessedEventTime=Date.now()}}function pu(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function mo({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function gi(y){return ls.apply(this,arguments)}function ls(){return(ls=(0,s.Z)(function*(y,p={}){return tt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const i_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Os=/^https?/;function No(){return(No=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield gi(y);for(const g of p)try{if(mu(g))return}catch{}Ce(y,"unauthorized-domain")})).apply(this,arguments)}function mu(y){const p=nn(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const z=new URL(y);return""===z.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&z.hostname===w}if(!Os.test(g))return!1;if(i_.test(y))return w===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const yd=new Ae(3e4,6e4);function xr(){const y=Mn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Ps=null;function ca(y){return Ps=Ps||function Ot(y){return new Promise((p,g)=>{var w,T,O;function z(){xr(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{xr(),g(Ee(y,"network-request-failed"))},timeout:yd.get()})}if(null!==(T=null===(w=Mn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==T&&T.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Mn().gapi)||void 0===O||!O.load){const ee=Zn("iframefcb");return Mn()[ee]=()=>{gapi.load?z():g(Ee(y,"network-request-failed"))},qt(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Te=>g(Te))}z()}}).catch(p=>{throw Ps=null,p})}(y),Ps}const Wa=new Ae(5e3,15e3),Fo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Wh(y){const p=y.config;le(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?We(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ce.SDK_VERSION},T=qh.get(y.config.apiHost);T&&(w.eid=T);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${g}?${(0,B.xO)(w).slice(1)}`}function D(){return D=(0,s.Z)(function*(y){const p=yield ca(y),g=Mn().gapi;return le(g,y,"internal-error"),p.open({where:document.body,url:Wh(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fo,dontclear:!0},w=>new Promise(function(){var T=(0,s.Z)(function*(O,z){yield w.restyle({setHideOnLeave:!1});const ee=Ee(y,"network-request-failed"),Te=Mn().setTimeout(()=>{z(ee)},Wa.get());function je(){Mn().clearTimeout(Te),O(w)}w.ping(je).then(je,()=>{z(ee)})});return function(O,z){return T.apply(this,arguments)}}()))}),D.apply(this,arguments)}const k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $e{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ar=encodeURIComponent("fac");function zn(y,p,g,w,T,O){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,s.Z)(function*(y,p,g,w,T,O){le(y.config.authDomain,y,"auth-domain-config-required"),le(y.config.apiKey,y,"invalid-api-key");const z={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:ce.SDK_VERSION,eventId:T};if(p instanceof Ko){p.setDefaultLanguage(y.languageCode),z.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(z.customParameters=JSON.stringify(p.getCustomParameters()));for(const[at,ot]of Object.entries(O||{}))z[at]=ot}if(p instanceof Ao){const at=p.getScopes().filter(ot=>""!==ot);at.length>0&&(z.scopes=at.join(","))}y.tenantId&&(z.tid=y.tenantId);const ee=z;for(const at of Object.keys(ee))void 0===ee[at]&&delete ee[at];const Te=yield y._getAppCheckToken(),je=Te?`#${Ar}=${encodeURIComponent(Te)}`:"";return`${Yt(y)}?${(0,B.xO)(ee).slice(1)}${je}`})).apply(this,arguments)}function Yt({config:y}){return y.emulator?We(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const go="webStorageSupport",zi=class _o{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=As,this._completeRedirectFn=Ti,this._overrideRedirectResult=Ga}_openPopup(p,g,w,T){var O=this;return(0,s.Z)(function*(){var z;rt(null===(z=O.eventManagers[p._key()])||void 0===z?void 0:z.manager,"_initialize() not called before _openPopup()");const ee=yield zn(p,g,w,nn(),T);return function Ge(y,p,g,w=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),z=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Te=Object.assign(Object.assign({},k),{width:w.toString(),height:T.toString(),top:O,left:z}),je=(0,B.z$)().toLowerCase();g&&(ee=dt(je)?"_blank":g),ye(je)&&(p=p||"http://localhost",Te.scrollbars="yes");const at=Object.entries(Te).reduce((Nn,[ds,Eu])=>`${Nn}${ds}=${Eu},`,"");if(function Yi(y=(0,B.z$)()){var p;return Hn(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(je)&&"_self"!==ee)return function ut(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",ee),new $e(null);const ot=window.open(p||"",ee,at);le(ot,y,"popup-blocked");try{ot.focus()}catch{}return new $e(ot)}(p,ee,Zl())})()}_openRedirect(p,g,w,T){var O=this;return(0,s.Z)(function*(){return yield O._originValidation(p),function Up(y){Mn().location.href=y}(yield zn(p,g,w,nn(),T)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:T,promise:O}=this.eventManagers[g];return T?Promise.resolve(T):(rt(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,s.Z)(function*(){const w=yield function C(y){return D.apply(this,arguments)}(p),T=new la(p);return w.register("authEvent",O=>(le(O?.authEvent,p,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:T},g.iframes[p._key()]=w,T})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(go,{type:go},T=>{var O;const z=null===(O=T?.[0])||void 0===O?void 0:O[go];void 0!==z&&g(!!z),Ce(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function rc(y){return No.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return _r()||oe()||Hn()}};class bd{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return Rt("unexpected MultiFactorSessionType")}}}class oc extends bd{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new oc(p)}_finalizeEnroll(p,g,w){return function Na(y,p){return tt(y,"POST","/v2/accounts/mfaEnrollment:finalize",jt(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Wy(y,p){return tt(y,"POST","/v2/accounts/mfaSignIn:finalize",jt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let sc=(()=>{class y{constructor(){}static assertion(g){return oc._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var xd="@firebase/auth";class gu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,s.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cc(){return window}function vu(){return(vu=(0,s.Z)(function*(y,p,g){var w;const{BuildInfo:T}=cc();rt(p.sessionId,"AuthEvent did not contain a session ID");const O=yield Cd(p.sessionId),z={};return Hn()?z.ibi=T.packageName:Kt()?z.apn=T.packageName:Ce(y,"operation-not-supported-in-this-environment"),T.displayName&&(z.appDisplayName=T.displayName),z.sessionId=O,zn(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,z)})).apply(this,arguments)}function dc(){return(dc=(0,s.Z)(function*(y){const{BuildInfo:p}=cc(),g={};Hn()?g.iosBundleId=p.packageName:Kt()?g.androidPackageName=p.packageName:Ce(y,"operation-not-supported-in-this-environment"),yield gi(y,g)})).apply(this,arguments)}function Ns(){return(Ns=(0,s.Z)(function*(y,p,g){const{cordova:w}=cc();let T=()=>{};try{yield new Promise((O,z)=>{let ee=null;function Te(){var ot;O();const Nn=null===(ot=w.plugins.browsertab)||void 0===ot?void 0:ot.close;"function"==typeof Nn&&Nn(),"function"==typeof g?.close&&g.close()}function je(){ee||(ee=window.setTimeout(()=>{z(Ee(y,"redirect-cancelled-by-user"))},2e3))}function at(){"visible"===document?.visibilityState&&je()}p.addPassiveListener(Te),document.addEventListener("resume",je,!1),Kt()&&document.addEventListener("visibilitychange",at,!1),T=()=>{p.removePassiveListener(Te),document.removeEventListener("resume",je,!1),document.removeEventListener("visibilitychange",at,!1),ee&&window.clearTimeout(ee)}})}finally{T()}})).apply(this,arguments)}function Cd(y){return Qh.apply(this,arguments)}function Qh(){return(Qh=(0,s.Z)(function*(y){const p=l_(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function l_(y){if(rt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(0,B.Pz)("authIdTokenMaxAge"),function r_(y){(0,ce._registerComponent)(new we.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),O=p.getProvider("app-check-internal"),{apiKey:z,authDomain:ee}=w.options;le(z&&!z.includes(":"),"invalid-api-key",{appName:w.name});const Te={apiKey:z,authDomain:ee,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(y)},je=new Hr(w,T,O,Te);return function Xn(y,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map(Yn);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(je,g),je},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new we.wA("auth-internal",p=>{const g=wn(p.getProvider("auth").getImmediate());return new gu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(xd,"0.23.2",function _u(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)(xd,"0.23.2","esm2017")}("Browser");class Xh extends la{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function Jh(y){return yu.apply(this,arguments)}function yu(){return(yu=(0,s.Z)(function*(y){const p=yield ef()._get(Dd(y));return p&&(yield ef()._remove(Dd(y))),p})).apply(this,arguments)}function Za(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function ef(){return Yn(Ms)}function Dd(y){return $("authEvent",y.config.apiKey,y.name)}function Qa(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,B.zd)(g.join("?"))}const uc=class Qp{constructor(){this._redirectPersistence=As,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ti,this._overrideRedirectResult=Ga}_initialize(p){var g=this;return(0,s.Z)(function*(){const w=p._key();let T=g.eventManagers.get(w);return T||(T=new Xh(p),g.eventManagers.set(w,T),g.attachCallbackListeners(p,T)),T})()}_openPopup(p){Ce(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,T){var O=this;return(0,s.Z)(function*(){!function Zh(y){var p,g,w,T,O,z,ee,Te,je,at;const ot=cc();le("function"==typeof(null===(p=ot?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(typeof(null===(g=ot?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(O=null===(T=null===(w=ot?.cordova)||void 0===w?void 0:w.plugins)||void 0===T?void 0:T.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Te=null===(ee=null===(z=ot?.cordova)||void 0===z?void 0:z.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Te?void 0:Te.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(at=null===(je=ot?.cordova)||void 0===je?void 0:je.InAppBrowser)||void 0===at?void 0:at.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const z=yield O._initialize(p);yield z.initialized(),z.resetRedirect(),function Yp(){is.clear()}(),yield O._originValidation(p);const ee=function Ka(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Za(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(p,w,T);yield function Ed(y,p){return ef()._set(Dd(y),p)}(p,ee);const Te=yield function s_(y,p,g){return vu.apply(this,arguments)}(p,ee,g),je=yield function Kh(y){const{cordova:p}=cc();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let T=null;w?p.plugins.browsertab.openUrl(y):T=p.InAppBrowser.open(y,function cn(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Te);return function Xy(y,p,g){return Ns.apply(this,arguments)}(p,z,je)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function a_(y){return dc.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:T,BuildInfo:O}=cc(),z=setTimeout((0,s.Z)(function*(){yield Jh(p),g.onEvent(d_())}),500),ee=function(){var at=(0,s.Z)(function*(ot){clearTimeout(z);const Nn=yield Jh(p);let ds=null;Nn&&ot?.url&&(ds=function Zp(y,p){var g,w;const T=function c_(y){const p=Qa(y),g=p.link?decodeURIComponent(p.link):void 0,w=Qa(g).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Qa(T).link||T||w||g||y}(p);if(T.includes("/__/auth/callback")){const O=Qa(T),z=O.firebaseError?function bu(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ee=null===(w=null===(g=z?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Te=ee?Ee(ee):null;return Te?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Te,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Nn,ot.url)),g.onEvent(ds||d_())});return function(Nn){return at.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ee);const Te=T,je=`${O.packageName.toLowerCase()}://`;cc().handleOpenURL=function(){var at=(0,s.Z)(function*(ot){if(ot.toLowerCase().startsWith(je)&&ee({url:ot}),"function"==typeof Te)try{Te(ot)}catch(Nn){console.error(Nn)}});return function(ot){return at.apply(this,arguments)}}()}};function d_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function Ja(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function tl(y=(0,B.z$)()){return!("file:"!==Ja()&&"ionic:"!==Ja()&&"capacitor:"!==Ja()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function nb(){try{const y=self.localStorage,p=Zl();if(y)return y.setItem(p,"1"),y.removeItem(p),!function tb(y=(0,B.z$)()){return function nl(){return(0,B.w1)()&&11===document?.documentMode}()||function eb(y=(0,B.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.hl)()}catch{return Jp()&&(0,B.hl)()}return!1}function Jp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xu(){return(function el(){return"http:"===Ja()||"https:"===Ja()}()||(0,B.ru)()||tl())&&!function tf(){return(0,B.b$)()||(0,B.UG)()}()&&nb()&&!Jp()}function h_(){return tl()&&typeof document<"u"}function Sd(){return(Sd=(0,s.Z)(function*(){return!!h_()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Zr={LOCAL:"local",NONE:"none",SESSION:"session"},Id=le,nf="persistence";function p_(y){return tm.apply(this,arguments)}function tm(){return(tm=(0,s.Z)(function*(y){yield y._initializationPromise;const p=m_(),g=$(nf,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function m_(){var y;try{return(null===(y=function em(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const g_=le;class Qi{constructor(){this.browserResolver=Yn(zi),this.cordovaResolver=Yn(uc),this.underlyingResolver=null,this._redirectPersistence=As,this._completeRedirectFn=Ti,this._overrideRedirectResult=Ga}_initialize(p){var g=this;return(0,s.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,T){var O=this;return(0,s.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,w,T)})()}_openRedirect(p,g,w,T){var O=this;return(0,s.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,w,T)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return h_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return g_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const g=yield function f_(){return Sd.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function da(y){return y.unwrap()}function Td(y){return nm(y)}function nm(y){const{_tokenResponse:p}=y instanceof B.ZR?y.customData:y;if(!p)return null;if(!(y instanceof B.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return qr.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Pl;break;case"facebook.com":w=ru;break;case"github.com":w=bh;break;case"twitter.com":w=Fc;break;default:const{oauthIdToken:T,oauthAccessToken:O,oauthTokenSecret:z,pendingToken:ee,nonce:Te}=p;return O||z||T||ee?ee?g.startsWith("saml.")?Es._create(g,ee):Yo._fromParams({providerId:g,signInMethod:g,pendingToken:ee,idToken:T,accessToken:O}):new Ys(g).credential({idToken:T,accessToken:O,rawNonce:Te}):null}return y instanceof B.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Qr(y,p){return p.catch(g=>{throw g instanceof B.ZR&&function __(y,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new ib(y,function Oh(y,p){var g;const w=(0,B.m9)(y),T=p;return le(p.customData.operationType,w,"argument-error"),le(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Qs._fromError(w,T)}(y,p));else if(w){const T=nm(p),O=p;T&&(O.credential=T,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:Td(g),additionalUserInfo:Kc(g),user:Lo.getOrCreate(T)}})}function il(y,p){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,s.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Qr(y,g.confirm(w))}})).apply(this,arguments)}class ib{constructor(p,g){this.resolver=g,this.auth=function ua(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Qr(da(this.auth),this.resolver.resolveSignIn(p))}}class Lo{constructor(p){this._delegate=p,this.multiFactor=function Ph(y){const p=(0,B.m9)(y);return Ts.has(p)||Ts.set(p,Js._fromUser(p)),Ts.get(p)}(p)}static getOrCreate(p){return Lo.USER_MAP.has(p)||Lo.USER_MAP.set(p,new Lo(p)),Lo.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,s.Z)(function*(){return Qr(g.auth,Eh(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,s.Z)(function*(){return il(w.auth,function ud(y,p,g){return hd.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,s.Z)(function*(){return Qr(g.auth,function ns(y,p,g){return nt.apply(this,arguments)}(g._delegate,p,Qi))})()}linkWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield p_(wn(g.auth)),function ss(y,p,g){return function si(y,p,g){return _d.apply(this,arguments)}(y,p,g)}(g._delegate,p,Qi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,s.Z)(function*(){return Qr(g.auth,Dh(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return il(this.auth,function Wp(y,p,g){return Ha.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Qr(this.auth,function za(y,p,g){return md.apply(this,arguments)}(this._delegate,p,Qi))}reauthenticateWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield p_(wn(g.auth)),function Yr(y,p,g){return function os(y,p,g){return po.apply(this,arguments)}(y,p,g)}(g._delegate,p,Qi)})()}sendEmailVerification(p){return function Gc(y,p){return zl.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,s.Z)(function*(){return yield function xh(y,p){return lr.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Ki(y,p){return jn((0,B.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Jo(y,p){return jn((0,B.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function pd(y,p){return dn.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Fp(y,p){return Wc.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function lu(y,p,g){return $l.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Lo.USER_MAP=new WeakMap;const Md=le;let rf=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Md(T,"invalid-api-key",{appName:g.name}),Md(T,"invalid-api-key",{appName:g.name});const O=typeof window<"u"?Qi:void 0;this._delegate=w.initialize({options:{persistence:cs(T,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Lo.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Al(y,p,g){const w=wn(y);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const T=!!g?.disableWarnings,O=Sr(p),{host:z,port:ee}=function Wt(y){const p=Sr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const O=T[1];return{host:O,port:kl(w.substr(O.length+1))}}{const[O,z]=w.split(":");return{host:O,port:kl(z)}}}(p);w.config.emulator={url:`${O}//${z}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:z,port:ee,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function qs(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function Qg(y,p){return Xo.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Hl(this._delegate,g)}confirmPasswordReset(g,w){return function Ih(y,p,g){return Hc.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var T=this;return(0,s.Z)(function*(){return Qr(T._delegate,function Zs(y,p,g){return $r.apply(this,arguments)}(T._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Mh(y,p){return $c.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Xg(y,p){return"EMAIL_SIGNIN"===Aa.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,s.Z)(function*(){Md(xu(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function vd(y,p){return ti.apply(this,arguments)}(g._delegate,Qi);return w?Qr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Xp(y,p){wn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,T){const{next:O,error:z,complete:ee}=Ad(g,w,T);return this._delegate.onAuthStateChanged(O,z,ee)}onIdTokenChanged(g,w,T){const{next:O,error:z,complete:ee}=Ad(g,w,T);return this._delegate.onIdTokenChanged(O,z,ee)}sendSignInLinkToEmail(g,w){return function jl(y,p,g){return jc.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Uc(y,p,g){return yr.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,s.Z)(function*(){let T;switch(function hc(y,p){Id(Object.values(Zr).includes(p),y,"invalid-persistence-type"),(0,B.b$)()?Id(p!==Zr.SESSION,y,"unsupported-persistence-type"):(0,B.UG)()?Id(p===Zr.NONE,y,"unsupported-persistence-type"):Jp()?Id(p===Zr.NONE||p===Zr.LOCAL&&(0,B.hl)(),y,"unsupported-persistence-type"):Id(p===Zr.NONE||nb(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Zr.SESSION:T=As;break;case Zr.LOCAL:T=(yield Yn(ks)._isAvailable())?ks:Ms;break;case Zr.NONE:T=gr;break;default:return Ce("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Qr(this._delegate,function Vi(y){return Fl.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Qr(this._delegate,Bl(this._delegate,g))}signInWithCustomToken(g){return Qr(this._delegate,function fe(y,p){return $t.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Qr(this._delegate,function Th(y,p,g){return Bl((0,B.m9)(y),yh.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Qr(this._delegate,function pi(y,p,g){return Ra.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return il(this._delegate,function qp(y,p,g){return oa.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,s.Z)(function*(){return Md(xu(),w._delegate,"operation-not-supported-in-this-environment"),Qr(w._delegate,function ja(y,p,g){return nc.apply(this,arguments)}(w._delegate,g,Qi))})()}signInWithRedirect(g){var w=this;return(0,s.Z)(function*(){return Md(xu(),w._delegate,"operation-not-supported-in-this-environment"),yield p_(w._delegate),function Rs(y,p,g){return function zh(y,p,g){return fu.apply(this,arguments)}(y,p,g)}(w._delegate,g,Qi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function zr(y,p){return ko.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Zr,y})();function Ad(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const T=w;return{next:z=>T(z&&Lo.getOrCreate(z)),error:p,complete:g}}function cs(y,p){const g=function Ax(y,p){const g=m_();if(!g)return[];const w=$(nf,y,p);switch(g.getItem(w)){case Zr.NONE:return[gr];case Zr.LOCAL:return[ks,As];case Zr.SESSION:return[As];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(ks)&&g.push(ks),typeof window<"u")for(const w of[Ms,As])g.includes(w)||g.push(w);return g.includes(gr)||g.push(gr),g}class ha{constructor(){this.providerId="phone",this._delegate=new qr(da(ne.Z.auth()))}static credential(p,g){return qr.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}ha.PHONE_SIGN_IN_METHOD=qr.PHONE_SIGN_IN_METHOD,ha.PROVIDER_ID=qr.PROVIDER_ID;const v_=le;class kd{constructor(p,g,w=ne.Z.app()){var T;v_(null===(T=w.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Bh(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kx(y){y.INTERNAL.registerComponent(new we.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new rf(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:yh,FacebookAuthProvider:ru,GithubAuthProvider:bh,GoogleAuthProvider:Pl,OAuthProvider:Ys,SAMLAuthProvider:Nc,PhoneAuthProvider:ha,PhoneMultiFactorGenerator:sc,RecaptchaVerifier:kd,TwitterAuthProvider:Fc,Auth:rf,AuthCredential:Mo,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(ne.Z)},5861:(bt,Se,V)=>{function s(B,ce,de,J,we,xe,pe){try{var W=B[xe](pe),q=W.value}catch(Q){return void de(Q)}W.done?ce(q):Promise.resolve(q).then(J,we)}function ne(B){return function(){var ce=this,de=arguments;return new Promise(function(J,we){var xe=B.apply(ce,de);function pe(q){s(xe,J,we,pe,W,"next",q)}function W(q){s(xe,J,we,pe,W,"throw",q)}pe(void 0)})}}V.d(Se,{Z:()=>ne})}},bt=>{bt(bt.s=6409)}]);
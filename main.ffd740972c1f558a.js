"use strict";(self.webpackChunkTeamVacationPlanner=self.webpackChunkTeamVacationPlanner||[]).push([[179],{2011:(bt,Se,V)=>{V.d(Se,{Dh:()=>xe,GT:()=>J,cc:()=>Te,hO:()=>je,on:()=>q,pX:()=>de,xv:()=>pe});var c=V(4650),ie=V(9260),B=V(4976);bt=V.hmd(bt);const ce=["ngOnDestroy"],de=(Pe,Fe,Ue,Ne={})=>new Proxy(Pe,{get:(Ce,Ee)=>Ue.runOutsideAngular(()=>{var We;if(Pe[Ee])return!(null===(We=Ne?.spy)||void 0===We)&&We.get&&Ne.spy.get(Ee,Pe[Ee]),Pe[Ee];if(ce.indexOf(Ee)>-1)return()=>{};const Le=Fe.toPromise().then(lt=>{const le=lt&&lt[Ee];return"function"==typeof le?le.bind(lt):le&&le.then?le.then(kt=>Ue.run(()=>kt)):Ue.run(()=>le)});return new Proxy(()=>{},{get:(lt,le)=>Le[le],apply:(lt,le,kt)=>Le.then(rt=>{var nn;const pt=rt&&rt(...kt);return!(null===(nn=Ne?.spy)||void 0===nn)&&nn.apply&&Ne.spy.apply(Ee,kt,pt),pt})})})}),J=(Pe,Fe)=>{Fe.forEach(Ue=>{Object.getOwnPropertyNames(Ue.prototype||Ue).forEach(Ne=>{Object.defineProperty(Pe.prototype,Ne,Object.getOwnPropertyDescriptor(Ue.prototype||Ue,Ne))})})};class be{constructor(Fe){return Fe}}const xe=new c.OlP("angularfire2.app.options"),pe=new c.OlP("angularfire2.app.name");function q(Pe,Fe,Ue){const Ce="object"==typeof Ue&&Ue||{};Ce.name=Ce.name||"string"==typeof Ue&&Ue||"[DEFAULT]";const We=ie.Z.apps.filter(Le=>Le&&Le.name===Ce.name)[0]||Fe.runOutsideAngular(()=>ie.Z.initializeApp(Pe,Ce));try{JSON.stringify(Pe)!==JSON.stringify(We.options)&&W("error",`${We.name} Firebase App already initialized with different options${bt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(We)}const W=(Pe,...Fe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Pe](...Fe)},Q={provide:be,useFactory:q,deps:[xe,c.R0b,[new c.FiY,pe]]};let je=(()=>{class Pe{constructor(Ue){ie.Z.registerVersion("angularfire",B.q4.full,"core"),ie.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ie.Z.registerVersion("angular",c.q4F.full,Ue.toString())}static initializeApp(Ue,Ne){return{ngModule:Pe,providers:[{provide:xe,useValue:Ue},{provide:pe,useValue:Ne}]}}}return Pe.\u0275fac=function(Ue){return new(Ue||Pe)(c.LFG(c.Lbi))},Pe.\u0275mod=c.oAB({type:Pe}),Pe.\u0275inj=c.cJS({providers:[Q]}),Pe})();function Te(Pe,Fe,Ue,Ne,Ce){const[,Ee,We]=globalThis.\u0275AngularfireInstanceCache.find(Le=>Le[0]===Pe)||[];if(Ee)return function Ze(Pe,Fe){try{return Pe.toString()===Fe.toString()}catch{return Pe===Fe}}(Ce,We)||(ge("error",`${Fe} was already initialized on the ${Ue} Firebase App with different settings.${ft?" You may need to reload as Firebase is not HMR aware.":""}`),ge("warn",{is:Ce,was:We})),Ee;{const Le=Ne();return globalThis.\u0275AngularfireInstanceCache.push([Pe,Le,Ce]),Le}}const ft=!!bt.hot,ge=(Pe,...Fe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Pe](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(bt,Se,V)=>{V.d(Se,{q4:()=>Er,iC:()=>Vh,HU:()=>Dr,vb:()=>sc,JM:()=>Os});var c=V(4650),ie=V(259),B=V(5861),ce=V(6881),de=V(2090),J=V(4859),be=V(1877);let pe,q;const je=new WeakMap,Te=new WeakMap,Ze=new WeakMap,ft=new WeakMap,ge=new WeakMap;let Ue={get(C,D,k){if(C instanceof IDBTransaction){if("done"===D)return Te.get(C);if("objectStoreNames"===D)return C.objectStoreNames||Ze.get(C);if("store"===D)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return We(C[D])},set:(C,D,k)=>(C[D]=k,!0),has:(C,D)=>C instanceof IDBTransaction&&("done"===D||"store"===D)||D in C};function Ee(C){return"function"==typeof C?function Ce(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return q||(q=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...D){return C.apply(Le(this),D),We(je.get(this))}:function(...D){return We(C.apply(Le(this),D))}:function(D,...k){const L=C.call(Le(this),D,...k);return Ze.set(L,D.sort?D.sort():[D]),We(L)}}(C):(C instanceof IDBTransaction&&function Fe(C){if(Te.has(C))return;const D=new Promise((k,L)=>{const $=()=>{C.removeEventListener("complete",X),C.removeEventListener("error",se),C.removeEventListener("abort",se)},X=()=>{k(),$()},se=()=>{L(C.error||new DOMException("AbortError","AbortError")),$()};C.addEventListener("complete",X),C.addEventListener("error",se),C.addEventListener("abort",se)});Te.set(C,D)}(C),((C,D)=>D.some(k=>C instanceof k))(C,function W(){return pe||(pe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Ue):C)}function We(C){if(C instanceof IDBRequest)return function Pe(C){const D=new Promise((k,L)=>{const $=()=>{C.removeEventListener("success",X),C.removeEventListener("error",se)},X=()=>{k(We(C.result)),$()},se=()=>{L(C.error),$()};C.addEventListener("success",X),C.addEventListener("error",se)});return D.then(k=>{k instanceof IDBCursor&&je.set(k,C)}).catch(()=>{}),ge.set(D,C),D}(C);if(ft.has(C))return ft.get(C);const D=Ee(C);return D!==C&&(ft.set(C,D),ge.set(D,C)),D}const Le=C=>ge.get(C),kt=["get","getKey","getAll","getAllKeys","count"],rt=["put","add","delete","clear"],nn=new Map;function pt(C,D){if(!(C instanceof IDBDatabase)||D in C||"string"!=typeof D)return;if(nn.get(D))return nn.get(D);const k=D.replace(/FromIndex$/,""),L=D!==k,$=rt.includes(k);if(!(k in(L?IDBIndex:IDBObjectStore).prototype)||!$&&!kt.includes(k))return;const X=function(){var se=(0,B.Z)(function*(Ge,...$e){const ut=this.transaction(Ge,$?"readwrite":"readonly");let Vt=ut.store;return L&&(Vt=Vt.index($e.shift())),(yield Promise.all([Vt[k](...$e),$&&ut.done]))[0]});return function($e){return se.apply(this,arguments)}}();return nn.set(D,X),X}!function Ne(C){Ue=C(Ue)}(C=>({...C,get:(D,k,L)=>pt(D,k)||C.get(D,k,L),has:(D,k)=>!!pt(D,k)||C.has(D,k)}));const me="@firebase/installations",_e="0.6.4",ke=`w:${_e}`,qe="FIS_v2",en=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function At(C){return C instanceof de.ZR&&C.code.includes("request-failed")}function fn({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function En(C){return{token:C.token,requestStatus:2,expiresIn:ys(C.expiresIn),creationTime:Date.now()}}function Vn(C,D){return rr.apply(this,arguments)}function rr(){return(rr=(0,B.Z)(function*(C,D){const L=(yield D.json()).error;return en.create("request-failed",{requestName:C,serverCode:L.code,serverMessage:L.message,serverStatus:L.status})})).apply(this,arguments)}function pr({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function Wi(C,{refreshToken:D}){const k=pr(C);return k.append("Authorization",function bs(C){return`${qe} ${C}`}(D)),k}function vs(C){return So.apply(this,arguments)}function So(){return(So=(0,B.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function ys(C){return Number(C.replace("s","000"))}function Pi(C,D){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:k}){const L=fn(C),$=pr(C),X=D.getImmediate({optional:!0});if(X){const ut=yield X.getHeartbeatsHeader();ut&&$.append("x-firebase-client",ut)}const Ge={method:"POST",headers:$,body:JSON.stringify({fid:k,authVersion:qe,appId:C.appId,sdkVersion:ke})},$e=yield vs(()=>fetch(L,Ge));if($e.ok){const ut=yield $e.json();return{fid:ut.fid||k,registrationStatus:2,refreshToken:ut.refreshToken,authToken:En(ut.authToken)}}throw yield Vn("Create Installation",$e)})).apply(this,arguments)}function wt(C){return new Promise(D=>{setTimeout(D,C)})}const Al=/^[cdef][\w-]{21}$/;function Br(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const k=function mr(C){return function Tl(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Al.test(k)?k:""}catch{return""}}function Tt(C){return`${C.appName}!${C.appId}`}const ct=new Map;function Lt(C,D){const k=Tt(C);Fi(k,D),function xi(C,D){const k=function gr(){return!Wn&&"BroadcastChannel"in self&&(Wn=new BroadcastChannel("[Firebase] FID Change"),Wn.onmessage=C=>{Fi(C.data.key,C.data.fid)}),Wn}();k&&k.postMessage({key:C,fid:D}),function Dn(){0===ct.size&&Wn&&(Wn.close(),Wn=null)}()}(k,D)}function Fi(C,D){const k=ct.get(C);if(k)for(const L of k)L(D)}let Wn=null;const sr="firebase-installations-store";let Vr=null;function mn(){return Vr||(Vr=function lt(C,D,{blocked:k,upgrade:L,blocking:$,terminated:X}={}){const se=indexedDB.open(C,D),Ge=We(se);return L&&se.addEventListener("upgradeneeded",$e=>{L(We(se.result),$e.oldVersion,$e.newVersion,We(se.transaction))}),k&&se.addEventListener("blocked",()=>k()),Ge.then($e=>{X&&$e.addEventListener("close",()=>X()),$&&$e.addEventListener("versionchange",()=>$())}).catch(()=>{}),Ge}("firebase-installations-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(sr)}})),Vr}function Qn(C,D){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,B.Z)(function*(C,D){const k=Tt(C),$=(yield mn()).transaction(sr,"readwrite"),X=$.objectStore(sr),se=yield X.get(k);return yield X.put(D,k),yield $.done,(!se||se.fid!==D.fid)&&Lt(C,D.fid),D})).apply(this,arguments)}function Ur(C){return qn.apply(this,arguments)}function qn(){return(qn=(0,B.Z)(function*(C){const D=Tt(C),L=(yield mn()).transaction(sr,"readwrite");yield L.objectStore(sr).delete(D),yield L.done})).apply(this,arguments)}function ar(C,D){return _r.apply(this,arguments)}function _r(){return(_r=(0,B.Z)(function*(C,D){const k=Tt(C),$=(yield mn()).transaction(sr,"readwrite"),X=$.objectStore(sr),se=yield X.get(k),Ge=D(se);return void 0===Ge?yield X.delete(k):yield X.put(Ge,k),yield $.done,Ge&&(!se||se.fid!==Ge.fid)&&Lt(C,Ge.fid),Ge})).apply(this,arguments)}function G(C){return z.apply(this,arguments)}function z(){return(z=(0,B.Z)(function*(C){let D;const k=yield ar(C.appConfig,L=>{const $=Z(L),X=ve(C,$);return D=X.registrationPromise,X.installationEntry});return""===k.fid?{installationEntry:yield D}:{installationEntry:k,registrationPromise:D}})).apply(this,arguments)}function Z(C){return Rn(C||{fid:Br(),registrationStatus:0})}function ve(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(en.create("app-offline"))};const k={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},L=function oe(C,D){return dt.apply(this,arguments)}(C,k);return{installationEntry:k,registrationPromise:L}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:Et(C)}:{installationEntry:D}}function dt(){return(dt=(0,B.Z)(function*(C,D){try{const k=yield Pi(C,D);return Qn(C.appConfig,k)}catch(k){throw At(k)&&409===k.customData.serverCode?yield Ur(C.appConfig):yield Qn(C.appConfig,{fid:D.fid,registrationStatus:0}),k}})).apply(this,arguments)}function Et(C){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,B.Z)(function*(C){let D=yield Ot(C.appConfig);for(;1===D.registrationStatus;)yield wt(100),D=yield Ot(C.appConfig);if(0===D.registrationStatus){const{installationEntry:k,registrationPromise:L}=yield G(C);return L||k}return D})).apply(this,arguments)}function Ot(C){return ar(C,D=>{if(!D)throw en.create("installation-not-found");return Rn(D)})}function Rn(C){return function Un(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function cn(C,D){return qi.apply(this,arguments)}function qi(){return(qi=(0,B.Z)(function*({appConfig:C,heartbeatServiceProvider:D},k){const L=Ci(C,k),$=Wi(C,k),X=D.getImmediate({optional:!0});if(X){const ut=yield X.getHeartbeatsHeader();ut&&$.append("x-firebase-client",ut)}const Ge={method:"POST",headers:$,body:JSON.stringify({installation:{sdkVersion:ke,appId:C.appId}})},$e=yield vs(()=>fetch(L,Ge));if($e.ok)return En(yield $e.json());throw yield Vn("Generate Auth Token",$e)})).apply(this,arguments)}function Ci(C,{fid:D}){return`${fn(C)}/${D}/authTokens:generate`}function vr(C){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,B.Z)(function*(C,D=!1){let k;const L=yield ar(C.appConfig,X=>{if(!tn(X))throw en.create("not-registered");const se=X.authToken;if(!D&&gn(se))return X;if(1===se.requestStatus)return k=he(C,D),X;{if(!navigator.onLine)throw en.create("app-offline");const Ge=Yn(X);return k=yt(C,Ge),Ge}});return k?yield k:L.authToken})).apply(this,arguments)}function he(C,D){return re.apply(this,arguments)}function re(){return(re=(0,B.Z)(function*(C,D){let k=yield Re(C.appConfig);for(;1===k.authToken.requestStatus;)yield wt(100),k=yield Re(C.appConfig);const L=k.authToken;return 0===L.requestStatus?vr(C,D):L})).apply(this,arguments)}function Re(C){return ar(C,D=>{if(!tn(D))throw en.create("not-registered");return function Wt(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function yt(C,D){return St.apply(this,arguments)}function St(){return(St=(0,B.Z)(function*(C,D){try{const k=yield cn(C,D),L=Object.assign(Object.assign({},D),{authToken:k});return yield Qn(C.appConfig,L),k}catch(k){if(!At(k)||401!==k.customData.serverCode&&404!==k.customData.serverCode){const L=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield Qn(C.appConfig,L)}else yield Ur(C.appConfig);throw k}})).apply(this,arguments)}function tn(C){return void 0!==C&&2===C.registrationStatus}function gn(C){return 2===C.requestStatus&&!function Ei(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function Yn(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function Li(){return(Li=(0,B.Z)(function*(C){const D=C,{installationEntry:k,registrationPromise:L}=yield G(D);return L?L.catch(console.error):vr(D).catch(console.error),k.fid})).apply(this,arguments)}function lr(){return(lr=(0,B.Z)(function*(C,D=!1){const k=C;return yield Hr(k),(yield vr(k,D)).token})).apply(this,arguments)}function Hr(C){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,B.Z)(function*(C){const{registrationPromise:D}=yield G(C);D&&(yield D)})).apply(this,arguments)}function yr(C){return en.create("missing-app-config-values",{valueName:C})}const qt="installations",Ks=C=>{const D=C.getProvider("app").getImmediate(),k=function Rl(C){if(!C||!C.options)throw yr("App Configuration");if(!C.name)throw yr("App Name");const D=["projectId","apiKey","appId"];for(const k of D)if(!C.options[k])throw yr(k);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:k,heartbeatServiceProvider:(0,ce._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},To=C=>{const D=C.getProvider("app").getImmediate(),k=(0,ce._getProvider)(D,qt).getImmediate();return{getId:()=>function Kn(C){return Li.apply(this,arguments)}(k),getToken:$=>function kl(C){return lr.apply(this,arguments)}(k,$)}};(function ws(){(0,ce._registerComponent)(new J.wA(qt,Ks,"PUBLIC")),(0,ce._registerComponent)(new J.wA("installations-internal",To,"PRIVATE"))})(),(0,ce.registerVersion)(me,_e),(0,ce.registerVersion)(me,_e,"esm2017");const ri="@firebase/remote-config",Di=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class qo{constructor(D,k,L,$){this.client=D,this.storage=k,this.storageCache=L,this.logger=$}isCachedDataFresh(D,k){if(!k)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const L=Date.now()-k,$=L<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${L}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${$}.`),$}fetch(D){var k=this;return(0,B.Z)(function*(){const[L,$]=yield Promise.all([k.storage.getLastSuccessfulFetchTimestampMillis(),k.storage.getLastSuccessfulFetchResponse()]);if($&&k.isCachedDataFresh(D.cacheMaxAgeMillis,L))return $;D.eTag=$&&$.eTag;const X=yield k.client.fetch(D),se=[k.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&se.push(k.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(se),X})()}}function $g(C=navigator){return C.languages&&C.languages[0]||C.language}class eu{constructor(D,k,L,$,X,se){this.firebaseInstallations=D,this.sdkVersion=k,this.namespace=L,this.projectId=$,this.apiKey=X,this.appId=se}fetch(D){var k=this;return(0,B.Z)(function*(){const[L,$]=yield Promise.all([k.firebaseInstallations.getId(),k.firebaseInstallations.getToken()]),se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${k.projectId}/namespaces/${k.namespace}:fetch?key=${k.apiKey}`,Ge={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},$e={sdk_version:k.sdkVersion,app_instance_id:L,app_instance_id_token:$,app_id:k.appId,language_code:$g()},ut={method:"POST",headers:Ge,body:JSON.stringify($e)},Vt=fetch(se,ut),Pt=new Promise((_o,ji)=>{D.signal.addEventListener(()=>{const vd=new Error("The operation was aborted.");vd.name="AbortError",ji(vd)})});let Or;try{yield Promise.race([Vt,Pt]),Or=yield Vt}catch(_o){let ji="fetch-client-network";throw"AbortError"===_o?.name&&(ji="fetch-timeout"),Di.create(ji,{originalErrorMessage:_o?.message})}let zn=Or.status;const Zr=Or.headers.get("ETag")||void 0;let Yt,go;if(200===Or.status){let _o;try{_o=yield Or.json()}catch(ji){throw Di.create("fetch-client-parse",{originalErrorMessage:ji?.message})}Yt=_o.entries,go=_o.state}if("INSTANCE_STATE_UNSPECIFIED"===go?zn=500:"NO_CHANGE"===go?zn=304:("NO_TEMPLATE"===go||"EMPTY_CONFIG"===go)&&(Yt={}),304!==zn&&200!==zn)throw Di.create("fetch-status",{httpStatus:zn});return{status:zn,eTag:Zr,config:Yt}})()}}class qg{constructor(D,k){this.client=D,this.storage=k}fetch(D){var k=this;return(0,B.Z)(function*(){const L=(yield k.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return k.attemptFetch(D,L)})()}attemptFetch(D,{throttleEndTimeMillis:k,backoffCount:L}){var $=this;return(0,B.Z)(function*(){yield function Wg(C,D){return new Promise((k,L)=>{const $=Math.max(D-Date.now(),0),X=setTimeout(k,$);C.addEventListener(()=>{clearTimeout(X),L(Di.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,k);try{const X=yield $.client.fetch(D);return yield $.storage.deleteThrottleMetadata(),X}catch(X){if(!function dh(C){if(!(C instanceof de.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(X))throw X;const se={throttleEndTimeMillis:Date.now()+(0,de.$s)(L),backoffCount:L+1};return yield $.storage.setThrottleMetadata(se),$.attemptFetch(D,se)}})()}}class Tp{constructor(D,k,L,$,X){this.app=D,this._client=k,this._storageCache=L,this._storage=$,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Rc(C,D){const k=C.target.error||void 0;return Di.create(D,{originalErrorMessage:k&&k?.message})}const Jn="app_namespace_store";class zy{constructor(D,k,L,$=function Oa(){return new Promise((C,D)=>{try{const k=indexedDB.open("firebase_remote_config",1);k.onerror=L=>{D(Rc(L,"storage-open"))},k.onsuccess=L=>{C(L.target.result)},k.onupgradeneeded=L=>{0===L.oldVersion&&L.target.result.createObjectStore(Jn,{keyPath:"compositeKey"})}}catch(k){D(Di.create("storage-open",{originalErrorMessage:k?.message}))}})}()){this.appId=D,this.appName=k,this.namespace=L,this.openDbPromise=$}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var k=this;return(0,B.Z)(function*(){const L=yield k.openDbPromise;return new Promise(($,X)=>{const Ge=L.transaction([Jn],"readonly").objectStore(Jn),$e=k.createCompositeKey(D);try{const ut=Ge.get($e);ut.onerror=Vt=>{X(Rc(Vt,"storage-get"))},ut.onsuccess=Vt=>{const Pt=Vt.target.result;$(Pt?Pt.value:void 0)}}catch(ut){X(Di.create("storage-get",{originalErrorMessage:ut?.message}))}})})()}set(D,k){var L=this;return(0,B.Z)(function*(){const $=yield L.openDbPromise;return new Promise((X,se)=>{const $e=$.transaction([Jn],"readwrite").objectStore(Jn),ut=L.createCompositeKey(D);try{const Vt=$e.put({compositeKey:ut,value:k});Vt.onerror=Pt=>{se(Rc(Pt,"storage-set"))},Vt.onsuccess=()=>{X()}}catch(Vt){se(Di.create("storage-set",{originalErrorMessage:Vt?.message}))}})})()}delete(D){var k=this;return(0,B.Z)(function*(){const L=yield k.openDbPromise;return new Promise(($,X)=>{const Ge=L.transaction([Jn],"readwrite").objectStore(Jn),$e=k.createCompositeKey(D);try{const ut=Ge.delete($e);ut.onerror=Vt=>{X(Rc(Vt,"storage-delete"))},ut.onsuccess=()=>{$()}}catch(ut){X(Di.create("storage-delete",{originalErrorMessage:ut?.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class fh{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,B.Z)(function*(){const k=D.storage.getLastFetchStatus(),L=D.storage.getLastSuccessfulFetchTimestampMillis(),$=D.storage.getActiveConfig(),X=yield k;X&&(D.lastFetchStatus=X);const se=yield L;se&&(D.lastSuccessfulFetchTimestampMillis=se);const Ge=yield $;Ge&&(D.activeConfig=Ge)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function tu(){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,B.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}let nu,Es;!function Yo(){(0,ce._registerComponent)(new J.wA("remote-config",function C(D,{instanceIdentifier:k}){const L=D.getProvider("app").getImmediate(),$=D.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Di.create("registration-window");if(!(0,de.hl)())throw Di.create("indexed-db-unavailable");const{projectId:X,apiKey:se,appId:Ge}=L.options;if(!X)throw Di.create("registration-project-id");if(!se)throw Di.create("registration-api-key");if(!Ge)throw Di.create("registration-app-id");const $e=new zy(Ge,L.name,k=k||"firebase"),ut=new fh($e),Vt=new be.Yd(ri);Vt.logLevel=be.in.ERROR;const Pt=new eu($,ce.SDK_VERSION,k,X,se,Ge),Or=new qg(Pt,$e),zn=new qo(Or,$e,ut,Vt),Zr=new Tp(L,zn,ut,$e,Vt);return function Rr(C){const D=(0,de.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(Zr),Zr},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(ri,"0.4.4"),(0,ce.registerVersion)(ri,"0.4.4","esm2017")}();const Pc=new WeakMap,Ds=new WeakMap,wr=new WeakMap,cr=new WeakMap,Ll=new WeakMap;let Ko={get(C,D,k){if(C instanceof IDBTransaction){if("done"===D)return Ds.get(C);if("objectStoreNames"===D)return C.objectStoreNames||wr.get(C);if("store"===D)return k.objectStoreNames[1]?void 0:k.objectStore(k.objectStoreNames[0])}return dr(C[D])},set:(C,D,k)=>(C[D]=k,!0),has:(C,D)=>C instanceof IDBTransaction&&("done"===D||"store"===D)||D in C};function gh(C){return"function"==typeof C?function mh(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Oc(){return Es||(Es=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...D){return C.apply(Hi(this),D),dr(Pc.get(this))}:function(...D){return dr(C.apply(Hi(this),D))}:function(D,...k){const L=C.call(Hi(this),D,...k);return wr.set(L,D.sort?D.sort():[D]),dr(L)}}(C):(C instanceof IDBTransaction&&function Bl(C){if(Ds.has(C))return;const D=new Promise((k,L)=>{const $=()=>{C.removeEventListener("complete",X),C.removeEventListener("error",se),C.removeEventListener("abort",se)},X=()=>{k(),$()},se=()=>{L(C.error||new DOMException("AbortError","AbortError")),$()};C.addEventListener("complete",X),C.addEventListener("error",se),C.addEventListener("abort",se)});Ds.set(C,D)}(C),((C,D)=>D.some(k=>C instanceof k))(C,function Mp(){return nu||(nu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Ko):C)}function dr(C){if(C instanceof IDBRequest)return function Vi(C){const D=new Promise((k,L)=>{const $=()=>{C.removeEventListener("success",X),C.removeEventListener("error",se)},X=()=>{k(dr(C.result)),$()},se=()=>{L(C.error),$()};C.addEventListener("success",X),C.addEventListener("error",se)});return D.then(k=>{k instanceof IDBCursor&&Pc.set(k,C)}).catch(()=>{}),Ll.set(D,C),D}(C);if(cr.has(C))return cr.get(C);const D=gh(C);return D!==C&&(cr.set(C,D),Ll.set(D,C)),D}const Hi=C=>Ll.get(C);function Fc(C,D,{blocked:k,upgrade:L,blocking:$,terminated:X}={}){const se=indexedDB.open(C,D),Ge=dr(se);return L&&se.addEventListener("upgradeneeded",$e=>{L(dr(se.result),$e.oldVersion,$e.newVersion,dr(se.transaction))}),k&&se.addEventListener("blocked",()=>k()),Ge.then($e=>{X&&$e.addEventListener("close",()=>X()),$&&$e.addEventListener("versionchange",()=>$())}).catch(()=>{}),Ge}function Zo(C,{blocked:D}={}){const k=indexedDB.deleteDatabase(C);return D&&k.addEventListener("blocked",()=>D()),dr(k).then(()=>{})}const iu=["get","getKey","getAll","getAllKeys","count"],Is=["put","add","delete","clear"],Pa=new Map;function Vl(C,D){if(!(C instanceof IDBDatabase)||D in C||"string"!=typeof D)return;if(Pa.get(D))return Pa.get(D);const k=D.replace(/FromIndex$/,""),L=D!==k,$=Is.includes(k);if(!(k in(L?IDBIndex:IDBObjectStore).prototype)||!$&&!iu.includes(k))return;const X=function(){var se=(0,B.Z)(function*(Ge,...$e){const ut=this.transaction(Ge,$?"readwrite":"readonly");let Vt=ut.store;return L&&(Vt=Vt.index($e.shift())),(yield Promise.all([Vt[k](...$e),$&&ut.done]))[0]});return function($e){return se.apply(this,arguments)}}();return Pa.set(D,X),X}!function Ui(C){Ko=C(Ko)}(C=>({...C,get:(D,k,L)=>Vl(D,k)||C.get(D,k,L),has:(D,k)=>!!Vl(D,k)||C.has(D,k)}));const Bt="/firebase-messaging-sw.js",Ul="/firebase-cloud-messaging-push-scope",_h="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Nc="google.c.a.c_id",yh="google.c.a.c_l",Lc="google.c.a.ts",Yg="google.c.a.e";var fe=(()=>{return(C=fe||(fe={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",fe;var C})();function zt(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Hl(C){const k=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),L=atob(k),$=new Uint8Array(L.length);for(let X=0;X<L.length;++X)$[X]=L.charCodeAt(X);return $}const zl="fcm_token_details_db",Xs="fcm_token_object_Store";function Bc(C){return xr.apply(this,arguments)}function xr(){return xr=(0,B.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(zl))return null;let D=null;return(yield Fc(zl,5,{upgrade:(L=(0,B.Z)(function*($,X,se,Ge){var $e;if(X<2||!$.objectStoreNames.contains(Xs))return;const ut=Ge.objectStore(Xs),Vt=yield ut.index("fcmSenderId").get(C);if(yield ut.clear(),Vt)if(2===X){const Pt=Vt;if(!Pt.auth||!Pt.p256dh||!Pt.endpoint)return;D={token:Pt.fcmToken,createTime:null!==($e=Pt.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:Pt.auth,p256dh:Pt.p256dh,endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:"string"==typeof Pt.vapidKey?Pt.vapidKey:zt(Pt.vapidKey)}}}else if(3===X){const Pt=Vt;D={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:zt(Pt.auth),p256dh:zt(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:zt(Pt.vapidKey)}}}else if(4===X){const Pt=Vt;D={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:zt(Pt.auth),p256dh:zt(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:zt(Pt.vapidKey)}}}}),function(X,se,Ge,$e){return L.apply(this,arguments)})})).close(),yield Zo(zl),yield Zo("fcm_vapid_details_db"),yield Zo("undefined"),wh(D)?D:null;var L}),xr.apply(this,arguments)}function wh(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const Qo="firebase-messaging-store";let jl=null;function fi(){return jl||(jl=Fc("firebase-messaging-database",1,{upgrade:(C,D)=>{0===D&&C.createObjectStore(Qo)}})),jl}function Gr(C){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,B.Z)(function*(C){const D=Uc(C),L=yield(yield fi()).transaction(Qo).objectStore(Qo).get(D);if(L)return L;{const $=yield Bc(C.appConfig.senderId);if($)return yield Js(C,$),$}})).apply(this,arguments)}function Js(C,D){return $r.apply(this,arguments)}function $r(){return($r=(0,B.Z)(function*(C,D){const k=Uc(C),$=(yield fi()).transaction(Qo,"readwrite");return yield $.objectStore(Qo).put(D,k),yield $.done,D})).apply(this,arguments)}function xh(C){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,B.Z)(function*(C){const D=Uc(C),L=(yield fi()).transaction(Qo,"readwrite");yield L.objectStore(Qo).delete(D),yield L.done})).apply(this,arguments)}function Uc({appConfig:C}){return C.appId}const pi=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fa(C,D){return ru.apply(this,arguments)}function ru(){return(ru=(0,B.Z)(function*(C,D){const k=yield ou(C),L=Eh(D),$={method:"POST",headers:k,body:JSON.stringify(L)};let X;try{X=yield(yield fetch($l(C.appConfig),$)).json()}catch(se){throw pi.create("token-subscribe-failed",{errorInfo:se?.toString()})}if(X.error)throw pi.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw pi.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function Hc(C,D){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,B.Z)(function*(C,D){const k=yield ou(C),L=Eh(D.subscriptionOptions),$={method:"PATCH",headers:k,body:JSON.stringify(L)};let X;try{X=yield(yield fetch(`${$l(C.appConfig)}/${D.token}`,$)).json()}catch(se){throw pi.create("token-update-failed",{errorInfo:se?.toString()})}if(X.error)throw pi.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw pi.create("token-update-no-token");return X.token})).apply(this,arguments)}function zc(C,D){return jc.apply(this,arguments)}function jc(){return(jc=(0,B.Z)(function*(C,D){const L={method:"DELETE",headers:yield ou(C)};try{const X=yield(yield fetch(`${$l(C.appConfig)}/${D}`,L)).json();if(X.error)throw pi.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch($){throw pi.create("token-unsubscribe-failed",{errorInfo:$?.toString()})}})).apply(this,arguments)}function $l({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function ou(C){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,B.Z)(function*({appConfig:C,installations:D}){const k=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${k}`})})).apply(this,arguments)}function Eh({p256dh:C,auth:D,endpoint:k,vapidKey:L}){const $={web:{endpoint:k,auth:D,p256dh:C}};return L!==_h&&($.web.applicationPubKey=L),$}const Gc=6048e5;function kp(C){return $c.apply(this,arguments)}function $c(){return($c=(0,B.Z)(function*(C){const D=yield Op(C.swRegistration,C.vapidKey),k={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:zt(D.getKey("auth")),p256dh:zt(D.getKey("p256dh"))},L=yield Gr(C.firebaseDependencies);if(L){if(Qg(L.subscriptionOptions,k))return Date.now()>=L.createTime+Gc?Hn(C,{token:L.token,createTime:Date.now(),subscriptionOptions:k}):L.token;try{yield zc(C.firebaseDependencies,L.token)}catch($){console.warn($)}return Rp(C.firebaseDependencies,k)}return Rp(C.firebaseDependencies,k)})).apply(this,arguments)}function Yi(C){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,B.Z)(function*(C){const D=yield Gr(C.firebaseDependencies);D&&(yield zc(C.firebaseDependencies,D.token),yield xh(C.firebaseDependencies));const k=yield C.swRegistration.pushManager.getSubscription();return!k||k.unsubscribe()})).apply(this,arguments)}function Hn(C,D){return ql.apply(this,arguments)}function ql(){return(ql=(0,B.Z)(function*(C,D){try{const k=yield Hc(C.firebaseDependencies,D),L=Object.assign(Object.assign({},D),{token:k,createTime:Date.now()});return yield Js(C.firebaseDependencies,L),k}catch(k){throw yield Yi(C),k}})).apply(this,arguments)}function Rp(C,D){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,B.Z)(function*(C,D){const L={token:yield Fa(C,D),createTime:Date.now(),subscriptionOptions:D};return yield Js(C,L),L.token})).apply(this,arguments)}function Op(C,D){return Dh.apply(this,arguments)}function Dh(){return(Dh=(0,B.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Hl(D)})})).apply(this,arguments)}function Qg(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function Wc(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function su(C,D){if(!D.notification)return;C.notification={};const k=D.notification.title;k&&(C.notification.title=k);const L=D.notification.body;L&&(C.notification.body=L);const $=D.notification.image;$&&(C.notification.image=$);const X=D.notification.icon;X&&(C.notification.icon=X)}(D,C),function qc(C,D){D.data&&(C.data=D.data)}(D,C),function Yc(C,D){var k,L,$,X,se;if(!(D.fcmOptions||null!==(k=D.notification)&&void 0!==k&&k.click_action))return;C.fcmOptions={};const Ge=null!==($=null===(L=D.fcmOptions)||void 0===L?void 0:L.link)&&void 0!==$?$:null===(X=D.notification)||void 0===X?void 0:X.click_action;Ge&&(C.fcmOptions.link=Ge);const $e=null===(se=D.fcmOptions)||void 0===se?void 0:se.analytics_label;$e&&(C.fcmOptions.analyticsLabel=$e)}(D,C),D}function Yl(C){return"object"==typeof C&&!!C&&Nc in C}function Ih(C,D){const k=[];for(let L=0;L<C.length;L++)k.push(C.charAt(L)),L<D.length&&k.push(D.charAt(L));return k.join("")}function Na(C){return pi.create("missing-app-config-values",{valueName:C})}Ih("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ih("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Pp{constructor(D,k,L){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const $=function Jo(C){if(!C||!C.options)throw Na("App Configuration Object");if(!C.name)throw Na("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:k}=C;for(const L of D)if(!k[L])throw Na(L);return{appName:C.name,projectId:k.projectId,apiKey:k.apiKey,appId:k.appId,senderId:k.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:$,installations:k,analyticsProvider:L}}_delete(){return Promise.resolve()}}function Xg(C){return Kc.apply(this,arguments)}function Kc(){return(Kc=(0,B.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Bt,{scope:Ul}),C.swRegistration.update().catch(()=>{})}catch(D){throw pi.create("failed-service-worker-registration",{browserErrorMessage:D?.message})}})).apply(this,arguments)}function jy(C,D){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,B.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield Xg(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw pi.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function ko(C,D){return ea.apply(this,arguments)}function ea(){return(ea=(0,B.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=_h)})).apply(this,arguments)}function La(){return(La=(0,B.Z)(function*(C,D){if(!navigator)throw pi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pi.create("permission-blocked");return yield ko(C,D?.vapidKey),yield jy(C,D?.serviceWorkerRegistration),kp(C)})).apply(this,arguments)}function Ba(C,D,k){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,B.Z)(function*(C,D,k){const L=ta(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(L,{message_id:k[Nc],message_name:k[yh],message_time:k[Lc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ta(C){switch(C){case fe.NOTIFICATION_CLICKED:return"notification_open";case fe.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function na(){return(na=(0,B.Z)(function*(C,D){const k=D.data;if(!k.isFirebaseMessaging)return;C.onMessageHandler&&k.messageType===fe.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Wc(k)):C.onMessageHandler.next(Wc(k)));const L=k.data;Yl(L)&&"1"===L[Yg]&&(yield Ba(C,k.messageType,L))})).apply(this,arguments)}const Ts="@firebase/messaging",ia=C=>{const D=new Pp(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",k=>function Qc(C,D){return na.apply(this,arguments)}(D,k)),D},Xc=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:L=>function Sh(C,D){return La.apply(this,arguments)}(D,L)}};function au(){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,B.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jc(){(0,ce._registerComponent)(new J.wA("messaging",ia,"PUBLIC")),(0,ce._registerComponent)(new J.wA("messaging-internal",Xc,"PRIVATE")),(0,ce.registerVersion)(Ts,"0.12.4"),(0,ce.registerVersion)(Ts,"0.12.4","esm2017")}();const Tn="analytics",Fp="firebase_id",Va="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",lu="https://www.googletagmanager.com/gtag/js",zi=new be.Yd("@firebase/analytics"),oi=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function id(C){if(!C.startsWith(lu)){const D=oi.create("invalid-gtag-resource",{gtagURL:C});return zi.warn(D.message),""}return C}function rd(C){return Promise.all(C.map(D=>D.catch(k=>k)))}function Ro(C,D){const k=function Ha(C,D){let k;return window.trustedTypes&&(k=window.trustedTypes.createPolicy(C,D)),k}("firebase-js-sdk-policy",{createScriptURL:id}),L=document.createElement("script"),$=`${lu}?l=${C}&id=${D}`;L.src=k?k?.createScriptURL($):$,L.async=!0,document.head.appendChild(L)}function Jl(C,D,k,L,$,X){return ra.apply(this,arguments)}function ra(){return(ra=(0,B.Z)(function*(C,D,k,L,$,X){const se=L[$];try{if(se)yield D[se];else{const $e=(yield rd(k)).find(ut=>ut.measurementId===$);$e&&(yield D[$e.appId])}}catch(Ge){zi.error(Ge)}C("config",$,X)})).apply(this,arguments)}function od(C,D,k,L,$){return ec.apply(this,arguments)}function ec(){return(ec=(0,B.Z)(function*(C,D,k,L,$){try{let X=[];if($&&$.send_to){let se=$.send_to;Array.isArray(se)||(se=[se]);const Ge=yield rd(k);for(const $e of se){const ut=Ge.find(Pt=>Pt.measurementId===$e),Vt=ut&&D[ut.appId];if(!Vt){X=[];break}X.push(Vt)}}0===X.length&&(X=Object.values(D)),yield Promise.all(X),C("event",L,$||{})}catch(X){zi.error(X)}})).apply(this,arguments)}function tc(C){const D=window.document.getElementsByTagName("script");for(const k of Object.values(D))if(k.src&&k.src.includes(lu)&&k.src.includes(C))return k;return null}const sa=new class ks{constructor(D={},k=1e3){this.throttleMetadata=D,this.intervalMillis=k}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,k){this.throttleMetadata[D]=k}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Gy(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function Jg(C){return yn.apply(this,arguments)}function yn(){return(yn=(0,B.Z)(function*(C){var D;const{appId:k,apiKey:L}=C,$={method:"GET",headers:Gy(L)},X=Va.replace("{app-id}",k),se=yield fetch(X,$);if(200!==se.status&&304!==se.status){let Ge="";try{const $e=yield se.json();null!==(D=$e.error)&&void 0!==D&&D.message&&(Ge=$e.error.message)}catch{}throw oi.create("config-fetch-failed",{httpStatus:se.status,responseMessage:Ge})}return se.json()})).apply(this,arguments)}function aa(C){return nc.apply(this,arguments)}function nc(){return(nc=(0,B.Z)(function*(C,D=sa,k){const{appId:L,apiKey:$,measurementId:X}=C.options;if(!L)throw oi.create("no-app-id");if(!$){if(X)return{measurementId:X,appId:L};throw oi.create("no-api-key")}const se=D.getThrottleMetadata(L)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ge=new $y;return setTimeout((0,B.Z)(function*(){Ge.abort()}),void 0!==k?k:6e4),Lp({appId:L,apiKey:$,measurementId:X},se,Ge,D)})).apply(this,arguments)}function Lp(C,D,k){return ad.apply(this,arguments)}function ad(){return(ad=(0,B.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:k},L,$=sa){var X;const{appId:se,measurementId:Ge}=C;try{yield Bp(L,D)}catch($e){if(Ge)return zi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:se,measurementId:Ge};throw $e}try{const $e=yield Jg(C);return $.deleteThrottleMetadata(se),$e}catch($e){const ut=$e;if(!Vp(ut)){if($.deleteThrottleMetadata(se),Ge)return zi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ge} provided in the "measurementId" field in the local Firebase config. [${ut?.message}]`),{appId:se,measurementId:Ge};throw $e}const Vt=503===Number(null===(X=ut?.customData)||void 0===X?void 0:X.httpStatus)?(0,de.$s)(k,$.intervalMillis,30):(0,de.$s)(k,$.intervalMillis),Pt={throttleEndTimeMillis:Date.now()+Vt,backoffCount:k+1};return $.setThrottleMetadata(se,Pt),zi.debug(`Calling attemptFetch again in ${Vt} millis`),Lp(C,Pt,L,$)}})).apply(this,arguments)}function Bp(C,D){return new Promise((k,L)=>{const $=Math.max(D-Date.now(),0),X=setTimeout(k,$);C.addEventListener(()=>{clearTimeout(X),L(oi.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function Vp(C){if(!(C instanceof de.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class $y{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}let ja,zp;function Up(){return(Up=(0,B.Z)(function*(C,D,k,L,$){if($&&$.global)C("event",k,L);else{const X=yield D;C("event",k,Object.assign(Object.assign({},L),{send_to:X}))}})).apply(this,arguments)}function Ga(C){zp=C}function ud(C){ja=C}function Ki(){return hd.apply(this,arguments)}function hd(){return(hd=(0,B.Z)(function*(){if(!(0,de.hl)())return zi.warn(oi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(C){return zi.warn(oi.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function qr(){return(qr=(0,B.Z)(function*(C,D,k,L,$,X,se){var Ge;const $e=aa(C);$e.then(zn=>{k[zn.measurementId]=zn.appId,C.options.measurementId&&zn.measurementId!==C.options.measurementId&&zi.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${zn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zn=>zi.error(zn)),D.push($e);const ut=Ki().then(zn=>{if(zn)return L.getId()}),[Vt,Pt]=yield Promise.all([$e,ut]);tc(X)||Ro(X,Vt.measurementId),zp&&($("consent","default",zp),Ga(void 0)),$("js",new Date);const Or=null!==(Ge=se?.config)&&void 0!==Ge?Ge:{};return Or.origin="firebase",Or.update=!0,null!=Pt&&(Or[Fp]=Pt),$("config",Vt.measurementId,Or),ja&&($("set",ja),ud(void 0)),Vt.measurementId})).apply(this,arguments)}class Qe{constructor(D){this.app=D}_delete(){return delete xt[this.app.options.appId],Promise.resolve()}}let xt={},Cr=[];const Oh={};let cu,Yr,ca="dataLayer",$a=!1;function fd(C,D,k){!function Wa(){const C=[];if((0,de.ru)()&&C.push("This is a browser extension environment."),(0,de.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((L,$)=>`(${$+1}) ${L}`).join(" "),k=oi.create("invalid-analytics-context",{errorInfo:D});zi.warn(k.message)}}();const L=C.options.appId;if(!L)throw oi.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw oi.create("no-api-key");zi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=xt[L])throw oi.create("already-exists",{id:L});if(!$a){!function Np(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}(ca);const{wrappedGtag:X,gtagCore:se}=function oa(C,D,k,L,$){let X=function(...se){window[L].push(arguments)};return window[$]&&"function"==typeof window[$]&&(X=window[$]),window[$]=function sd(C,D,k,L){function X(){return(X=(0,B.Z)(function*(se,...Ge){try{if("event"===se){const[$e,ut]=Ge;yield od(C,D,k,$e,ut)}else if("config"===se){const[$e,ut]=Ge;yield Jl(C,D,k,L,$e,ut)}else if("consent"===se){const[$e]=Ge;C("consent","update",$e)}else if("get"===se){const[$e,ut,Vt]=Ge;C("get",$e,ut,Vt)}else if("set"===se){const[$e]=Ge;C("set",$e)}else C(se,...Ge)}catch($e){zi.error($e)}})).apply(this,arguments)}return function $(se){return X.apply(this,arguments)}}(X,C,D,k),{gtagCore:X,wrappedGtag:window[$]}}(xt,Cr,Oh,ca,"gtag");Yr=X,cu=se,$a=!0}return xt[L]=function dn(C,D,k,L,$,X,se){return qr.apply(this,arguments)}(C,Cr,Oh,D,cu,ca,k),new Qe(C)}function pd(){return da.apply(this,arguments)}function da(){return(da=(0,B.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Ka="@firebase/analytics";!function Lh(){(0,ce._registerComponent)(new J.wA(Tn,(D,{options:k})=>fd(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),k),"PUBLIC")),(0,ce._registerComponent)(new J.wA("analytics-internal",function C(D){try{const k=D.getProvider(Tn).getImmediate();return{logEvent:(L,$,X)=>function Ya(C,D,k,L){C=(0,de.m9)(C),function e_(C,D,k,L,$){return Up.apply(this,arguments)}(Yr,xt[C.app.options.appId],D,k,L).catch($=>zi.error($))}(k,L,$,X)}}catch(k){throw oi.create("interop-component-reg-failed",{reason:k})}},"PRIVATE")),(0,ce.registerVersion)(Ka,"0.10.0"),(0,ce.registerVersion)(Ka,"0.10.0","esm2017")}();var du=V(4408),rs=V(7565);const os=new class po extends rs.v{}(class Kr extends du.o{constructor(D,k){super(D,k),this.scheduler=D,this.work=k}schedule(D,k=0){return k>0?super.schedule(D,k):(this.delay=k,this.state=D,this.scheduler.flush(this),this)}execute(D,k){return k>0||this.closed?super.execute(D,k):this._execute(D,k)}requestAsyncId(D,k,L=0){return null!=L&&L>0||null==L&&this.delay>0?super.requestAsyncId(D,k,L):(D.flush(this),0)}});var md=V(4986),gd=V(8505),ti=V(9468),Ti=V(5363);const Er=new c.GfV("7.5.0"),An="__angularfire_symbol__analyticsIsSupportedValue",mi="__angularfire_symbol__analyticsIsSupported",oc="__angularfire_symbol__remoteConfigIsSupportedValue",ua="__angularfire_symbol__remoteConfigIsSupported",uu="__angularfire_symbol__messagingIsSupportedValue",mo="__angularfire_symbol__messagingIsSupported";function Os(C,D,k){if(D){if(1===D.length)return D[0];const X=D.filter(se=>se.app===k);if(1===X.length)return X[0]}return k.container.getProvider(C).getImmediate({optional:!0})}globalThis[mi]||(globalThis[mi]=pd().then(C=>globalThis[An]=C).catch(()=>globalThis[An]=!1)),globalThis[mo]||(globalThis[mo]=au().then(C=>globalThis[uu]=C).catch(()=>globalThis[uu]=!1)),globalThis[ua]||(globalThis[ua]=tu().then(C=>globalThis[oc]=C).catch(()=>globalThis[oc]=!1));const sc=(C,D)=>{const k=D?[D]:(0,ie.C6)(),L=[];return k.forEach($=>{$.container.getProvider(C).instances.forEach(se=>{L.includes(se)||L.push(se)})}),L};function Po(){}class hu{constructor(D,k=os){this.zone=D,this.delegate=k}now(){return this.delegate.now()}schedule(D,k,L){const $=this.zone;return this.delegate.schedule(function(se){$.runGuarded(()=>{D.apply(this,[se])})},k,L)}}class _d{constructor(D){this.zone=D,this.task=null}call(D,k){const L=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Po,{},Po,Po)),k.pipe((0,gd.b)({next:L,complete:L,error:L})).subscribe(D).add(L)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Dr=(()=>{class C{constructor(k){this.ngZone=k,this.outsideAngular=k.runOutsideAngular(()=>new hu(Zone.current)),this.insideAngular=k.run(()=>new hu(Zone.current,md.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(k){return new(k||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Rt(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Vh(C){return Rt(),function Fo(C){return function(k){return(k=k.lift(new _d(C.ngZone))).pipe((0,ti.R)(C.outsideAngular),(0,Ti.Q)(C.insideAngular))}}(Rt())(C)}},2090:(bt,Se,V)=>{V.d(Se,{$s:()=>Ur,BH:()=>Ee,DV:()=>ys,Dv:()=>Fi,G6:()=>ke,GJ:()=>vs,L:()=>pe,LL:()=>tt,Pz:()=>Ce,Sg:()=>We,UG:()=>le,UI:()=>Pi,US:()=>J,Wj:()=>gr,Wl:()=>En,Yr:()=>Ie,ZB:()=>Q,ZR:()=>Ut,aH:()=>Ne,b$:()=>nn,cI:()=>fn,dS:()=>Ta,eu:()=>He,g5:()=>B,gK:()=>xi,gQ:()=>mr,h$:()=>xe,hl:()=>qe,hu:()=>ie,jU:()=>kt,lb:()=>Dn,m9:()=>_r,ne:()=>Tt,p$:()=>W,pd:()=>Br,r3:()=>So,ru:()=>rt,tV:()=>q,uI:()=>lt,ug:()=>ln,vZ:()=>Lr,w1:()=>me,w9:()=>Wi,xO:()=>Al,xb:()=>bs,z$:()=>Le,zI:()=>vt,zd:()=>Nn});const ie=function(G,z){if(!G)throw B(z)},B=function(G){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+G)},ce=function(G){const z=[];let Z=0;for(let ve=0;ve<G.length;ve++){let oe=G.charCodeAt(ve);oe<128?z[Z++]=oe:oe<2048?(z[Z++]=oe>>6|192,z[Z++]=63&oe|128):55296==(64512&oe)&&ve+1<G.length&&56320==(64512&G.charCodeAt(ve+1))?(oe=65536+((1023&oe)<<10)+(1023&G.charCodeAt(++ve)),z[Z++]=oe>>18|240,z[Z++]=oe>>12&63|128,z[Z++]=oe>>6&63|128,z[Z++]=63&oe|128):(z[Z++]=oe>>12|224,z[Z++]=oe>>6&63|128,z[Z++]=63&oe|128)}return z},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,z){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let oe=0;oe<G.length;oe+=3){const dt=G[oe],Et=oe+1<G.length,Kt=Et?G[oe+1]:0,Ot=oe+2<G.length,Rn=Ot?G[oe+2]:0;let qi=(15&Kt)<<2|Rn>>6,Ci=63&Rn;Ot||(Ci=64,Et||(qi=64)),ve.push(Z[dt>>2],Z[(3&dt)<<4|Kt>>4],Z[qi],Z[Ci])}return ve.join("")},encodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(G):this.encodeByteArray(ce(G),z)},decodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(G):function(G){const z=[];let Z=0,ve=0;for(;Z<G.length;){const oe=G[Z++];if(oe<128)z[ve++]=String.fromCharCode(oe);else if(oe>191&&oe<224){const dt=G[Z++];z[ve++]=String.fromCharCode((31&oe)<<6|63&dt)}else if(oe>239&&oe<365){const Ot=((7&oe)<<18|(63&G[Z++])<<12|(63&G[Z++])<<6|63&G[Z++])-65536;z[ve++]=String.fromCharCode(55296+(Ot>>10)),z[ve++]=String.fromCharCode(56320+(1023&Ot))}else{const dt=G[Z++],Et=G[Z++];z[ve++]=String.fromCharCode((15&oe)<<12|(63&dt)<<6|63&Et)}}return z.join("")}(this.decodeStringToByteArray(G,z))},decodeStringToByteArray(G,z){this.init_();const Z=z?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let oe=0;oe<G.length;){const dt=Z[G.charAt(oe++)],Kt=oe<G.length?Z[G.charAt(oe)]:0;++oe;const Rn=oe<G.length?Z[G.charAt(oe)]:64;++oe;const cn=oe<G.length?Z[G.charAt(oe)]:64;if(++oe,null==dt||null==Kt||null==Rn||null==cn)throw new be;ve.push(dt<<2|Kt>>4),64!==Rn&&(ve.push(Kt<<4&240|Rn>>2),64!==cn&&ve.push(Rn<<6&192|cn))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function(G){const z=ce(G);return J.encodeByteArray(z,!0)},pe=function(G){return xe(G).replace(/\./g,"")},q=function(G){try{return J.decodeString(G,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function W(G){return Q(void 0,G)}function Q(G,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return z}for(const Z in z)!z.hasOwnProperty(Z)||!je(Z)||(G[Z]=Q(G[Z],z[Z]));return G}function je(G){return"__proto__"!==G}const Pe=()=>{try{return function Te(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=G&&q(G[1]);return z&&JSON.parse(z)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},Ne=()=>{var G;return null===(G=Pe())||void 0===G?void 0:G.config},Ce=G=>{var z;return null===(z=Pe())||void 0===z?void 0:z[`_${G}`]};class Ee{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,Z)=>{this.resolve=z,this.reject=Z})}wrapCallback(z){return(Z,ve)=>{Z?this.reject(Z):this.resolve(ve),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(Z):z(Z,ve))}}}function We(G,z){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=z||"demo-project",oe=G.iat||0,dt=G.sub||G.user_id;if(!dt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:oe,exp:oe+3600,auth_time:oe,sub:dt,user_id:dt,firebase:{sign_in_provider:"custom",identities:{}}},G);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(Et)),""].join(".")}function Le(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Le())}function le(){var G;const z=null===(G=Pe())||void 0===G?void 0:G.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function kt(){return"object"==typeof self&&self.self===self}function rt(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function nn(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function me(){const G=Le();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function Ie(){return!1}function ke(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qe(){try{return"object"==typeof indexedDB}catch{return!1}}function He(){return new Promise((G,z)=>{try{let Z=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",oe=self.indexedDB.open(ve);oe.onsuccess=()=>{oe.result.close(),Z||self.indexedDB.deleteDatabase(ve),G(!0)},oe.onupgradeneeded=()=>{Z=!1},oe.onerror=()=>{var dt;z((null===(dt=oe.error)||void 0===dt?void 0:dt.message)||"")}}catch(Z){z(Z)}})}function vt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ut extends Error{constructor(z,Z,ve){super(Z),this.code=z,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Ut.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tt.prototype.create)}}class tt{constructor(z,Z,ve){this.service=z,this.serviceName=Z,this.errors=ve}create(z,...Z){const ve=Z[0]||{},oe=`${this.service}/${z}`,dt=this.errors[z],Et=dt?function en(G,z){return G.replace(At,(Z,ve)=>{const oe=z[ve];return null!=oe?String(oe):`<${ve}?>`})}(dt,ve):"Error";return new Ut(oe,`${this.serviceName}: ${Et} (${oe}).`,ve)}}const At=/\{\$([^}]+)}/g;function fn(G){return JSON.parse(G)}function En(G){return JSON.stringify(G)}const Vn=function(G){let z={},Z={},ve={},oe="";try{const dt=G.split(".");z=fn(q(dt[0])||""),Z=fn(q(dt[1])||""),oe=dt[2],ve=Z.d||{},delete Z.d}catch{}return{header:z,claims:Z,data:ve,signature:oe}},Wi=function(G){const Z=Vn(G).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},vs=function(G){const z=Vn(G).claims;return"object"==typeof z&&!0===z.admin};function So(G,z){return Object.prototype.hasOwnProperty.call(G,z)}function ys(G,z){if(Object.prototype.hasOwnProperty.call(G,z))return G[z]}function bs(G){for(const z in G)if(Object.prototype.hasOwnProperty.call(G,z))return!1;return!0}function Pi(G,z,Z){const ve={};for(const oe in G)Object.prototype.hasOwnProperty.call(G,oe)&&(ve[oe]=z.call(Z,G[oe],oe,G));return ve}function Lr(G,z){if(G===z)return!0;const Z=Object.keys(G),ve=Object.keys(z);for(const oe of Z){if(!ve.includes(oe))return!1;const dt=G[oe],Et=z[oe];if(wt(dt)&&wt(Et)){if(!Lr(dt,Et))return!1}else if(dt!==Et)return!1}for(const oe of ve)if(!Z.includes(oe))return!1;return!0}function wt(G){return null!==G&&"object"==typeof G}function Al(G){const z=[];for(const[Z,ve]of Object.entries(G))Array.isArray(ve)?ve.forEach(oe=>{z.push(encodeURIComponent(Z)+"="+encodeURIComponent(oe))}):z.push(encodeURIComponent(Z)+"="+encodeURIComponent(ve));return z.length?"&"+z.join("&"):""}function Nn(G){const z={};return G.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[oe,dt]=ve.split("=");z[decodeURIComponent(oe)]=decodeURIComponent(dt)}}),z}function Br(G){const z=G.indexOf("?");if(!z)return"";const Z=G.indexOf("#",z);return G.substring(z,Z>0?Z:void 0)}class mr{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,Z){Z||(Z=0);const ve=this.W_;if("string"==typeof z)for(let cn=0;cn<16;cn++)ve[cn]=z.charCodeAt(Z)<<24|z.charCodeAt(Z+1)<<16|z.charCodeAt(Z+2)<<8|z.charCodeAt(Z+3),Z+=4;else for(let cn=0;cn<16;cn++)ve[cn]=z[Z]<<24|z[Z+1]<<16|z[Z+2]<<8|z[Z+3],Z+=4;for(let cn=16;cn<80;cn++){const qi=ve[cn-3]^ve[cn-8]^ve[cn-14]^ve[cn-16];ve[cn]=4294967295&(qi<<1|qi>>>31)}let Rn,Un,oe=this.chain_[0],dt=this.chain_[1],Et=this.chain_[2],Kt=this.chain_[3],Ot=this.chain_[4];for(let cn=0;cn<80;cn++){cn<40?cn<20?(Rn=Kt^dt&(Et^Kt),Un=1518500249):(Rn=dt^Et^Kt,Un=1859775393):cn<60?(Rn=dt&Et|Kt&(dt|Et),Un=2400959708):(Rn=dt^Et^Kt,Un=3395469782);const qi=(oe<<5|oe>>>27)+Rn+Ot+Un+ve[cn]&4294967295;Ot=Kt,Kt=Et,Et=4294967295&(dt<<30|dt>>>2),dt=oe,oe=qi}this.chain_[0]=this.chain_[0]+oe&4294967295,this.chain_[1]=this.chain_[1]+dt&4294967295,this.chain_[2]=this.chain_[2]+Et&4294967295,this.chain_[3]=this.chain_[3]+Kt&4294967295,this.chain_[4]=this.chain_[4]+Ot&4294967295}update(z,Z){if(null==z)return;void 0===Z&&(Z=z.length);const ve=Z-this.blockSize;let oe=0;const dt=this.buf_;let Et=this.inbuf_;for(;oe<Z;){if(0===Et)for(;oe<=ve;)this.compress_(z,oe),oe+=this.blockSize;if("string"==typeof z){for(;oe<Z;)if(dt[Et]=z.charCodeAt(oe),++Et,++oe,Et===this.blockSize){this.compress_(dt),Et=0;break}}else for(;oe<Z;)if(dt[Et]=z[oe],++Et,++oe,Et===this.blockSize){this.compress_(dt),Et=0;break}}this.inbuf_=Et,this.total_+=Z}digest(){const z=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let oe=this.blockSize-1;oe>=56;oe--)this.buf_[oe]=255&Z,Z/=256;this.compress_(this.buf_);let ve=0;for(let oe=0;oe<5;oe++)for(let dt=24;dt>=0;dt-=8)z[ve]=this.chain_[oe]>>dt&255,++ve;return z}}function Tt(G,z){const Z=new ct(G,z);return Z.subscribe.bind(Z)}class ct{constructor(z,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{z(this)}).catch(ve=>{this.error(ve)})}next(z){this.forEachObserver(Z=>{Z.next(z)})}error(z){this.forEachObserver(Z=>{Z.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,Z,ve){let oe;if(void 0===z&&void 0===Z&&void 0===ve)throw new Error("Missing Observer.");oe=function Ys(G,z){if("object"!=typeof G||null===G)return!1;for(const Z of z)if(Z in G&&"function"==typeof G[Z])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:Z,complete:ve},void 0===oe.next&&(oe.next=or),void 0===oe.error&&(oe.error=or),void 0===oe.complete&&(oe.complete=or);const dt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?oe.error(this.finalError):oe.complete()}catch{}}),this.observers.push(oe),dt}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,z)}sendOne(z,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{Z(this.observers[z])}catch(ve){typeof console<"u"&&console.error&&console.error(ve)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function or(){}const Fi=function(G,z,Z,ve){let oe;if(ve<z?oe="at least "+z:ve>Z&&(oe=0===Z?"none":"no more than "+Z),oe)throw new Error(G+" failed: Was called with "+ve+(1===ve?" argument.":" arguments.")+" Expects "+oe+".")};function xi(G,z){return`${G} failed: ${z} argument `}function gr(G,z,Z,ve){if((!ve||Z)&&"function"!=typeof Z)throw new Error(xi(G,z)+"must be a valid function.")}function Dn(G,z,Z,ve){if((!ve||Z)&&("object"!=typeof Z||null===Z))throw new Error(xi(G,z)+"must be a valid context object.")}const Ta=function(G){const z=[];let Z=0;for(let ve=0;ve<G.length;ve++){let oe=G.charCodeAt(ve);if(oe>=55296&&oe<=56319){const dt=oe-55296;ve++,ie(ve<G.length,"Surrogate pair missing trail surrogate."),oe=65536+(dt<<10)+(G.charCodeAt(ve)-56320)}oe<128?z[Z++]=oe:oe<2048?(z[Z++]=oe>>6|192,z[Z++]=63&oe|128):oe<65536?(z[Z++]=oe>>12|224,z[Z++]=oe>>6&63|128,z[Z++]=63&oe|128):(z[Z++]=oe>>18|240,z[Z++]=oe>>12&63|128,z[Z++]=oe>>6&63|128,z[Z++]=63&oe|128)}return z},ln=function(G){let z=0;for(let Z=0;Z<G.length;Z++){const ve=G.charCodeAt(Z);ve<128?z++:ve<2048?z+=2:ve>=55296&&ve<=56319?(z+=4,Z++):z+=3}return z};function Ur(G,z=1e3,Z=2){const ve=z*Math.pow(Z,G),oe=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+oe)}function _r(G){return G&&G._delegate?G._delegate:G}},4903:(bt,Se,V)=>{var c=V(4650);let ie=null;function B(){return ie}class de{}const J=new c.OlP("DocumentToken");let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function xe(){return(0,c.LFG)(q)}()},providedIn:"platform"}),n})();const pe=new c.OlP("Location Initialized");let q=(()=>{class n extends be{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=B().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){W()?this._history.pushState(t,i,r):this._location.hash=r}replaceState(t,i,r){W()?this._history.replaceState(t,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Q(){return new q((0,c.LFG)(J))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function je(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Te(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let ft=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Pe)},providedIn:"root"}),n})();const ge=new c.OlP("appBaseHref");let Pe=(()=>{class n extends ft{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return je(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Ze(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const l=this.prepareExternalUrl(r+Ze(o));this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,o){const l=this.prepareExternalUrl(r+Ze(o));this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(be),c.LFG(ge,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fe=(()=>{class n extends ft{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=je(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let l=this.prepareExternalUrl(r+Ze(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,i,l)}replaceState(t,i,r,o){let l=this.prepareExternalUrl(r+Ze(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(be),c.LFG(ge,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function We(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Te(Ee(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Ze(i))}normalize(t){return n.stripTrailingSlash(function Ce(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,Ee(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ze(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=je,n.stripTrailingSlash=Te,n.\u0275fac=function(t){return new(t||n)(c.LFG(ft))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ne(){return new Ue((0,c.LFG)(ft))}()},providedIn:"root"}),n})();function Ee(n){return n.replace(/\/index.html$/,"")}const Hr=/\s+/,Ke=[];let Ht=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Ke,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Hr):Ke}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Hr):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,Boolean(t[i]));this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(Hr).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class hi{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Aa=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new hi(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,l),Xn(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Xn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Xn(n,e){n.context.$implicit=e.item}let yr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new qt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ol("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ol("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class qt{constructor(){this.$implicit=null,this.ngIf=null}}function Ol(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}let xs=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),l=-1===r.indexOf("-")?void 0:c.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,r,l)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function kr(n,e){return new c.vHH(2100,!1)}let br=(()=>{class n{transform(t){if(null==t)return null;if("string"!=typeof t)throw kr();return t.toUpperCase()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})(),Tp=(()=>{class n{transform(t,i,r){if(null==t)return null;if(!this.supports(t))throw kr();return t.slice(i,r)}supports(t){return"string"==typeof t||Array.isArray(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=c.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),Jn=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Ap="browser";function Yo(n){return"server"===n}let Nl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new ph((0,c.LFG)(J),window)}),n})();class ph{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Es(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const l=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=nu(this.window.history)||nu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function nu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class qc extends de{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Yc extends qc{static makeCurrent(){!function ce(n){ie||(ie=n)}(new Yc)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ih(){return Yl=Yl||document.querySelector("base"),Yl?Yl.getAttribute("href"):null}();return null==t?null:function Na(n){Jo=Jo||document.createElement("a"),Jo.setAttribute("href",n);const e=Jo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Yl=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function lr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let Jo,Yl=null;const Pp=new c.OlP("TRANSITION_ID"),Kc=[{provide:c.ip1,useFactory:function Xg(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const i=B(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Pp,J,c.zs3],multi:!0}];let Kl=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ko=new c.OlP("EventManagerPlugins");let ea=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const l=r[o];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ko),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Sh{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=B().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let La=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Ba=(()=>{class n extends La{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(o=>{const l=this._doc.createElement("style");l.textContent=o,r.push(i.appendChild(l))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(Zc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Zc))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Zc(n){B().remove(n)}const ta={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qc=/%COMP%/g;function au(n,e){return e.flat(100).map(t=>t.replace(Qc,n))}function Zl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ed=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new As(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case c.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new Ql(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case c.ifc.ShadowDom:return new Xl(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=au(i.id,i.styles);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ea),c.LFG(Ba),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class As{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(ta[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(td(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(td(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=ta[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=ta[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,i,r&c.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Zl(i)):this.eventManager.addEventListener(e,t,Zl(i))}}function td(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ql extends As{constructor(e,t,i,r){super(e),this.component=i;const o=au(r+"-"+i.id,i.styles);t.addStyles(o),this.contentAttr=function Xc(n){return"_ngcontent-%COMP%".replace(Qc,n)}(r+"-"+i.id),this.hostAttr=function Jc(n){return"_nghost-%COMP%".replace(Qc,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Xl extends As{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=au(r.id,r.styles);for(let l=0;l<o.length;l++){const h=document.createElement("style");h.textContent=o[l],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ah=(()=>{class n extends Sh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Tn=["alt","control","meta","shift"],Fp={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},nd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Mh=(()=>{class n extends Sh{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),l=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(t,o.domEventName,l))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let l="",h=i.indexOf("code");if(h>-1&&(i.splice(h,1),l="code."),Tn.forEach(v=>{const x=i.indexOf(v);x>-1&&(i.splice(x,1),l+=v+".")}),l+=o,0!=i.length||0===o.length)return null;const m={};return m.domEventName=r,m.fullKey=l,m}static matchEventFullKeyCode(t,i){let r=Fp[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Tn.forEach(l=>{l!==r&&(0,nd[l])(t)&&(o+=l+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Np=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Ap},{provide:c.g9A,useValue:function id(){Yc.makeCurrent()},multi:!0},{provide:J,useFactory:function Ha(){return(0,c.RDi)(document),document},deps:[]}]),Jl=new c.OlP(""),ra=[{provide:c.rWj,useClass:class jy{addToWindow(e){c.dqk.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let o=r.length,l=!1;const h=function(m){l=l||m,o--,0==o&&i(l)};r.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?B().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],od=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function rd(){return new c.qLn},deps:[]},{provide:ko,useClass:Ah,multi:!0,deps:[J,c.R0b,c.Lbi]},{provide:ko,useClass:Mh,multi:!0,deps:[J]},{provide:ed,useClass:ed,deps:[ea,Ba,c.AFp]},{provide:c.FYo,useExisting:ed},{provide:La,useExisting:Ba},{provide:Ba,useClass:Ba,deps:[J]},{provide:ea,useClass:ea,deps:[ko,c.R0b]},{provide:class Oc{},useClass:Kl,deps:[]},[]];let ec=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:Pp,useExisting:c.AFp},Kc]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Jl,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...od,...ra],imports:[Jn,c.hGG]}),n})(),kh=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function za(){return new kh((0,c.LFG)(J))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Ga=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):c.LFG(Ki),i},providedIn:"root"}),n})(),Ki=(()=>{class n extends Ga{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${c.JZr})`);default:throw new Error(`Unexpected SecurityContext ${t} (see ${c.JZr})`)}}bypassSecurityTrustHtml(t){return(0,c.JVY)(t)}bypassSecurityTrustStyle(t){return(0,c.L6k)(t)}bypassSecurityTrustScript(t){return(0,c.eBb)(t)}bypassSecurityTrustUrl(t){return(0,c.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,c.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function ud(n){return new Ki(n.get(J))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var dn=V(8996),qr=V(3269);function Qe(...n){const e=(0,qr.yG)(n);return(0,dn.D)(n,e)}var xt=V(7579);class Cr extends xt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}const ca=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ei=V(9751);const{isArray:cu}=Array,{getPrototypeOf:Yr,prototype:$a,keys:rc}=Object;function Wa(n){if(1===n.length){const e=n[0];if(cu(e))return{args:e,keys:null};if(function fd(n){return n&&"object"==typeof n&&Yr(n)===$a}(e)){const t=rc(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var ts=V(4671),nt=V(4004);const{isArray:pd}=Array;function ns(n){return(0,nt.U)(e=>function da(n,e){return pd(e)?n(...e):n(e)}(n,e))}function Ph(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var On=V(5403),Fh=V(9672);function is(...n){const e=(0,qr.yG)(n),t=(0,qr.jO)(n),{args:i,keys:r}=Wa(n);if(0===i.length)return(0,dn.D)([],e);const o=new ei.y(function qa(n,e,t=ts.y){return i=>{jp(e,()=>{const{length:r}=n,o=new Array(r);let l=r,h=r;for(let m=0;m<r;m++)jp(e,()=>{const v=(0,dn.D)(n[m],e);let x=!1;v.subscribe((0,On.x)(i,S=>{o[m]=S,x||(x=!0,h--),h||i.next(t(o.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,e,r?l=>Ph(r,l):ts.y));return t?o.pipe(ns(t)):o}function jp(n,e,t){n?(0,Fh.f)(t,n,e):e()}var Ya=V(8189);function Ka(...n){return function Nh(){return(0,Ya.J)(1)}()((0,dn.D)(n,(0,qr.yG)(n)))}var Rs=V(8421);function Lh(n){return new ei.y(e=>{(0,Rs.Xf)(n()).subscribe(e)})}var du=V(9635),Kr=V(576);function rs(n,e){const t=(0,Kr.m)(n)?n:()=>n,i=r=>r.error(t());return new ei.y(e?r=>e.schedule(i,0,r):i)}var po=V(515),os=V(727),si=V(4482);function md(){return(0,si.e)((n,e)=>{let t=null;n._refCount++;const i=(0,On.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class gd extends ei.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,si.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new os.w0;const t=this.getSubject();e.add(this.source.subscribe((0,On.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=os.w0.EMPTY)}return e}refCount(){return md()(this)}}function ti(n,e){return(0,si.e)((t,i)=>{let r=null,o=0,l=!1;const h=()=>l&&!r&&i.complete();t.subscribe((0,On.x)(i,m=>{r?.unsubscribe();let v=0;const x=o++;(0,Rs.Xf)(n(m,x)).subscribe(r=(0,On.x)(i,S=>i.next(e?e(m,S,x,v++):S),()=>{r=null,h()}))},()=>{l=!0,h()}))})}function Ti(n){return n<=0?()=>po.E:(0,si.e)((e,t)=>{let i=0;e.subscribe((0,On.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Er(...n){const e=(0,qr.yG)(n);return(0,si.e)((t,i)=>{(e?Ka(n,t,e):Ka(n,t)).subscribe(i)})}function An(n,e){return(0,si.e)((t,i)=>{let r=0;t.subscribe((0,On.x)(i,o=>n.call(e,o,r++)&&i.next(o)))})}var mi=V(5577);function oc(n){return(0,si.e)((e,t)=>{let i=!1;e.subscribe((0,On.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ua(n=uu){return(0,si.e)((e,t)=>{let i=!1;e.subscribe((0,On.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function uu(){return new ca}function mo(n,e){const t=arguments.length>=2;return i=>i.pipe(n?An((r,o)=>n(r,o,i)):ts.y,Ti(1),t?oc(e):ua(()=>new ca))}function ss(n,e){return(0,Kr.m)(e)?(0,mi.z)(n,e,1):(0,mi.z)(n,1)}var gi=V(8505);function as(n){return(0,si.e)((e,t)=>{let o,i=null,r=!1;i=e.subscribe((0,On.x)(t,void 0,void 0,l=>{o=(0,Rs.Xf)(n(l,as(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function t_(n,e,t,i,r){return(o,l)=>{let h=t,m=e,v=0;o.subscribe((0,On.x)(l,x=>{const S=v++;m=h?n(m,x,S):(h=!0,x),i&&l.next(m)},r&&(()=>{h&&l.next(m),l.complete()})))}}function Os(n,e){return(0,si.e)(t_(n,e,arguments.length>=2,!0))}function sc(n){return n<=0?()=>po.E:(0,si.e)((e,t)=>{let i=[];e.subscribe((0,On.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function Po(n,e){const t=arguments.length>=2;return i=>i.pipe(n?An((r,o)=>n(r,o,i)):ts.y,sc(1),t?oc(e):ua(()=>new ca))}function _d(n){return(0,nt.U)(()=>n)}function Dr(n){return(0,si.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Rt="primary",Ps=Symbol("RouteTitle");class ha{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Za(n){return new ha(n)}function Bh(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const l=i[o],h=n[o];if(l.startsWith(":"))r[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Fo(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!Uh(n[r],e[r]))return!1;return!0}function Uh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function Hh(n){return Array.prototype.concat.apply([],n)}function C(n){return n.length>0?n[n.length-1]:null}function k(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function L(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,dn.D)(Promise.resolve(n)):Qe(n)}const $=!1,X={exact:function ut(n,e,t){if(!ji(n.segments,e.segments)||!zn(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!ut(n.children[i],e.children[i],t))return!1;return!0},subset:Pt},se={exact:function $e(n,e){return Fo(n,e)},subset:function Vt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Uh(n[t],e[t]))},ignored:()=>!0};function Ge(n,e,t){return X[t.paths](n.root,e.root,t.matrixParams)&&se[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Pt(n,e,t){return Or(n,e,e.segments,t)}function Or(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!ji(r,t)||e.hasChildren()||!zn(r,t,i))}if(n.segments.length===t.length){if(!ji(n.segments,t)||!zn(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!Pt(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(ji(n.segments,r)&&zn(n.segments,r,i)&&n.children[Rt])&&Or(n.children[Rt],e,o,i)}}function zn(n,e,t){return e.every((i,r)=>se[t](n[r].parameters,i.parameters))}class Zr{constructor(e=new Yt([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Za(this.queryParams)),this._queryParamMap}toString(){return Sx.serialize(this)}}class Yt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,k(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yd(this)}}class go{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Za(this.parameters)),this._parameterMap}toString(){return zh(this)}}function ji(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let ac=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new lc},providedIn:"root"}),n})();class lc{parse(e){const t=new o_(e);return new Zr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Qa(e.root,!0)}`,i=function i_(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${bd(t)}=${bd(r)}`).join("&"):`${bd(t)}=${bd(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function dc(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Sx=new lc;function yd(n){return n.segments.map(e=>zh(e)).join("/")}function Qa(n,e){if(!n.hasChildren())return yd(n);if(e){const t=n.children[Rt]?Qa(n.children[Rt],!1):"",i=[];return k(n.children,(r,o)=>{o!==Rt&&i.push(`${o}:${Qa(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function vd(n,e){let t=[];return k(n.children,(i,r)=>{r===Rt&&(t=t.concat(e(i,r)))}),k(n.children,(i,r)=>{r!==Rt&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===Rt?[Qa(n.children[Rt],!1)]:[`${r}:${Qa(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Rt]?`${yd(n)}/${t[0]}`:`${yd(n)}/(${t.join("//")})`}}function cc(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bd(n){return cc(n).replace(/%3B/gi,";")}function fu(n){return cc(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pu(n){return decodeURIComponent(n)}function n_(n){return pu(n.replace(/\+/g,"%20"))}function zh(n){return`${fu(n.path)}${function Wy(n){return Object.keys(n).map(e=>`;${fu(e)}=${fu(n[e])}`).join("")}(n.parameters)}`}const qy=/^[^\/()?;=#]+/;function Gp(n){const e=n.match(qy);return e?e[0]:""}const uc=/^[^=?&#]+/,r_=/^[^&#]+/;class o_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Yt([],{}):new Yt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Rt]=new Yt(e,t)),i}parseSegment(){const e=Gp(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new c.vHH(4009,$);return this.capture(e),new go(pu(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Gp(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Gp(this.remaining);r&&(i=r,this.capture(i))}e[pu(t)]=pu(i)}parseQueryParam(e){const t=function Yy(n){const e=n.match(uc);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const l=function mu(n){const e=n.match(r_);return e?e[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=n_(t),o=n_(i);if(e.hasOwnProperty(r)){let l=e[r];Array.isArray(l)||(l=[l],e[r]=l),l.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Gp(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,$);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Rt);const l=this.parseChildren();t[o]=1===Object.keys(l).length?l[Rt]:new Yt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new c.vHH(4011,$)}}function hc(n){return n.segments.length>0?new Yt([],{[Rt]:n}):n}function jh(n){const e={};for(const i of Object.keys(n.children)){const o=jh(n.children[i]);(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Ky(n){if(1===n.numberOfChildren&&n.children[Rt]){const e=n.children[Rt];return new Yt(n.segments.concat(e.segments),e.children)}return n}(new Yt(n.segments,e))}function Fs(n){return n instanceof Zr}function Zy(n,e,t,i,r){if(0===t.length)return xd(e.root,e.root,e.root,i,r);const o=function $p(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new gu(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return k(o.outlets,(m,v)=>{h[v]="string"==typeof m?m.split("/"):m}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===l?(o.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?e++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new gu(t,e,i)}(t);return o.toRoot()?xd(e.root,e.root,new Yt([],{}),i,r):function l(m){const v=function Cd(n,e,t,i){if(n.isAbsolute)return new Ja(e.root,!0,0);if(-1===i)return new Ja(t,t===e.root,0);return function _u(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new c.vHH(4005,!1);r=i.segments.length}return new Ja(i,!1,r-o)}(t,i+(Wh(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,m),x=v.processChildren?tl(v.segmentGroup,v.index,o.commands):el(v.segmentGroup,v.index,o.commands);return xd(e.root,v.segmentGroup,x,i,r)}(n.snapshot?._lastPathIndex)}function Wh(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Xa(n){return"object"==typeof n&&null!=n&&n.outlets}function xd(n,e,t,i,r){let l,o={};i&&k(i,(m,v)=>{o[v]=Array.isArray(m)?m.map(x=>`${x}`):`${m}`}),l=n===e?t:qh(n,e,t);const h=hc(jh(l));return new Zr(h,o,r)}function qh(n,e,t){const i={};return k(n.children,(r,o)=>{i[o]=r===e?t:qh(r,e,t)}),new Yt(n.segments,i)}class gu{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&Wh(i[0]))throw new c.vHH(4003,!1);const r=i.find(Xa);if(r&&r!==C(i))throw new c.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ja{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function el(n,e,t){if(n||(n=new Yt([],{})),0===n.segments.length&&n.hasChildren())return tl(n,e,t);const i=function Wp(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const l=n.segments[r],h=t[i];if(Xa(h))break;const m=`${h}`,v=i<t.length-1?t[i+1]:null;if(r>0&&void 0===m)break;if(m&&v&&"object"==typeof v&&void 0===v.outlets){if(!c_(m,v,l))return o;i+=2}else{if(!c_(m,{},l))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Yt(n.segments.slice(0,i.pathIndex),{});return o.children[Rt]=new Yt(n.segments.slice(i.pathIndex),n.children),tl(o,0,r)}return i.match&&0===r.length?new Yt(n.segments,{}):i.match&&!n.hasChildren()?fc(n,e,t):i.match?tl(n,0,r):fc(n,e,t)}function tl(n,e,t){if(0===t.length)return new Yt(n.segments,{});{const i=function a_(n){return Xa(n[0])?n[0].outlets:{[Rt]:n}}(t),r={};return!i[Rt]&&n.children[Rt]&&1===n.numberOfChildren&&0===n.children[Rt].segments.length?tl(n.children[Rt],e,t):(k(i,(o,l)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[l]=el(n.children[l],e,o))}),k(n.children,(o,l)=>{void 0===i[l]&&(r[l]=o)}),new Yt(n.segments,r))}}function fc(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(Xa(o)){const m=l_(o.outlets);return new Yt(i,m)}if(0===r&&Wh(t[0])){i.push(new go(n.segments[e].path,qp(t[0]))),r++;continue}const l=Xa(o)?o.outlets[Rt]:`${o}`,h=r<t.length-1?t[r+1]:null;l&&h&&Wh(h)?(i.push(new go(l,qp(h))),r+=2):(i.push(new go(l,{})),r++)}return new Yt(i,{})}function l_(n){const e={};return k(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=fc(new Yt([],{}),0,t))}),e}function qp(n){const e={};return k(n,(t,i)=>e[i]=`${t}`),e}function c_(n,e,t){return n==t.path&&Fo(e,t.parameters)}const vu="imperative";class Ns{constructor(e,t){this.id=e,this.url=t}}class nl extends Ns{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class il extends Ns{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class rl extends Ns{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Kh extends Ns{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class ol extends Ns{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Qy extends Ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Xy extends Ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jy extends Ns{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Yp extends Ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yu extends Ns{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class d_{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class u_{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ed{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qr{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Dd{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zh{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Zp=(()=>{class n{createUrlTree(t,i,r,o,l,h){return Zy(t||i.root,r,o,l,h)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),f_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){return Zp.\u0275fac(e)},providedIn:"root"}),n})();class p_{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Zi(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=Zi(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=fa(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return fa(e,this._root).map(t=>t.value)}}function Zi(n,e){if(n===e.value)return e;for(const t of e.children){const i=Zi(n,t);if(i)return i}return null}function fa(n,e){if(n===e.value)return[e];for(const t of e.children){const i=fa(n,t);if(i.length)return i.unshift(e),i}return[]}class pa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Id(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class m_ extends p_{constructor(e,t){super(e),this.snapshot=t,Qh(this,e)}toString(){return this.snapshot.toString()}}function Qp(n,e){const t=function Xr(n,e){const l=new No([],{},{},"",{},Rt,e,null,n.root,-1,{});return new Sd("",new pa(l,[]))}(n,e),i=new Cr([new go("",{})]),r=new Cr({}),o=new Cr({}),l=new Cr({}),h=new Cr(""),m=new sl(i,r,l,h,o,Rt,e,t.root);return m.snapshot=t.root,new m_(new pa(m,[]),t)}class sl{constructor(e,t,i,r,o,l,h,m){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=h,this.title=this.data?.pipe((0,nt.U)(v=>v[Ps]))??Qe(void 0),this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(e=>Za(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(e=>Za(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function bu(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function eb(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class No{get title(){return this.data?.[Ps]}constructor(e,t,i,r,o,l,h,m,v,x,S){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=h,this.routeConfig=m,this._urlSegment=v,this._lastPathIndex=x,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Za(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Za(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sd extends p_{constructor(e,t){super(t),this.url=e,Qh(this,t)}toString(){return Td(this._root)}}function Qh(n,e){e.value._routerState=n,e.children.forEach(t=>Qh(n,t))}function Td(n){const e=n.children.length>0?` { ${n.children.map(Td).join(", ")} } `:"";return`${n.value}${e}`}function ls(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fo(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Fo(e.params,t.params)||n.params.next(t.params),function Vh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Fo(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ma(n,e){const t=Fo(n.params,e.params)&&function _o(n,e){return ji(n,e)&&n.every((t,i)=>Fo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||ma(n.parent,e.parent))}function Ad(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function __(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Ad(n,i,r);return Ad(n,i)})}(n,e,t);return new pa(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>Ad(n,h)),l}}const i=function Ax(n){return new sl(new Cr(n.url),new Cr(n.params),new Cr(n.queryParams),new Cr(n.fragment),new Cr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>Ad(n,o));return new pa(i,r)}}const y="ngNavigationCancelingError";function p(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Fs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=g(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function g(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[y]=!0,i.cancellationCode=e,t&&(i.url=t),i}function w(n){return T(n)&&Fs(n.url)}function T(n){return n&&n[y]}class O{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new j,this.attachRef=null}}let j=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new O,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const ee=!1;let Ae=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Rt,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(j),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,ee);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,ee);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,ee);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new c.vHH(4013,ee);this._activatedRoute=t;const r=this.location,l=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,m=new ze(t,h,r.injector);if(i&&function st(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(l);this.activated=r.createComponent(v,r.length,m)}else this.activated=r.createComponent(l,{index:r.length,injector:m,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class ze{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===sl?this.route:e===j?this.childContexts:this.parent.get(e,t)}}let ot=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(t,i){1&t&&c._UZ(0,"router-outlet")},dependencies:[Ae],encapsulation:2}),n})();function Pn(n,e){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Jh(n){const e=n.children&&n.children.map(Jh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Rt&&(t.component=ot),t}function Jr(n){return n.outlet||Rt}function Jp(n,e){const t=n.filter(i=>Jr(i)===e);return t.push(...n.filter(i=>Jr(i)!==e)),t}function Cu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Mx{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),ls(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Id(t);e.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,r[l],i),delete r[l]}),k(r,(o,l)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Id(e);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);if(i&&i.outlet){const l=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Id(e);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=Id(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Dd(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Kp(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(ls(r),r===o)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),ls(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=Cu(r.snapshot),m=h?.get(c._Vd)??null;l.attachRef=null,l.route=r,l.resolver=m,l.injector=h,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,i)}}class aT{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Md{constructor(e,t){this.component=e,this.route=t}}function nb(n,e,t){const i=n._root;return tf(i,e?e._root:null,t,[i.value])}function Eu(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||(0,c.Z0I)(n)?e.get(n):n:i}function tf(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Id(e);return n.children.forEach(l=>{(function jF(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,l=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const m=function lT(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!ji(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ji(n.url,e.url)||!Fo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ma(n,e)||!Fo(n.queryParams,e.queryParams);default:return!ma(n,e)}}(l,o,o.routeConfig.runGuardsAndResolvers);m?r.canActivateChecks.push(new aT(i)):(o.data=l.data,o._resolvedData=l._resolvedData),tf(n,e,o.component?h?h.children:null:t,i,r),m&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Md(h.outlet.component,l))}else l&&nf(e,h,r),r.canActivateChecks.push(new aT(i)),tf(n,null,o.component?h?h.children:null:t,i,r)})(l,o[l.value.outlet],t,i.concat([l.value]),r),delete o[l.value.outlet]}),k(o,(l,h)=>nf(l,t.getContext(h),r)),r}function nf(n,e,t){const i=Id(n),r=n.value;k(i,(o,l)=>{nf(o,r.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new Md(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function rf(n){return"function"==typeof n}function sb(n){return n instanceof ca||"EmptyError"===n?.name}const sf=Symbol("INITIAL_VALUE");function mc(){return ti(n=>is(n.map(e=>e.pipe(Ti(1),Er(sf)))).pipe((0,nt.U)(e=>{for(const t of e)if(!0!==t){if(t===sf)return sf;if(!1===t||t instanceof Zr)return t}return!0}),An(e=>e!==sf),Ti(1)))}function Su(n){return(0,du.z)((0,gi.b)(e=>{if(Fs(e))throw p(0,e)}),(0,nt.U)(e=>!0===e))}const cb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fx(n,e,t,i,r){const o=em(n,e,t);return o.matched?function pT(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Qe(r.map(l=>{const h=Eu(l,n);return L(function Rx(n){return n&&rf(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(mc(),Su()):Qe(!0)}(i=Pn(e,i),e,t).pipe((0,nt.U)(l=>!0===l?o:{...cb})):Qe(o)}function em(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...cb}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||Bh)(t,n,e);if(!r)return{...cb};const o={};k(r.posParams,(h,m)=>{o[m]=h.path});const l=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function b_(n,e,t,i){if(t.length>0&&function Lx(n,e,t){return t.some(i=>w_(n,e,i)&&Jr(i)!==Rt)}(n,t,i)){const o=new Yt(e,function mT(n,e,t,i){const r={};r[Rt]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Jr(o)!==Rt){const l=new Yt([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,r[Jr(o)]=l}return r}(n,e,i,new Yt(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function $F(n,e,t){return t.some(i=>w_(n,e,i))}(n,t,i)){const o=new Yt(n.segments,function Nx(n,e,t,i,r){const o={};for(const l of i)if(w_(n,t,l)&&!r[Jr(l)]){const h=new Yt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,o[Jr(l)]=h}return{...r,...o}}(n,e,t,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const r=new Yt(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=e.length,{segmentGroup:r,slicedSegments:t}}function w_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function af(n,e,t,i){return!!(Jr(n)===i||i!==Rt&&w_(e,t,n))&&("**"===n.path||em(e,n,t).matched)}function Bx(n,e,t){return 0===e.length&&!n.children[t]}const gc=!1;class kd{constructor(e){this.segmentGroup=e||null}}class Vx{constructor(e){this.urlTree=e}}function lf(n){return rs(new kd(n))}function Ux(n){return rs(new Vx(n))}class zx{constructor(e,t,i,r,o){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const e=b_(this.urlTree.root,[],[],this.config).segmentGroup,t=new Yt(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Rt).pipe((0,nt.U)(o=>this.createUrlTree(jh(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(as(o=>{if(o instanceof Vx)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof kd?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Rt).pipe((0,nt.U)(r=>this.createUrlTree(jh(r),e.queryParams,e.fragment))).pipe(as(r=>{throw r instanceof kd?this.noMatchError(r):r}))}noMatchError(e){return new c.vHH(4002,gc)}createUrlTree(e,t,i){const r=hc(e);return new Zr(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,nt.U)(o=>new Yt([],o))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,dn.D)(r).pipe(ss(o=>{const l=i.children[o],h=Jp(t,o);return this.expandSegmentGroup(e,h,l,o).pipe((0,nt.U)(m=>({segment:m,outlet:o})))}),Os((o,l)=>(o[l.outlet]=l.segment,o),{}),Po())}expandSegment(e,t,i,r,o,l){return(0,dn.D)(i).pipe(ss(h=>this.expandSegmentAgainstRoute(e,t,i,h,r,o,l).pipe(as(v=>{if(v instanceof kd)return Qe(null);throw v}))),mo(h=>!!h),as((h,m)=>{if(sb(h))return Bx(t,r,o)?Qe(new Yt([],{})):lf(t);throw h}))}expandSegmentAgainstRoute(e,t,i,r,o,l,h){return af(r,t,o,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,o,l):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,l):lf(t):lf(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Ux(o):this.lineralizeSegments(i,o).pipe((0,mi.z)(l=>{const h=new Yt(l,{});return this.expandSegment(e,h,t,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,l){const{matched:h,consumedSegments:m,remainingSegments:v,positionalParamSegments:x}=em(t,r,o);if(!h)return lf(t);const S=this.applyRedirectCommands(m,r.redirectTo,x);return r.redirectTo.startsWith("/")?Ux(S):this.lineralizeSegments(r,S).pipe((0,mi.z)(R=>this.expandSegment(e,t,i,R.concat(v),l,!1)))}matchSegmentAgainstRoute(e,t,i,r,o){return"**"===i.path?(e=Pn(i,e),i.loadChildren?(i._loadedRoutes?Qe({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,nt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new Yt(r,{})))):Qe(new Yt(r,{}))):Fx(t,i,r,e).pipe(ti(({matched:l,consumedSegments:h,remainingSegments:m})=>l?this.getChildConfig(e=i._injector??e,i,r).pipe((0,mi.z)(x=>{const S=x.injector??e,R=x.routes,{segmentGroup:F,slicedSegments:H}=b_(t,h,m,R),Y=new Yt(F.segments,F.children);if(0===H.length&&Y.hasChildren())return this.expandChildren(S,R,Y).pipe((0,nt.U)(et=>new Yt(h,et)));if(0===R.length&&0===H.length)return Qe(new Yt(h,{}));const te=Jr(i)===o;return this.expandSegment(S,Y,R,H,te?Rt:o,!0).pipe((0,nt.U)(Ye=>new Yt(h.concat(Ye.segments),Ye.children)))})):lf(t)))}getChildConfig(e,t,i){return t.children?Qe({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Qe({routes:t._loadedRoutes,injector:t._loadedInjector}):function Px(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Qe(!0):Qe(r.map(l=>{const h=Eu(l,n);return L(function GF(n){return n&&rf(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(mc(),Su())}(e,t,i).pipe((0,mi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,gi.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function _T(n){return rs(g(gc,3))}())):Qe({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Qe(i);if(r.numberOfChildren>1||!r.children[Rt])return rs(new c.vHH(4e3,gc));r=r.children[Rt]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Zr(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return k(e,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=t[h]}else i[o]=r}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let l={};return k(t.children,(h,m)=>{l[m]=this.createSegmentGroup(e,h,i,r)}),new Yt(o,l)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new c.vHH(4001,gc);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class vT{}class yT{constructor(e,t,i,r,o,l,h){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.urlSerializer=h}recognize(){const e=b_(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Rt).pipe((0,nt.U)(t=>{if(null===t)return null;const i=new No([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Rt,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new pa(i,t),o=new Sd(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,i=bu(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,dn.D)(Object.keys(i.children)).pipe(ss(r=>{const o=i.children[r],l=Jp(t,r);return this.processSegmentGroup(e,l,o,r)}),Os((r,o)=>r&&o?(r.push(...o),r):null),function hu(n,e=!1){return(0,si.e)((t,i)=>{let r=0;t.subscribe((0,On.x)(i,o=>{const l=n(o,r++);(l||e)&&i.next(o),!l&&i.complete()}))})}(r=>null!==r),oc(null),Po(),(0,nt.U)(r=>{if(null===r)return null;const o=jx(r);return function bT(n){n.sort((e,t)=>e.value.outlet===Rt?-1:t.value.outlet===Rt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,i,r,o){return(0,dn.D)(t).pipe(ss(l=>this.processSegmentAgainstRoute(l._injector??e,l,i,r,o)),mo(l=>!!l),as(l=>{if(sb(l))return Bx(i,r,o)?Qe([]):Qe(null);throw l}))}processSegmentAgainstRoute(e,t,i,r,o){if(t.redirectTo||!af(t,i,r,o))return Qe(null);let l;if("**"===t.path){const h=r.length>0?C(r).parameters:{},m=Tu(i)+r.length;l=Qe({snapshot:new No(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$x(t),Jr(t),t.component??t._loadedComponent??null,t,Gx(i),m,Wx(t)),consumedSegments:[],remainingSegments:[]})}else l=Fx(i,t,r,e).pipe((0,nt.U)(({matched:h,consumedSegments:m,remainingSegments:v,parameters:x})=>{if(!h)return null;const S=Tu(i)+m.length;return{snapshot:new No(m,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,$x(t),Jr(t),t.component??t._loadedComponent??null,t,Gx(i),S,Wx(t)),consumedSegments:m,remainingSegments:v}}));return l.pipe(ti(h=>{if(null===h)return Qe(null);const{snapshot:m,consumedSegments:v,remainingSegments:x}=h;e=t._injector??e;const S=t._loadedInjector??e,R=function wT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:F,slicedSegments:H}=b_(i,v,x,R.filter(te=>void 0===te.redirectTo));if(0===H.length&&F.hasChildren())return this.processChildren(S,R,F).pipe((0,nt.U)(te=>null===te?null:[new pa(m,te)]));if(0===R.length&&0===H.length)return Qe([new pa(m,[])]);const Y=Jr(t)===o;return this.processSegment(S,R,F,H,Y?Rt:o).pipe((0,nt.U)(te=>null===te?null:[new pa(m,te)]))}))}}function xT(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function jx(n){const e=[],t=new Set;for(const i of n){if(!xT(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=jx(i.children);e.push(new pa(i.value,r))}return e.filter(i=>!t.has(i))}function Gx(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Tu(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function $x(n){return n.data||{}}function Wx(n){return n.resolve||{}}function Zx(n){return"string"==typeof n.title||null===n.title}function C_(n){return ti(e=>{const t=n(e);return t?(0,dn.D)(t).pipe((0,nt.U)(()=>e)):Qe(e)})}const eo=new c.OlP("ROUTES");let hb=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Qe(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=L(t.loadComponent()).pipe((0,nt.U)(Jx),(0,gi.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Dr(()=>{this.componentLoaders.delete(t)})),r=new gd(i,()=>new xt.x).pipe(md());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Qe({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,nt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let m,v,x=!1;Array.isArray(h)?v=h:(m=h.create(t).injector,v=Hh(m.get(eo,[],c.XFs.Self|c.XFs.Optional)));return{routes:v.map(Jh),injector:m}}),Dr(()=>{this.childrenLoaders.delete(i)})),l=new gd(o,()=>new xt.x).pipe(md());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(t){return L(t()).pipe((0,nt.U)(Jx),(0,mi.z)(r=>r instanceof c.YKP||Array.isArray(r)?Qe(r):(0,dn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3),c.LFG(c.Sil))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jx(n){return function Xx(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let D_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new xt.x,this.configLoader=(0,c.f3M)(hb),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(ac),this.rootContexts=(0,c.f3M)(j),this.navigationId=0,this.afterPreactivation=()=>Qe(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new u_(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new d_(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t){return this.transitions=new Cr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vu,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(An(i=>0!==i.id),(0,nt.U)(i=>({...i,extractedUrl:t.urlHandlingStrategy.extract(i.rawUrl)})),ti(i=>{let r=!1,o=!1;return Qe(i).pipe((0,gi.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ti(l=>{const h=t.browserUrlTree.toString(),m=!t.navigated||l.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!m&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const x="";return this.events.next(new Kh(l.id,t.serializeUrl(i.rawUrl),x,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),po.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return eC(l.source)&&(t.browserUrlTree=l.extractedUrl),Qe(l).pipe(ti(x=>{const S=this.transitions?.getValue();return this.events.next(new nl(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),S!==this.transitions?.getValue()?po.E:Promise.resolve(x)}),function db(n,e,t,i){return ti(r=>function Hx(n,e,t,i,r){return new zx(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,nt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,gi.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function WF(n,e,t,i,r){return(0,mi.z)(o=>function tm(n,e,t,i,r,o,l="emptyOnly"){return new yT(n,e,t,i,r,l,o).recognize().pipe(ti(h=>null===h?function ub(n){return new ei.y(e=>e.error(n))}(new vT):Qe(h)))}(n,e,t,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,nt.U)(l=>({...o,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,gi.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!x.extras.skipLocationChange){const R=t.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);t.setBrowserUrl(R,x)}t.browserUrlTree=x.urlAfterRedirects}const S=new Qy(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(S)}));if(m&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:x,extractedUrl:S,source:R,restoredState:F,extras:H}=l,Y=new nl(x,this.urlSerializer.serialize(S),R,F);this.events.next(Y);const te=Qp(S,this.rootComponentType).snapshot;return Qe(i={...l,targetSnapshot:te,urlAfterRedirects:S,extras:{...H,skipLocationChange:!1,replaceUrl:!1}})}{const x="";return this.events.next(new Kh(l.id,t.serializeUrl(i.extractedUrl),x,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),po.E}}),(0,gi.b)(l=>{const h=new Xy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),(0,nt.U)(l=>i={...l,guards:nb(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function uT(n,e){return(0,mi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:l}}=t;return 0===l.length&&0===o.length?Qe({...t,guardsResult:!0}):function ab(n,e,t,i){return(0,dn.D)(n).pipe((0,mi.z)(r=>function fT(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Qe(o.map(h=>{const m=Cu(e)??r,v=Eu(h,m);return L(function ob(n){return n&&rf(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,i):m.runInContext(()=>v(n,e,t,i))).pipe(mo())})).pipe(mc()):Qe(!0)}(r.component,r.route,t,e,i)),mo(r=>!0!==r,!0))}(l,i,r,n).pipe((0,mi.z)(h=>h&&function ib(n){return"boolean"==typeof n}(h)?function y_(n,e,t,i){return(0,dn.D)(e).pipe(ss(r=>Ka(function Ox(n,e){return null!==n&&e&&e(new Ed(n)),Qe(!0)}(r.route.parent,i),function Iu(n,e){return null!==n&&e&&e(new Qr(n)),Qe(!0)}(r.route,i),function hT(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(l=>function kx(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>Lh(()=>Qe(l.guards.map(m=>{const v=Cu(l.node)??t,x=Eu(m,v);return L(function cT(n){return n&&rf(n.canActivateChild)}(x)?x.canActivateChild(i,n):v.runInContext(()=>x(i,n))).pipe(mo())})).pipe(mc())));return Qe(o).pipe(mc())}(n,r.path,t),function lb(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Qe(!0);const r=i.map(o=>Lh(()=>{const l=Cu(e)??t,h=Eu(o,l);return L(function rb(n){return n&&rf(n.canActivate)}(h)?h.canActivate(e,n):l.runInContext(()=>h(e,n))).pipe(mo())}));return Qe(r).pipe(mc())}(n,r.route,t))),mo(r=>!0!==r,!0))}(i,o,n,e):Qe(h)),(0,nt.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,l=>this.events.next(l)),(0,gi.b)(l=>{if(i.guardsResult=l.guardsResult,Fs(l.guardsResult))throw p(0,l.guardsResult);const h=new Jy(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),An(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),C_(l=>{if(l.guards.canActivateChecks.length)return Qe(l).pipe((0,gi.b)(h=>{const m=new Yp(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}),ti(h=>{let m=!1;return Qe(h).pipe(function qF(n,e){return(0,mi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Qe(t);let o=0;return(0,dn.D)(r).pipe(ss(l=>function qx(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Zx(r)&&(o[Ps]=r.title),function YF(n,e,t,i){const r=function Yx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Qe({});const o={};return(0,dn.D)(r).pipe((0,mi.z)(l=>function Kx(n,e,t,i){const r=Cu(e)??i,o=Eu(n,r);return L(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[l],e,t,i).pipe(mo(),(0,gi.b)(h=>{o[l]=h}))),sc(1),_d(o),as(l=>sb(l)?po.E:rs(l)))}(o,n,e,i).pipe((0,nt.U)(l=>(n._resolvedData=l,n.data=bu(n,t).resolve,r&&Zx(r)&&(n.data[Ps]=r.title),null)))}(l.route,i,n,e)),(0,gi.b)(()=>o++),sc(1),(0,mi.z)(l=>o===r.length?Qe(t):po.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,gi.b)({next:()=>m=!0,complete:()=>{m||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,gi.b)(h=>{const m=new yu(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}))}),C_(l=>{const h=m=>{const v=[];m.routeConfig?.loadComponent&&!m.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(m.routeConfig).pipe((0,gi.b)(x=>{m.component=x}),(0,nt.U)(()=>{})));for(const x of m.children)v.push(...h(x));return v};return is(h(l.targetSnapshot.root)).pipe(oc(),Ti(1))}),C_(()=>this.afterPreactivation()),(0,nt.U)(l=>{const h=function g_(n,e,t){const i=Ad(n,e._root,t?t._root:void 0);return new m_(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:h}}),(0,gi.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,nt.U)(i=>(new Mx(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),(0,gi.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new il(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),Dr(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),as(l=>{if(o=!0,T(l)){w(l)||(t.navigated=!0,t.restoreHistory(i,!0));const h=new rl(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(h),w(l)){const m=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||eC(i.source)};t.scheduleNavigation(m,vu,null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{t.restoreHistory(i,!0);const h=new ol(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(h);try{i.resolve(t.errorHandler(l))}catch(m){i.reject(m)}}return po.E}))}))}cancelNavigationTransition(t,i,r){const o=new rl(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function eC(n){return n!==vu}let fb=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===Rt);return i}getResolvedTitleForRoute(t){return t.data[Ps]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(DT)},providedIn:"root"}),n})(),DT=(()=>{class n extends fb{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(kh))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),IT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Zt)},providedIn:"root"}),n})();class ST{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Zt=(()=>{class n extends ST{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nm=new c.OlP("",{providedIn:"root",factory:()=>({})});let nC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(TT)},providedIn:"root"}),n})(),TT=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rC(n){throw n}function AT(n,e,t){return e.parse("/")}const oC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},MT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ds=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(nm,{optional:!0})||{},this.errorHandler=this.options.errorHandler||rC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||AT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(nC),this.routeReuseStrategy=(0,c.f3M)(IT),this.urlCreationStrategy=(0,c.f3M)(f_),this.titleStrategy=(0,c.f3M)(fb),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Hh((0,c.f3M)(eo,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(D_),this.urlSerializer=(0,c.f3M)(ac),this.location=(0,c.f3M)(Ue),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zr,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Qp(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vu,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const m={...r};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(o.state=m)}const h=this.parseUrl(t);this.scheduleNavigation(h,i,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Jh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:l,queryParamsHandling:h,preserveFragment:m}=i,v=m?this.currentUrlTree.fragment:l;let x=null;switch(h){case"merge":x={...this.currentUrlTree.queryParams,...o};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}return null!==x&&(x=this.removeEmptyProps(x)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,t,x,v??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Fs(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,vu,null,i)}navigate(t,i={skipLocationChange:!1}){return function KF(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new c.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...oC}:!1===i?{...MT}:i,Fs(t))return Ge(this.currentUrlTree,t,r);const o=this.parseUrl(t);return Ge(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,l){if(this.disposed)return Promise.resolve(!1);let h,m,v,x;return l?(h=l.resolve,m=l.reject,v=l.promise):v=new Promise((S,R)=>{h=S,m=R}),x="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:x,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:h,reject:m,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(S=>Promise.reject(S))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===r?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),im=(()=>{class n{constructor(t,i,r,o,l,h){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=l,this.locationStrategy=h,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new xt.x;const m=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===m||"area"===m,this.isAnchorElement?this.subscription=t.events.subscribe(v=>{v instanceof il&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,c.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,c.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,c.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ds),c.Y36(sl),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ft))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,i){1&t&&c.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&c.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class aC{}let kT=(()=>{class n{constructor(t,i,r,o,l){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(An(t=>t instanceof il),ss(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,c.MMx)(o.providers,t,`Route: ${o.path}`));const l=o._injector??t,h=o._loadedInjector??l;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(l,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,dn.D)(r).pipe((0,Ya.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Qe(null);const o=r.pipe((0,mi.z)(l=>null===l?Qe(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,dn.D)([o,l]).pipe((0,Ya.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ds),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(aC),c.LFG(hb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dC=new c.OlP("");let RT=(()=>{class n{constructor(t,i,r,o,l={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof nl?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof il&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Zh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function cf(n,e){return{\u0275kind:n,\u0275providers:e}}function om(){const n=(0,c.f3M)(c.zs3);return e=>{const t=n.get(c.z2F);if(e!==t.components[0])return;const i=n.get(ds),r=n.get(uC);1===n.get(I_)&&i.initialNavigation(),n.get(hC,null,c.XFs.Optional)?.setUpPreloading(),n.get(dC,null,c.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.unsubscribe())}}const uC=new c.OlP("",{factory:()=>new xt.x}),I_=new c.OlP("",{providedIn:"root",factory:()=>1});const hC=new c.OlP("");function LT(n){return cf(0,[{provide:hC,useExisting:kT},{provide:aC,useExisting:n}])}const S_=new c.OlP("ROUTER_FORROOT_GUARD"),JF=[Ue,{provide:ac,useClass:lc},ds,j,{provide:sl,useFactory:function pb(n){return n.routerState.root},deps:[ds]},hb,[]];function gb(){return new c.PXZ("Router",ds)}let fC=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[JF,[],{provide:eo,multi:!0,useValue:t},{provide:S_,useFactory:UT,deps:[[ds,new c.FiY,new c.tp0]]},{provide:nm,useValue:i||{}},i?.useHash?{provide:ft,useClass:Fe}:{provide:ft,useClass:Pe},{provide:dC,useFactory:()=>{const n=(0,c.f3M)(Nl),e=(0,c.f3M)(c.R0b),t=(0,c.f3M)(nm),i=(0,c.f3M)(D_),r=(0,c.f3M)(ac);return t.scrollOffset&&n.setOffset(t.scrollOffset),new RT(r,i,n,e,t)}},i?.preloadingStrategy?LT(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:gb},i?.initialNavigation?mC(i):[],[{provide:gC,useFactory:om},{provide:c.tb,multi:!0,useExisting:gC}]]}}static forChild(t){return{ngModule:n,providers:[{provide:eo,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(S_,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[ot]}),n})();function UT(n){return"guarded"}function mC(n){return["disabled"===n.initialNavigation?cf(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const e=(0,c.f3M)(ds);return()=>{e.setUpLocationChangeListener()}}},{provide:I_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?cf(2,[{provide:I_,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:e=>{const t=e.get(pe,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const o=e.get(ds),l=e.get(uC);(function i(r){e.get(ds).events.pipe(An(l=>l instanceof il||l instanceof rl||l instanceof ol),(0,nt.U)(l=>l instanceof il||l instanceof rl&&(0===l.code||1===l.code)&&null),An(l=>null!==l),Ti(1)).subscribe(()=>{r()})})(()=>{r(!0)}),e.get(D_).afterPreactivation=()=>(r(!0),l.closed?Qe(void 0):l),o.initialNavigation()}))}}]).\u0275providers:[]]}const gC=new c.OlP(""),ff=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function vb(){return(0,c.f3M)(J)}}),sm=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let us=(()=>{class n{constructor(t){this.value="ltr",this.change=new c.vpe,t&&(this.value=function yb(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?sm.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ff,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function rn(n){return null!=n&&"false"!=`${n}`}function Ls(n,e=0){return function _C(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function pf(n){return Array.isArray(n)?n:[n]}function Qi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function ku(n){return n instanceof c.SBq?n.nativeElement:n}function T_(n){return n&&"function"==typeof n.connect&&!(n instanceof gd)}class vC{applyChanges(e,t,i,r,o){e.forEachOperation((l,h,m)=>{let v,x;if(null==l.previousIndex){const S=i(l,h,m);v=t.createEmbeddedView(S.templateRef,S.context,S.index),x=1}else null==m?(t.remove(h),x=3):(v=t.get(h),t.move(v,m),x=2);o&&o({context:v?.context,operation:x,record:l})})}detach(){}}const A_=new c.OlP("_ViewRepeater");let am;try{am=typeof Intl<"u"&&Intl.v8BreakIterator}catch{am=!1}let lm,M_,Ou,bb,Ai=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function fh(n){return n===Ap}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!am)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ru(n){return function qT(){if(null==lm&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>lm=!0}))}finally{lm=lm||!1}return lm}()?n:!!n.capture}function wC(){if(null==Ou){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Ou=!1,Ou;if("scrollBehavior"in document.documentElement.style)Ou=!0;else{const n=Element.prototype.scrollTo;Ou=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Ou}function cm(){if("object"!=typeof document||!document)return 0;if(null==M_){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),i=t.style;i.width="2px",i.height="1px",n.appendChild(t),document.body.appendChild(n),M_=0,0===n.scrollLeft&&(n.scrollLeft=1,M_=0===n.scrollLeft?1:2),n.remove()}return M_}function Od(n){return n.composedPath?n.composedPath()[0]:n.target}function k_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var KT=V(1144);const ZT=["addListener","removeListener"],QT=["addEventListener","removeEventListener"],xb=["on","off"];function dm(n,e,t,i){if((0,Kr.m)(t)&&(i=t,t=void 0),i)return dm(n,e,t).pipe(ns(i));const[r,o]=function O_(n){return(0,Kr.m)(n.addEventListener)&&(0,Kr.m)(n.removeEventListener)}(n)?QT.map(l=>h=>n[l](e,h,t)):function R_(n){return(0,Kr.m)(n.addListener)&&(0,Kr.m)(n.removeListener)}(n)?ZT.map(xC(n,e)):function Cb(n){return(0,Kr.m)(n.on)&&(0,Kr.m)(n.off)}(n)?xb.map(xC(n,e)):[];if(!r&&(0,KT.z)(n))return(0,mi.z)(l=>dm(l,e,t))((0,Rs.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new ei.y(l=>{const h=(...m)=>l.next(1<m.length?m:m[0]);return r(h),()=>o(h)})}function xC(n,e){return t=>i=>n[t](e,i)}var XT=V(4408);const Pu={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Pu;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new os.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Pu;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Pu;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Eb=V(7565);const EC=new class CC extends Eb.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class rN extends XT.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Pu.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Pu.cancelAnimationFrame(t),e._scheduled=void 0)}});let ga,Db=1;const Fu={};function um(n){return n in Fu&&(delete Fu[n],!0)}const hm={setImmediate(n){const e=Db++;return Fu[e]=!0,ga||(ga=Promise.resolve()),ga.then(()=>um(e)&&n()),e},clearImmediate(n){um(n)}},{setImmediate:DC,clearImmediate:IC}=hm,P_={setImmediate(...n){const{delegate:e}=P_;return(e?.setImmediate||DC)(...n)},clearImmediate(n){const{delegate:e}=P_;return(e?.clearImmediate||IC)(n)},delegate:void 0},tA=new class fm extends Eb.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class eA extends XT.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=P_.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(P_.clearImmediate(t),e._scheduled=void 0)}});var pm=V(4986),iA=V(3532);function Ib(n,e=pm.z){return function nA(n){return(0,si.e)((e,t)=>{let i=!1,r=null,o=null,l=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const v=r;r=null,t.next(v)}l&&t.complete()},m=()=>{o=null,l&&t.complete()};e.subscribe((0,On.x)(t,v=>{i=!0,r=v,o||(0,Rs.Xf)(n(v)).subscribe(o=(0,On.x)(t,h,m))},()=>{l=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>function oA(n=0,e,t=pm.P){let i=-1;return null!=e&&((0,iA.K)(e)?t=e:i=e),new ei.y(r=>{let o=function rA(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let l=0;return t.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,e))}var SC=V(5032);function sn(n){return(0,si.e)((e,t)=>{(0,Rs.Xf)(n).subscribe((0,On.x)(t,()=>t.complete(),SC.Z)),!t.closed&&e.subscribe(t)})}const Sb=["contentWrapper"],sA=["*"],Tb=new c.OlP("VIRTUAL_SCROLL_STRATEGY");let Nu=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new xt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ei.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(Ib(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Qe()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(An(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=ku(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>dm(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Ai),c.LFG(J,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lu=(()=>{class n{constructor(t,i,r,o){this.elementRef=t,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new xt.x,this._elementScrolled=new ei.y(l=>this.ngZone.runOutsideAngular(()=>dm(this.elementRef.nativeElement,"scroll").pipe(sn(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=r?t.end:t.start),null==t.right&&(t.right=r?t.start:t.end),null!=t.bottom&&(t.top=i.scrollHeight-i.clientHeight-t.bottom),r&&0!=cm()?(null!=t.left&&(t.right=i.scrollWidth-i.clientWidth-t.left),2==cm()?t.left=t.right:1==cm()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=i.scrollWidth-i.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const i=this.elementRef.nativeElement;wC()?i.scrollTo(t):(null!=t.top&&(i.scrollTop=t.top),null!=t.left&&(i.scrollLeft=t.left))}measureScrollOffset(t){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==t)return o.scrollTop;if("bottom"==t)return o.scrollHeight-o.clientHeight-o.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==t?t=l?r:i:"end"==t&&(t=l?i:r),l&&2==cm()?t==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:l&&1==cm()?t==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:t==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Nu),c.Y36(c.R0b),c.Y36(us,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),gf=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new xt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(Ib(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ai),c.LFG(c.R0b),c.LFG(J,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Ab=new c.OlP("VIRTUAL_SCROLLABLE");let cA=(()=>{class n extends Lu{constructor(t,i,r,o){super(t,i,r,o)}measureViewportSize(t){const i=this.elementRef.nativeElement;return"horizontal"===t?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Nu),c.Y36(c.R0b),c.Y36(us,8))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const TC=typeof requestAnimationFrame<"u"?EC:tA;let F_=(()=>{class n extends cA{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=rn(t)}constructor(t,i,r,o,l,h,m,v){super(t,h,r,l),this.elementRef=t,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=v,this._platform=(0,c.f3M)(Ai),this._detachedSubject=new xt.x,this._renderedRangeSubject=new xt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new ei.y(x=>this._scrollStrategy.scrolledIndexChange.subscribe(S=>Promise.resolve().then(()=>this.ngZone.run(()=>x.next(S))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=os.w0.EMPTY,this._viewportChanges=m.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Er(null),Ib(0,TC)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(sn(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function cN(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,i="to-start"){t=this.appendOnly&&"to-start"===i?0:t;const o="horizontal"==this.orientation,l=o?"X":"Y";let m=`translate${l}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===i&&(m+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=m&&(this._renderedContentTransform=m,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=t:r.top=t,this.scrollable.scrollTo(r)}scrollToIndex(t,i="auto"){this._scrollStrategy.scrollToIndex(t,i)}measureScrollOffset(t){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let i;const r="left",o="right",l="rtl"==this.dir?.value;i="start"==t?l?o:r:"end"==t?l?r:o:t||("horizontal"===this.orientation?"left":"top");const h=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-h}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of t)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(Tb,8),c.Y36(us,8),c.Y36(Nu),c.Y36(gf),c.Y36(Ab,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,i){if(1&t&&c.Gf(Sb,7),2&t){let r;c.iGM(r=c.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[c._Bn([{provide:Lu,useFactory:(e,t)=>e||t,deps:[[new c.FiY,new c.tBr(Ab)],n]}]),c.qOj,c.jDz],ngContentSelectors:sA,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&t&&(c.xp6(3),c.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),vf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),mm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mu,vf,F_,Mu,vf]}),n})();const ll=[[["caption"]],[["colgroup"],["col"]]],gm=["caption","colgroup, col"];function yf(n){return class extends n{get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=rn(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}}}const Pr=new c.OlP("CDK_TABLE");let _a=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),va=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),_c=(()=>{class n{constructor(t){this.template=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class bf{}const wf=yf(bf);let Bo=(()=>{class n extends wf{get name(){return this._name}set name(t){this._setNameInput(t)}get stickyEnd(){return this._stickyEnd}set stickyEnd(t){const i=this._stickyEnd;this._stickyEnd=rn(t),this._hasStickyChanged=i!==this._stickyEnd}constructor(t){super(),this._table=t,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(t){t&&(this._name=t,this.cssClassFriendlyName=t.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Pr,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,_a,5),c.Suo(r,va,5),c.Suo(r,_c,5)),2&t){let o;c.iGM(o=c.CRH())&&(i.cell=o.first),c.iGM(o=c.CRH())&&(i.headerCell=o.first),c.iGM(o=c.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})();class Pd{constructor(e,t){t.nativeElement.classList.add(...e._columnCssClassName)}}let Fd=(()=>{class n extends Pd{constructor(t,i){super(t,i)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bo),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]}),n})(),N_=(()=>{class n extends Pd{constructor(t,i){if(super(t,i),1===t._table?._elementRef.nativeElement.nodeType){const r=t._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Bo),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]}),n})();class Rb{constructor(){this.tasks=[],this.endTasks=[]}}const L_=new c.OlP("_COALESCED_STYLE_SCHEDULER");let Ob=(()=>{class n{constructor(t){this._ngZone=t,this._currentSchedule=null,this._destroyed=new xt.x}schedule(t){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(t)}scheduleEnd(t){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(t)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Rb,this._getScheduleObservable().pipe(sn(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const t=this._currentSchedule;this._currentSchedule=new Rb;for(const i of t.tasks)i();for(const i of t.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,dn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Ti(1))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),B_=(()=>{class n{constructor(t,i){this.template=t,this._differs=i}ngOnChanges(t){if(!this._columnsDiffer){const i=t.columns&&t.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(t){return this instanceof xf?t.headerCell.template:this instanceof Cf?t.footerCell.template:t.cell.template}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();class AC extends B_{}const MC=yf(AC);let xf=(()=>{class n extends MC{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(Pr,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})();class hA extends B_{}const fA=yf(hA);let Cf=(()=>{class n extends fA{constructor(t,i,r){super(t,i),this._table=r}ngOnChanges(t){super.ngOnChanges(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(Pr,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})(),V_=(()=>{class n extends B_{constructor(t,i,r){super(t,i),this._table=r}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(Pr,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]}),n})(),cl=(()=>{class n{constructor(t){this._viewContainer=t,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),_m=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},dependencies:[cl],encapsulation:2}),n})(),Pb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},dependencies:[cl],encapsulation:2}),n})(),Uu=(()=>{class n{constructor(t){this.templateRef=t,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const ym=["top","bottom","left","right"];class Fb{constructor(e,t,i,r,o=!0,l=!0,h){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=l,this._positionListener=h,this._cachedCellWidths=[],this._borderCellCss={top:`${t}-border-elem-top`,bottom:`${t}-border-elem-bottom`,left:`${t}-border-elem-left`,right:`${t}-border-elem-right`}}clearStickyPositioning(e,t){const i=[];for(const r of e)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,t)})}updateStickyColumns(e,t,i,r=!0){if(!e.length||!this._isBrowser||!t.some(R=>R)&&!i.some(R=>R))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=e[0],l=o.children.length,h=this._getCellWidths(o,r),m=this._getStickyStartColumnPositions(h,t),v=this._getStickyEndColumnPositions(h,i),x=t.lastIndexOf(!0),S=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const R="rtl"===this.direction,F=R?"right":"left",H=R?"left":"right";for(const Y of e)for(let te=0;te<l;te++){const Oe=Y.children[te];t[te]&&this._addStickyStyle(Oe,F,m[te],te===x),i[te]&&this._addStickyStyle(Oe,H,v[te],te===S)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===x?[]:h.slice(0,x+1).map((Y,te)=>t[te]?Y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===S?[]:h.slice(S).map((Y,te)=>i[te+S]?Y:null).reverse()}))})}stickRows(e,t,i){if(!this._isBrowser)return;const r="bottom"===i?e.slice().reverse():e,o="bottom"===i?t.slice().reverse():t,l=[],h=[],m=[];for(let x=0,S=0;x<r.length;x++){if(!o[x])continue;l[x]=S;const R=r[x];m[x]=this._isNativeHtmlTable?Array.from(R.children):[R];const F=R.getBoundingClientRect().height;S+=F,h[x]=F}const v=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let x=0;x<r.length;x++){if(!o[x])continue;const S=l[x],R=x===v;for(const F of m[x])this._addStickyStyle(F,i,S,R)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:h,offsets:l,elements:m}):this._positionListener?.stickyFooterRowsUpdated({sizes:h,offsets:l,elements:m})})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const i=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(e,t){for(const r of t)e.style[r]="",e.classList.remove(this._borderCellCss[r]);ym.some(r=>-1===t.indexOf(r)&&e.style[r])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,i,r){e.classList.add(this._stickCellCss),r&&e.classList.add(this._borderCellCss[t]),e.style[t]=`${i}px`,e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let i=0;for(const r of ym)e.style[r]&&(i+=t[r]);return i?`${i}`:""}_getCellWidths(e,t=!0){if(!t&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=e.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(e,t){const i=[];let r=0;for(let o=0;o<e.length;o++)t[o]&&(i[o]=r,r+=e[o]);return i}_getStickyEndColumnPositions(e,t){const i=[];let r=0;for(let o=e.length;o>0;o--)t[o]&&(i[o]=r,r+=e[o]);return i}}const bm=new c.OlP("CDK_SPL");let U_=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),wm=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),xm=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),Cm=(()=>{class n{constructor(t,i){this.viewContainer=t,this.elementRef=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),Em=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(t){this._trackByFn=t}get dataSource(){return this._dataSource}set dataSource(t){this._dataSource!==t&&this._switchDataSource(t)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(t){this._multiTemplateDataRows=rn(t),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(t){this._fixedLayout=rn(t),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(t,i,r,o,l,h,m,v,x,S,R,F){this._differs=t,this._changeDetectorRef=i,this._elementRef=r,this._dir=l,this._platform=m,this._viewRepeater=v,this._coalescedStyleScheduler=x,this._viewportRuler=S,this._stickyPositioningListener=R,this._ngZone=F,this._onDestroy=new xt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new Cr({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=h,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((t,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(sn(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(t=>{t.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),T_(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const t=this._dataDiffer.diff(this._renderRows);if(!t)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(t,i,(r,o,l)=>this._getEmbeddedViewArgs(r.item,l),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),t.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Ti(1),sn(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(t){this._customColumnDefs.add(t)}removeColumnDef(t){this._customColumnDefs.delete(t)}addRowDef(t){this._customRowDefs.add(t)}removeRowDef(t){this._customRowDefs.delete(t)}addHeaderRowDef(t){this._customHeaderRowDefs.add(t),this._headerRowDefChanged=!0}removeHeaderRowDef(t){this._customHeaderRowDefs.delete(t),this._headerRowDefChanged=!0}addFooterRowDef(t){this._customFooterRowDefs.add(t),this._footerRowDefChanged=!0}removeFooterRowDef(t){this._customFooterRowDefs.delete(t),this._footerRowDefChanged=!0}setNoDataRow(t){this._customNoDataRow=t}updateStickyHeaderRowStyles(){const t=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=t.length?"":"none");const o=this._headerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(t,["top"]),this._stickyStyler.stickRows(t,o,"top"),this._headerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyFooterRowStyles(){const t=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=t.length?"":"none");const o=this._footerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(t,["bottom"]),this._stickyStyler.stickRows(t,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyColumnStyles(){const t=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...t,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),t.forEach((o,l)=>{this._addStickyColumnStyles([o],this._headerRowDefs[l])}),this._rowDefs.forEach(o=>{const l=[];for(let h=0;h<i.length;h++)this._renderRows[h].rowDef===o&&l.push(i[h]);this._addStickyColumnStyles(l,o)}),r.forEach((o,l)=>{this._addStickyColumnStyles([o],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const t=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const l=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let h=0;h<l.length;h++){let m=l[h];const v=this._cachedRenderRowsMap.get(m.data);v.has(m.rowDef)?v.get(m.rowDef).push(m):v.set(m.rowDef,[m]),t.push(m)}}return t}_getRenderRowsForData(t,i,r){return this._getRowDefs(t,i).map(l=>{const h=r&&r.has(l)?r.get(l):[];if(h.length){const m=h.shift();return m.dataIndex=i,m}return{data:t,rowDef:l,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Dm(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Dm(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Dm(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Dm(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const t=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=t[0]}_renderUpdatedColumns(){const t=(l,h)=>l||!!h.getColumnsDiff(),i=this._rowDefs.reduce(t,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(t,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(t,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(t){this._data=[],T_(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),t||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=t}_observeRenderChanges(){if(!this.dataSource)return;let t;T_(this.dataSource)?t=this.dataSource.connect(this):function dA(n){return!!n&&(n instanceof ei.y||(0,Kr.m)(n.lift)&&(0,Kr.m)(n.subscribe))}(this.dataSource)?t=this.dataSource:Array.isArray(this.dataSource)&&(t=Qe(this.dataSource)),this._renderChangeSubscription=t.pipe(sn(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((t,i)=>this._renderRow(this._headerRowOutlet,t,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((t,i)=>this._renderRow(this._footerRowOutlet,t,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(t,i){const r=Array.from(i.columns||[]).map(h=>this._columnDefsByName.get(h)),o=r.map(h=>h.sticky),l=r.map(h=>h.stickyEnd);this._stickyStyler.updateStickyColumns(t,o,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(t){const i=[];for(let r=0;r<t.viewContainer.length;r++){const o=t.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(t,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,t));else{let o=this._rowDefs.find(l=>l.when&&l.when(i,t))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(t,i){return{templateRef:t.rowDef.template,context:{$implicit:t.data},index:i}}_renderRow(t,i,r,o={}){const l=t.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),l}_renderCellTemplateForItem(t,i){for(let r of this._getCellTemplates(t))cl.mostRecentCellOutlet&&cl.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const t=this._rowOutlet.viewContainer;for(let i=0,r=t.length;i<r;i++){const l=t.get(i).context;l.count=r,l.first=0===i,l.last=i===r-1,l.even=i%2==0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[i].dataIndex,l.renderIndex=i):l.index=this._renderRows[i].dataIndex}}_getCellTemplates(t){return t&&t.columns?Array.from(t.columns,i=>{const r=this._columnDefsByName.get(i);return t.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const t=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const l of r.outlets)o.appendChild(l.elementRef.nativeElement);t.appendChild(o)}this._elementRef.nativeElement.appendChild(t)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const t=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(t,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(t,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(t,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new Fb(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:Qe()).pipe(sn(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(t){return t.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const t=this._customNoDataRow||this._noDataRow;if(!t)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(t.templateRef),l=o.rootNodes[0];1===o.rootNodes.length&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(t._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(us,8),c.Y36(J),c.Y36(Ai),c.Y36(A_),c.Y36(L_),c.Y36(gf),c.Y36(bm,12),c.Y36(c.R0b,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,Uu,5),c.Suo(r,Bo,5),c.Suo(r,V_,5),c.Suo(r,xf,5),c.Suo(r,Cf,5)),2&t){let o;c.iGM(o=c.CRH())&&(i._noDataRow=o.first),c.iGM(o=c.CRH())&&(i._contentColumnDefs=o),c.iGM(o=c.CRH())&&(i._contentRowDefs=o),c.iGM(o=c.CRH())&&(i._contentHeaderRowDefs=o),c.iGM(o=c.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(t,i){if(1&t&&(c.Gf(U_,7),c.Gf(wm,7),c.Gf(xm,7),c.Gf(Cm,7)),2&t){let r;c.iGM(r=c.CRH())&&(i._rowOutlet=r.first),c.iGM(r=c.CRH())&&(i._headerRowOutlet=r.first),c.iGM(r=c.CRH())&&(i._footerRowOutlet=r.first),c.iGM(r=c.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:Pr,useExisting:n},{provide:A_,useClass:vC},{provide:L_,useClass:Ob},{provide:bm,useValue:null}])],ngContentSelectors:gm,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(c.F$t(ll),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[U_,wm,xm,Cm],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function Dm(n,e){return n.concat(Array.from(e))}let PC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[mm]}),n})();function jn(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Gb(n,e=pm.z){return(0,si.e)((t,i)=>{let r=null,o=null,l=null;const h=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function m(){const v=l+n,x=e.now();if(x<v)return r=this.schedule(void 0,v-x),void i.add(r);h()}t.subscribe((0,On.x)(i,v=>{o=v,l=e.now(),r||(r=e.schedule(m,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function $b(n){return An((e,t)=>n<=t)}function Mm(n,e=ts.y){return n=n??eM,(0,si.e)((t,i)=>{let r,o=!0;t.subscribe((0,On.x)(i,l=>{const h=e(l);(o||!n(r,h))&&(o=!1,r=h,i.next(l))}))})}function eM(n,e){return n===e}let Wb=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qC=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=ku(t);return new ei.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new xt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Wb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),qb=(()=>{class n{get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=Ls(t),this._subscribe()}constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(Gb(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(qC),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Y_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Wb]}),n})(),tM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const YC=new Set;let If,km=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):iM}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function nM(n){if(!YC.has(n))try{If||(If=document.createElement("style"),If.setAttribute("type","text/css"),document.head.appendChild(If)),If.sheet&&(If.sheet.insertRule(`@media ${n} {body{ }}`,0),YC.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ai))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function iM(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let KC=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new xt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return Rm(pf(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=is(Rm(pf(t)).map(l=>this._registerQuery(l).observable));return o=Ka(o.pipe(Ti(1)),o.pipe($b(1),Gb(0))),o.pipe((0,nt.U)(l=>{const h={matches:!1,breakpoints:{}};return l.forEach(({matches:m,query:v})=>{h.matches=h.matches||m,h.breakpoints[v]=m}),h}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new ei.y(l=>{const h=m=>this._zone.run(()=>l.next(m));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Er(i),(0,nt.U)(({matches:l})=>({query:t,matches:l})),sn(this._destroySubject)),mql:i};return this._queries.set(t,o),o}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(km),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Rm(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function Nd(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const XC="cdk-describedby-message",Z_="cdk-describedby-host";let Kb=0,JC=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Kb++,this._document=t,this._id=(0,c.f3M)(c.AFp)+"-"+Kb++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=Q_(i,r);"string"!=typeof i?(Zb(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=Q_(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const l=this._messageRegistry.get(o);l&&0===l.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${Z_}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(Z_);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");Zb(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Q_(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=Nd(t,"aria-describedby").filter(r=>0!=r.indexOf(XC));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function QC(n,e,t){const i=Nd(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(Z_,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function rM(n,e,t){const r=Nd(n,e).filter(o=>o!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(Z_)}_isElementDescribedByMessage(t,i){const r=Nd(t,"aria-describedby"),o=this._messageRegistry.get(i),l=o&&o.messageElement.id;return!!l&&-1!=r.indexOf(l)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(Ai))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Q_(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function Zb(n,e){n.id||(n.id=`${XC}-${e}-${Kb++}`)}class oM{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new xt.x,this._typeaheadSubscription=os.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new xt.x,this.change=new xt.x,e instanceof c.n_E&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,gi.b)(t=>this._pressedLetters.push(t)),Gb(e),An(()=>this._pressedLetters.length>0),(0,nt.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,l=i[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((r||jn(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class eE extends oM{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let aM=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function iL(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function nL(n){try{return n.frameElement}catch{return null}}(function hM(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===Sf(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),o=Sf(t);return t.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function dM(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function uM(n){return!function tE(n){return function lM(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function rL(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function X_(n){return function cM(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Qb(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ai))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Qb(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function Sf(n){if(!Qb(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class fM{get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}constructor(e,t,i,r,o=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(Ti(1)).subscribe(e)}}let oL=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new fM(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aM),c.LFG(c.R0b),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xb(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function nE(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const iE=new c.OlP("cdk-input-modality-detector-options"),mM={ignoreKeys:[18,17,224,91,16]},Tf=Ru({passive:!0,capture:!0});let e0=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Cr(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(h=>h===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Od(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Xb(l)?"keyboard":"mouse"),this._mostRecentTarget=Od(l))},this._onTouchstart=l=>{nE(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Od(l))},this._options={...mM,...o},this.modalityDetected=this._modality.pipe($b(1)),this.modalityChanged=this.modalityDetected.pipe(Mm()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Tf),r.addEventListener("mousedown",this._onMousedown,Tf),r.addEventListener("touchstart",this._onTouchstart,Tf)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Tf),document.removeEventListener("mousedown",this._onMousedown,Tf),document.removeEventListener("touchstart",this._onTouchstart,Tf))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ai),c.LFG(c.R0b),c.LFG(J),c.LFG(iE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const t0=new c.OlP("cdk-focus-monitor-default-options"),ev=Ru({passive:!0,capture:!0});let Af=(()=>{class n{constructor(t,i,r,o,l){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new xt.x,this._rootNodeFocusAndBlurListener=h=>{for(let v=Od(h);v;v=v.parentElement)"focus"===h.type?this._onFocus(h,v):this._onBlur(h,v)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(t,i=!1){const r=ku(t);if(!this._platform.isBrowser||1!==r.nodeType)return Qe(null);const o=function wb(n){if(function al(){if(null==bb){const n=typeof document<"u"?document.head:null;bb=!(!n||!n.createShadowRoot&&!n.attachShadow)}return bb}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const h={checkChildren:i,subject:new xt.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(t){const i=ku(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=ku(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,m])=>this._originChanged(h,i,m)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Od(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,ev),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,ev)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(sn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,ev),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,ev),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.R0b),c.LFG(Ai),c.LFG(e0),c.LFG(J,8),c.LFG(t0,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oE="cdk-high-contrast-black-on-white",sE="cdk-high-contrast-white-on-black",n0="cdk-high-contrast-active";let aE=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,c.f3M)(KC).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(n0,oE,sE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(n0,oE):2===i&&t.add(n0,sE)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ai),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_M=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aE))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Y_]}),n})();const dE=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function o0(){return!0}});let wn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!k_()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(aE),c.LFG(dE,8),c.LFG(J))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Mu,Mu]}),n})();function hE(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=rn(e)}constructor(...e){super(...e),this._disabled=!1}}}function Om(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function ju(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=rn(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function tv(n,e=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(t){this._tabIndex=null!=t?Ls(t):this.defaultTabIndex}constructor(...t){super(...t),this._tabIndex=e,this.defaultTabIndex=e}}}let mE=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),a0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,wn]}),n})();class DL{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const l0=Ru({passive:!0,capture:!0});class AM{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Od(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const l=o.get(i);l?l.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,l0)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,l0)))}}const gE={enterDuration:225,exitDuration:150},_E=Ru({passive:!0,capture:!0}),vE=["mousedown","touchstart"],yE=["mouseup","mouseleave","touchend","touchcancel"];class Gu{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ku(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...gE,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const l=i.radius||function MM(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),h=e-r.left,m=t-r.top,v=o.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=h-l+"px",x.style.top=m-l+"px",x.style.height=2*l+"px",x.style.width=2*l+"px",null!=i.color&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(x);const S=window.getComputedStyle(x),F=S.transitionDuration,H="none"===S.transitionProperty||"0s"===F||"0s, 0s"===F||0===r.width&&0===r.height,Y=new DL(this,x,i,H);x.style.transform="scale3d(1, 1, 1)",Y.state=0,i.persistent||(this._mostRecentTransientRipple=Y);let te=null;return!H&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Oe=()=>this._finishRippleTransition(Y),Ye=()=>this._destroyRipple(Y);x.addEventListener("transitionend",Oe),x.addEventListener("transitioncancel",Ye),te={onTransitionEnd:Oe,onTransitionCancel:Ye}}),this._activeRipples.set(Y,te),(H||!v)&&this._finishRippleTransition(Y),Y}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...gE,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=ku(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,vE.forEach(i=>{Gu._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{yE.forEach(t=>{this._triggerElement.addEventListener(t,this,_E)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=Xb(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!nE(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(vE.forEach(t=>Gu._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&yE.forEach(t=>e.removeEventListener(t,this,_E)))}}Gu._eventManager=new AM;const Mf=new c.OlP("mat-ripple-global-options");let kf=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,l){this._elementRef=t,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Gu(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Ai),c.Y36(Mf,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),nv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,wn]}),n})(),bE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn]}),n})(),wE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[nv,Jn,wn,bE]}),n})();const xE=[[["caption"]],[["colgroup"],["col"]]],BM=["caption","colgroup, col"];let Nm=(()=>{class n extends Em{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:Em,useExisting:n},{provide:Pr,useExisting:n},{provide:L_,useClass:Ob},{provide:A_,useClass:vC},{provide:bm,useValue:null}]),c.qOj],ngContentSelectors:BM,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(t,i){1&t&&(c.F$t(xE),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[U_,wm,xm,Cm],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),Bs=(()=>{class n extends _a{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:_a,useExisting:n}]),c.qOj]}),n})(),c0=(()=>{class n extends va{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:va,useExisting:n}]),c.qOj]}),n})(),$u=(()=>{class n extends Bo{get name(){return this._name}set name(t){this._setNameInput(t)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:Bo,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})(),d0=(()=>{class n extends Fd{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]}),n})(),u0=(()=>{class n extends N_{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]}),n})(),Lm=(()=>{class n extends xf{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:xf,useExisting:n}]),c.qOj]}),n})(),CE=(()=>{class n extends V_{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:V_,useExisting:n}]),c.qOj]}),n})(),EE=(()=>{class n extends _m{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:_m,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},dependencies:[cl],encapsulation:2}),n})(),h0=(()=>{class n extends Pb{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:Pb,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(t,i){1&t&&c.GkF(0,0)},dependencies:[cl],encapsulation:2}),n})(),p0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,PC,wn]}),n})();class zM{}var li=V(4976);function m0(){return(0,si.e)((n,e)=>{let t,i=!1;n.subscribe((0,On.x)(e,r=>{const o=t;t=r,i&&e.next([o,r]),i=!0}))})}var at,vo=V(2011),sv=(V(2644),V(3942)),ye=V(5861),Vs=V(6881),hl=V(4859),Us=V(1877),N=V(2090),kE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hs={},av=av||{},Gt=kE||self;function Sr(){}function bc(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Bm(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var RE="closure_uid_"+(1e9*Math.random()>>>0),kL=0;function OE(n,e,t){return n.call.apply(n.bind,arguments)}function PE(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Xi(n,e,t){return(Xi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?OE:PE).apply(null,arguments)}function lv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function Ji(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[r].apply(i,l)}}function Ld(){this.s=this.s,this.o=this.o}Ld.prototype.s=!1,Ld.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function GM(n){Object.prototype.hasOwnProperty.call(n,RE)&&n[RE]||(n[RE]=++kL)}(this)},Ld.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NE=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function g0(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function LE(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(bc(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let l=0;l<o;l++)n[r+l]=i[l]}else n.push(i)}}function Tr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Tr.prototype.h=function(){this.defaultPrevented=!0};var BE=function(){if(!Gt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Gt.addEventListener("test",Sr,e),Gt.removeEventListener("test",Sr,e)}catch{}return n}();function Vm(n){return/^[\s\xa0]*$/.test(n)}var Um=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Hm(n,e){return n<e?-1:n>e?1:0}function _0(){var n=Gt.navigator;return n&&(n=n.userAgent)?n:""}function ya(n){return-1!=_0().indexOf(n)}function v0(n){return v0[" "](n),n}function y0(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}v0[" "]=Sr;var cv,n,Rf=ya("Opera"),Of=ya("Trident")||ya("MSIE"),b0=ya("Edge"),zm=b0||Of,$M=ya("Gecko")&&!(-1!=_0().toLowerCase().indexOf("webkit")&&!ya("Edge"))&&!(ya("Trident")||ya("MSIE"))&&!ya("Edge"),WM=-1!=_0().toLowerCase().indexOf("webkit")&&!ya("Edge");function qM(){var n=Gt.document;return n?n.documentMode:void 0}e:{var w0="",x0=(n=_0(),$M?/rv:([^\);]+)(\)|;)/.exec(n):b0?/Edge\/([\d\.]+)/.exec(n):Of?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):WM?/WebKit\/(\S+)/.exec(n):Rf?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(x0&&(w0=x0?x0[1]:""),Of){var dv=qM();if(null!=dv&&dv>parseFloat(w0)){cv=String(dv);break e}}cv=w0}var VE={},KM=Gt.document&&Of&&(qM()||parseInt(cv,10))||void 0;function jm(n,e){if(Tr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if($M){e:{try{v0(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:UE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&jm.$.h.call(this)}}Ji(jm,Tr);var UE={2:"touch",3:"pen",4:"mouse"};jm.prototype.h=function(){jm.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Gm="closure_listenable_"+(1e6*Math.random()|0),HE=0;function zE(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++HE,this.fa=this.ia=!1}function $m(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function hv(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function jE(n){const e={};for(const t in n)e[t]=n[t];return e}const GE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ZM(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<GE.length;o++)t=GE[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function Wm(n){this.src=n,this.g={},this.h=0}function $E(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=NE(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&($m(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function WE(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}Wm.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var l=WE(n,e,i,r);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new zE(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var qE="closure_lm_"+(1e6*Math.random()|0),YE={};function QM(n,e,t,i,r){if(i&&i.once)return JM(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)QM(n,e[o],t,i,r);return null}return t=ZE(t),n&&n[Gm]?n.O(e,t,Bm(i)?!!i.capture:!!i,r):XM(n,e,t,!1,i,r)}function XM(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var l=Bm(r)?!!r.capture:!!r,h=pv(n);if(h||(n[qE]=h=new Wm(n)),(t=h.add(e,t,i,l,o)).proxy)return t;if(i=function RL(){const e=fv;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)BE||(r=l),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(E0(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function JM(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)JM(n,e[o],t,i,r);return null}return t=ZE(t),n&&n[Gm]?n.P(e,t,Bm(i)?!!i.capture:!!i,r):XM(n,e,t,!0,i,r)}function qm(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)qm(n,e[o],t,i,r);else i=Bm(i)?!!i.capture:!!i,t=ZE(t),n&&n[Gm]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=WE(o=n.g[e],t,i,r))&&($m(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=pv(n))&&(e=n.g[e.toString()],n=-1,e&&(n=WE(e,t,i,r)),(t=-1<n?e[n]:null)&&KE(t))}function KE(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Gm])$E(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(E0(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=pv(e))?($E(t,n),0==t.h&&(t.src=null,e[qE]=null)):$m(n)}}}function E0(n){return n in YE?YE[n]:YE[n]="on"+n}function fv(n,e){if(n.fa)n=!0;else{e=new jm(e,this);var t=n.listener,i=n.la||n.src;n.ia&&KE(n),n=t.call(i,e)}return n}function pv(n){return(n=n[qE])instanceof Wm?n:null}var mv="__closure_events_fn_"+(1e9*Math.random()>>>0);function ZE(n){return"function"==typeof n?n:(n[mv]||(n[mv]=function(e){return n.handleEvent(e)}),n[mv])}function er(){Ld.call(this),this.i=new Wm(this),this.S=this,this.J=null}function Ar(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Tr(e,n);else if(e instanceof Tr)e.target=e.target||n;else{var r=e;ZM(e=new Tr(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var l=e.g=t[o];r=gv(l,i,!0,e)&&r}if(r=gv(l=e.g=n,i,!0,e)&&r,r=gv(l,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=gv(l=e.g=t[o],i,!1,e)&&r}function gv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var l=e[o];if(l&&!l.fa&&l.capture==t){var h=l.listener,m=l.la||l.src;l.ia&&$E(n.i,l),r=!1!==h.call(m,i)&&r}}return r&&!i.defaultPrevented}Ji(er,Ld),er.prototype[Gm]=!0,er.prototype.removeEventListener=function(n,e,t,i){qm(this,n,e,t,i)},er.prototype.N=function(){if(er.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)$m(t[i]);delete n.g[e],n.h--}}this.J=null},er.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},er.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var _v=Gt.JSON.stringify;function OL(){var n=tD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var JE,QE=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new tk,n=>n.reset());class tk{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function vv(n){Gt.setTimeout(()=>{throw n},0)}function XE(n,e){JE||function PL(){var n=Gt.Promise.resolve(void 0);JE=function(){n.then(nk)}}(),eD||(JE(),eD=!0),tD.add(n,e)}var eD=!1,tD=new class ek{constructor(){this.h=this.g=null}add(e,t){const i=QE.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function nk(){for(var n;n=OL();){try{n.h.call(n.g)}catch(t){vv(t)}var e=QE;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}eD=!1}function yv(n,e){er.call(this),this.h=n||1,this.g=e||Gt,this.j=Xi(this.qb,this),this.l=Date.now()}function nD(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function D0(n,e,t){if("function"==typeof n)t&&(n=Xi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Xi(n.handleEvent,n)}return 2147483647<Number(e)?-1:Gt.setTimeout(n,e||0)}function I0(n){n.g=D0(()=>{n.g=null,n.i&&(n.i=!1,I0(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ji(yv,er),(at=yv.prototype).ga=!1,at.T=null,at.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ar(this,"tick"),this.ga&&(nD(this),this.start()))}},at.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},at.N=function(){yv.$.N.call(this),nD(this),delete this.g};class iD extends Ld{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:I0(this)}N(){super.N(),this.g&&(Gt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bv(n){Ld.call(this),this.h=n,this.g={}}Ji(bv,Ld);var zs=[];function rD(n,e,t,i){Array.isArray(t)||(t&&(zs[0]=t.toString()),t=zs);for(var r=0;r<t.length;r++){var o=QM(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function wv(n){hv(n.g,function(e,t){this.g.hasOwnProperty(t)&&KE(e)},n),n.g={}}function xv(){this.g=!0}function Pf(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ik(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var l=1;l<r.length;l++)r[l]=""}}}return _v(t)}catch{return e}}(n,t)+(i?" "+i:"")})}bv.prototype.N=function(){bv.$.N.call(this),wv(this)},bv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},xv.prototype.Ea=function(){this.g=!1},xv.prototype.info=function(){};var Wu={},Cv=null;function Ym(){return Cv=Cv||new er}function T0(n){Tr.call(this,Wu.Ta,n)}function Km(n){const e=Ym();Ar(e,new T0(e))}function A0(n,e){Tr.call(this,Wu.STAT_EVENT,n),this.stat=e}function no(n){const e=Ym();Ar(e,new A0(e,n))}function oD(n,e){Tr.call(this,Wu.Ua,n),this.size=e}function Ff(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Gt.setTimeout(function(){n()},e)}Wu.Ta="serverreachability",Ji(T0,Tr),Wu.STAT_EVENT="statevent",Ji(A0,Tr),Wu.Ua="timingevent",Ji(oD,Tr);var Ev={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Dv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fl(){}function Iv(){}fl.prototype.h=null;var R0,hs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function k0(){Tr.call(this,"d")}function sD(){Tr.call(this,"c")}function Sv(){}function Zm(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new bv(this),this.P=lD,this.V=new yv(n=zm?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new aD}function aD(){this.i=null,this.g="",this.h=!1}Ji(k0,Tr),Ji(sD,Tr),Ji(Sv,fl),Sv.prototype.g=function(){return new XMLHttpRequest},Sv.prototype.i=function(){return{}},R0=new Sv;var lD=45e3,cD={},Qm={};function O0(n,e,t){n.L=1,n.v=N0(ml(e)),n.s=t,n.S=!0,P0(n,null)}function P0(n,e){n.G=Date.now(),Nf(n),n.A=ml(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),gD(t.i,"t",i),n.C=0,t=n.l.I,n.h=new aD,n.g=Xe(n.l,t?e:null,!n.s),0<n.O&&(n.M=new iD(Xi(n.Pa,n,n.g),n.O)),rD(n.U,n.g,"readystatechange",n.nb),e=n.I?jE(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Km(),function FL(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var l="",h=o.split("&"),m=0;m<h.length;m++){var v=h[m].split("=");if(1<v.length){var x=v[0];v=v[1];var S=x.split("_");l=2<=S.length&&"type"==S[1]?l+(x+"=")+v+"&":l+(x+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function rk(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function Tv(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=dD(n,t),r==Qm){4==e&&(n.o=4,no(14),i=!1),Pf(n.j,n.m,null,"[Incomplete Response]");break}if(r==cD){n.o=4,no(15),Pf(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Pf(n.j,n.m,r,null),Bf(n,r)}rk(n)&&r!=Qm&&r!=cD&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,no(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),I(e),e.L=!0,no(11))):(Pf(n.j,n.m,t,"[Invalid Chunked Response]"),pl(n),Lf(n))}function dD(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?Qm:(t=Number(e.substring(t,i)),isNaN(t)?cD:(i+=1)+t>e.length?Qm:(e=e.substr(i,t),n.C=i+t,e))}function Nf(n){n.Y=Date.now()+n.P,F0(n,n.P)}function F0(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Ff(Xi(n.lb,n),e)}function Xm(n){n.B&&(Gt.clearTimeout(n.B),n.B=null)}function Lf(n){0==n.l.H||n.J||U(n.l,n)}function pl(n){Xm(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,nD(n.V),wv(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function Bf(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Lv(t.h,n)))if(!n.K&&Lv(t.h,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;P(t),H0(t)}E(t),no(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.M&&0==t.A&&!t.v&&(t.v=Ff(Xi(t.ib,t),6e3));if(1>=uk(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else ne(t,11)}else if((n.K||t.g==n)&&P(t),!Vm(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let v=r[e];if(t.V=v[0],v=v[1],2==t.H)if("c"==v[0]){t.J=v[1],t.oa=v[2];const x=v[3];null!=x&&(t.qa=x,t.j.info("VER="+t.qa));const S=v[4];null!=S&&(t.Ga=S,t.j.info("SVER="+t.Ga));const R=v[5];null!=R&&"number"==typeof R&&0<R&&(t.K=i=1.5*R,t.j.info("backChannelRequestTimeoutMs_="+i)),i=t;const F=n.g;if(F){const H=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var o=i.h;o.g||-1==H.indexOf("spdy")&&-1==H.indexOf("quic")&&-1==H.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(B0(o,o.h),o.h=null))}if(i.F){const Y=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(i.Da=Y,_i(i.G,i.F,Y))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var l=n;if((i=t).wa=Ve(i,i.I?i.oa:null,i.Y),l.K){_D(i.h,l);var h=l,m=i.K;m&&h.setTimeout(m),h.B&&(Xm(h),Nf(h)),i.g=l}else b(i);0<t.i.length&&a(t)}else"stop"!=v[0]&&"close"!=v[0]||ne(t,7);else 3==t.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?ne(t,7):DD(t):"noop"!=v[0]&&t.l&&t.l.Aa(v),t.A=0)}Km()}catch{}}function hD(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(bc(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function ok(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(bc(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function uD(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(bc(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}(at=Zm.prototype).setTimeout=function(n){this.P=n},at.nb=function(n){n=n.target;const e=this.M;e&&3==Vd(n)?e.l():this.Pa(n)},at.Pa=function(n){try{if(n==this.g)e:{const x=Vd(this.g);var e=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||zm||this.g&&(this.h.h||this.g.ja()||CD(this.g)))){this.J||4!=x||7==e||Km(),Xm(this);var t=this.g.da();this.aa=t;t:if(rk(this)){var i=CD(this.g);n="";var r=i.length,o=4==Vd(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pl(this),Lf(this);var l="";break t}this.h.i=new Gt.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function js(n,e,t,i,r,o,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+l})}(this.j,this.u,this.A,this.m,this.W,x,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vm(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,no(12),pl(this),Lf(this);break e}Pf(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bf(this,t)}this.S?(Tv(this,x,l),zm&&this.i&&3==x&&(rD(this.U,this.V,"tick",this.mb),this.V.start())):(Pf(this.j,this.m,l,null),Bf(this,l)),4==x&&pl(this),this.i&&!this.J&&(4==x?U(this.l,this):(this.i=!1,Nf(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,no(12)):(this.o=0,no(13)),pl(this),Lf(this)}}}catch{}},at.mb=function(){if(this.g){var n=Vd(this.g),e=this.g.ja();this.C<e.length&&(Xm(this),Tv(this,n,e),this.i&&4!=n&&Nf(this))}},at.cancel=function(){this.J=!0,pl(this)},at.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function S0(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Km(),no(17)),pl(this),this.o=2,Lf(this)):F0(this,this.Y-n)};var sk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vf(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Vf){this.h=void 0!==e?e:n.h,Av(this,n.j),this.s=n.s,this.g=n.g,Mv(this,n.m),this.l=n.l,e=n.i;var t=new ba;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),fD(this,t),this.o=n.o}else n&&(t=String(n).match(sk))?(this.h=!!e,Av(this,t[1]||"",!0),this.s=kv(t[2]||""),this.g=kv(t[3]||"",!0),Mv(this,t[4]),this.l=kv(t[5]||"",!0),fD(this,t[6]||"",!0),this.o=kv(t[7]||"")):(this.h=!!e,this.i=new ba(null,this.h))}function ml(n){return new Vf(n)}function Av(n,e,t){n.j=t?kv(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Mv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function fD(n,e,t){e instanceof ba?(n.i=e,function L0(n,e){e&&!n.j&&(wc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(Pv(this,i),gD(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Rv(e,lk)),n.i=new ba(e,n.h))}function _i(n,e,t){n.i.set(e,t)}function N0(n){return _i(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function kv(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Rv(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,LL),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function LL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Vf.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Rv(e,pD,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Rv(e,pD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Rv(t,"/"==t.charAt(0)?ak:Ov,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Rv(t,mD)),n.join("")};var pD=/[#\/\?@]/g,Ov=/[#\?:]/g,ak=/[#\?]/g,lk=/[#\?@]/g,mD=/#/g;function ba(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wc(n){n.g||(n.g=new Map,n.h=0,n.i&&function NL(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Pv(n,e){wc(n),e=Bd(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function Fv(n,e){return wc(n),e=Bd(n,e),n.g.has(e)}function gD(n,e,t){Pv(n,e),0<t.length&&(n.i=null,n.g.set(Bd(n,e),g0(t)),n.h+=t.length)}function Bd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function ck(n){this.l=n||BL,n=Gt.PerformanceNavigationTiming?0<(n=Gt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Gt.g&&Gt.g.Ka&&Gt.g.Ka()&&Gt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(at=ba.prototype).add=function(n,e){wc(this),this.i=null,n=Bd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},at.forEach=function(n,e){wc(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},at.sa=function(){wc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},at.Z=function(n){wc(this);let e=[];if("string"==typeof n)Fv(this,n)&&(e=e.concat(this.g.get(Bd(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},at.set=function(n,e){return wc(this),this.i=null,Fv(this,n=Bd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},at.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},at.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=o;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var BL=10;function dk(n){return!!n.h||!!n.g&&n.g.size>=n.j}function uk(n){return n.h?1:n.g?n.g.size:0}function Lv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function B0(n,e){n.g?n.g.add(e):n.h=e}function _D(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function vD(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return g0(n.i)}function V0(){}function yD(){this.g=new V0}function bD(n,e,t){const i=t||"";try{hD(n,function(r,o){let l=r;Bm(r)&&(l=_v(r)),e.push(i+o+"="+encodeURIComponent(l))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function Bv(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function Jm(n){this.l=n.fc||null,this.j=n.ob||!1}function eg(n,e){er.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=tg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ck.prototype.cancel=function(){if(this.i=vD(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},V0.prototype.stringify=function(n){return Gt.JSON.stringify(n,void 0)},V0.prototype.parse=function(n){return Gt.JSON.parse(n,void 0)},Ji(Jm,fl),Jm.prototype.g=function(){return new eg(this.l,this.j)},Jm.prototype.i=function(n){return function(){return n}}({}),Ji(eg,er);var tg=0;function hk(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Uf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,qu(n)}function qu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(at=eg.prototype).open=function(n,e){if(this.readyState!=tg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,qu(this)},at.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Gt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},at.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Uf(this)),this.readyState=tg},at.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,qu(this)),this.g&&(this.readyState=3,qu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Gt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;hk(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},at.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Uf(this):qu(this),3==this.readyState&&hk(this)}},at.Za=function(n){this.g&&(this.response=this.responseText=n,Uf(this))},at.Ya=function(n){this.g&&(this.response=n,Uf(this))},at.ka=function(){this.g&&Uf(this)},at.setRequestHeader=function(n,e){this.v.append(n,e)},at.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},at.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(eg.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var fk=Gt.JSON.parse;function Mi(n){er.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=pk,this.L=this.M=!1}Ji(Mi,er);var pk="",VL=/^https?$/i,mk=["POST","PUT"];function xD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,_k(n),U0(n)}function _k(n){n.F||(n.F=!0,Ar(n,"complete"),Ar(n,"error"))}function vk(n){if(n.h&&typeof av<"u"&&(!n.C[1]||4!=Vd(n)||2!=n.da()))if(n.v&&4==Vd(n))D0(n.La,0,n);else if(Ar(n,"readystatechange"),4==Vd(n)){n.h=!1;try{const h=n.da();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===h){var r=String(n.I).match(sk)[1]||null;if(!r&&Gt.self&&Gt.self.location){var o=Gt.self.location.protocol;r=o.substr(0,o.length-1)}i=!VL.test(r?r.toLowerCase():"")}t=i}if(t)Ar(n,"complete"),Ar(n,"success");else{n.m=6;try{var l=2<Vd(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.da()+"]",_k(n)}}finally{U0(n)}}}function U0(n,e){if(n.g){yk(n);const t=n.g,i=n.C[0]?Sr:null;n.g=null,n.C=null,e||Ar(n,"ready");try{t.onreadystatechange=i}catch{}}}function yk(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Gt.clearTimeout(n.A),n.A=null)}function Vd(n){return n.g?n.g.readyState:0}function CD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case pk:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function bk(n){let e="";return hv(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function ED(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=bk(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):_i(n,e,t))}function Vv(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function wk(n){this.Ga=0,this.i=[],this.j=new xv,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vv("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vv("baseRetryDelayMs",5e3,n),this.hb=Vv("retryDelaySeedMs",1e4,n),this.eb=Vv("forwardChannelMaxRetries",2,n),this.xa=Vv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new ck(n&&n.concurrentRequestLimit),this.Ja=new yD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function DD(n){if(s(n),3==n.H){var e=n.W++,t=ml(n.G);_i(t,"SID",n.J),_i(t,"RID",e),_i(t,"TYPE","terminate"),f(n,t),(e=new Zm(n,n.j,e,void 0)).L=2,e.v=N0(ml(t)),t=!1,Gt.navigator&&Gt.navigator.sendBeacon&&(t=Gt.navigator.sendBeacon(e.v.toString(),"")),!t&&Gt.Image&&((new Image).src=e.v,t=!0),t||(e.g=Xe(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Nf(e)}we(n)}function H0(n){n.g&&(I(n),n.g.cancel(),n.g=null)}function s(n){H0(n),n.u&&(Gt.clearTimeout(n.u),n.u=null),P(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Gt.clearTimeout(n.m),n.m=null)}function a(n){dk(n.h)||n.m||(n.m=!0,XE(n.Na,n),n.C=0)}function u(n,e){var t;t=e?e.m:n.W++;const i=ml(n.G);_i(i,"SID",n.J),_i(i,"RID",t),_i(i,"AID",n.V),f(n,i),n.o&&n.s&&ED(i,n.o,n.s),t=new Zm(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=_(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),B0(n.h,t),O0(t,i,e)}function f(n,e){n.ma&&hv(n.ma,function(t,i){_i(e,i,t)}),n.l&&hD({},function(t,i){_i(e,i,t)})}function _(n,e,t){t=Math.min(n.i.length,t);var i=n.l?Xi(n.l.Va,n.l,n):null;e:{var r=n.i;let o=-1;for(;;){const l=["count="+t];-1==o?0<t?(o=r[0].h,l.push("ofs="+o)):o=0:l.push("ofs="+o);let h=!0;for(let m=0;m<t;m++){let v=r[m].h;const x=r[m].g;if(v-=o,0>v)o=Math.max(0,r[m].h-100),h=!1;else try{bD(x,l,"req"+v+"_")}catch{i&&i(x)}}if(h){i=l.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,i}function b(n){n.g||n.u||(n.ba=1,XE(n.Ma,n),n.A=0)}function E(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Ff(Xi(n.Ma,n),K(n,n.A)),n.A++,0))}function I(n){null!=n.B&&(Gt.clearTimeout(n.B),n.B=null)}function M(n){n.g=new Zm(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=ml(n.wa);_i(e,"RID","rpc"),_i(e,"SID",n.J),_i(e,"CI",n.M?"0":"1"),_i(e,"AID",n.V),_i(e,"TYPE","xmlhttp"),f(n,e),n.o&&n.s&&ED(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=N0(ml(e)),t.s=null,t.S=!0,P0(t,n)}function P(n){null!=n.v&&(Gt.clearTimeout(n.v),n.v=null)}function U(n,e){var t=null;if(n.g==e){P(n),I(n),n.g=null;var i=2}else{if(!Lv(n.h,e))return;t=e.F,_D(n.h,e),i=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Ar(i=Ym(),new oD(i,t)),a(n)}else b(n);else if(3==(r=e.o)||0==r&&0<n.ta||!(1==i&&function d(n,e){return!(uk(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Ff(Xi(n.Na,n,e),K(n,n.C)),n.C++,0)))}(n,e)||2==i&&E(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),r){case 1:ne(n,5);break;case 4:ne(n,10);break;case 3:ne(n,6);break;default:ne(n,2)}}function K(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function ne(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var i=Xi(n.pb,n);t||(t=new Vf("//www.google.com/images/cleardot.gif"),Gt.location&&"http"==Gt.location.protocol||Av(t,"https"),N0(t)),function wD(n,e){const t=new xv;if(Gt.Image){const i=new Image;i.onload=lv(Bv,t,i,"TestLoadImage: loaded",!0,e),i.onerror=lv(Bv,t,i,"TestLoadImage: error",!1,e),i.onabort=lv(Bv,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=lv(Bv,t,i,"TestLoadImage: timeout",!1,e),Gt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else no(2);n.H=0,n.l&&n.l.za(e),we(n),s(n)}function we(n){if(n.H=0,n.pa=[],n.l){const e=vD(n.h);(0!=e.length||0!=n.i.length)&&(LE(n.pa,e),LE(n.pa,n.i),n.h.i.length=0,g0(n.i),n.i.length=0),n.l.ya()}}function Ve(n,e,t){var i=t instanceof Vf?ml(t):new Vf(t,void 0);if(""!=i.g)e&&(i.g=e+"."+i.g),Mv(i,i.m);else{var r=Gt.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new Vf(null,void 0);i&&Av(o,i),e&&(o.g=e),r&&Mv(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&_i(i,t,e),_i(i,"VER",n.qa),f(n,i),i}function Xe(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mi(t&&n.Ha&&!n.va?new Jm({ob:!0}):n.va)).Oa(n.I),e}function gt(){}function Mt(){if(Of&&!(10<=Number(KM)))throw Error("Environmental error: no available transport.")}function De(n,e){er.call(this),this.g=new wk(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Vm(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Vm(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Zn(this)}function $t(n){k0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ni(){sD.call(this),this.status=1}function Zn(n){this.g=n}function xc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xk(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],l=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;l=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(l<<7&4294967295|l>>>25))+((l=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((o=(e=t+((l=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=o+((l=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Gn(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}(at=Mi.prototype).Oa=function(n){this.M=n},at.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():R0.g(),this.C=function M0(n){return n.h||(n.h=n.i())}(this.u?this.u:R0),this.g.onreadystatechange=Xi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void xD(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=Gt.FormData&&n instanceof Gt.FormData,!(0<=NE(mk,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of t)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{yk(this),0<this.B&&((this.L=function gk(n){return Of&&function YM(){return y0(VE,9,function(){let n=0;const e=Um(String(cv)).split("."),t=Um("9").split("."),i=Math.max(e.length,t.length);for(let l=0;0==n&&l<i;l++){var r=e[l]||"",o=t[l]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=Hm(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||Hm(0==r[2].length,0==o[2].length)||Hm(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xi(this.ua,this)):this.A=D0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){xD(this,o)}},at.ua=function(){typeof av<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ar(this,"timeout"),this.abort(8))},at.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ar(this,"complete"),Ar(this,"abort"),U0(this))},at.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),U0(this,!0)),Mi.$.N.call(this)},at.La=function(){this.s||(this.G||this.v||this.l?vk(this):this.kb())},at.kb=function(){vk(this)},at.da=function(){try{return 2<Vd(this)?this.g.status:-1}catch{return-1}},at.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},at.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),fk(e)}},at.Ia=function(){return this.m},at.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(at=wk.prototype).qa=8,at.H=1,at.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Zm(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=jE(o),ZM(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var i=this.i[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=_(this,r,e),_i(t=ml(this.G),"RID",n),_i(t,"CVER",22),this.F&&_i(t,"X-HTTP-Session-Id",this.F),f(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(bk(o)))+"&"+e:this.o&&ED(t,this.o,o)),B0(this.h,r),this.bb&&_i(t,"TYPE","init"),this.P?(_i(t,"$req",e),_i(t,"SID","null"),r.ba=!0,O0(r,t,null)):O0(r,t,e),this.H=2}}else 3==this.H&&(n?u(this,n):0==this.i.length||dk(this.h)||u(this))},at.Ma=function(){if(this.u=null,M(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Ff(Xi(this.jb,this),n)}},at.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,no(10),H0(this),M(this))},at.ib=function(){null!=this.v&&(this.v=null,H0(this),E(this),no(19))},at.pb=function(n){n?(this.j.info("Successfully pinged google.com"),no(2)):(this.j.info("Failed to ping google.com"),no(1))},(at=gt.prototype).Ba=function(){},at.Aa=function(){},at.za=function(){},at.ya=function(){},at.Va=function(){},Mt.prototype.g=function(n,e){return new De(n,e)},Ji(De,er),De.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;no(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=Ve(n,null,n.Y),a(n)},De.prototype.close=function(){DD(this.g)},De.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=_v(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&a(e)},De.prototype.N=function(){this.g.l=null,delete this.j,DD(this.g),delete this.g,De.$.N.call(this)},Ji($t,k0),Ji(ni,sD),Ji(Zn,gt),Zn.prototype.Ba=function(){Ar(this.g,"a")},Zn.prototype.Aa=function(n){Ar(this.g,new $t(n))},Zn.prototype.za=function(n){Ar(this.g,new ni)},Zn.prototype.ya=function(){Ar(this.g,"b")},Ji(xc,function UL(){this.blockSize=-1}),xc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},xc.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)xk(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){xk(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){xk(this,i),r=0;break}}this.h=r,this.i+=e},xc.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var S6={};function Ck(n){return-128<=n&&128>n?y0(S6,n,function(e){return new Gn([0|e],0>e?-1:0)}):new Gn([0|n],0>n?-1:0)}function Ud(n){if(isNaN(n)||!isFinite(n))return Uv;if(0>n)return yo(Ud(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=Ek;return new Gn(e,0)}var Ek=4294967296,Uv=Ck(0),Dk=Ck(1),zL=Ck(16777216);function Yu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function gl(n){return-1==n.h}function yo(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new Gn(t,~n.h).add(Dk)}function ID(n,e){return n.add(yo(e))}function SD(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function z0(n,e){this.g=n,this.h=e}function TD(n,e){if(Yu(e))throw Error("division by zero");if(Yu(n))return new z0(Uv,Uv);if(gl(n))return e=TD(yo(n),e),new z0(yo(e.g),yo(e.h));if(gl(e))return e=TD(n,yo(e)),new z0(yo(e.g),e.h);if(30<n.g.length){if(gl(n)||gl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=Dk,i=e;0>=i.X(n);)t=jL(t),i=jL(i);var r=Hv(t,1),o=Hv(i,1);for(i=Hv(i,2),t=Hv(t,2);!Yu(i);){var l=o.add(i);0>=l.X(n)&&(r=r.add(t),o=l),i=Hv(i,1),t=Hv(t,1)}return e=ID(n,r.R(e)),new z0(r,e)}for(r=Uv;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),l=(o=Ud(t)).R(e);gl(l)||0<l.X(n);)l=(o=Ud(t-=i)).R(e);Yu(o)&&(o=Dk),r=r.add(o),n=ID(n,l)}return new z0(r,n)}function jL(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Gn(t,n.h)}function Hv(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Gn(r,n.h)}(at=Gn.prototype).ea=function(){if(gl(this))return-yo(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:Ek+i)*e,e*=Ek}return n},at.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Yu(this))return"0";if(gl(this))return"-"+yo(this).toString(n);for(var e=Ud(Math.pow(n,6)),t=this,i="";;){var r=TD(t,e).g,o=((0<(t=ID(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Yu(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},at.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},at.X=function(n){return gl(n=ID(this,n))?-1:Yu(n)?0:1},at.abs=function(){return gl(this)?yo(this):this},at.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),l=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,t[r]=(l&=65535)<<16|(o&=65535)}return new Gn(t,-2147483648&t[t.length-1]?-1:0)},at.R=function(n){if(Yu(this)||Yu(n))return Uv;if(gl(this))return gl(n)?yo(this).R(yo(n)):yo(yo(this).R(n));if(gl(n))return yo(this.R(yo(n)));if(0>this.X(zL)&&0>n.X(zL))return Ud(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,l=65535&this.D(i),h=n.D(r)>>>16,m=65535&n.D(r);t[2*i+2*r]+=l*m,SD(t,2*i+2*r),t[2*i+2*r+1]+=o*m,SD(t,2*i+2*r+1),t[2*i+2*r+1]+=l*h,SD(t,2*i+2*r+1),t[2*i+2*r+2]+=o*h,SD(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new Gn(t,0)},at.gb=function(n){return TD(this,n).h},at.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new Gn(t,this.h&n.h)},at.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new Gn(t,this.h|n.h)},at.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new Gn(t,this.h^n.h)},Mt.prototype.createWebChannel=Mt.prototype.g,De.prototype.send=De.prototype.u,De.prototype.open=De.prototype.m,De.prototype.close=De.prototype.close,Ev.NO_ERROR=0,Ev.TIMEOUT=8,Ev.HTTP_ERROR=6,Dv.COMPLETE="complete",Iv.EventType=hs,hs.OPEN="a",hs.CLOSE="b",hs.ERROR="c",hs.MESSAGE="d",er.prototype.listen=er.prototype.O,Mi.prototype.listenOnce=Mi.prototype.P,Mi.prototype.getLastError=Mi.prototype.Sa,Mi.prototype.getLastErrorCode=Mi.prototype.Ia,Mi.prototype.getStatus=Mi.prototype.da,Mi.prototype.getResponseJson=Mi.prototype.Wa,Mi.prototype.getResponseText=Mi.prototype.ja,Mi.prototype.send=Mi.prototype.ha,Mi.prototype.setWithCredentials=Mi.prototype.Oa,xc.prototype.digest=xc.prototype.l,xc.prototype.reset=xc.prototype.reset,xc.prototype.update=xc.prototype.j,Gn.prototype.add=Gn.prototype.add,Gn.prototype.multiply=Gn.prototype.R,Gn.prototype.modulo=Gn.prototype.gb,Gn.prototype.compare=Gn.prototype.X,Gn.prototype.toNumber=Gn.prototype.ea,Gn.prototype.toString=Gn.prototype.toString,Gn.prototype.getBits=Gn.prototype.D,Gn.fromNumber=Ud,Gn.fromString=function HL(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return yo(HL(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Ud(Math.pow(e,8)),i=Uv,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+o),e);8>o?(o=Ud(Math.pow(e,o)),i=i.R(o).add(Ud(l))):i=(i=i.R(t)).add(Ud(l))}return i};var T6=Hs.createWebChannelTransport=function(){return new Mt},A6=Hs.getStatEventTarget=function(){return Ym()},Ik=Hs.ErrorCode=Ev,M6=Hs.EventType=Dv,k6=Hs.Event=Wu,GL=Hs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},R6=Hs.FetchXmlHttpFactory=Jm,AD=Hs.WebChannel=Iv,O6=Hs.XhrIo=Mi,P6=Hs.Md5=xc,zv=Hs.Integer=Gn;const $L="@firebase/firestore";class io{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}io.UNAUTHENTICATED=new io(null),io.GOOGLE_CREDENTIALS=new io("google-credentials-uid"),io.FIRST_PARTY=new io("first-party-uid"),io.MOCK_USER=new io("mock-user");let jv="9.22.0";const Hf=new Us.Yd("@firebase/firestore");function Sk(){return Hf.logLevel}function Be(n,...e){if(Hf.logLevel<=Us.in.DEBUG){const t=e.map(Tk);Hf.debug(`Firestore (${jv}): ${n}`,...t)}}function ur(n,...e){if(Hf.logLevel<=Us.in.ERROR){const t=e.map(Tk);Hf.error(`Firestore (${jv}): ${n}`,...t)}}function _l(n,...e){if(Hf.logLevel<=Us.in.WARN){const t=e.map(Tk);Hf.warn(`Firestore (${jv}): ${n}`,...t)}}function Tk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function ht(n="Unexpected state"){const e=`FIRESTORE (${jv}) INTERNAL ASSERTION FAILED: `+n;throw ur(e),new Error(e)}function Dt(n,e){n||ht()}function it(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Me extends N.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class WL{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class L6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(io.UNAUTHENTICATED))}shutdown(){}}class B6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class V6{constructor(e){this.t=e,this.currentUser=io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,t(v)):Promise.resolve();let l=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const v=l;e.enqueueRetryable((0,ye.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},m=v=>{Be("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>m(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?m(v):(Be("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fr)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Be("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Dt("string"==typeof i.accessToken),new WL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Dt(null===e||"string"==typeof e),new io(e)}}class U6{constructor(e,t,i){this.h=e,this.l=t,this.m=i,this.type="FirstParty",this.user=io.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class H6{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new U6(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(io.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class z6{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const i=o=>{null!=o.error&&Be("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.T;return this.T=o.token,Be("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{Be("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):Be("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Dt("string"==typeof t.token),this.T=t.token,new qL(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function j6(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class YL{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=j6(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+=e.charAt(r[o]%e.length))}return i}}function Qt(n,e){return n<e?-1:n>e?1:0}function Gv(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function KL(n){return n+"\0"}class ki{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Me(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Me(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ki.fromMillis(Date.now())}static fromDate(e){return ki.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new ki(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class It{constructor(e){this.timestamp=e}static fromTimestamp(e){return new It(e)}static min(){return new It(new ki(0,0))}static max(){return new It(new ki(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class j0{constructor(e,t,i){void 0===t?t=0:t>e.length&&ht(),void 0===i?i=e.length-t:i>e.length-t&&ht(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===j0.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof j0?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),l=t.get(r);if(o<l)return-1;if(o>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class xn extends j0{construct(e,t,i){return new xn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new xn(t)}static emptyPath(){return new xn([])}}const G6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends j0{construct(e,t,i){return new tr(e,t,i)}static isValidIdentifier(e){return G6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let l=!1;for(;r<e.length;){const h=e[r];if("\\"===h){if(r+1===e.length)throw new Me(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[r+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Me(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=m,r+=2}else"`"===h?(l=!l,r++):"."!==h||l?(i+=h,r++):(o(),r++)}if(o(),l)throw new Me(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(t)}static emptyPath(){return new tr([])}}class Je{constructor(e){this.path=e}static fromPath(e){return new Je(xn.fromString(e))}static fromName(e){return new Je(xn.fromString(e).popFirst(5))}static empty(){return new Je(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return xn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Je(new xn(e.slice()))}}class MD{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function Ak(n){return n.fields.find(e=>2===e.kind)}function ng(n){return n.fields.filter(e=>2!==e.kind)}MD.UNKNOWN_ID=-1;class kD{constructor(e,t){this.fieldPath=e,this.kind=t}}class G0{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new G0(0,wa.min())}}function ZL(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=It.fromTimestamp(1e9===i?new ki(t+1,0):new ki(t,i));return new wa(r,Je.empty(),e)}function QL(n){return new wa(n.readTime,n.key,-1)}class wa{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new wa(It.min(),Je.empty(),-1)}static max(){return new wa(It.max(),Je.empty(),-1)}}function Mk(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Je.comparator(n.documentKey,e.documentKey),0!==t?t:Qt(n.largestBatchId,e.largestBatchId))}const XL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function zf(n){return kk.apply(this,arguments)}function kk(){return kk=(0,ye.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==XL)throw n;Be("LocalStore","Unexpectedly lost primary lease")}),kk.apply(this,arguments)}class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ae((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ae?t:ae.resolve(t)}catch(t){return ae.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ae.reject(t)}static resolve(e){return new ae((t,i)=>{t(e)})}static reject(e){return new ae((t,i)=>{i(e)})}static waitFor(e){return new ae((t,i)=>{let r=0,o=0,l=!1;e.forEach(h=>{++r,h.next(()=>{++o,l&&o===r&&t()},m=>i(m))}),l=!0,o===r&&t()})}static or(e){let t=ae.resolve(!1);for(const i of e)t=t.next(r=>r?ae.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new ae((i,r)=>{const o=e.length,l=new Array(o);let h=0;for(let m=0;m<o;m++){const v=m;t(e[v]).next(x=>{l[v]=x,++h,h===o&&i(l)},x=>r(x))}})}static doWhile(e,t){return new ae((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}class RD{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.v=new Fr,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{t.error?this.v.reject(new $0(e,t.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=Rk(i.target.error);this.v.reject(new $0(e,r))}}static open(e,t,i,r){try{return new RD(t,e.transaction(r,i))}catch(o){throw new $0(t,o)}}get R(){return this.v.promise}abort(e){e&&this.v.reject(e),this.aborted||(Be("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Y6(t)}}class Cc{constructor(e,t,i){this.name=e,this.version=t,this.V=i,12.2===Cc.S((0,N.z$)())&&ur("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Be("SimpleDb","Removing database:",e),ig(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,N.hl)())return!1;if(Cc.C())return!0;const e=(0,N.z$)(),t=Cc.S(e),i=0<t&&t<10,r=Cc.N(e),o=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(e){var t=this;return(0,ye.Z)(function*(){return t.db||(Be("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=l=>{i(l.target.result)},o.onblocked=()=>{r(new $0(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=l=>{const h=l.target.error;r("VersionError"===h.name?new Me(ue.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Me(ue.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new $0(e,h))},o.onupgradeneeded=l=>{Be("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',l.oldVersion),t.V.O(l.target.result,o.transaction,l.oldVersion,t.version).next(()=>{Be("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=i=>t.F(i)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var o=this;return(0,ye.Z)(function*(){const l="readonly"===t;let h=0;for(;;){++h;try{o.db=yield o.$(e);const m=RD.open(o.db,e,l?"readonly":"readwrite",i),v=r(m).next(x=>(m.P(),x)).catch(x=>(m.abort(x),ae.reject(x))).toPromise();return v.catch(()=>{}),yield m.R,v}catch(m){const v=m,x="FirebaseError"!==v.name&&h<3;if(Be("SimpleDb","Transaction failed with error:",v.message,"Retrying:",x),o.close(),!x)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class q6{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ig(this.L.delete())}}class $0 extends Me{constructor(e,t){super(ue.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function jf(n){return"IndexedDbTransactionError"===n.name}class Y6{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Be("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Be("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),ig(i)}add(e){return Be("SimpleDb","ADD",this.store.name,e,e),ig(this.store.add(e))}get(e){return ig(this.store.get(e)).next(t=>(void 0===t&&(t=null),Be("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Be("SimpleDb","DELETE",this.store.name,e),ig(this.store.delete(e))}count(){return Be("SimpleDb","COUNT",this.store.name),ig(this.store.count())}j(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(l,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ae((o,l)=>{r.onerror=h=>{l(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}H(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new ae((r,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(e,t){Be("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,l,h)=>h.delete())}X(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.W(r,t)}Z(e){const t=this.cursor({});return new ae((i,r)=>{t.onerror=o=>{const l=Rk(o.target.error);r(l)},t.onsuccess=o=>{const l=o.target.result;l?e(l.primaryKey,l.value).next(h=>{h?l.continue():i()}):i()}})}W(e,t){const i=[];return new ae((r,o)=>{e.onerror=l=>{o(l.target.error)},e.onsuccess=l=>{const h=l.target.result;if(!h)return void r();const m=new q6(h),v=t(h.primaryKey,h.value,m);if(v instanceof ae){const x=v.catch(S=>(m.done(),ae.reject(S)));i.push(x)}m.isDone?r():null===m.K?h.continue():h.continue(m.K)}}).next(()=>ae.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ig(n){return new ae((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=Rk(i.target.error);t(r)}})}let e2=!1;function Rk(n){const e=Cc.S((0,N.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new Me("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return e2||(e2=!0,setTimeout(()=>{throw i},0)),i}}return n}class K6{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Be("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,ye.Z)(function*(){t.task=null;try{Be("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(i){jf(i)?Be("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield zf(i)}yield t.et(6e4)}))}}class Z6{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,ye.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.st(i,e))})()}st(e,t){const i=new Set;let r=t,o=!0;return ae.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(l=>{if(null!==l&&!i.has(l))return Be("IndexBackiller",`Processing collection: ${l}`),this.it(e,l,r).next(h=>{r-=h,i.add(l)});o=!1})).next(()=>t-r)}it(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(e,l).next(()=>this.rt(r,o)).next(h=>(Be("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>l.size)}))}rt(e,t){let i=e;return t.changes.forEach((r,o)=>{const l=QL(o);Mk(l,i)>0&&(i=l)}),new wa(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}let xa=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function W0(n){return null==n}function q0(n){return 0===n&&1/n==-1/0}function t2(n){return"number"==typeof n&&Number.isInteger(n)&&!q0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function Vo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=n2(e)),e=Q6(n.get(t),e);return n2(e)}function Q6(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function n2(n){return n+"\x01\x01"}function Hd(n){const e=n.length;if(Dt(e>=2),2===e)return Dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xn.emptyPath();const t=e-2,i=[];let r="";for(let o=0;o<e;){const l=n.indexOf("\x01",o);switch((l<0||l>t)&&ht(),n.charAt(l+1)){case"\x01":const h=n.substring(o,l);let m;0===r.length?m=h:(r+=h,m=r,r=""),i.push(m);break;case"\x10":r+=n.substring(o,l),r+="\0";break;case"\x11":r+=n.substring(o,l+1);break;default:ht()}o=l+2}return new xn(i)}const r2=["userId","batchId"];function OD(n,e){return[n,Vo(e)]}function o2(n,e,t){return[n,Vo(e),t]}const X6={},J6=["prefixPath","collectionGroup","readTime","documentId"],eG=["prefixPath","collectionGroup","documentId"],tG=["collectionGroup","readTime","prefixPath","documentId"],nG=["canonicalId","targetId"],iG=["targetId","path"],rG=["path","targetId"],oG=["collectionId","parent"],sG=["indexId","uid"],aG=["uid","sequenceNumber"],lG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],cG=["indexId","uid","orderedDocumentKey"],dG=["userId","collectionPath","documentId"],uG=["userId","collectionPath","largestBatchId"],hG=["userId","collectionGroup","largestBatchId"],s2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fG=[...s2,"documentOverlays"],a2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],l2=a2,pG=[...l2,"indexConfiguration","indexState","indexEntries"];class Ok extends JL{constructor(e,t){super(),this.ht=e,this.currentSequenceNumber=t}}function ro(n,e){const t=it(n);return Cc.M(t.ht,e)}function c2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Gf(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function d2(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ci{constructor(e,t){this.comparator=e,this.root=t||bo.EMPTY}insert(e,t){return new ci(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,bo.BLACK,null,null))}remove(e){return new ci(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new PD(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new PD(this.root,e,this.comparator,!1)}getReverseIterator(){return new PD(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new PD(this.root,e,this.comparator,!0)}}class PD{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bo{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??bo.RED,this.left=r??bo.EMPTY,this.right=o??bo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new bo(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return bo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const e=this.left.check();if(e!==this.right.check())throw ht();return e+(this.isRed()?0:1)}}bo.EMPTY=null,bo.RED=!0,bo.BLACK=!1,bo.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(n,e,t,i,r){return this}insert(n,e,t){return new bo(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vi{constructor(e){this.comparator=e,this.data=new ci(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new u2(this.data.getIterator())}getIteratorFrom(e){return new u2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof vi)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new vi(this.comparator);return t.data=e,t}}class u2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $v(n){return n.hasNext()?n.getNext():void 0}class Gs{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new Gs([])}unionWith(e){let t=new vi(tr.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new Gs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Gv(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class h2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Nr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new h2("Invalid base64 string: "+r):r}}(e);return new Nr(t)}static fromUint8Array(e){const t=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(e);return new Nr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nr.EMPTY_BYTE_STRING=new Nr("");const gG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $f(n){if(Dt(!!n),"string"==typeof n){let e=0;const t=gG.exec(n);if(Dt(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:nr(n.seconds),nanos:nr(n.nanos)}}function nr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ku(n){return"string"==typeof n?Nr.fromBase64String(n):Nr.fromUint8Array(n)}function FD(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ND(n){const e=n.mapValue.fields.__previous_value__;return FD(e)?ND(e):e}function Y0(n){const e=$f(n.mapValue.fields.__local_write_time__.timestampValue);return new ki(e.seconds,e.nanos)}class _G{constructor(e,t,i,r,o,l,h,m,v){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=v}}class Wf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Wf&&e.projectId===this.projectId&&e.database===this.database}}const qf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},LD={nullValue:"NULL_VALUE"};function Yf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?FD(n)?4:g2(n)?9007199254740991:10:ht()}function zd(n,e){if(n===e)return!0;const t=Yf(n);if(t!==Yf(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Y0(n).isEqual(Y0(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=$f(i.timestampValue),l=$f(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Ku(n.bytesValue).isEqual(Ku(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return nr(i.geoPointValue.latitude)===nr(r.geoPointValue.latitude)&&nr(i.geoPointValue.longitude)===nr(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return nr(i.integerValue)===nr(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=nr(i.doubleValue),l=nr(r.doubleValue);return o===l?q0(o)===q0(l):isNaN(o)&&isNaN(l)}return!1}(n,e);case 9:return Gv(n.arrayValue.values||[],e.arrayValue.values||[],zd);case 10:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(c2(o)!==c2(l))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===l[h]||!zd(o[h],l[h])))return!1;return!0}(n,e);default:return ht()}var r}function K0(n,e){return void 0!==(n.values||[]).find(t=>zd(t,e))}function Kf(n,e){if(n===e)return 0;const t=Yf(n),i=Yf(e);if(t!==i)return Qt(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return function(r,o){const l=nr(r.integerValue||r.doubleValue),h=nr(o.integerValue||o.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,e);case 3:return f2(n.timestampValue,e.timestampValue);case 4:return f2(Y0(n),Y0(e));case 5:return Qt(n.stringValue,e.stringValue);case 6:return function(r,o){const l=Ku(r),h=Ku(o);return l.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(r,o){const l=r.split("/"),h=o.split("/");for(let m=0;m<l.length&&m<h.length;m++){const v=Qt(l[m],h[m]);if(0!==v)return v}return Qt(l.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,o){const l=Qt(nr(r.latitude),nr(o.latitude));return 0!==l?l:Qt(nr(r.longitude),nr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,o){const l=r.values||[],h=o.values||[];for(let m=0;m<l.length&&m<h.length;++m){const v=Kf(l[m],h[m]);if(v)return v}return Qt(l.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,o){if(r===qf.mapValue&&o===qf.mapValue)return 0;if(r===qf.mapValue)return 1;if(o===qf.mapValue)return-1;const l=r.fields||{},h=Object.keys(l),m=o.fields||{},v=Object.keys(m);h.sort(),v.sort();for(let x=0;x<h.length&&x<v.length;++x){const S=Qt(h[x],v[x]);if(0!==S)return S;const R=Kf(l[h[x]],m[v[x]]);if(0!==R)return R}return Qt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw ht()}}function f2(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Qt(n,e);const t=$f(n),i=$f(e),r=Qt(t.seconds,i.seconds);return 0!==r?r:Qt(t.nanos,i.nanos)}function Wv(n){return Pk(n)}function Pk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=$f(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ku(n.bytesValue).toBase64():"referenceValue"in n?Je.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const l of i.values||[])o?o=!1:r+=",",r+=Pk(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",l=!0;for(const h of r)l?l=!1:o+=",",o+=`${h}:${Pk(i.fields[h])}`;return o+"}"}(n.mapValue):ht();var e}function rg(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Fk(n){return!!n&&"integerValue"in n}function Z0(n){return!!n&&"arrayValue"in n}function p2(n){return!!n&&"nullValue"in n}function m2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function VD(n){return!!n&&"mapValue"in n}function Q0(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Gf(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Q0(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Q0(n.arrayValue.values[t]);return e}return Object.assign({},n)}function g2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function vG(n){return"nullValue"in n?LD:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?rg(Wf.empty(),Je.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:ht()}function yG(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?rg(Wf.empty(),Je.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?qf:ht()}function _2(n,e){const t=Kf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function v2(n,e){const t=Kf(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class wo{constructor(e){this.value=e}static empty(){return new wo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!VD(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Q0(t)}setAll(e){let t=tr.emptyPath(),i={},r=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,i,r),i={},r=[],t=h.popLast()}l?i[h.lastSegment()]=Q0(l):r.push(h.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());VD(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zd(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];VD(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Gf(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new wo(Q0(this.value))}}function y2(n){const e=[];return Gf(n.fields,(t,i)=>{const r=new tr([t]);if(VD(i)){const o=y2(i.mapValue).fields;if(0===o.length)e.push(r);else for(const l of o)e.push(r.child(l))}else e.push(r)}),new Gs(e)}class yi{constructor(e,t,i,r,o,l,h){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=h}static newInvalidDocument(e){return new yi(e,0,It.min(),It.min(),It.min(),wo.empty(),0)}static newFoundDocument(e,t,i,r){return new yi(e,1,t,It.min(),i,r,0)}static newNoDocument(e,t){return new yi(e,2,t,It.min(),It.min(),wo.empty(),0)}static newUnknownDocument(e,t){return new yi(e,3,t,It.min(),It.min(),wo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(It.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=It.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Zf{constructor(e,t){this.position=e,this.inclusive=t}}function b2(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],l=n.position[r];if(i=o.field.isKeyField()?Je.comparator(Je.fromName(l.referenceValue),t.key):Kf(l,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function w2(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zd(n.position[t],e.position[t]))return!1;return!0}class qv{constructor(e,t="asc"){this.field=e,this.dir=t}}function bG(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class x2{}class _n extends x2{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new wG(e,t,i):"array-contains"===t?new EG(e,i):"in"===t?new T2(e,i):"not-in"===t?new DG(e,i):"array-contains-any"===t?new IG(e,i):new _n(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new xG(e,i):new CG(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Kf(t,this.value)):null!==t&&Yf(this.value)===Yf(t)&&this.matchesComparison(Kf(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ht()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $n extends x2{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new $n(e,t)}matches(e){return Yv(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Yv(n){return"and"===n.op}function Nk(n){return"or"===n.op}function Lk(n){return C2(n)&&Yv(n)}function C2(n){for(const e of n.filters)if(e instanceof $n)return!1;return!0}function Bk(n){if(n instanceof _n)return n.field.canonicalString()+n.op.toString()+Wv(n.value);if(Lk(n))return n.filters.map(e=>Bk(e)).join(",");{const e=n.filters.map(t=>Bk(t)).join(",");return`${n.op}(${e})`}}function E2(n,e){return n instanceof _n?(t=n,(i=e)instanceof _n&&t.op===i.op&&t.field.isEqual(i.field)&&zd(t.value,i.value)):n instanceof $n?function(t,i){return i instanceof $n&&t.op===i.op&&t.filters.length===i.filters.length&&t.filters.reduce((r,o,l)=>r&&E2(o,i.filters[l]),!0)}(n,e):void ht();var t,i}function D2(n,e){const t=n.filters.concat(e);return $n.create(t,n.op)}function I2(n){return n instanceof _n?`${(e=n).field.canonicalString()} ${e.op} ${Wv(e.value)}`:n instanceof $n?function(e){return e.op.toString()+" {"+e.getFilters().map(I2).join(" ,")+"}"}(n):"Filter";var e}class wG extends _n{constructor(e,t,i){super(e,t,i),this.key=Je.fromName(i.referenceValue)}matches(e){const t=Je.comparator(e.key,this.key);return this.matchesComparison(t)}}class xG extends _n{constructor(e,t){super(e,"in",t),this.keys=S2(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class CG extends _n{constructor(e,t){super(e,"not-in",t),this.keys=S2(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function S2(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>Je.fromName(i.referenceValue))}class EG extends _n{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Z0(t)&&K0(t.arrayValue,this.value)}}class T2 extends _n{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&K0(this.value.arrayValue,t)}}class DG extends _n{constructor(e,t){super(e,"not-in",t)}matches(e){if(K0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!K0(this.value.arrayValue,t)}}class IG extends _n{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Z0(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>K0(this.value.arrayValue,i))}}class SG{constructor(e,t=null,i=[],r=[],o=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=h,this.dt=null}}function Vk(n,e=null,t=[],i=[],r=null,o=null,l=null){return new SG(n,e,t,i,r,o,l)}function og(n){const e=it(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Bk(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),W0(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Wv(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Wv(i)).join(",")),e.dt=t}return e.dt}function X0(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!bG(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!E2(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!w2(n.startAt,e.startAt)&&w2(n.endAt,e.endAt)}function UD(n){return Je.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function HD(n,e){return n.filters.filter(t=>t instanceof _n&&t.field.isEqual(e))}function A2(n,e,t){let i=LD,r=!0;for(const o of HD(n,e)){let l=LD,h=!0;switch(o.op){case"<":case"<=":l=vG(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,h=!1;break;case"!=":case"not-in":l=LD}_2({value:i,inclusive:r},{value:l,inclusive:h})<0&&(i=l,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];_2({value:i,inclusive:r},{value:l,inclusive:t.inclusive})<0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}function M2(n,e,t){let i=qf,r=!0;for(const o of HD(n,e)){let l=qf,h=!0;switch(o.op){case">=":case">":l=yG(o.value),h=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,h=!1;break;case"!=":case"not-in":l=qf}v2({value:i,inclusive:r},{value:l,inclusive:h})>0&&(i=l,r=h)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const l=t.position[o];v2({value:i,inclusive:r},{value:l,inclusive:t.inclusive})>0&&(i=l,r=t.inclusive);break}return{value:i,inclusive:r}}class Zu{constructor(e,t=null,i=[],r=[],o=null,l="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=h,this.endAt=m,this.wt=null,this._t=null}}function k2(n,e,t,i,r,o,l,h){return new Zu(n,e,t,i,r,o,l,h)}function Kv(n){return new Zu(n)}function R2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Uk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function zD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function Hk(n){return null!==n.collectionGroup}function sg(n){const e=it(n);if(null===e.wt){e.wt=[];const t=zD(e),i=Uk(e);if(null!==t&&null===i)t.isKeyField()||e.wt.push(new qv(t)),e.wt.push(new qv(tr.keyField(),"asc"));else{let r=!1;for(const o of e.explicitOrderBy)e.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new qv(tr.keyField(),o))}}}return e.wt}function fs(n){const e=it(n);if(!e._t)if("F"===e.limitType)e._t=Vk(e.path,e.collectionGroup,sg(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of sg(e))t.push(new qv(o.field,"desc"===o.dir?"asc":"desc"));const i=e.endAt?new Zf(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Zf(e.startAt.position,e.startAt.inclusive):null;e._t=Vk(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e._t}function zk(n,e){e.getFirstInequalityField(),zD(n);const t=n.filters.concat([e]);return new Zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function jD(n,e,t){return new Zu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function J0(n,e){return X0(fs(n),fs(e))&&n.limitType===e.limitType}function O2(n){return`${og(fs(n))}|lt:${n.limitType}`}function jk(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(i=>I2(i)).join(", ")}]`),W0(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Wv(i)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Wv(i)).join(",")),`Target(${t})`}(fs(n))}; limitType=${n.limitType})`}function ew(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):Je.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of sg(t))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,o,l){const h=b2(r,o,l);return r.inclusive?h<=0:h<0}(t.startAt,sg(t),i)||t.endAt&&!function(r,o,l){const h=b2(r,o,l);return r.inclusive?h>=0:h>0}(t.endAt,sg(t),i)));var t,i}function P2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function F2(n){return(e,t)=>{let i=!1;for(const r of sg(n)){const o=TG(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function TG(n,e,t){const i=n.field.isKeyField()?Je.comparator(e.key,t.key):function(r,o,l){const h=o.data.field(r),m=l.data.field(r);return null!==h&&null!==m?Kf(h,m):ht()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return ht()}}class Qu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Gf(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return d2(this.inner)}size(){return this.innerSize}}const AG=new ci(Je.comparator);function $s(){return AG}const N2=new ci(Je.comparator);function tw(...n){let e=N2;for(const t of n)e=e.insert(t.key,t);return e}function L2(n){let e=N2;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function jd(){return nw()}function B2(){return nw()}function nw(){return new Qu(n=>n.toString(),(n,e)=>n.isEqual(e))}const MG=new ci(Je.comparator),kG=new vi(Je.comparator);function an(...n){let e=kG;for(const t of n)e=e.add(t);return e}const RG=new vi(Qt);function Gk(){return RG}function V2(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:q0(e)?"-0":e}}function U2(n){return{integerValue:""+n}}function H2(n,e){return t2(e)?U2(e):V2(n,e)}class GD{constructor(){this._=void 0}}function OG(n,e,t){return n instanceof Zv?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&FD(r)&&(r=ND(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(t,e):n instanceof ag?j2(n,e):n instanceof lg?G2(n,e):function(i,r){const o=z2(i,r),l=$2(o)+$2(i.gt);return Fk(o)&&Fk(i.gt)?U2(l):V2(i.serializer,l)}(n,e)}function PG(n,e,t){return n instanceof ag?j2(n,e):n instanceof lg?G2(n,e):t}function z2(n,e){return n instanceof Qv?Fk(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Zv extends GD{}class ag extends GD{constructor(e){super(),this.elements=e}}function j2(n,e){const t=W2(e);for(const i of n.elements)t.some(r=>zd(r,i))||t.push(i);return{arrayValue:{values:t}}}class lg extends GD{constructor(e){super(),this.elements=e}}function G2(n,e){let t=W2(e);for(const i of n.elements)t=t.filter(r=>!zd(r,i));return{arrayValue:{values:t}}}class Qv extends GD{constructor(e,t){super(),this.serializer=e,this.gt=t}}function $2(n){return nr(n.integerValue||n.doubleValue)}function W2(n){return Z0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class iw{constructor(e,t){this.field=e,this.transform=t}}class NG{constructor(e,t){this.version=e,this.transformResults=t}}class Ri{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $D(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class WD{}function q2(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Jv(n.key,Ri.none()):new Xv(n.key,n.data,Ri.none());{const t=n.data,i=wo.empty();let r=new vi(tr.comparator);for(let o of e.fields)if(!r.has(o)){let l=t.field(o);null===l&&o.length>1&&(o=o.popLast(),l=t.field(o)),null===l?i.delete(o):i.set(o,l),r=r.add(o)}return new Xu(n.key,i,new Gs(r.toArray()),Ri.none())}}function LG(n,e,t){n instanceof Xv?function(i,r,o){const l=i.value.clone(),h=Z2(i.fieldTransforms,r,o.transformResults);l.setAll(h),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Xu?function(i,r,o){if(!$D(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=Z2(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(K2(i)),h.setAll(l),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function rw(n,e,t,i){return n instanceof Xv?function(r,o,l,h){if(!$D(r.precondition,o))return l;const m=r.value.clone(),v=Q2(r.fieldTransforms,h,o);return m.setAll(v),o.convertToFoundDocument(o.version,m).setHasLocalMutations(),null}(n,e,t,i):n instanceof Xu?function(r,o,l,h){if(!$D(r.precondition,o))return l;const m=Q2(r.fieldTransforms,h,o),v=o.data;return v.setAll(K2(r)),v.setAll(m),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(x=>x.field))}(n,e,t,i):(l=t,$D(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l);var o,l}function BG(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=z2(i.transform,r||null);null!=o&&(null===t&&(t=wo.empty()),t.set(i.field,o))}return t||null}function Y2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&Gv(t,i,(r,o)=>function FG(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof ag&&i instanceof ag||t instanceof lg&&i instanceof lg?Gv(t.elements,i.elements,zd):t instanceof Qv&&i instanceof Qv?zd(t.gt,i.gt):t instanceof Zv&&i instanceof Zv);var t,i}(r,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Xv extends WD{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Xu extends WD{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function K2(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function Z2(n,e,t){const i=new Map;Dt(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],l=o.transform,h=e.data.field(o.field);i.set(o.field,PG(l,h,t[r]))}return i}function Q2(n,e,t){const i=new Map;for(const r of n){const o=r.transform,l=t.data.field(r.field);i.set(r.field,OG(o,l,e))}return i}class Jv extends WD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $k extends WD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wk{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&LG(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=rw(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=rw(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=B2();return this.mutations.forEach(r=>{const o=e.get(r.key),l=o.overlayedDocument;let h=this.applyToLocalView(l,o.mutatedFields);h=t.has(r.key)?null:h;const m=q2(l,h);null!==m&&i.set(r.key,m),l.isValidDocument()||l.convertToNoDocument(It.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),an())}isEqual(e){return this.batchId===e.batchId&&Gv(this.mutations,e.mutations,(t,i)=>Y2(t,i))&&Gv(this.baseMutations,e.baseMutations,(t,i)=>Y2(t,i))}}class qk{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Dt(e.mutations.length===i.length);let r=MG;const o=e.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new qk(e,t,i,r)}}class Yk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class UG{constructor(e,t){this.count=e,this.unchangedNames=t}}var Mr,Cn;function X2(n){switch(n){default:return ht();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function J2(n){if(void 0===n)return ur("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Mr.OK:return ue.OK;case Mr.CANCELLED:return ue.CANCELLED;case Mr.UNKNOWN:return ue.UNKNOWN;case Mr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Mr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Mr.INTERNAL:return ue.INTERNAL;case Mr.UNAVAILABLE:return ue.UNAVAILABLE;case Mr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Mr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Mr.NOT_FOUND:return ue.NOT_FOUND;case Mr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Mr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Mr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Mr.ABORTED:return ue.ABORTED;case Mr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Mr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Mr.DATA_LOSS:return ue.DATA_LOSS;default:return ht()}}(Cn=Mr||(Mr={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";class Kk{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return qD}static getOrCreateInstance(){return null===qD&&(qD=new Kk),qD}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let qD=null;function eB(){return new TextEncoder}const HG=new zv([4294967295,4294967295],0);function tB(n){const e=eB().encode(n),t=new P6;return t.update(e),new Uint8Array(t.digest())}function nB(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new zv([t,i],0),new zv([r,o],0)]}class Zk{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new ow(`Invalid padding: ${t}`);if(i<0)throw new ow(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new ow(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new ow(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=zv.fromNumber(this.It)}Et(e,t,i){let r=e.add(t.multiply(zv.fromNumber(i)));return 1===r.compare(HG)&&(r=new zv([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=tB(e),[i,r]=nB(t);for(let o=0;o<this.hashCount;o++){const l=this.Et(i,r,o);if(!this.At(l))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Zk(o,r,t);return i.forEach(h=>l.insert(h)),l}insert(e){if(0===this.It)return;const t=tB(e),[i,r]=nB(t);for(let o=0;o<this.hashCount;o++){const l=this.Et(i,r,o);this.Rt(l)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class ow extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class sw{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,aw.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new sw(It.min(),r,new ci(Qt),$s(),an())}}class aw{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new aw(i,t,an(),an(),an())}}class YD{constructor(e,t,i,r){this.Pt=e,this.removedTargetIds=t,this.key=i,this.bt=r}}class iB{constructor(e,t){this.targetId=e,this.Vt=t}}class rB{constructor(e,t,i=Nr.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class oB{constructor(){this.St=0,this.Dt=aB(),this.Ct=Nr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=an(),t=an(),i=an();return this.Dt.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:ht()}}),new aw(this.Ct,this.xt,e,t,i)}Ft(){this.Nt=!1,this.Dt=aB()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class zG{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=$s(),this.zt=sB(),this.Wt=new ci(Qt)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const i=this.Zt(t);switch(e.state){case 0:this.te(t)&&i.$t(e.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(e.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(t);break;case 3:this.te(t)&&(i.Kt(),i.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),i.$t(e.resumeToken));break;default:ht()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((i,r)=>{this.te(r)&&t(r)})}ne(e){var t;const i=e.targetId,r=e.Vt.count,o=this.se(i);if(o){const l=o.target;if(UD(l))if(0===r){const h=new Je(l.path);this.Yt(i,h,yi.newNoDocument(h,It.min()))}else Dt(1===r);else{const h=this.ie(i);if(h!==r){const m=this.re(e,h);0!==m&&(this.ee(i),this.Wt=this.Wt.insert(i,2===m?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=Kk.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(v,x,S){var R,F,H,Y,te,Oe;const Ye={localCacheCount:x,existenceFilterCount:S.count},et=S.unchangedNames;return et&&(Ye.bloomFilter={applied:0===v,hashCount:null!==(R=et?.hashCount)&&void 0!==R?R:0,bitmapLength:null!==(Y=null===(H=null===(F=et?.bits)||void 0===F?void 0:F.bitmap)||void 0===H?void 0:H.length)&&void 0!==Y?Y:0,padding:null!==(Oe=null===(te=et?.bits)||void 0===te?void 0:te.padding)&&void 0!==Oe?Oe:0}),Ye}(m,h,e.Vt))}}}}re(e,t){const{unchangedNames:i,count:r}=e.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:l=0},hashCount:h=0}=i;let m,v;try{m=Ku(o).toUint8Array()}catch(x){if(x instanceof h2)return _l("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{v=new Zk(m,l,h)}catch(x){return _l(x instanceof ow?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===v.It?1:r!==t-this.oe(e.targetId,v)?2:0}oe(e,t){const i=this.Gt.getRemoteKeysForTarget(e);let r=0;return i.forEach(o=>{const l=this.Gt.ue(),h=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.vt(h)||(this.Yt(e,o,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((o,l)=>{const h=this.se(l);if(h){if(o.current&&UD(h.target)){const m=new Je(h.target.path);null!==this.jt.get(m)||this.ae(l,m)||this.Yt(l,m,yi.newNoDocument(m,e))}o.Mt&&(t.set(l,o.Ot()),o.Ft())}});let i=an();this.zt.forEach((o,l)=>{let h=!0;l.forEachWhile(m=>{const v=this.se(m);return!v||"TargetPurposeLimboResolution"===v.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.jt.forEach((o,l)=>l.setReadTime(e));const r=new sw(e,t,this.Wt,this.jt,i);return this.jt=$s(),this.zt=sB(),this.Wt=new ci(Qt),r}Jt(e,t){if(!this.te(e))return;const i=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,i),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,i){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),i&&(this.jt=this.jt.insert(t,i))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new oB,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new vi(Qt),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Be("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new oB),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function sB(){return new ci(Je.comparator)}function aB(){return new ci(Je.comparator)}const jG={asc:"ASCENDING",desc:"DESCENDING"},GG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$G={and:"AND",or:"OR"};class WG{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Qk(n,e){return n.useProto3Json||W0(e)?e:{value:e}}function ey(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lB(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function qG(n,e){return ey(n,e.toTimestamp())}function hr(n){return Dt(!!n),It.fromTimestamp(function(e){const t=$f(e);return new ki(t.seconds,t.nanos)}(n))}function Xk(n,e){return(t=n,new xn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function cB(n){const e=xn.fromString(n);return Dt(vB(e)),e}function lw(n,e){return Xk(n.databaseId,e.path)}function Gd(n,e){const t=cB(e);if(t.get(1)!==n.databaseId.projectId)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Me(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Je(uB(t))}function Jk(n,e){return Xk(n.databaseId,e)}function dB(n){const e=cB(n);return 4===e.length?xn.emptyPath():uB(e)}function cw(n){return new xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function uB(n){return Dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function hB(n,e,t){return{name:lw(n,e),fields:t.value.mapValue.fields}}function fB(n,e,t){const i=Gd(n,e.name),r=hr(e.updateTime),o=e.createTime?hr(e.createTime):It.min(),l=new wo({mapValue:{fields:e.fields}}),h=yi.newFoundDocument(i,r,o,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function dw(n,e){let t;if(e instanceof Xv)t={update:hB(n,e.key,e.value)};else if(e instanceof Jv)t={delete:lw(n,e.key)};else if(e instanceof Xu)t={update:hB(n,e.key,e.data),updateMask:t$(e.fieldMask)};else{if(!(e instanceof $k))return ht();t={verify:lw(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,o){const l=o.transform;if(l instanceof Zv)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ag)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof lg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Qv)return{fieldPath:o.field.canonicalString(),increment:l.gt};throw ht()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:qG(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:ht()),t;var r}function eR(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?Ri.updateTime(hr(r.updateTime)):void 0!==r.exists?Ri.exists(r.exists):Ri.none():Ri.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(o,l){let h=null;"setToServerValue"in l?(Dt("REQUEST_TIME"===l.setToServerValue),h=new Zv):"appendMissingElements"in l?h=new ag(l.appendMissingElements.values||[]):"removeAllFromArray"in l?h=new lg(l.removeAllFromArray.values||[]):"increment"in l?h=new Qv(o,l.increment):ht();const m=tr.fromServerFormat(l.fieldPath);return new iw(m,h)}(n,r)):[];var r;if(e.update){const r=Gd(n,e.update.name),o=new wo({mapValue:{fields:e.update.fields}});if(e.updateMask){const l=new Gs((e.updateMask.fieldPaths||[]).map(v=>tr.fromServerFormat(v)));return new Xu(r,o,l,t,i)}return new Xv(r,o,t,i)}if(e.delete){const r=Gd(n,e.delete);return new Jv(r,t)}if(e.verify){const r=Gd(n,e.verify);return new $k(r,t)}return ht()}function pB(n,e){return{documents:[Jk(n,e.path)]}}function tR(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=Jk(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Jk(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(m){if(0!==m.length)return _B($n.create(m,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(m){if(0!==m.length)return m.map(v=>{return{field:Qf((x=v).field),direction:XG(x.dir)};var x})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const l=Qk(n,e.limit);var h,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function mB(n){let e=dB(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Dt(1===i);const x=t.from[0];x.allDescendants?r=x.collectionId:e=e.child(x.collectionId)}let o=[];t.where&&(o=function(x){const S=gB(x);return S instanceof $n&&Lk(S)?S.getFilters():[S]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(x=>{return new qv(ty((S=x).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(x){let S;return S="object"==typeof x?x.value:x,W0(S)?null:S}(t.limit));let m=null;var x;t.startAt&&(m=new Zf((x=t.startAt).values||[],!!x.before));let v=null;return t.endAt&&(v=function(x){return new Zf(x.values||[],!x.before)}(t.endAt)),k2(e,r,l,o,h,"F",m,v)}function gB(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ty(e.unaryFilter.field);return _n.create(t,"==",{doubleValue:NaN});case"IS_NULL":const i=ty(e.unaryFilter.field);return _n.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ty(e.unaryFilter.field);return _n.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ty(e.unaryFilter.field);return _n.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ht()}}(n):void 0!==n.fieldFilter?_n.create(ty((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ht()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return $n.create(e.compositeFilter.filters.map(t=>gB(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return ht()}}(e.compositeFilter.op))}(n):ht();var e}function XG(n){return jG[n]}function JG(n){return GG[n]}function e$(n){return $G[n]}function Qf(n){return{fieldPath:n.canonicalString()}}function ty(n){return tr.fromServerFormat(n.fieldPath)}function _B(n){return n instanceof _n?function(e){if("=="===e.op){if(m2(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NAN"}};if(p2(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(m2(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NOT_NAN"}};if(p2(e.value))return{unaryFilter:{field:Qf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qf(e.field),op:JG(e.op),value:e.value}}}(n):n instanceof $n?function(e){const t=e.getFilters().map(i=>_B(i));return 1===t.length?t[0]:{compositeFilter:{op:e$(e.op),filters:t}}}(n):ht()}function t$(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function vB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ju{constructor(e,t,i,r,o=It.min(),l=It.min(),h=Nr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Ju(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class yB{constructor(e){this.fe=e}}function bB(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:KD(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:lw(r=n.fe,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:ey(r,o.version.toTimestamp()),createTime:ey(r,o.createTime.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:cg(e.version)};else{if(!e.isUnknownDocument())return ht();i.unknownDocument={path:t.path.toArray(),version:cg(e.version)}}var r,o;return i}function KD(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function cg(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function dg(n){const e=new ki(n.seconds,n.nanoseconds);return It.fromTimestamp(e)}function ug(n,e){const t=(e.baseMutations||[]).map(o=>eR(n.fe,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const i=e.mutations.map(o=>eR(n.fe,o)),r=ki.fromMillis(e.localWriteTimeMs);return new Wk(e.batchId,r,t,i)}function uw(n){const e=dg(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?dg(n.lastLimboFreeSnapshotVersion):It.min();let i;var r;return void 0!==n.query.documents?(Dt(1===(r=n.query).documents.length),i=fs(Kv(dB(r.documents[0])))):i=fs(mB(n.query)),new Ju(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,Nr.fromBase64String(n.resumeToken))}function wB(n,e){const t=cg(e.snapshotVersion),i=cg(e.lastLimboFreeSnapshotVersion);let r;r=UD(e.target)?pB(n.fe,e.target):tR(n.fe,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:og(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function nR(n){const e=mB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?jD(e,e.limit,"L"):e}function iR(n,e){return new Yk(e.largestBatchId,eR(n.fe,e.overlayMutation))}function xB(n,e){const t=e.path.lastSegment();return[n,Vo(e.path.popLast()),t]}function CB(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:cg(i.readTime),documentKey:Vo(i.documentKey.path),largestBatchId:i.largestBatchId}}class i${getBundleMetadata(e,t){return EB(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:dg(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return EB(e).put({bundleId:(i=t).id,createTime:cg(hr(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return DB(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:nR(r.bundledQuery),readTime:dg(r.readTime)};var r})}saveNamedQuery(e,t){return DB(e).put({name:(i=t).name,readTime:cg(hr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function EB(n){return ro(n,"bundles")}function DB(n){return ro(n,"namedQueries")}class ZD{constructor(e,t){this.serializer=e,this.userId=t}static de(e,t){return new ZD(e,t.uid||"")}getOverlay(e,t){return hw(e).get(xB(this.userId,t)).next(i=>i?iR(this.serializer,i):null)}getOverlays(e,t){const i=jd();return ae.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((o,l)=>{const h=new Yk(t,l);r.push(this.we(e,h))}),ae.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(l=>r.add(Vo(l.getCollectionPath())));const o=[];return r.forEach(l=>{const h=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);o.push(hw(e).J("collectionPathOverlayIndex",h))}),ae.waitFor(o)}getOverlaysForCollection(e,t,i){const r=jd(),o=Vo(t),l=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return hw(e).j("collectionPathOverlayIndex",l).next(h=>{for(const m of h){const v=iR(this.serializer,m);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const o=jd();let l;const h=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return hw(e).X({index:"collectionGroupOverlayIndex",range:h},(m,v,x)=>{const S=iR(this.serializer,v);o.size()<r||S.largestBatchId===l?(o.set(S.getKey(),S),l=S.largestBatchId):x.done()}).next(()=>o)}we(e,t){return hw(e).put(function(i,r,o){const[l,h,m]=xB(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:m,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:dw(i.fe,o.mutation)}}(this.serializer,this.userId,t))}}function hw(n){return ro(n,"documentOverlays")}class hg{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(nr(e.integerValue));else if("doubleValue"in e){const i=nr(e.doubleValue);isNaN(i)?this.ye(t,13):(this.ye(t,15),q0(i)?t.pe(0):t.pe(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ye(t,20),"string"==typeof i?t.Ie(i):(t.Ie(`${i.seconds||""}`),t.pe(i.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Ku(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ye(t,45),t.pe(i.latitude||0),t.pe(i.longitude||0)}else"mapValue"in e?g2(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):ht()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const i=e.fields||{};this.ye(t,55);for(const r of Object.keys(i))this.Te(r,t),this.me(i[r],t)}Pe(e,t){const i=e.values||[];this.ye(t,50);for(const r of i)this.me(r,t)}ve(e,t){this.ye(t,37),Je.fromName(e).path.forEach(i=>{this.ye(t,60),this.be(i,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}function r$(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function IB(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const o=r$(255&t[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(e/8)}hg.Ve=new hg;class o${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.De(i.value),i=t.next();this.Ce()}xe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ne(i.value),i=t.next();this.ke()}Me(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=t.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=t.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(e){const t=this.Fe(e),i=IB(t);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}Le(e){const t=this.Fe(e),i=IB(t);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(e){this.Be(e.length),this.buffer.set(e,this.position),this.position+=e.length}Qe(){return this.buffer.slice(0,this.position)}Fe(e){const t=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}De(e){const t=255&e;0===t?(this.Ue(0),this.Ue(255)):255===t?(this.Ue(255),this.Ue(0)):this.Ue(t)}Ne(e){const t=255&e;0===t?(this.Ge(0),this.Ge(255)):255===t?(this.Ge(255),this.Ge(0)):this.Ge(e)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(e){this.Be(1),this.buffer[this.position++]=e}Ge(e){this.Be(1),this.buffer[this.position++]=~e}Be(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class s${constructor(e){this.je=e}Ae(e){this.je.Se(e)}Ie(e){this.je.Me(e)}pe(e){this.je.Oe(e)}ge(){this.je.qe()}}class a${constructor(e){this.je=e}Ae(e){this.je.xe(e)}Ie(e){this.je.$e(e)}pe(e){this.je.Le(e)}ge(){this.je.Ke()}}class fw{constructor(){this.je=new o$,this.ze=new s$(this.je),this.We=new a$(this.je)}seed(e){this.je.seed(e)}He(e){return 0===e?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class fg{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Je(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new fg(this.indexId,this.documentKey,this.arrayValue,i)}}function Xf(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=SB(n.arrayValue,e.arrayValue),0!==t?t:(t=SB(n.directionalValue,e.directionalValue),0!==t?t:Je.comparator(n.documentKey,e.documentKey)))}function SB(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class l${constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ye=e.orderBy,this.Xe=[];for(const t of e.filters){const i=t;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(e){Dt(e.collectionGroup===this.collectionId);const t=Ak(e);if(void 0!==t&&!this.en(t))return!1;const i=ng(e);let r=0,o=0;for(;r<i.length&&this.en(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ze){const l=i[r];if(!this.nn(this.Ze,l)||!this.sn(this.Ye[o++],l))return!1;++r}for(;r<i.length;++r)if(o>=this.Ye.length||!this.sn(this.Ye[o++],i[r]))return!1;return!0}en(e){for(const t of this.Xe)if(this.nn(t,e))return!0;return!1}nn(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function TB(n){var e,t;if(Dt(n instanceof _n||n instanceof $n),n instanceof _n){if(n instanceof T2){const r=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>_n.create(n.field,"==",o)))||[];return $n.create(r,"or")}return n}const i=n.filters.map(r=>TB(r));return $n.create(i,n.op)}function c$(n){if(0===n.getFilters().length)return[];const e=sR(TB(n));return Dt(AB(e)),rR(e)||oR(e)?[e]:e.getFilters()}function rR(n){return n instanceof _n}function oR(n){return n instanceof $n&&Lk(n)}function AB(n){return rR(n)||oR(n)||function(e){if(e instanceof $n&&Nk(e)){for(const t of e.getFilters())if(!rR(t)&&!oR(t))return!1;return!0}return!1}(n)}function sR(n){if(Dt(n instanceof _n||n instanceof $n),n instanceof _n)return n;if(1===n.filters.length)return sR(n.filters[0]);const e=n.filters.map(i=>sR(i));let t=$n.create(e,n.op);return t=QD(t),AB(t)?t:(Dt(t instanceof $n),Dt(Yv(t)),Dt(t.filters.length>1),t.filters.reduce((i,r)=>aR(i,r)))}function aR(n,e){let t;return Dt(n instanceof _n||n instanceof $n),Dt(e instanceof _n||e instanceof $n),t=n instanceof _n?e instanceof _n?$n.create([n,e],"and"):MB(n,e):e instanceof _n?MB(e,n):function(i,r){if(Dt(i.filters.length>0&&r.filters.length>0),Yv(i)&&Yv(r))return D2(i,r.getFilters());const o=Nk(i)?i:r,l=Nk(i)?r:i,h=o.filters.map(m=>aR(m,l));return $n.create(h,"or")}(n,e),QD(t)}function MB(n,e){if(Yv(e))return D2(e,n.getFilters());{const t=e.filters.map(i=>aR(n,i));return $n.create(t,"or")}}function QD(n){if(Dt(n instanceof _n||n instanceof $n),n instanceof _n)return n;const e=n.getFilters();if(1===e.length)return QD(e[0]);if(C2(n))return n;const t=e.map(r=>QD(r)),i=[];return t.forEach(r=>{r instanceof _n?i.push(r):r instanceof $n&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:$n.create(i,n.op)}class d${constructor(){this.rn=new lR}addToCollectionParentIndex(e,t){return this.rn.add(t),ae.resolve()}getCollectionParents(e,t){return ae.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ae.resolve()}deleteFieldIndex(e,t){return ae.resolve()}getDocumentsMatchingTarget(e,t){return ae.resolve(null)}getIndexType(e,t){return ae.resolve(0)}getFieldIndexes(e,t){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,t){return ae.resolve(wa.min())}getMinOffsetFromCollectionGroup(e,t){return ae.resolve(wa.min())}updateCollectionGroup(e,t,i){return ae.resolve()}updateIndexEntries(e,t){return ae.resolve()}}class lR{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new vi(xn.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new vi(xn.comparator)).toArray()}}const XD=new Uint8Array(0);class u${constructor(e,t){this.user=e,this.databaseId=t,this.on=new lR,this.un=new Qu(i=>og(i),(i,r)=>X0(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.on.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.on.add(t)});const o={collectionId:i,parent:Vo(r)};return kB(e).put(o)}return ae.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[KL(t),""],!1,!0);return kB(e).j(r).next(o=>{for(const l of o){if(l.collectionId!==t)break;i.push(Hd(l.parent))}return i})}addFieldIndex(e,t){const i=JD(e),r={indexId:(l=t).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var l;delete r.indexId;const o=i.add(r);if(t.indexState){const l=mw(e);return o.next(h=>{l.put(CB(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const i=JD(e),r=mw(e),o=pw(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=pw(e);let r=!0;const o=new Map;return ae.forEach(this.cn(t),l=>this.an(e,l).next(h=>{r&&(r=!!h),o.set(l,h)})).next(()=>{if(r){let l=an();const h=[];return ae.forEach(o,(m,v)=>{var x;Be("IndexedDbIndexManager",`Using index ${x=m,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(et=>`${et.fieldPath}:${et.kind}`).join(",")}`} to execute ${og(t)}`);const S=function(et,_t){const Xt=Ak(_t);if(void 0===Xt)return null;for(const Jt of HD(et,Xt.fieldPath))switch(Jt.op){case"array-contains-any":return Jt.value.arrayValue.values||[];case"array-contains":return[Jt.value]}return null}(v,m),R=function(et,_t){const Xt=new Map;for(const Jt of ng(_t))for(const kn of HD(et,Jt.fieldPath))switch(kn.op){case"==":case"in":Xt.set(Jt.fieldPath.canonicalString(),kn.value);break;case"not-in":case"!=":return Xt.set(Jt.fieldPath.canonicalString(),kn.value),Array.from(Xt.values())}return null}(v,m),F=function(et,_t){const Xt=[];let Jt=!0;for(const kn of ng(_t)){const Io=0===kn.kind?A2(et,kn.fieldPath,et.startAt):M2(et,kn.fieldPath,et.startAt);Xt.push(Io.value),Jt&&(Jt=Io.inclusive)}return new Zf(Xt,Jt)}(v,m),H=function(et,_t){const Xt=[];let Jt=!0;for(const kn of ng(_t)){const Io=0===kn.kind?M2(et,kn.fieldPath,et.endAt):A2(et,kn.fieldPath,et.endAt);Xt.push(Io.value),Jt&&(Jt=Io.inclusive)}return new Zf(Xt,Jt)}(v,m),Y=this.hn(m,v,F),te=this.hn(m,v,H),Oe=this.ln(m,v,R),Ye=this.fn(m.indexId,S,Y,F.inclusive,te,H.inclusive,Oe);return ae.forEach(Ye,et=>i.H(et,t.limit).next(_t=>{_t.forEach(Xt=>{const Jt=Je.fromSegments(Xt.documentKey);l.has(Jt)||(l=l.add(Jt),h.push(Jt))})}))}).next(()=>h)}return ae.resolve(null)})}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:c$($n.create(e.filters,"and")).map(i=>Vk(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,t),t)}fn(e,t,i,r,o,l,h){const m=(null!=t?t.length:1)*Math.max(i.length,o.length),v=m/(null!=t?t.length:1),x=[];for(let S=0;S<m;++S){const R=t?this.dn(t[S/v]):XD,F=this.wn(e,R,i[S%v],r),H=this._n(e,R,o[S%v],l),Y=h.map(te=>this.wn(e,R,te,!0));x.push(...this.createRange(F,H,Y))}return x}wn(e,t,i,r){const o=new fg(e,Je.empty(),t,i);return r?o:o.Je()}_n(e,t,i,r){const o=new fg(e,Je.empty(),t,i);return r?o.Je():o}an(e,t){const i=new l$(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(o=>{let l=null;for(const h of o)i.tn(h)&&(!l||h.fields.length>l.fields.length)&&(l=h);return l})}getIndexType(e,t){let i=2;const r=this.cn(t);return ae.forEach(r,o=>this.an(e,o).next(l=>{l?0!==i&&l.fields.length<function(h){let m=new vi(tr.comparator),v=!1;for(const x of h.filters)for(const S of x.getFlattenedFilters())S.field.isKeyField()||("array-contains"===S.op||"array-contains-any"===S.op?v=!0:m=m.add(S.field));for(const x of h.orderBy)x.field.isKeyField()||(m=m.add(x.field));return m.size+(v?1:0)}(o)&&(i=1):i=0})).next(()=>null!==t.limit&&r.length>1&&2===i?1:i)}mn(e,t){const i=new fw;for(const r of ng(e)){const o=t.data.field(r.fieldPath);if(null==o)return null;const l=i.He(r.kind);hg.Ve._e(o,l)}return i.Qe()}dn(e){const t=new fw;return hg.Ve._e(e,t.He(0)),t.Qe()}gn(e,t){const i=new fw;return hg.Ve._e(rg(this.databaseId,t),i.He(function(r){const o=ng(r);return 0===o.length?0:o[o.length-1].kind}(e))),i.Qe()}ln(e,t,i){if(null===i)return[];let r=[];r.push(new fw);let o=0;for(const l of ng(e)){const h=i[o++];for(const m of r)if(this.yn(t,l.fieldPath)&&Z0(h))r=this.pn(r,l,h);else{const v=m.He(l.kind);hg.Ve._e(h,v)}}return this.In(r)}hn(e,t,i){return this.ln(e,t,i.position)}In(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Qe();return t}pn(e,t,i){const r=[...e],o=[];for(const l of i.arrayValue.values||[])for(const h of r){const m=new fw;m.seed(h.Qe()),hg.Ve._e(l,m.He(t.kind)),o.push(m)}return o}yn(e,t){return!!e.filters.find(i=>i instanceof _n&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=JD(e),r=mw(e);return(t?i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.j()).next(o=>{const l=[];return ae.forEach(o,h=>r.get([h.indexId,this.uid]).next(m=>{l.push(function(v,x){const S=x?new G0(x.sequenceNumber,new wa(dg(x.readTime),new Je(Hd(x.documentKey)),x.largestBatchId)):G0.empty(),R=v.fields.map(([F,H])=>new kD(tr.fromServerFormat(F),H));return new MD(v.indexId,v.collectionGroup,R,S)}(h,m))})).next(()=>l)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Qt(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=JD(e),o=mw(e);return this.Tn(e).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>ae.forEach(h,m=>o.put(CB(m.indexId,this.user,l,i)))))}updateIndexEntries(e,t){const i=new Map;return ae.forEach(t,(r,o)=>{const l=i.get(r.collectionGroup);return(l?ae.resolve(l):this.getFieldIndexes(e,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),ae.forEach(h,m=>this.En(e,r,m).next(v=>{const x=this.An(o,m);return v.isEqual(x)?ae.resolve():this.vn(e,o,m,v,x)}))))})}Rn(e,t,i,r){return pw(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,t.key),documentKey:t.key.path.toArray()})}Pn(e,t,i,r){return pw(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,t.key),t.key.path.toArray()])}En(e,t,i){const r=pw(e);let o=new vi(Xf);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,t)])},(l,h)=>{o=o.add(new fg(i.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>o)}An(e,t){let i=new vi(Xf);const r=this.mn(t,e);if(null==r)return i;const o=Ak(t);if(null!=o){const l=e.data.field(o.fieldPath);if(Z0(l))for(const h of l.arrayValue.values||[])i=i.add(new fg(t.indexId,e.key,this.dn(h),r))}else i=i.add(new fg(t.indexId,e.key,XD,r));return i}vn(e,t,i,r,o){Be("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const l=[];return function(h,m,v,x,S){const R=h.getIterator(),F=m.getIterator();let H=$v(R),Y=$v(F);for(;H||Y;){let te=!1,Oe=!1;if(H&&Y){const Ye=v(H,Y);Ye<0?Oe=!0:Ye>0&&(te=!0)}else null!=H?Oe=!0:te=!0;te?(x(Y),Y=$v(F)):Oe?(S(H),H=$v(R)):(H=$v(R),Y=$v(F))}}(r,o,Xf,h=>{l.push(this.Rn(e,t,i,h))},h=>{l.push(this.Pn(e,t,i,h))}),ae.waitFor(l)}Tn(e){let t=1;return mw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((l,h)=>Xf(l,h)).filter((l,h,m)=>!h||0!==Xf(l,m[h-1]));const r=[];r.push(e);for(const l of i){const h=Xf(l,e),m=Xf(l,t);if(0===h)r[0]=e.Je();else if(h>0&&m<0)r.push(l),r.push(l.Je());else if(m>0)break}r.push(t);const o=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];o.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,XD,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,XD,[]]))}return o}bn(e,t){return Xf(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(RB)}getMinOffset(e,t){return ae.mapArray(this.cn(t),i=>this.an(e,i).next(r=>r||ht())).next(RB)}}function kB(n){return ro(n,"collectionParents")}function pw(n){return ro(n,"indexEntries")}function JD(n){return ro(n,"indexConfiguration")}function mw(n){return ro(n,"indexState")}function RB(n){Dt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;Mk(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new wa(e.readTime,e.documentKey,t)}const OB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Uo{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Uo(e,Uo.DEFAULT_COLLECTION_PERCENTILE,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function PB(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],l=IDBKeyRange.only(t.batchId);let h=0;const m=i.X({range:l},(x,S,R)=>(h++,R.delete()));o.push(m.next(()=>{Dt(1===h)}));const v=[];for(const x of t.mutations){const S=o2(e,x.key.path,t.batchId);o.push(r.delete(S)),v.push(x.key)}return ae.waitFor(o).next(()=>v)}function eI(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw ht();e=n.noDocument}return JSON.stringify(e).length}Uo.DEFAULT_COLLECTION_PERCENTILE=10,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Uo.DEFAULT=new Uo(41943040,Uo.DEFAULT_COLLECTION_PERCENTILE,Uo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Uo.DISABLED=new Uo(-1,0,0);class tI{constructor(e,t,i,r){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(e,t,i,r){Dt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new tI(o,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Jf(e).X({index:"userMutationsIndex",range:i},(r,o,l)=>{t=!1,l.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const o=ny(e),l=Jf(e);return l.add({}).next(h=>{Dt("number"==typeof h);const m=new Wk(h,t,i,r),v=function(R,F,H){const Y=H.baseMutations.map(Oe=>dw(R.fe,Oe)),te=H.mutations.map(Oe=>dw(R.fe,Oe));return{userId:F,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:Y,mutations:te}}(this.serializer,this.userId,m),x=[];let S=new vi((R,F)=>Qt(R.canonicalString(),F.canonicalString()));for(const R of r){const F=o2(this.userId,R.key.path,h);S=S.add(R.key.path.popLast()),x.push(l.put(v)),x.push(o.put(F,X6))}return S.forEach(R=>{x.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.Vn[h]=m.keys()}),ae.waitFor(x).next(()=>m)})}lookupMutationBatch(e,t){return Jf(e).get(t).next(i=>i?(Dt(i.userId===this.userId),ug(this.serializer,i)):null)}Sn(e,t){return this.Vn[t]?ae.resolve(this.Vn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.Vn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return Jf(e).X({index:"userMutationsIndex",range:r},(l,h,m)=>{h.userId===this.userId&&(Dt(h.batchId>=i),o=ug(this.serializer,h)),m.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Jf(e).X({index:"userMutationsIndex",range:t,reverse:!0},(r,o,l)=>{i=o.batchId,l.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Jf(e).j("userMutationsIndex",t).next(i=>i.map(r=>ug(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=OD(this.userId,t.path),r=IDBKeyRange.lowerBound(i),o=[];return ny(e).X({range:r},(l,h,m)=>{const[v,x,S]=l,R=Hd(x);if(v===this.userId&&t.path.isEqual(R))return Jf(e).get(S).next(F=>{if(!F)throw ht();Dt(F.userId===this.userId),o.push(ug(this.serializer,F))});m.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new vi(Qt);const r=[];return t.forEach(o=>{const l=OD(this.userId,o.path),h=IDBKeyRange.lowerBound(l),m=ny(e).X({range:h},(v,x,S)=>{const[R,F,H]=v,Y=Hd(F);R===this.userId&&o.path.isEqual(Y)?i=i.add(H):S.done()});r.push(m)}),ae.waitFor(r).next(()=>this.Dn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,o=OD(this.userId,i),l=IDBKeyRange.lowerBound(o);let h=new vi(Qt);return ny(e).X({range:l},(m,v,x)=>{const[S,R,F]=m,H=Hd(R);S===this.userId&&i.isPrefixOf(H)?H.length===r&&(h=h.add(F)):x.done()}).next(()=>this.Dn(e,h))}Dn(e,t){const i=[],r=[];return t.forEach(o=>{r.push(Jf(e).get(o).next(l=>{if(null===l)throw ht();Dt(l.userId===this.userId),i.push(ug(this.serializer,l))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return PB(e.ht,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.Cn(t.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}Cn(e){delete this.Vn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return ny(e).X({range:i},(o,l,h)=>{if(o[0]===this.userId){const m=Hd(o[1]);r.push(m)}else h.done()}).next(()=>{Dt(0===r.length)})})}containsKey(e,t){return FB(e,this.userId,t)}xn(e){return NB(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function FB(n,e,t){const i=OD(e,t.path),r=i[1],o=IDBKeyRange.lowerBound(i);let l=!1;return ny(n).X({range:o,Y:!0},(h,m,v)=>{const[x,S,R]=h;x===e&&S===r&&(l=!0),v.done()}).next(()=>l)}function Jf(n){return ro(n,"mutations")}function ny(n){return ro(n,"documentMutations")}function NB(n){return ro(n,"mutationQueues")}class pg{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new pg(0)}static Mn(){return new pg(-1)}}class h${constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.$n(e).next(t=>{const i=new pg(t.highestTargetId);return t.highestTargetId=i.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.$n(e).next(t=>It.fromTimestamp(new ki(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.$n(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.$n(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r)))}addTargetData(e,t){return this.Fn(e,t).next(()=>this.$n(e).next(i=>(i.targetCount+=1,this.Bn(t,i),this.On(e,i))))}updateTargetData(e,t){return this.Fn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>iy(e).delete(t.targetId)).next(()=>this.$n(e)).next(i=>(Dt(i.targetCount>0),i.targetCount-=1,this.On(e,i)))}removeTargets(e,t,i){let r=0;const o=[];return iy(e).X((l,h)=>{const m=uw(h);m.sequenceNumber<=t&&null===i.get(m.targetId)&&(r++,o.push(this.removeTargetData(e,m)))}).next(()=>ae.waitFor(o)).next(()=>r)}forEachTarget(e,t){return iy(e).X((i,r)=>{const o=uw(r);t(o)})}$n(e){return LB(e).get("targetGlobalKey").next(t=>(Dt(null!==t),t))}On(e,t){return LB(e).put("targetGlobalKey",t)}Fn(e,t){return iy(e).put(wB(this.serializer,t))}Bn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.$n(e).next(t=>t.targetCount)}getTargetData(e,t){const i=og(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return iy(e).X({range:r,index:"queryTargetsIndex"},(l,h,m)=>{const v=uw(h);X0(t,v.target)&&(o=v,m.done())}).next(()=>o)}addMatchingKeys(e,t,i){const r=[],o=ep(e);return t.forEach(l=>{const h=Vo(l.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(e,i,l))}),ae.waitFor(r)}removeMatchingKeys(e,t,i){const r=ep(e);return ae.forEach(t,o=>{const l=Vo(o.path);return ae.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(e,i,o)])})}removeMatchingKeysForTargetId(e,t){const i=ep(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=ep(e);let o=an();return r.X({range:i,Y:!0},(l,h,m)=>{const v=Hd(l[1]),x=new Je(v);o=o.add(x)}).next(()=>o)}containsKey(e,t){const i=Vo(t.path),r=IDBKeyRange.bound([i],[KL(i)],!1,!0);let o=0;return ep(e).X({index:"documentTargetsIndex",Y:!0,range:r},([l,h],m,v)=>{0!==l&&(o++,v.done())}).next(()=>o>0)}le(e,t){return iy(e).get(t).next(i=>i?uw(i):null)}}function iy(n){return ro(n,"targets")}function LB(n){return ro(n,"targetGlobal")}function ep(n){return ro(n,"targetDocuments")}function BB([n,e],[t,i]){const r=Qt(n,t);return 0===r?Qt(e,i):r}class f${constructor(e){this.Ln=e,this.buffer=new vi(BB),this.qn=0}Un(){return++this.qn}Kn(e){const t=[e,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();BB(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class VB{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(e){var t=this;Be("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,ye.Z)(function*(){t.Gn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){jf(i)?Be("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield zf(i)}yield t.Qn(3e5)}))}}class p${constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.zn(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return ae.resolve(xa.ct);const i=new f$(t);return this.jn.forEachTarget(e,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(e,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.jn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(OB)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Be("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),OB):this.Hn(e,t))}getCacheSize(e){return this.jn.getCacheSize(e)}Hn(e,t){let i,r,o,l,h,m,v;const x=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(Be("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),r=this.params.maximumSequenceNumbersToCollect):r=S,l=Date.now(),this.nthSequenceNumber(e,r))).next(S=>(i=S,h=Date.now(),this.removeTargets(e,i,t))).next(S=>(o=S,m=Date.now(),this.removeOrphanedDocuments(e,i))).next(S=>(v=Date.now(),Sk()<=Us.in.DEBUG&&Be("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-x}ms\n\tDetermined least recently used ${r} in `+(h-l)+`ms\n\tRemoved ${o} targets in `+(m-h)+`ms\n\tRemoved ${S} documents in `+(v-m)+`ms\nTotal Duration: ${v-x}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:S})))}}class m${constructor(e,t){this.db=e,this.garbageCollector=function UB(n,e){return new p$(n,e)}(this,t)}zn(e){const t=this.Jn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Jn(e){let t=0;return this.Wn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Wn(e,t){return this.Yn(e,(i,r)=>t(r))}addReference(e,t,i){return nI(e,i)}removeReference(e,t,i){return nI(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return nI(e,t)}Xn(e,t){return function(i,r){let o=!1;return NB(i).Z(l=>FB(i,l,r).next(h=>(h&&(o=!0),ae.resolve(!h)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(e,(l,h)=>{if(h<=t){const m=this.Xn(e,l).next(v=>{if(!v)return o++,i.getEntry(e,l).next(()=>(i.removeEntry(l,It.min()),ep(e).delete([0,Vo(l.path)])))});r.push(m)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(e)).next(()=>o)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return nI(e,t)}Yn(e,t){const i=ep(e);let r,o=xa.ct;return i.X({index:"documentTargetsIndex"},([l,h],{path:m,sequenceNumber:v})=>{0===l?(o!==xa.ct&&t(new Je(Hd(r)),o),o=v,r=m):o=xa.ct}).next(()=>{o!==xa.ct&&t(new Je(Hd(r)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function nI(n,e){return ep(n).put((i=n.currentSequenceNumber,{targetId:0,path:Vo(e.path),sequenceNumber:i}));var i}class HB{constructor(){this.changes=new Qu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yi.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?ae.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class g${constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return mg(e).put(i)}removeEntry(e,t,i){return mg(e).delete(function(r,o){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],KD(o),l[l.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.Zn(e,i)))}getEntry(e,t){let i=yi.newInvalidDocument(t);return mg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(gw(t))},(r,o)=>{i=this.ts(t,o)}).next(()=>i)}es(e,t){let i={size:0,document:yi.newInvalidDocument(t)};return mg(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(gw(t))},(r,o)=>{i={document:this.ts(t,o),size:eI(o)}}).next(()=>i)}getEntries(e,t){let i=$s();return this.ns(e,t,(r,o)=>{const l=this.ts(r,o);i=i.insert(r,l)}).next(()=>i)}ss(e,t){let i=$s(),r=new ci(Je.comparator);return this.ns(e,t,(o,l)=>{const h=this.ts(o,l);i=i.insert(o,h),r=r.insert(o,eI(l))}).next(()=>({documents:i,rs:r}))}ns(e,t,i){if(t.isEmpty())return ae.resolve();let r=new vi($B);t.forEach(m=>r=r.add(m));const o=IDBKeyRange.bound(gw(r.first()),gw(r.last())),l=r.getIterator();let h=l.getNext();return mg(e).X({index:"documentKeyIndex",range:o},(m,v,x)=>{const S=Je.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&$B(h,S)<0;)i(h,null),h=l.getNext();h&&h.isEqual(S)&&(i(h,v),h=l.hasNext()?l.getNext():null),h?x.G(gw(h)):x.done()}).next(()=>{for(;h;)i(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,i,r){const o=t.path,l=[o.popLast().toArray(),o.lastSegment(),KD(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],h=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return mg(e).j(IDBKeyRange.bound(l,h,!0)).next(m=>{let v=$s();for(const x of m){const S=this.ts(Je.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);S.isFoundDocument()&&(ew(t,S)||r.has(S.key))&&(v=v.insert(S.key,S))}return v})}getAllFromCollectionGroup(e,t,i,r){let o=$s();const l=GB(t,i),h=GB(t,wa.max());return mg(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,h,!0)},(m,v,x)=>{const S=this.ts(Je.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(S.key,S),o.size===r&&x.done()}).next(()=>o)}newChangeBuffer(e){return new _$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return jB(e).get("remoteDocumentGlobalKey").next(t=>(Dt(!!t),t))}Zn(e,t){return jB(e).put("remoteDocumentGlobalKey",t)}ts(e,t){if(t){const i=function n$(n,e){let t;if(e.document)t=fB(n.fe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=Je.fromSegments(e.noDocument.path),r=dg(e.noDocument.readTime);t=yi.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return ht();{const i=Je.fromSegments(e.unknownDocument.path),r=dg(e.unknownDocument.version);t=yi.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new ki(i[0],i[1]);return It.fromTimestamp(r)}(e.readTime)),t}(this.serializer,t);if(!i.isNoDocument()||!i.version.isEqual(It.min()))return i}return yi.newInvalidDocument(e)}}function zB(n){return new g$(n)}class _$ extends HB{constructor(e,t){super(),this.os=e,this.trackRemovals=t,this.us=new Qu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new vi((o,l)=>Qt(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const h=this.us.get(o);if(t.push(this.os.removeEntry(e,o,h.readTime)),l.isValidDocument()){const m=bB(this.os.serializer,l);r=r.add(o.path.popLast());const v=eI(m);i+=v-h.size,t.push(this.os.addEntry(e,o,m))}else if(i-=h.size,this.trackRemovals){const m=bB(this.os.serializer,l.convertToNoDocument(It.min()));t.push(this.os.addEntry(e,o,m))}}),r.forEach(o=>{t.push(this.os.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.os.updateMetadata(e,i)),ae.waitFor(t)}getFromCache(e,t){return this.os.es(e,t).next(i=>(this.us.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.os.ss(e,t).next(({documents:i,rs:r})=>(r.forEach((o,l)=>{this.us.set(o,{size:l,readTime:i.get(o).readTime})}),i))}}function jB(n){return ro(n,"remoteDocumentGlobal")}function mg(n){return ro(n,"remoteDocumentsV14")}function gw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function GB(n,e){const t=e.documentKey.path.toArray();return[n,KD(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function $B(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let o=0;o<t.length-2&&o<i.length-2;++o)if(r=Qt(t[o],i[o]),r)return r;return r=Qt(t.length,i.length),r||(r=Qt(t[t.length-2],i[i.length-2]),r||Qt(t[t.length-1],i[i.length-1]))}class v${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class WB{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&rw(i.mutation,r,Gs.empty(),ki.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,an()).next(()=>i))}getLocalViewOfDocuments(e,t,i=an()){const r=jd();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let l=tw();return o.forEach((h,m)=>{l=l.insert(h,m.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const i=jd();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,an()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((l,h)=>{t.set(l,h)})})}computeViews(e,t,i,r){let o=$s();const l=nw(),h=nw();return t.forEach((m,v)=>{const x=i.get(v.key);r.has(v.key)&&(void 0===x||x.mutation instanceof Xu)?o=o.insert(v.key,v):void 0!==x?(l.set(v.key,x.mutation.getFieldMask()),rw(x.mutation,v,x.mutation.getFieldMask(),ki.now())):l.set(v.key,Gs.empty())}),this.recalculateAndSaveOverlays(e,o).next(m=>(m.forEach((v,x)=>l.set(v,x)),t.forEach((v,x)=>{var S;return h.set(v,new v$(x,null!==(S=l.get(v))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,t){const i=nw();let r=new ci((l,h)=>l-h),o=an();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const h of l)h.keys().forEach(m=>{const v=t.get(m);if(null===v)return;let x=i.get(m)||Gs.empty();x=h.applyToLocalView(v,x),i.set(m,x);const S=(r.get(h.batchId)||an()).add(m);r=r.insert(h.batchId,S)})}).next(()=>{const l=[],h=r.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),v=m.key,x=m.value,S=B2();x.forEach(R=>{if(!o.has(R)){const F=q2(t.get(R),i.get(R));null!==F&&S.set(R,F),o=o.add(R)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,S))}return ae.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return Je.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):Hk(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):ae.resolve(jd());let h=-1,m=o;return l.next(v=>ae.forEach(v,(x,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),o.get(x)?ae.resolve():this.remoteDocumentCache.getEntry(e,x).next(R=>{m=m.insert(x,R)}))).next(()=>this.populateOverlays(e,v,o)).next(()=>this.computeViews(e,m,v,an())).next(x=>({batchId:h,changes:L2(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Je(t)).next(i=>{let r=tw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let o=tw();return this.indexManager.getCollectionParents(e,r).next(l=>ae.forEach(l,h=>{const m=(v=t,x=h.child(r),new Zu(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,x;return this.getDocumentsMatchingCollectionQuery(e,m,i).next(v=>{v.forEach((x,S)=>{o=o.insert(x,S)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,r))).next(o=>{r.forEach((h,m)=>{const v=m.getKey();null===o.get(v)&&(o=o.insert(v,yi.newInvalidDocument(v)))});let l=tw();return o.forEach((h,m)=>{const v=r.get(h);void 0!==v&&rw(v.mutation,m,Gs.empty(),ki.now()),ew(t,m)&&(l=l.insert(h,m))}),l})}}class y${constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ae.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var i;return this.cs.set(t.id,{id:(i=t).id,version:i.version,createTime:hr(i.createTime)}),ae.resolve()}getNamedQuery(e,t){return ae.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(i=t).name,query:nR(i.bundledQuery),readTime:hr(i.readTime)}),ae.resolve();var i}}class b${constructor(){this.overlays=new ci(Je.comparator),this.ls=new Map}getOverlay(e,t){return ae.resolve(this.overlays.get(t))}getOverlays(e,t){const i=jd();return ae.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.we(e,t,o)}),ae.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),ae.resolve()}getOverlaysForCollection(e,t,i){const r=jd(),o=t.length+1,l=new Je(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const m=h.getNext().value,v=m.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===o&&m.largestBatchId>i&&r.set(m.getKey(),m)}return ae.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ci((v,x)=>v-x);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>i){let x=o.get(v.largestBatchId);null===x&&(x=jd(),o=o.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const h=jd(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((v,x)=>h.set(v,x)),!(h.size()>=r)););return ae.resolve(h)}we(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Yk(t,i));let o=this.ls.get(t);void 0===o&&(o=an(),this.ls.set(t,o)),this.ls.set(t,o.add(i.key))}}class cR{constructor(){this.fs=new vi(oo.ds),this.ws=new vi(oo._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const i=new oo(e,t);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.ys(new oo(e,t))}ps(e,t){e.forEach(i=>this.removeReference(i,t))}Is(e){const t=new Je(new xn([])),i=new oo(t,e),r=new oo(t,e+1),o=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),o.push(l.key)}),o}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Je(new xn([])),i=new oo(t,e),r=new oo(t,e+1);let o=an();return this.ws.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new oo(e,0),i=this.fs.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class oo{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Je.comparator(e.key,t.key)||Qt(e.As,t.As)}static _s(e,t){return Qt(e.As,t.As)||Je.comparator(e.key,t.key)}}class w${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new vi(oo.ds)}checkEmpty(e){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.vs;this.vs++;const l=new Wk(o,t,i,r);this.mutationQueue.push(l);for(const h of r)this.Rs=this.Rs.add(new oo(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(e,t){return ae.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.bs(t+1),o=r<0?0:r;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new oo(t,0),r=new oo(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],l=>{const h=this.Ps(l.As);o.push(h)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new vi(Qt);return t.forEach(r=>{const o=new oo(r,0),l=new oo(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,l],h=>{i=i.add(h.As)})}),ae.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;Je.isDocumentKey(o)||(o=o.child(""));const l=new oo(new Je(o),0);let h=new vi(Qt);return this.Rs.forEachWhile(m=>{const v=m.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(h=h.add(m.As)),!0)},l),ae.resolve(this.Vs(h))}Vs(e){const t=[];return e.forEach(i=>{const r=this.Ps(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Dt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ae.forEach(t.mutations,r=>{const o=new oo(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=i})}Cn(e){}containsKey(e,t){const i=new oo(t,0),r=this.Rs.firstAfterOrEqual(i);return ae.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return ae.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class x${constructor(e){this.Ds=e,this.docs=new ci(Je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,l=this.Ds(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return ae.resolve(i?i.document.mutableCopy():yi.newInvalidDocument(t))}getEntries(e,t){let i=$s();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():yi.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=$s();const l=t.path,h=new Je(l.child("")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:v,value:{document:x}}=m.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||Mk(QL(x),i)<=0||(r.has(x.key)||ew(t,x))&&(o=o.insert(x.key,x.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(e,t,i,r){ht()}Cs(e,t){return ae.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new C$(this)}getSize(e){return ae.resolve(this.size)}}class C$ extends HB{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(i)}),ae.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class E${constructor(e){this.persistence=e,this.xs=new Qu(t=>og(t),X0),this.lastRemoteSnapshotVersion=It.min(),this.highestTargetId=0,this.Ns=0,this.ks=new cR,this.targetCount=0,this.Ms=pg.kn()}forEachTarget(e,t){return this.xs.forEach((i,r)=>t(r)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Ns&&(this.Ns=t),ae.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new pg(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ae.resolve()}updateTargetData(e,t){return this.Fn(t),ae.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.xs.forEach((l,h)=>{h.sequenceNumber<=t&&null===i.get(h.targetId)&&(this.xs.delete(l),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),r++)}),ae.waitFor(o).next(()=>r)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,t){const i=this.xs.get(t)||null;return ae.resolve(i)}addMatchingKeys(e,t,i){return this.ks.gs(t,i),ae.resolve()}removeMatchingKeys(e,t,i){this.ks.ps(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(l=>{o.push(r.markPotentiallyOrphaned(e,l))}),ae.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ae.resolve()}getMatchingKeysForTargetId(e,t){const i=this.ks.Es(t);return ae.resolve(i)}containsKey(e,t){return ae.resolve(this.ks.containsKey(t))}}class dR{constructor(e,t){this.$s={},this.overlays={},this.Os=new xa(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new E$(this),this.indexManager=new d$,this.remoteDocumentCache=new x$(i=>this.referenceDelegate.Ls(i)),this.serializer=new yB(t),this.qs=new y$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new b$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.$s[e.toKey()];return i||(i=new w$(t,this.referenceDelegate),this.$s[e.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,i){Be("MemoryPersistence","Starting transaction:",e);const r=new D$(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(e,t){return ae.or(Object.values(this.$s).map(i=>()=>i.containsKey(e,t)))}}class D$ extends JL{constructor(e){super(),this.currentSequenceNumber=e}}class iI{constructor(e){this.persistence=e,this.Qs=new cR,this.js=null}static zs(e){return new iI(e)}get Ws(){if(this.js)return this.js;throw ht()}addReference(e,t,i){return this.Qs.addReference(i,t),this.Ws.delete(i.toString()),ae.resolve()}removeReference(e,t,i){return this.Qs.removeReference(i,t),this.Ws.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ae.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,i=>{const r=Je.fromPath(i);return this.Hs(e,r).next(o=>{o||t.removeEntry(r,It.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(i=>{i?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ae.or([()=>ae.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class I${constructor(e){this.serializer=e}O(e,t,i,r){const o=new RD("createOrUpgrade",t);var h;i<1&&r>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",r2,{unique:!0}),h.createObjectStore("documentMutations"),qB(e),function(h){h.createObjectStore("remoteDocuments")}(e));let l=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),qB(e)),l=l.next(()=>function(h){const m=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:It.min().toTimestamp(),targetCount:0};return m.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(h,m){return m.store("mutations").j().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",r2,{unique:!0});const x=m.store("mutations"),S=v.map(R=>x.put(R));return ae.waitFor(S)})}(e,o))),l=l.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(o))),i<6&&r>=6&&(l=l.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Xs(o)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(o))),i<8&&r>=8&&(l=l.next(()=>this.ti(e,o))),i<9&&r>=9&&(l=l.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(l=l.next(()=>this.ei(o))),i<11&&r>=11&&(l=l.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(l=l.next(()=>{!function(h){const m=h.createObjectStore("documentOverlays",{keyPath:dG});m.createIndex("collectionPathOverlayIndex",uG,{unique:!1}),m.createIndex("collectionGroupOverlayIndex",hG,{unique:!1})}(e)})),i<13&&r>=13&&(l=l.next(()=>function(h){const m=h.createObjectStore("remoteDocumentsV14",{keyPath:J6});m.createIndex("documentKeyIndex",eG),m.createIndex("collectionGroupIndex",tG)}(e)).next(()=>this.ni(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(e,o))),i<15&&r>=15&&(l=l.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:sG}).createIndex("sequenceNumberIndex",aG,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:lG}).createIndex("documentKeyIndex",cG,{unique:!1})}(e))),l}Xs(e){let t=0;return e.store("remoteDocuments").X((i,r)=>{t+=eI(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.j().next(r=>ae.forEach(r,o=>{const l=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(h=>ae.forEach(h,m=>{Dt(m.userId===o.userId);const v=ug(this.serializer,m);return PB(e,o.userId,v).next(()=>{})}))}))}Zs(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((l,h)=>{const m=new xn(l),v=[0,Vo(m)];o.push(t.get(v).next(x=>x?ae.resolve():t.put({targetId:0,path:Vo(m),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(o))})}ti(e,t){e.createObjectStore("collectionParents",{keyPath:oG});const i=t.store("collectionParents"),r=new lR,o=l=>{if(r.add(l)){const h=l.lastSegment(),m=l.popLast();return i.put({collectionId:h,parent:Vo(m)})}};return t.store("remoteDocuments").X({Y:!0},(l,h)=>{const m=new xn(l);return o(m.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([l,h,m],v)=>{const x=Hd(h);return o(x.popLast())}))}ei(e){const t=e.store("targets");return t.X((i,r)=>{const o=uw(r),l=wB(this.serializer,o);return t.put(l)})}ni(e,t){const i=t.store("remoteDocuments"),r=[];return i.X((o,l)=>{const h=t.store("remoteDocumentsV14"),m=(v=l,v.document?new Je(xn.fromString(v.document.name).popFirst(5)):v.noDocument?Je.fromSegments(v.noDocument.path):v.unknownDocument?Je.fromSegments(v.unknownDocument.path):ht()).path.toArray();var v;const x={prefixPath:m.slice(0,m.length-2),collectionGroup:m[m.length-2],documentId:m[m.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(h.put(x))}).next(()=>ae.waitFor(r))}si(e,t){const i=t.store("mutations"),r=zB(this.serializer),o=new dR(iI.zs,this.serializer.fe);return i.j().next(l=>{const h=new Map;return l.forEach(m=>{var v;let x=null!==(v=h.get(m.userId))&&void 0!==v?v:an();ug(this.serializer,m).keys().forEach(S=>x=x.add(S)),h.set(m.userId,x)}),ae.forEach(h,(m,v)=>{const x=new io(v),S=ZD.de(this.serializer,x),R=o.getIndexManager(x),F=tI.de(x,this.serializer,R,o.referenceDelegate);return new WB(r,F,S,R).recalculateAndSaveOverlaysForDocumentKeys(new Ok(t,xa.ct),m).next()})})}}function qB(n){n.createObjectStore("targetDocuments",{keyPath:iG}).createIndex("documentTargetsIndex",rG,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",nG,{unique:!0}),n.createObjectStore("targetGlobal")}const uR="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class hR{constructor(e,t,i,r,o,l,h,m,v,x,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.ii=o,this.window=l,this.document=h,this.ri=v,this.oi=x,this.ui=S,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=R=>Promise.resolve(),!hR.D())throw new Me(ue.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new m$(this,r),this.di=t+"main",this.serializer=new yB(m),this.wi=new Cc(this.di,this.ui,new I$(this.serializer)),this.Bs=new h$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=zB(this.serializer),this.qs=new i$,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&ur("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,uR);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Bs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new xa(e,this.ri)}).then(()=>{this.Fs=!0}).catch(e=>(this.wi&&this.wi.close(),Promise.reject(e)))}Ii(e){var t=this;return this.fi=function(){var i=(0,ye.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.wi.B(function(){var t=(0,ye.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.ii.enqueueAndForget((0,ye.Z)(function*(){t.started&&(yield t.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>oI(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(e).next(t=>{t||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(e)).next(t=>this.isPrimary&&!t?this.Ai(e).next(()=>!1):!!t&&this.vi(e).next(()=>!0))).catch(e=>{if(jf(e))return Be("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Be("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ii.enqueueRetryable(()=>this.fi(e)),this.isPrimary=e})}Ti(e){return _w(e).get("owner").next(t=>ae.resolve(this.Ri(t)))}Pi(e){return oI(e).delete(this.clientId)}bi(){var e=this;return(0,ye.Z)(function*(){if(e.isPrimary&&!e.Vi(e.li,18e5)){e.li=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=ro(i,"clientMetadata");return r.j().next(o=>{const l=e.Si(o,18e5),h=o.filter(m=>-1===l.indexOf(m));return ae.forEach(h,m=>r.delete(m.clientId)).next(()=>h)})}).catch(()=>[]);if(e._i)for(const i of t)e._i.removeItem(e.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ei(e){return this.oi?ae.resolve(!0):_w(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new Me(ue.FAILED_PRECONDITION,uR);return!1}}return!(!this.networkEnabled||!this.inForeground)||oI(e).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Be("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ye.Z)(function*(){e.Fs=!1,e.xi(),e.hi&&(e.hi.cancel(),e.hi=null),e.Ni(),e.ki(),yield e.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new Ok(t,xa.ct);return e.Ai(i).next(()=>e.Pi(i))}),e.wi.close(),e.Mi()})()}Si(e,t){return e.filter(i=>this.Vi(i.updateTimeMs,t)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",e=>oI(e).j().next(t=>this.Si(t,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(e,t){return tI.de(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new u$(e,this.serializer.fe.databaseId)}getDocumentOverlayCache(e){return ZD.de(this.serializer,e)}getBundleCache(){return this.qs}runTransaction(e,t,i){Be("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",o=15===(l=this.ui)?pG:14===l?l2:13===l?a2:12===l?fG:11===l?s2:void ht();var l;let h;return this.wi.runTransaction(e,r,o,m=>(h=new Ok(m,this.Os?this.Os.next():xa.ct),"readwrite-primary"===t?this.Ti(h).next(v=>!!v||this.Ei(h)).next(v=>{if(!v)throw ur(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new Me(ue.FAILED_PRECONDITION,XL);return i(h)}).next(v=>this.vi(h).next(()=>v)):this.Oi(h).next(()=>i(h)))).then(m=>(h.raiseOnCommittedEvent(),m))}Oi(e){return _w(e).get("owner").next(t=>{if(null!==t&&this.Vi(t.leaseTimestampMs,5e3)&&!this.Ci(t.ownerId)&&!this.Ri(t)&&!(this.oi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Me(ue.FAILED_PRECONDITION,uR)})}vi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return _w(e).put("owner",t)}static D(){return Cc.D()}Ai(e){const t=_w(e);return t.get("owner").next(i=>this.Ri(i)?(Be("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ae.resolve())}Vi(e,t){const i=Date.now();return!(e<i-t||e>i&&(ur(`Detected an update time that is in the future: ${e} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const t=/(?:Version|Mobile)\/1[456]/;(0,N.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(e){var t;try{const i=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Di(e)));return Be("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ur("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(e){ur("Failed to set zombie client id.",e)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function _w(n){return ro(n,"owner")}function oI(n){return ro(n,"clientMetadata")}function fR(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class pR{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Fi=i,this.Bi=r}static Li(e,t){let i=an(),r=an();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new pR(e,t.fromCache,i,r)}}class YB{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ki(e,t).next(o=>o||this.Gi(e,t,r,i)).next(o=>o||this.Qi(e,t))}Ki(e,t){if(R2(t))return ae.resolve(null);let i=fs(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=jD(t,null,"F"),i=fs(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const l=an(...o);return this.Ui.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,i).next(m=>{const v=this.ji(t,h);return this.zi(t,v,l,m.readTime)?this.Ki(e,jD(t,null,"F")):this.Wi(e,v,t,m)}))})))}Gi(e,t,i,r){return R2(t)||r.isEqual(It.min())?this.Qi(e,t):this.Ui.getDocuments(e,i).next(o=>{const l=this.ji(t,o);return this.zi(t,l,i,r)?this.Qi(e,t):(Sk()<=Us.in.DEBUG&&Be("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),jk(t)),this.Wi(e,l,t,ZL(r,-1)))})}ji(e,t){let i=new vi(F2(e));return t.forEach((r,o)=>{ew(e,o)&&(i=i.add(o))}),i}zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(e,t){return Sk()<=Us.in.DEBUG&&Be("QueryEngine","Using full collection scan to execute query:",jk(t)),this.Ui.getDocumentsMatchingQuery(e,t,wa.min())}Wi(e,t,i,r){return this.Ui.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}class S${constructor(e,t,i,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ci(Qt),this.Yi=new Qu(o=>og(o),X0),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(i)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function KB(n,e,t,i){return new S$(n,e,t,i)}function ZB(n,e){return mR.apply(this,arguments)}function mR(){return mR=(0,ye.Z)(function*(n,e){const t=it(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.tr(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],h=[];let m=an();for(const v of r){l.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}for(const v of o){h.push(v.batchId);for(const x of v.mutations)m=m.add(x.key)}return t.localDocuments.getDocuments(i,m).next(v=>({er:v,removedBatchIds:l,addedBatchIds:h}))})})}),mR.apply(this,arguments)}function T$(n,e){const t=it(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.Zi.newChangeBuffer({trackRemovals:!0});return function(l,h,m,v){const x=m.batch,S=x.keys();let R=ae.resolve();return S.forEach(F=>{R=R.next(()=>v.getEntry(h,F)).next(H=>{const Y=m.docVersions.get(F);Dt(null!==Y),H.version.compareTo(Y)<0&&(x.applyToRemoteDocument(H,m),H.isValidDocument()&&(H.setReadTime(m.commitVersion),v.addEntry(H)))})}),R.next(()=>l.mutationQueue.removeMutationBatch(h,x))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let h=an();for(let m=0;m<l.mutationResults.length;++m)l.mutationResults[m].transformResults.length>0&&(h=h.add(l.batch.mutations[m].key));return h}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function QB(n){const e=it(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function A$(n,e){const t=it(n),i=e.snapshotVersion;let r=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Zi.newChangeBuffer({trackRemovals:!0});r=t.Ji;const h=[];e.targetChanges.forEach((x,S)=>{const R=r.get(S);if(!R)return;h.push(t.Bs.removeMatchingKeys(o,x.removedDocuments,S).next(()=>t.Bs.addMatchingKeys(o,x.addedDocuments,S)));let F=R.withSequenceNumber(o.currentSequenceNumber);var H,Y,te;null!==e.targetMismatches.get(S)?F=F.withResumeToken(Nr.EMPTY_BYTE_STRING,It.min()).withLastLimboFreeSnapshotVersion(It.min()):x.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(x.resumeToken,i)),r=r.insert(S,F),Y=F,te=x,(0===(H=R).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&h.push(t.Bs.updateTargetData(o,F))});let m=$s(),v=an();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,x))}),h.push(XB(o,l,e.documentUpdates).next(x=>{m=x.nr,v=x.sr})),!i.isEqual(It.min())){const x=t.Bs.getLastRemoteSnapshotVersion(o).next(S=>t.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(x)}return ae.waitFor(h).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,m,v)).next(()=>m)}).then(o=>(t.Ji=r,o))}function XB(n,e,t){let i=an(),r=an();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let l=$s();return t.forEach((h,m)=>{const v=o.get(h);m.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(h)),m.isNoDocument()&&m.version.isEqual(It.min())?(e.removeEntry(h,m.readTime),l=l.insert(h,m)):!v.isValidDocument()||m.version.compareTo(v.version)>0||0===m.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(m),l=l.insert(h,m)):Be("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",m.version)}),{nr:l,sr:r}})}function M$(n,e){const t=it(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ry(n,e){const t=it(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Bs.getTargetData(i,e).next(o=>o?(r=o,ae.resolve(r)):t.Bs.allocateTargetId(i).next(l=>(r=new Ju(e,l,"TargetPurposeListen",i.currentSequenceNumber),t.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(i.targetId,i),t.Yi.set(e,i.targetId)),i})}function oy(n,e,t){return gR.apply(this,arguments)}function gR(){return gR=(0,ye.Z)(function*(n,e,t){const i=it(n),r=i.Ji.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!jf(l))throw l;Be("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}i.Ji=i.Ji.remove(e),i.Yi.delete(r.target)}),gR.apply(this,arguments)}function sI(n,e,t){const i=it(n);let r=It.min(),o=an();return i.persistence.runTransaction("Execute query","readonly",l=>function(h,m,v){const x=it(h),S=x.Yi.get(v);return void 0!==S?ae.resolve(x.Ji.get(S)):x.Bs.getTargetData(m,v)}(i,l,fs(e)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,h.targetId).next(m=>{o=m})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,e,t?r:It.min(),t?o:an())).next(h=>(tV(i,P2(e),h),{documents:h,ir:o})))}function JB(n,e){const t=it(n),i=it(t.Bs),r=t.Ji.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",o=>i.le(o,e).next(l=>l?l.target:null))}function eV(n,e){const t=it(n),i=t.Xi.get(e)||It.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Zi.getAllFromCollectionGroup(r,e,ZL(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(tV(t,e,r),r))}function tV(n,e,t){let i=n.Xi.get(e)||It.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(e,i)}function _R(){return _R=(0,ye.Z)(function*(n,e,t,i){const r=it(n);let o=an(),l=$s();for(const v of t){const x=e.rr(v.metadata.name);v.document&&(o=o.add(x));const S=e.ur(v);S.setReadTime(e.cr(v.metadata.readTime)),l=l.insert(x,S)}const h=r.Zi.newChangeBuffer({trackRemovals:!0}),m=yield ry(r,(v=i,fs(Kv(xn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>XB(v,h,l).next(x=>(h.apply(v),x)).next(x=>r.Bs.removeMatchingKeysForTargetId(v,m.targetId).next(()=>r.Bs.addMatchingKeys(v,o,m.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,x.nr,x.sr)).next(()=>x.nr)))}),_R.apply(this,arguments)}function R$(n,e){return vR.apply(this,arguments)}function vR(){return vR=(0,ye.Z)(function*(n,e,t=an()){const i=yield ry(n,fs(nR(e.bundledQuery))),r=it(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const l=hr(e.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(o,e);const h=i.withResumeToken(Nr.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(h.targetId,h),r.Bs.updateTargetData(o,h).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,t,i.targetId)).next(()=>r.qs.saveNamedQuery(o,e))})}),vR.apply(this,arguments)}function nV(n,e){return`firestore_clients_${n}_${e}`}function iV(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function yR(n,e){return`firestore_targets_${n}_${e}`}class aI{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static ar(e,t,i){const r=JSON.parse(i);let o,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new Me(r.error.code,r.error.message))),l?new aI(e,t,r.state,o):(ur("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vw{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static ar(e,t){const i=JSON.parse(t);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Me(i.error.code,i.error.message))),o?new vw(e,i.state,r):(ur("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}hr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class lI{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static ar(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Gk();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=t2(i.activeTargetIds[l]),o=o.add(i.activeTargetIds[l]);return r?new lI(e,o):(ur("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class bR{constructor(e,t){this.clientId=e,this.onlineState=t}static ar(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new bR(t.clientId,t.onlineState):(ur("SharedClientState",`Failed to parse online state: ${e}`),null)}}class wR{constructor(){this.activeTargetIds=Gk()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xR{constructor(e,t,i,r,o){this.window=e,this.ii=t,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new ci(Qt),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=nV(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new wR),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ye.Z)(function*(){const t=yield e.syncEngine.$i();for(const r of t){if(r===e.wr)continue;const o=e.getItem(nV(e.persistenceKey,r));if(o){const l=lI.ar(r,o);l&&(e.gr=e.gr.insert(l.clientId,l))}}e.Pr();const i=e.storage.getItem(e.vr);if(i){const r=e.br(i);r&&e.Vr(r)}for(const r of e.yr)e.mr(r);e.yr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Ir,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(e){let t=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Dr(e,"pending")}updateMutationState(e,t,i){this.Dr(e,t,i),this.Cr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(yR(this.persistenceKey,e));if(i){const r=vw.ar(e,i);r&&(t=r.state)}}return this.Nr.lr(e),this.Pr(),t}removeLocalQueryTarget(e){this.Nr.dr(e),this.Pr()}isLocalQueryTarget(e){return this.Nr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(yR(this.persistenceKey,e))}updateQueryState(e,t,i){this.kr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.Cr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Mr(e)}notifyBundleLoaded(e){this.$r(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Be("SharedClientState","READ",e,t),t}setItem(e,t){Be("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Be("SharedClientState","REMOVE",e),this.storage.removeItem(e)}mr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Be("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void ur("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,ye.Z)(function*(){if(t.started){if(null!==i.key)if(t.Tr.test(i.key)){if(null==i.newValue){const r=t.Or(i.key);return t.Fr(r,null)}{const r=t.Br(i.key,i.newValue);if(r)return t.Fr(r.clientId,r)}}else if(t.Er.test(i.key)){if(null!==i.newValue){const r=t.Lr(i.key,i.newValue);if(r)return t.qr(r)}}else if(t.Ar.test(i.key)){if(null!==i.newValue){const r=t.Ur(i.key,i.newValue);if(r)return t.Kr(r)}}else if(i.key===t.vr){if(null!==i.newValue){const r=t.br(i.newValue);if(r)return t.Vr(r)}}else if(i.key===t.Ir){const r=function(o){let l=xa.ct;if(null!=o)try{const h=JSON.parse(o);Dt("number"==typeof h),l=h}catch(h){ur("SharedClientState","Failed to read sequence number from WebStorage",h)}return l}(i.newValue);r!==xa.ct&&t.sequenceNumberHandler(r)}else if(i.key===t.Rr){const r=t.Gr(i.newValue);yield Promise.all(r.map(o=>t.syncEngine.Qr(o)))}}else t.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(e,t,i){const r=new aI(this.currentUser,e,t,i),o=iV(this.persistenceKey,this.currentUser,e);this.setItem(o,r.hr())}Cr(e){const t=iV(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Mr(e){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:e}))}kr(e,t,i){const r=yR(this.persistenceKey,e),o=new vw(e,t,i);this.setItem(r,o.hr())}$r(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Tr.exec(e);return t?t[1]:null}Br(e,t){const i=this.Or(e);return lI.ar(i,t)}Lr(e,t){const i=this.Er.exec(e),r=Number(i[1]);return aI.ar(new io(void 0!==i[2]?i[2]:null),r,t)}Ur(e,t){const i=this.Ar.exec(e),r=Number(i[1]);return vw.ar(r,t)}br(e){return bR.ar(e)}Gr(e){return JSON.parse(e)}qr(e){var t=this;return(0,ye.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.jr(e.batchId,e.state,e.error);Be("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Kr(e){return this.syncEngine.zr(e.targetId,e.state,e.error)}Fr(e,t){const i=t?this.gr.insert(e,t):this.gr.remove(e),r=this.Sr(this.gr),o=this.Sr(i),l=[],h=[];return o.forEach(m=>{r.has(m)||l.push(m)}),r.forEach(m=>{o.has(m)||h.push(m)}),this.syncEngine.Wr(l,h).then(()=>{this.gr=i})}Vr(e){this.gr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Sr(e){let t=Gk();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class rV{constructor(){this.Hr=new wR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,i){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new wR,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class O${Yr(e){}shutdown(){}}class oV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Be("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Be("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let cI=null;function CR(){return null===cI?cI=268435456+Math.round(2147483648*Math.random()):cI++,"0x"+cI.toString(16)}const P$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F${constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Ho="WebChannelConnection";class N$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,i,r,o){const l=CR(),h=this.To(e,t);Be("RestConnection",`Sending RPC '${e}' ${l}:`,h,i);const m={};return this.Eo(m,r,o),this.Ao(e,h,m,i).then(v=>(Be("RestConnection",`Received RPC '${e}' ${l}: `,v),v),v=>{throw _l("RestConnection",`RPC '${e}' ${l} failed with error: `,v,"url: ",h,"request:",i),v})}vo(e,t,i,r,o,l){return this.Io(e,t,i,r,o)}Eo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+jv,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,o)=>e[o]=r),i&&i.headers.forEach((r,o)=>e[o]=r)}To(e,t){return`${this.mo}/v1/${t}:${P$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,i,r){const o=CR();return new Promise((l,h)=>{const m=new O6;m.setWithCredentials(!0),m.listenOnce(M6.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ik.NO_ERROR:const x=m.getResponseJson();Be(Ho,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(x)),l(x);break;case Ik.TIMEOUT:Be(Ho,`RPC '${e}' ${o} timed out`),h(new Me(ue.DEADLINE_EXCEEDED,"Request time out"));break;case Ik.HTTP_ERROR:const S=m.getStatus();if(Be(Ho,`RPC '${e}' ${o} failed with status:`,S,"response text:",m.getResponseText()),S>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const F=R?.error;if(F&&F.status&&F.message){const H=function(Y){const te=Y.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(te)>=0?te:ue.UNKNOWN}(F.status);h(new Me(H,F.message))}else h(new Me(ue.UNKNOWN,"Server responded with status "+m.getStatus()))}else h(new Me(ue.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Be(Ho,`RPC '${e}' ${o} completed.`)}});const v=JSON.stringify(r);Be(Ho,`RPC '${e}' ${o} sending request:`,r),m.send(t,"POST",v,i,15)})}Ro(e,t,i){const r=CR(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=T6(),h=A6(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(m.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(m.xmlHttpFactory=new R6({})),this.Eo(m.initMessageHeaders,t,i),m.encodeInitMessageHeaders=!0;const x=o.join("");Be(Ho,`Creating RPC '${e}' stream ${r}: ${x}`,m);const S=l.createWebChannel(x,m);let R=!1,F=!1;const H=new F$({ro:te=>{F?Be(Ho,`Not sending because RPC '${e}' stream ${r} is closed:`,te):(R||(Be(Ho,`Opening RPC '${e}' stream ${r} transport.`),S.open(),R=!0),Be(Ho,`RPC '${e}' stream ${r} sending:`,te),S.send(te))},oo:()=>S.close()}),Y=(te,Oe,Ye)=>{te.listen(Oe,et=>{try{Ye(et)}catch(_t){setTimeout(()=>{throw _t},0)}})};return Y(S,AD.EventType.OPEN,()=>{F||Be(Ho,`RPC '${e}' stream ${r} transport opened.`)}),Y(S,AD.EventType.CLOSE,()=>{F||(F=!0,Be(Ho,`RPC '${e}' stream ${r} transport closed`),H.wo())}),Y(S,AD.EventType.ERROR,te=>{F||(F=!0,_l(Ho,`RPC '${e}' stream ${r} transport errored:`,te),H.wo(new Me(ue.UNAVAILABLE,"The operation could not be completed")))}),Y(S,AD.EventType.MESSAGE,te=>{var Oe;if(!F){const Ye=te.data[0];Dt(!!Ye);const _t=Ye.error||(null===(Oe=Ye[0])||void 0===Oe?void 0:Oe.error);if(_t){Be(Ho,`RPC '${e}' stream ${r} received error:`,_t);const Xt=_t.status;let Jt=function(Io){const Il=Mr[Io];if(void 0!==Il)return J2(Il)}(Xt),kn=_t.message;void 0===Jt&&(Jt=ue.INTERNAL,kn="Unknown error status: "+Xt+" with message "+_t.message),F=!0,H.wo(new Me(Jt,kn)),S.close()}else Be(Ho,`RPC '${e}' stream ${r} received:`,Ye),H._o(Ye)}}),Y(h,k6.STAT_EVENT,te=>{te.stat===GL.PROXY?Be(Ho,`RPC '${e}' stream ${r} detected buffering proxy`):te.stat===GL.NOPROXY&&Be(Ho,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{H.fo()},0),H}}function sV(){return typeof window<"u"?window:null}function dI(){return typeof document<"u"?document:null}function yw(n){return new WG(n,!0)}class ER{constructor(e,t,i=1e3,r=1.5,o=6e4){this.ii=e,this.timerId=t,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-i);r>0&&Be("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class aV{constructor(e,t,i,r,o,l,h,m){this.ii=e,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new ER(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,ye.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,ye.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var i=this;return(0,ye.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==e?i.qo.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(ur(t.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):t&&t.code===ue.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===t&&this.Zo(i,r)},i=>{e(()=>{const r=new Me(ue.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(e,t){const i=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var e=this;this.state=5,this.qo.No((0,ye.Z)(function*(){e.state=0,e.start()}))}tu(e){return Be("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Be("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L$ extends aV{constructor(e,t,i,r,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,l),this.serializer=o}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function KG(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:ht(),r=e.targetChange.targetIds||[],o=function(m,v){return m.useProto3Json?(Dt(void 0===v||"string"==typeof v),Nr.fromBase64String(v||"")):(Dt(void 0===v||v instanceof Uint8Array),Nr.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(m){const v=void 0===m.code?ue.UNKNOWN:J2(m.code);return new Me(v,m.message||"")}(l);t=new rB(i,r,o,h||null)}else if("documentChange"in e){const i=e.documentChange,r=Gd(n,i.document.name),o=hr(i.document.updateTime),l=i.document.createTime?hr(i.document.createTime):It.min(),h=new wo({mapValue:{fields:i.document.fields}}),m=yi.newFoundDocument(r,o,l,h);t=new YD(i.targetIds||[],i.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const i=e.documentDelete,r=Gd(n,i.document),o=i.readTime?hr(i.readTime):It.min(),l=yi.newNoDocument(r,o);t=new YD([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const i=e.documentRemove,r=Gd(n,i.document);t=new YD([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return ht();{const i=e.filter,{count:r=0,unchangedNames:o}=i,l=new UG(r,o);t=new iB(i.targetId,l)}}var m;return t}(this.serializer,e),i=function(r){if(!("targetChange"in r))return It.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?It.min():o.readTime?hr(o.readTime):It.min()}(e);return this.listener.nu(t,i)}su(e){const t={};t.database=cw(this.serializer),t.addTarget=function(r,o){let l;const h=o.target;if(l=UD(h)?{documents:pB(r,h)}:{query:tR(r,h)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=lB(r,o.resumeToken);const m=Qk(r,o.expectedCount);null!==m&&(l.expectedCount=m)}else if(o.snapshotVersion.compareTo(It.min())>0){l.readTime=ey(r,o.snapshotVersion.toTimestamp());const m=Qk(r,o.expectedCount);null!==m&&(l.expectedCount=m)}return l}(this.serializer,e);const i=function QG(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ht()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Wo(t)}iu(e){const t={};t.database=cw(this.serializer),t.removeTarget=e,this.Wo(t)}}class B$ extends aV{constructor(e,t,i,r,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,l),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function ZG(n,e){return n&&n.length>0?(Dt(void 0!==e),n.map(t=>function(i,r){let o=hr(i.updateTime?i.updateTime:r);return o.isEqual(It.min())&&(o=hr(r)),new NG(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.cu(i,t)}return Dt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=cw(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>dw(this.serializer,i))};this.Wo(t)}}class V$ extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Me(ue.UNKNOWN,r.toString())})}vo(e,t,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(e,t,i,o,l,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Me(ue.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class H${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ur(t),this.mu=!1):Be("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class z${constructor(e,t,i,r,o){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(h=>{i.enqueueAndForget((0,ye.Z)(function*(){var m;tp(l)&&(Be("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,ye.Z)(function*(v){const x=it(v);x.vu.add(4),yield sy(x),x.bu.set("Unknown"),x.vu.delete(4),yield bw(x)}),function(v){return m.apply(this,arguments)})(l))}))}),this.bu=new H$(i,r)}}function bw(n){return IR.apply(this,arguments)}function IR(){return IR=(0,ye.Z)(function*(n){if(tp(n))for(const e of n.Ru)yield e(!0)}),IR.apply(this,arguments)}function sy(n){return SR.apply(this,arguments)}function SR(){return SR=(0,ye.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),SR.apply(this,arguments)}function uI(n,e){const t=it(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),MR(t)?AR(t):ly(t).Ko()&&TR(t,e))}function ww(n,e){const t=it(n),i=ly(t);t.Au.delete(e),i.Ko()&&lV(t,e),0===t.Au.size&&(i.Ko()?i.jo():tp(t)&&t.bu.set("Unknown"))}function TR(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(It.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ly(n).su(e)}function lV(n,e){n.Vu.qt(e),ly(n).iu(e)}function AR(n){n.Vu=new zG({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),ly(n).start(),n.bu.gu()}function MR(n){return tp(n)&&!ly(n).Uo()&&n.Au.size>0}function tp(n){return 0===it(n).vu.size}function cV(n){n.Vu=void 0}function j$(n){return kR.apply(this,arguments)}function kR(){return kR=(0,ye.Z)(function*(n){n.Au.forEach((e,t)=>{TR(n,e)})}),kR.apply(this,arguments)}function G$(n,e){return RR.apply(this,arguments)}function RR(){return RR=(0,ye.Z)(function*(n,e){cV(n),MR(n)?(n.bu.Iu(e),AR(n)):n.bu.set("Unknown")}),RR.apply(this,arguments)}function $$(n,e,t){return OR.apply(this,arguments)}function OR(){return OR=(0,ye.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof rB&&2===e.state&&e.cause)try{yield(i=(0,ye.Z)(function*(r,o){const l=o.cause;for(const h of o.targetIds)r.Au.has(h)&&(yield r.remoteSyncer.rejectListen(h,l),r.Au.delete(h),r.Vu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,e)}catch(i){Be("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield hI(n,i)}else if(e instanceof YD?n.Vu.Ht(e):e instanceof iB?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(It.min()))try{const i=yield QB(n.localStore);t.compareTo(i)>=0&&(yield function(r,o){const l=r.Vu.ce(o);return l.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const v=r.Au.get(m);v&&r.Au.set(m,v.withResumeToken(h.resumeToken,o))}}),l.targetMismatches.forEach((h,m)=>{const v=r.Au.get(h);if(!v)return;r.Au.set(h,v.withResumeToken(Nr.EMPTY_BYTE_STRING,v.snapshotVersion)),lV(r,h);const x=new Ju(v.target,h,m,v.sequenceNumber);TR(r,x)}),r.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(i){Be("RemoteStore","Failed to raise snapshot:",i),yield hI(n,i)}var i}),OR.apply(this,arguments)}function hI(n,e,t){return PR.apply(this,arguments)}function PR(){return PR=(0,ye.Z)(function*(n,e,t){if(!jf(e))throw e;n.vu.add(1),yield sy(n),n.bu.set("Offline"),t||(t=()=>QB(n.localStore)),n.asyncQueue.enqueueRetryable((0,ye.Z)(function*(){Be("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield bw(n)}))}),PR.apply(this,arguments)}function dV(n,e){return e().catch(t=>hI(n,t,e))}function ay(n){return FR.apply(this,arguments)}function FR(){return FR=(0,ye.Z)(function*(n){const e=it(n),t=np(e);let i=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;W$(e);)try{const r=yield M$(e.localStore,i);if(null===r){0===e.Eu.length&&t.jo();break}i=r.batchId,q$(e,r)}catch(r){yield hI(e,r)}uV(e)&&hV(e)}),FR.apply(this,arguments)}function W$(n){return tp(n)&&n.Eu.length<10}function q$(n,e){n.Eu.push(e);const t=np(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function uV(n){return tp(n)&&!np(n).Uo()&&n.Eu.length>0}function hV(n){np(n).start()}function Y$(n){return NR.apply(this,arguments)}function NR(){return NR=(0,ye.Z)(function*(n){np(n).hu()}),NR.apply(this,arguments)}function K$(n){return LR.apply(this,arguments)}function LR(){return LR=(0,ye.Z)(function*(n){const e=np(n);for(const t of n.Eu)e.uu(t.mutations)}),LR.apply(this,arguments)}function Z$(n,e,t){return BR.apply(this,arguments)}function BR(){return BR=(0,ye.Z)(function*(n,e,t){const i=n.Eu.shift(),r=qk.from(i,e,t);yield dV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ay(n)}),BR.apply(this,arguments)}function Q$(n,e){return VR.apply(this,arguments)}function VR(){return VR=(0,ye.Z)(function*(n,e){var t;e&&np(n).ou&&(yield(t=(0,ye.Z)(function*(i,r){if(X2(o=r.code)&&o!==ue.ABORTED){const l=i.Eu.shift();np(i).Qo(),yield dV(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield ay(i)}var o}),function(i,r){return t.apply(this,arguments)})(n,e)),uV(n)&&hV(n)}),VR.apply(this,arguments)}function fV(n,e){return UR.apply(this,arguments)}function UR(){return UR=(0,ye.Z)(function*(n,e){const t=it(n);t.asyncQueue.verifyOperationInProgress(),Be("RemoteStore","RemoteStore received new credentials");const i=tp(t);t.vu.add(3),yield sy(t),i&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield bw(t)}),UR.apply(this,arguments)}function HR(n,e){return zR.apply(this,arguments)}function zR(){return zR=(0,ye.Z)(function*(n,e){const t=it(n);e?(t.vu.delete(2),yield bw(t)):e||(t.vu.add(2),yield sy(t),t.bu.set("Unknown"))}),zR.apply(this,arguments)}function ly(n){return n.Su||(n.Su=function(e,t,i){const r=it(e);return r.fu(),new L$(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:j$.bind(null,n),ao:G$.bind(null,n),nu:$$.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Su.Qo(),MR(n)?AR(n):n.bu.set("Unknown")):(yield n.Su.stop(),cV(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function np(n){return n.Du||(n.Du=function(e,t,i){const r=it(e);return r.fu(),new B$(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:Y$.bind(null,n),ao:Q$.bind(null,n),au:K$.bind(null,n),cu:Z$.bind(null,n)}),n.Ru.push(function(){var e=(0,ye.Z)(function*(t){t?(n.Du.Qo(),yield ay(n)):(yield n.Du.stop(),n.Eu.length>0&&(Be("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class jR{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,i,r,o){const l=Date.now()+i,h=new jR(e,t,l,r,o);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Me(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cy(n,e){if(ur("AsyncQueue",`${e}: ${n}`),jf(n))return new Me(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class dy{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Je.comparator(t.key,i.key):(t,i)=>Je.comparator(t.key,i.key),this.keyedMap=tw(),this.sortedSet=new ci(this.comparator)}static emptySet(e){return new dy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new dy;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class pV{constructor(){this.Cu=new ci(Je.comparator)}track(e){const t=e.doc.key,i=this.Cu.get(t);i?0!==e.type&&3===i.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==i.type?this.Cu=this.Cu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.Cu=this.Cu.remove(t):1===e.type&&2===i.type?this.Cu=this.Cu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):ht():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,i)=>{e.push(i)}),e}}class uy{constructor(e,t,i,r,o,l,h,m,v){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=v}static fromInitialDocuments(e,t,i,r,o){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new uy(e,t,dy.emptySet(t),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&J0(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class X${constructor(){this.Nu=void 0,this.listeners=[]}}class J${constructor(){this.queries=new Qu(e=>O2(e),J0),this.onlineState="Unknown",this.ku=new Set}}function GR(n,e){return $R.apply(this,arguments)}function $R(){return $R=(0,ye.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new X$),r)try{o.Nu=yield t.onListen(i)}catch(l){const h=cy(l,`Initialization of query '${jk(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.listeners.push(e),e.Mu(t.onlineState),o.Nu&&e.$u(o.Nu)&&YR(t)}),$R.apply(this,arguments)}function WR(n,e){return qR.apply(this,arguments)}function qR(){return qR=(0,ye.Z)(function*(n,e){const t=it(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const l=o.listeners.indexOf(e);l>=0&&(o.listeners.splice(l,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),qR.apply(this,arguments)}function e5(n,e){const t=it(n);let i=!1;for(const r of e){const l=t.queries.get(r.query);if(l){for(const h of l.listeners)h.$u(r)&&(i=!0);l.Nu=r}}i&&YR(t)}function t5(n,e,t){const i=it(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function YR(n){n.ku.forEach(e=>{e.next()})}class KR{constructor(e,t,i){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new uy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=uy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class n5{constructor(e,t){this.Gu=e,this.byteLength=t}Qu(){return"metadata"in this.Gu}}class mV{constructor(e){this.serializer=e}rr(e){return Gd(this.serializer,e)}ur(e){return e.metadata.exists?fB(this.serializer,e.document,!1):yi.newNoDocument(this.rr(e.metadata.name),this.cr(e.metadata.readTime))}cr(e){return hr(e)}}class r5{constructor(e,t,i){this.ju=e,this.localStore=t,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=gV(e)}zu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Gu.namedQuery)this.queries.push(e.Gu.namedQuery);else if(e.Gu.documentMetadata){this.documents.push({metadata:e.Gu.documentMetadata}),e.Gu.documentMetadata.exists||++t;const i=xn.fromString(e.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.Gu.document&&(this.documents[this.documents.length-1].document=e.Gu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Wu(e){const t=new Map,i=new mV(this.serializer);for(const r of e)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const l of r.metadata.queries){const h=(t.get(l)||an()).add(o);t.set(l,h)}}return t}complete(){var e=this;return(0,ye.Z)(function*(){const t=yield function k$(n,e,t,i){return _R.apply(this,arguments)}(e.localStore,new mV(e.serializer),e.documents,e.ju.id),i=e.Wu(e.documents);for(const r of e.queries)yield R$(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Hu:e.collectionGroups,Ju:t}})()}}function gV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class _V{constructor(e){this.key=e}}class vV{constructor(e){this.key=e}}class yV{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=an(),this.mutatedKeys=an(),this.tc=F2(e),this.ec=new dy(this.tc)}get nc(){return this.Yu}sc(e,t){const i=t?t.ic:new pV,r=t?t.ec:this.ec;let o=t?t.mutatedKeys:this.mutatedKeys,l=r,h=!1;const m="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((x,S)=>{const R=r.get(x),F=ew(this.query,S)?S:null,H=!!R&&this.mutatedKeys.has(R.key),Y=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let te=!1;R&&F?R.data.isEqual(F.data)?H!==Y&&(i.track({type:3,doc:F}),te=!0):this.rc(R,F)||(i.track({type:2,doc:F}),te=!0,(m&&this.tc(F,m)>0||v&&this.tc(F,v)<0)&&(h=!0)):!R&&F?(i.track({type:0,doc:F}),te=!0):R&&!F&&(i.track({type:1,doc:R}),te=!0,(m||v)&&(h=!0)),te&&(F?(l=l.add(F),o=Y?o.add(x):o.delete(x)):(l=l.delete(x),o=o.delete(x)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const x="F"===this.query.limitType?l.last():l.first();l=l.delete(x.key),o=o.delete(x.key),i.track({type:1,doc:x})}return{ec:l,ic:i,zi:h,mutatedKeys:o}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const o=e.ic.xu();o.sort((v,x)=>function(S,R){const F=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return F(S)-F(R)}(v.type,x.type)||this.tc(v.doc,x.doc)),this.oc(i);const l=t?this.uc():[],h=0===this.Zu.size&&this.current?1:0,m=h!==this.Xu;return this.Xu=h,0!==o.length||m?{snapshot:new uy(this.query,e.ec,r,o,e.mutatedKeys,0===h,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new pV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=an(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const t=[];return e.forEach(i=>{this.Zu.has(i)||t.push(new vV(i))}),this.Zu.forEach(i=>{e.has(i)||t.push(new _V(i))}),t}hc(e){this.Yu=e.ir,this.Zu=an();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return uy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class o5{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class s5{constructor(e){this.key=e,this.fc=!1}}class a5{constructor(e,t,i,r,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Qu(h=>O2(h),J0),this._c=new Map,this.mc=new Set,this.gc=new ci(Je.comparator),this.yc=new Map,this.Ic=new cR,this.Tc={},this.Ec=new Map,this.Ac=pg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function l5(n,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,ye.Z)(function*(n,e){const t=b1(n);let i,r;const o=t.wc.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const l=yield ry(t.localStore,fs(e)),h=t.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield QR(t,e,i,"current"===h,l.resumeToken),t.isPrimaryClient&&uI(t.remoteStore,l)}return r}),ZR.apply(this,arguments)}function QR(n,e,t,i,r){return XR.apply(this,arguments)}function XR(){return XR=(0,ye.Z)(function*(n,e,t,i,r){n.Rc=(S,R,F)=>{return(H=(0,ye.Z)(function*(Y,te,Oe,Ye){let et=te.view.sc(Oe);et.zi&&(et=yield sI(Y.localStore,te.query,!1).then(({documents:Jt})=>te.view.sc(Jt,et)));const _t=Ye&&Ye.targetChanges.get(te.targetId),Xt=te.view.applyChanges(et,Y.isPrimaryClient,_t);return c1(Y,te.targetId,Xt.cc),Xt.snapshot}),function(Y,te,Oe,Ye){return H.apply(this,arguments)})(n,S,R,F);var H};const o=yield sI(n.localStore,e,!0),l=new yV(e,o.ir),h=l.sc(o.documents),m=aw.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),v=l.applyChanges(h,n.isPrimaryClient,m);c1(n,t,v.cc);const x=new o5(e,t,l);return n.wc.set(e,x),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),v.snapshot}),XR.apply(this,arguments)}function c5(n,e){return JR.apply(this,arguments)}function JR(){return JR=(0,ye.Z)(function*(n,e){const t=it(n),i=t.wc.get(e),r=t._c.get(i.targetId);if(r.length>1)return t._c.set(i.targetId,r.filter(o=>!J0(o,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield oy(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),ww(t.remoteStore,i.targetId),hy(t,i.targetId)}).catch(zf))):(hy(t,i.targetId),yield oy(t.localStore,i.targetId,!0))}),JR.apply(this,arguments)}function e1(){return e1=(0,ye.Z)(function*(n,e,t){const i=w1(n);try{const r=yield function(o,l){const h=it(o),m=ki.now(),v=l.reduce((R,F)=>R.add(F.key),an());let x,S;return h.persistence.runTransaction("Locally write mutations","readwrite",R=>{let F=$s(),H=an();return h.Zi.getEntries(R,v).next(Y=>{F=Y,F.forEach((te,Oe)=>{Oe.isValidDocument()||(H=H.add(te))})}).next(()=>h.localDocuments.getOverlayedDocuments(R,F)).next(Y=>{x=Y;const te=[];for(const Oe of l){const Ye=BG(Oe,x.get(Oe.key).overlayedDocument);null!=Ye&&te.push(new Xu(Oe.key,Ye,y2(Ye.value.mapValue),Ri.exists(!0)))}return h.mutationQueue.addMutationBatch(R,m,te,l)}).next(Y=>{S=Y;const te=Y.applyToLocalDocumentSet(x,H);return h.documentOverlayCache.saveOverlays(R,Y.batchId,te)})}).then(()=>({batchId:S.batchId,changes:L2(x)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,h){let m=o.Tc[o.currentUser.toKey()];m||(m=new ci(Qt)),m=m.insert(l,h),o.Tc[o.currentUser.toKey()]=m}(i,r.batchId,t),yield eh(i,r.changes),yield ay(i.remoteStore)}catch(r){const o=cy(r,"Failed to persist write");t.reject(o)}}),e1.apply(this,arguments)}function bV(n,e){return t1.apply(this,arguments)}function t1(){return t1=(0,ye.Z)(function*(n,e){const t=it(n);try{const i=yield A$(t.localStore,e);e.targetChanges.forEach((r,o)=>{const l=t.yc.get(o);l&&(Dt(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?Dt(l.fc):r.removedDocuments.size>0&&(Dt(l.fc),l.fc=!1))}),yield eh(t,i,e)}catch(i){yield zf(i)}}),t1.apply(this,arguments)}function wV(n,e,t){const i=it(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.wc.forEach((o,l)=>{const h=l.view.Mu(e);h.snapshot&&r.push(h.snapshot)}),function(o,l){const h=it(o);h.onlineState=l;let m=!1;h.queries.forEach((v,x)=>{for(const S of x.listeners)S.Mu(l)&&(m=!0)}),m&&YR(h)}(i.eventManager,e),r.length&&i.dc.nu(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function u5(n,e,t){return n1.apply(this,arguments)}function n1(){return n1=(0,ye.Z)(function*(n,e,t){const i=it(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.yc.get(e),o=r&&r.key;if(o){let l=new ci(Je.comparator);l=l.insert(o,yi.newNoDocument(o,It.min()));const h=an().add(o),m=new sw(It.min(),new Map,new ci(Qt),l,h);yield bV(i,m),i.gc=i.gc.remove(o),i.yc.delete(e),d1(i)}else yield oy(i.localStore,e,!1).then(()=>hy(i,e,t)).catch(zf)}),n1.apply(this,arguments)}function h5(n,e){return r1.apply(this,arguments)}function r1(){return r1=(0,ye.Z)(function*(n,e){const t=it(n),i=e.batch.batchId;try{const r=yield T$(t.localStore,e);l1(t,i,null),a1(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield eh(t,r)}catch(r){yield zf(r)}}),r1.apply(this,arguments)}function f5(n,e,t){return o1.apply(this,arguments)}function o1(){return o1=(0,ye.Z)(function*(n,e,t){const i=it(n);try{const r=yield function(o,l){const h=it(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let v;return h.mutationQueue.lookupMutationBatch(m,l).next(x=>(Dt(null!==x),v=x.keys(),h.mutationQueue.removeMutationBatch(m,x))).next(()=>h.mutationQueue.performConsistencyCheck(m)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(m,v,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,v)).next(()=>h.localDocuments.getDocuments(m,v))})}(i.localStore,e);l1(i,e,t),a1(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield eh(i,r)}catch(r){yield zf(r)}}),o1.apply(this,arguments)}function s1(){return s1=(0,ye.Z)(function*(n,e){const t=it(n);tp(t.remoteStore)||Be("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const l=it(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>l.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===i)return void e.resolve();const r=t.Ec.get(i)||[];r.push(e),t.Ec.set(i,r)}catch(i){const r=cy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),s1.apply(this,arguments)}function a1(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function l1(n,e,t){const i=it(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Tc[i.currentUser.toKey()]=r}}function hy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n._c.get(e))n.wc.delete(i),t&&n.dc.Pc(i,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(i=>{n.Ic.containsKey(i)||xV(n,i)})}function xV(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(ww(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),d1(n))}function c1(n,e,t){for(const i of t)i instanceof _V?(n.Ic.addReference(i.key,e),m5(n,i)):i instanceof vV?(Be("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,e),n.Ic.containsKey(i.key)||xV(n,i.key)):ht()}function m5(n,e){const t=e.key,i=t.path.canonicalString();n.gc.get(t)||n.mc.has(i)||(Be("SyncEngine","New document in limbo: "+t),n.mc.add(i),d1(n))}function d1(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Je(xn.fromString(e)),i=n.Ac.next();n.yc.set(i,new s5(t)),n.gc=n.gc.insert(t,i),uI(n.remoteStore,new Ju(fs(Kv(t.path)),i,"TargetPurposeLimboResolution",xa.ct))}}function eh(n,e,t){return u1.apply(this,arguments)}function u1(){return u1=(0,ye.Z)(function*(n,e,t){const i=it(n),r=[],o=[],l=[];var h;i.wc.isEmpty()||(i.wc.forEach((h,m)=>{l.push(i.Rc(m,e,t).then(v=>{if((v||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(m.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const x=pR.Li(m.targetId,v);o.push(x)}}))}),yield Promise.all(l),i.dc.nu(r),yield(h=(0,ye.Z)(function*(m,v){const x=it(m);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ae.forEach(v,R=>ae.forEach(R.Fi,F=>x.persistence.referenceDelegate.addReference(S,R.targetId,F)).next(()=>ae.forEach(R.Bi,F=>x.persistence.referenceDelegate.removeReference(S,R.targetId,F)))))}catch(S){if(!jf(S))throw S;Be("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const R=S.targetId;if(!S.fromCache){const F=x.Ji.get(R),Y=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);x.Ji=x.Ji.insert(R,Y)}}}),function(m,v){return h.apply(this,arguments)})(i.localStore,o))}),u1.apply(this,arguments)}function g5(n,e){return h1.apply(this,arguments)}function h1(){return h1=(0,ye.Z)(function*(n,e){const t=it(n);if(!t.currentUser.isEqual(e)){Be("SyncEngine","User change. New user:",e.toKey());const i=yield ZB(t.localStore,e);t.currentUser=e,(r=t).Ec.forEach(l=>{l.forEach(h=>{h.reject(new Me(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield eh(t,i.er)}var r}),h1.apply(this,arguments)}function _5(n,e){const t=it(n),i=t.yc.get(e);if(i&&i.fc)return an().add(i.key);{let r=an();const o=t._c.get(e);if(!o)return r;for(const l of o){const h=t.wc.get(l);r=r.unionWith(h.view.nc)}return r}}function v5(n,e){return f1.apply(this,arguments)}function f1(){return f1=(0,ye.Z)(function*(n,e){const t=it(n),i=yield sI(t.localStore,e.query,!0),r=e.view.hc(i);return t.isPrimaryClient&&c1(t,e.targetId,r.cc),r}),f1.apply(this,arguments)}function y5(n,e){return p1.apply(this,arguments)}function p1(){return p1=(0,ye.Z)(function*(n,e){const t=it(n);return eV(t.localStore,e).then(i=>eh(t,i))}),p1.apply(this,arguments)}function b5(n,e,t,i){return m1.apply(this,arguments)}function m1(){return m1=(0,ye.Z)(function*(n,e,t,i){const r=it(n),o=yield function(l,h){const m=it(l),v=it(m.mutationQueue);return m.persistence.runTransaction("Lookup mutation documents","readonly",x=>v.Sn(x,h).next(S=>S?m.localDocuments.getDocuments(x,S):ae.resolve(null)))}(r.localStore,e);var h;null!==o?("pending"===t?yield ay(r.remoteStore):"acknowledged"===t||"rejected"===t?(l1(r,e,i||null),a1(r,e),h=e,it(it(r.localStore).mutationQueue).Cn(h)):ht(),yield eh(r,o)):Be("SyncEngine","Cannot apply mutation batch with id: "+e)}),m1.apply(this,arguments)}function g1(){return g1=(0,ye.Z)(function*(n,e){const t=it(n);if(b1(t),w1(t),!0===e&&!0!==t.vc){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield CV(t,i.toArray());t.vc=!0,yield HR(t.remoteStore,!0);for(const o of r)uI(t.remoteStore,o)}else if(!1===e&&!1!==t.vc){const i=[];let r=Promise.resolve();t._c.forEach((o,l)=>{t.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(hy(t,l),oy(t.localStore,l,!0))),ww(t.remoteStore,l)}),yield r,yield CV(t,i),function(o){const l=it(o);l.yc.forEach((h,m)=>{ww(l.remoteStore,m)}),l.Ic.Ts(),l.yc=new Map,l.gc=new ci(Je.comparator)}(t),t.vc=!1,yield HR(t.remoteStore,!1)}}),g1.apply(this,arguments)}function CV(n,e,t){return _1.apply(this,arguments)}function _1(){return _1=(0,ye.Z)(function*(n,e,t){const i=it(n),r=[],o=[];for(const l of e){let h;const m=i._c.get(l);if(m&&0!==m.length){h=yield ry(i.localStore,fs(m[0]));for(const v of m){const x=i.wc.get(v),S=yield v5(i,x);S.snapshot&&o.push(S.snapshot)}}else{const v=yield JB(i.localStore,l);h=yield ry(i.localStore,v),yield QR(i,EV(v),l,!1,h.resumeToken)}r.push(h)}return i.dc.nu(o),r}),_1.apply(this,arguments)}function EV(n){return k2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function x5(n){const e=it(n);return it(it(e.localStore).persistence).$i()}function C5(n,e,t,i){return v1.apply(this,arguments)}function v1(){return v1=(0,ye.Z)(function*(n,e,t,i){const r=it(n);if(r.vc)return void Be("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const l=yield eV(r.localStore,P2(o[0])),h=sw.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,Nr.EMPTY_BYTE_STRING);yield eh(r,l,h);break}case"rejected":yield oy(r.localStore,e,!0),hy(r,e,i);break;default:ht()}}),v1.apply(this,arguments)}function E5(n,e,t){return y1.apply(this,arguments)}function y1(){return y1=(0,ye.Z)(function*(n,e,t){const i=b1(n);if(i.vc){for(const r of e){if(i._c.has(r)){Be("SyncEngine","Adding an already active target "+r);continue}const o=yield JB(i.localStore,r),l=yield ry(i.localStore,o);yield QR(i,EV(o),l.targetId,!1,l.resumeToken),uI(i.remoteStore,l)}for(const r of t)i._c.has(r)&&(yield oy(i.localStore,r,!1).then(()=>{ww(i.remoteStore,r),hy(i,r)}).catch(zf))}}),y1.apply(this,arguments)}function b1(n){const e=it(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_5.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u5.bind(null,e),e.dc.nu=e5.bind(null,e.eventManager),e.dc.Pc=t5.bind(null,e.eventManager),e}function w1(n){const e=it(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=h5.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=f5.bind(null,e),e}class xw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ye.Z)(function*(){t.serializer=yw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return KB(this.persistence,new YB,e.initialUser,this.serializer)}createPersistence(e){return new dR(iI.zs,this.serializer)}createSharedClientState(e){return new rV}terminate(){var e=this;return(0,ye.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class x1 extends xw{constructor(e,t,i){super(),this.Vc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e),yield i.Vc.initialize(i,e),yield w1(i.Vc.syncEngine),yield ay(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return KB(this.persistence,new YB,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new VB(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const i=new Z6(t,this.persistence);return new K6(e.asyncQueue,i)}createPersistence(e){const t=fR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?Uo.withCacheSize(this.cacheSizeBytes):Uo.DEFAULT;return new hR(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,sV(),dI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new rV}}class DV extends x1{constructor(e,t){super(e,t,!1),this.Vc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,ye.Z)(function*(){yield t().call(i,e);const r=i.Vc.syncEngine;i.sharedClientState instanceof xR&&(i.sharedClientState.syncEngine={jr:b5.bind(null,r),zr:C5.bind(null,r),Wr:E5.bind(null,r),$i:x5.bind(null,r),Qr:y5.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,ye.Z)(function*(l){yield function w5(n,e){return g1.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=sV();if(!xR.D(t))throw new Me(ue.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=fR(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new xR(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class fy{initialize(e,t){var i=this;return(0,ye.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>wV(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=g5.bind(null,i.syncEngine),yield HR(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new J$}createDatastore(e){const t=yw(e.databaseInfo.databaseId),i=new N$(e.databaseInfo);return new V$(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,o=h=>wV(this.syncEngine,h,0),l=oV.D()?new oV:new O$,new z$(t,i,r,o,l);var t,i,r,o,l}createSyncEngine(e,t){return function(i,r,o,l,h,m,v){const x=new a5(i,r,o,l,h,m);return v&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ye.Z)(function*(t){const i=it(t);Be("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield sy(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function IV(n,e=10240){let t=0;return{read:()=>(0,ye.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,ye.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class fI{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class S5{constructor(e,t){this.Cc=e,this.serializer=t,this.metadata=new Fr,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var e=this;return(0,ye.Z)(function*(){return e.metadata.promise})()}bc(){var e=this;return(0,ye.Z)(function*(){return yield e.getMetadata(),e.Nc()})()}Nc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.kc();if(null===t)return null;const i=e.xc.decode(t),r=Number(i);isNaN(r)&&e.Mc(`length string (${i}) is not valid number`);const o=yield e.$c(r);return new n5(JSON.parse(o),t.length+r)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}kc(){var e=this;return(0,ye.Z)(function*(){for(;e.Oc()<0&&!(yield e.Fc()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.Mc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}$c(e){var t=this;return(0,ye.Z)(function*(){for(;t.buffer.length<e;)(yield t.Fc())&&t.Mc("Reached the end of bundle when more is expected.");const i=t.xc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Mc(e){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${e}`)}Fc(){var e=this;return(0,ye.Z)(function*(){const t=yield e.Cc.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class T5{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ye.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Me(ue.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ye.Z)(function*(o,l){const h=it(o),m=cw(h.serializer)+"/documents",v={documents:l.map(F=>lw(h.serializer,F))},x=yield h.vo("BatchGetDocuments",m,v,l.length),S=new Map;x.forEach(F=>{const H=function YG(n,e){return"found"in e?function(t,i){Dt(!!i.found);const r=Gd(t,i.found.name),o=hr(i.found.updateTime),l=i.found.createTime?hr(i.found.createTime):It.min(),h=new wo({mapValue:{fields:i.found.fields}});return yi.newFoundDocument(r,o,l,h)}(n,e):"missing"in e?function(t,i){Dt(!!i.missing),Dt(!!i.readTime);const r=Gd(t,i.missing),o=hr(i.readTime);return yi.newNoDocument(r,o)}(n,e):ht()}(h.serializer,F);S.set(H.key.toString(),H)});const R=[];return l.forEach(F=>{const H=S.get(F.toString());Dt(!!H),R.push(H)}),R}),function(o,l){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Jv(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ye.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const o=Je.fromPath(r);e.mutations.push(new $k(o,e.precondition(o)))}),yield(i=(0,ye.Z)(function*(r,o){const l=it(r),h=cw(l.serializer)+"/documents",m={writes:o.map(v=>dw(l.serializer,v))};yield l.Io("Commit",h,m)}),function(r,o){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw ht();t=It.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new Me(ue.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(It.min())?Ri.exists(!1):Ri.updateTime(t):Ri.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(It.min()))throw new Me(ue.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(t)}return Ri.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class A5{constructor(e,t,i,r,o){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new ER(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var e=this;this.qo.No((0,ye.Z)(function*(){const t=new T5(e.datastore),i=e.qc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(o=>{e.Uc(o)}))}).catch(r=>{e.Uc(r)})}))}qc(e){try{const t=this.updateFunction(e);return!W0(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Uc(e){this.Bc>0&&this.Kc(e)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(e)}Kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!X2(t)}return!1}}class M5{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=io.UNAUTHENTICATED,this.clientId=YL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,ye.Z)(function*(h){Be("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(Be("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,ye.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Me(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=cy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function pI(n,e){return C1.apply(this,arguments)}function C1(){return C1=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Be("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,ye.Z)(function*(o){i.isEqual(o)||(yield ZB(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),C1.apply(this,arguments)}function E1(n,e){return D1.apply(this,arguments)}function D1(){return D1=(0,ye.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield I1(n);Be("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>fV(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>fV(e.remoteStore,o)),n._onlineComponents=e}),D1.apply(this,arguments)}function SV(n){return"FirebaseError"===n.name?n.code===ue.FAILED_PRECONDITION||n.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function I1(n){return S1.apply(this,arguments)}function S1(){return S1=(0,ye.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Be("FirestoreClient","Using user provided OfflineComponentProvider");try{yield pI(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!SV(t))throw t;_l("Error using user provided cache. Falling back to memory cache: "+t),yield pI(n,new xw)}}else Be("FirestoreClient","Using default OfflineComponentProvider"),yield pI(n,new xw);return n._offlineComponents}),S1.apply(this,arguments)}function mI(n){return T1.apply(this,arguments)}function T1(){return T1=(0,ye.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Be("FirestoreClient","Using user provided OnlineComponentProvider"),yield E1(n,n._uninitializedComponentsProvider._online)):(Be("FirestoreClient","Using default OnlineComponentProvider"),yield E1(n,new fy))),n._onlineComponents}),T1.apply(this,arguments)}function TV(n){return I1(n).then(e=>e.persistence)}function gI(n){return I1(n).then(e=>e.localStore)}function AV(n){return mI(n).then(e=>e.remoteStore)}function A1(n){return mI(n).then(e=>e.syncEngine)}function py(n){return M1.apply(this,arguments)}function M1(){return M1=(0,ye.Z)(function*(n){const e=yield mI(n),t=e.eventManager;return t.onListen=l5.bind(null,e.syncEngine),t.onUnlisten=c5.bind(null,e.syncEngine),t}),M1.apply(this,arguments)}function kV(n,e,t={}){const i=new Fr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,o,l,h,m){const v=new fI({next:S=>{o.enqueueAndForget(()=>WR(r,x));const R=S.docs.has(l);!R&&S.fromCache?m.reject(new Me(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&h&&"server"===h.source?m.reject(new Me(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(S)},error:S=>m.reject(S)}),x=new KR(Kv(l.path),v,{includeMetadataChanges:!0,Ku:!0});return GR(r,x)}(yield py(n),n.asyncQueue,e,t,i)})),i.promise}function RV(n,e,t={}){const i=new Fr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function(r,o,l,h,m){const v=new fI({next:S=>{o.enqueueAndForget(()=>WR(r,x)),S.fromCache&&"server"===h.source?m.reject(new Me(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(S)},error:S=>m.reject(S)}),x=new KR(l,v,{includeMetadataChanges:!0,Ku:!0});return GR(r,x)}(yield py(n),n.asyncQueue,e,t,i)})),i.promise}function OV(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const PV=new Map;function k1(n,e,t){if(!t)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function FV(n,e,t,i){if(!0===e&&!0===i)throw new Me(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function NV(n){if(!Je.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LV(n){if(Je.isDocumentKey(n))throw new Me(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _I(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":ht()}function vn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Me(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=_I(n);throw new Me(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function BV(n,e){if(e<=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class VV{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new Me(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Me(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=OV(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new Me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Me(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Cw{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Me(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VV(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new L6;switch(t.type){case"firstParty":return new H6(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Me(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=PV.get(e);t&&(Be("ComponentProvider","Removing Datastore"),PV.delete(e),t.terminate())}(this),Promise.resolve()}}class bi{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $d(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bi(this.firestore,e,this._key)}}class xo{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new xo(this.firestore,e,this._query)}}class $d extends xo{constructor(e,t,i){super(e,t,Kv(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bi(this.firestore,null,new Je(e))}withConverter(e){return new $d(this.firestore,e,this._path)}}function HV(n,e,...t){if(n=(0,N.m9)(n),k1("collection","path",e),n instanceof Cw){const i=xn.fromString(e,...t);return LV(i),new $d(n,null,i)}{if(!(n instanceof bi||n instanceof $d))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(e,...t));return LV(i),new $d(n.firestore,null,i)}}function vI(n,e,...t){if(n=(0,N.m9)(n),1===arguments.length&&(e=YL.A()),k1("doc","path",e),n instanceof Cw){const i=xn.fromString(e,...t);return NV(i),new bi(n,null,new Je(i))}{if(!(n instanceof bi||n instanceof $d))throw new Me(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(e,...t));return NV(i),new bi(n.firestore,n instanceof $d?n.converter:null,new Je(i))}}function zV(n,e){return n=(0,N.m9)(n),e=(0,N.m9)(e),(n instanceof bi||n instanceof $d)&&(e instanceof bi||e instanceof $d)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function R1(n,e){return n=(0,N.m9)(n),e=(0,N.m9)(e),n instanceof xo&&e instanceof xo&&n.firestore===e.firestore&&J0(n._query,e._query)&&n.converter===e.converter}class U5{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new ER(this,"async_queue_retry"),this.Xc=()=>{const t=dI();t&&Be("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=dI();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=dI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Fr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,ye.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!jf(t))throw t;Be("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(i=>{throw this.Wc=i,this.Hc=!1,ur("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=t,t}enqueueAfterDelay(e,t,i){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=jR.createAndSchedule(this,e,t,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&ht()}verifyOperationInProgress(){}sa(){var e=this;return(0,ye.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function O1(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class H5{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class wi extends Cw{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new U5,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||jV(this),this._firestoreClient.terminate()}}function fr(n){return n._firestoreClient||jV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function jV(n){var e,t,i;const r=n._freezeSettings(),o=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new _G(n._databaseId,h,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,OV(v.experimentalLongPollingOptions),v.useFetchStreams));var h,v;n._firestoreClient=new M5(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function GV(n,e,t){const i=new Fr;return n.asyncQueue.enqueue((0,ye.Z)(function*(){try{yield pI(n,t),yield E1(n,e),i.resolve()}catch(r){const o=r;if(!SV(o))throw o;_l("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function $V(n){if(n._initialized||n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Wd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wd(Nr.fromBase64String(e))}catch(t){throw new Me(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Wd(Nr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class th{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Me(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class gg{constructor(e){this._methodName=e}}class yI{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Me(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Me(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}const X5=/^__.*__$/;class J5{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Xu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Xv(e,this.data,t,this.fieldTransforms)}}class WV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Xu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function qV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class bI{constructor(e,t,i,r,o,l){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new bI(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.fa(e),r}da(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:i,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return CI(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(qV(this.ca)&&X5.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class e8{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||yw(e)}ya(e,t,i,r=!1){return new bI({ca:e,methodName:t,ga:i,path:tr.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _g(n){const e=n._freezeSettings(),t=yw(n._databaseId);return new e8(n._databaseId,!!e.ignoreUndefinedProperties,t)}function wI(n,e,t,i,r,o={}){const l=n.ya(o.merge||o.mergeFields?2:0,e,t,r);L1("Data must be an object, but it was:",l,i);const h=ZV(i,l);let m,v;if(o.merge)m=new Gs(l.fieldMask),v=l.fieldTransforms;else if(o.mergeFields){const x=[];for(const S of o.mergeFields){const R=Iw(e,S,t);if(!l.contains(R))throw new Me(ue.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);XV(x,R)||x.push(R)}m=new Gs(x),v=l.fieldTransforms.filter(S=>m.covers(S.field))}else m=null,v=l.fieldTransforms;return new J5(new wo(h),m,v)}class Dw extends gg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dw}}function YV(n,e,t){return new bI({ca:3,ga:e.settings.ga,methodName:n._methodName,la:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class P1 extends gg{_toFieldTransform(e){return new iw(e.path,new Zv)}isEqual(e){return e instanceof P1}}class t8 extends gg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=YV(this,e,!0),i=this.pa.map(o=>vg(o,t)),r=new ag(i);return new iw(e.path,r)}isEqual(e){return this===e}}class n8 extends gg{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=YV(this,e,!0),i=this.pa.map(o=>vg(o,t)),r=new lg(i);return new iw(e.path,r)}isEqual(e){return this===e}}class r8 extends gg{constructor(e,t){super(e),this.Ia=t}_toFieldTransform(e){const t=new Qv(e.serializer,H2(e.serializer,this.Ia));return new iw(e.path,t)}isEqual(e){return this===e}}function F1(n,e,t,i){const r=n.ya(1,e,t);L1("Data must be an object, but it was:",r,i);const o=[],l=wo.empty();Gf(i,(m,v)=>{const x=xI(e,m,t);v=(0,N.m9)(v);const S=r.da(x);if(v instanceof Dw)o.push(x);else{const R=vg(v,S);null!=R&&(o.push(x),l.set(x,R))}});const h=new Gs(o);return new WV(l,h,r.fieldTransforms)}function N1(n,e,t,i,r,o){const l=n.ya(1,e,t),h=[Iw(e,i,t)],m=[r];if(o.length%2!=0)throw new Me(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<o.length;R+=2)h.push(Iw(e,o[R])),m.push(o[R+1]);const v=[],x=wo.empty();for(let R=h.length-1;R>=0;--R)if(!XV(v,h[R])){const F=h[R];let H=m[R];H=(0,N.m9)(H);const Y=l.da(F);if(H instanceof Dw)v.push(F);else{const te=vg(H,Y);null!=te&&(v.push(F),x.set(F,te))}}const S=new Gs(v);return new WV(x,S,l.fieldTransforms)}function KV(n,e,t,i=!1){return vg(t,n.ya(i?4:3,e))}function vg(n,e){if(QV(n=(0,N.m9)(n)))return L1("Unsupported field value:",e,n),ZV(n,e);if(n instanceof gg)return function(t,i){if(!qV(i.ca))throw i._a(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,i){const r=[];let o=0;for(const l of t){let h=vg(l,i.wa(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,N.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return H2(i.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=ki.fromDate(t);return{timestampValue:ey(i.serializer,r)}}if(t instanceof ki){const r=new ki(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ey(i.serializer,r)}}if(t instanceof yI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Wd)return{bytesValue:lB(i.serializer,t._byteString)};if(t instanceof bi){const r=i.databaseId,o=t.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Xk(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i._a(`Unsupported field value: ${_I(t)}`)}(n,e)}function ZV(n,e){const t={};return d2(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gf(n,(i,r)=>{const o=vg(r,e.ha(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function QV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ki||n instanceof yI||n instanceof Wd||n instanceof bi||n instanceof gg)}function L1(n,e,t){if(!QV(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=_I(t);throw e._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Iw(n,e,t){if((e=(0,N.m9)(e))instanceof th)return e._internalPath;if("string"==typeof e)return xI(n,e);throw CI("Field path arguments must be of type string or ",n,!1,void 0,t)}const o8=new RegExp("[~\\*/\\[\\]]");function xI(n,e,t){if(e.search(o8)>=0)throw CI(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new th(...e.split("."))._internalPath}catch{throw CI(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function CI(n,e,t,i,r){const o=i&&!i.isEmpty(),l=void 0!==r;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||l)&&(m+=" (found",o&&(m+=` in field ${i}`),l&&(m+=` in document ${r}`),m+=")"),new Me(ue.INVALID_ARGUMENT,h+n+m)}function XV(n,e){return n.some(t=>t.isEqual(e))}class Sw{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new s8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(EI("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class s8 extends Sw{data(){return super.data()}}function EI(n,e){return"string"==typeof e?xI(n,e):e instanceof th?e._internalPath:e._delegate._internalPath}function JV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Me(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class B1{}class Tw extends B1{}function ip(n,e,...t){let i=[];e instanceof B1&&i.push(e),i=i.concat(t),function(r){const o=r.filter(h=>h instanceof my).length,l=r.filter(h=>h instanceof Aw).length;if(o>1||o>0&&l>0)throw new Me(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Aw extends Tw{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new Aw(e,t,i)}_apply(e){const t=this._parse(e);return iU(e._query,t),new xo(e.firestore,e.converter,zk(e._query,t))}_parse(e){const t=_g(e.firestore);return function(r,o,l,h,m,v,x){let S;if(m.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){nU(x,v);const R=[];for(const F of x)R.push(tU(h,r,F));S={arrayValue:{values:R}}}else S=tU(h,r,x)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||nU(x,v),S=KV(l,"where",x,"in"===v||"not-in"===v);return _n.create(m,v,S)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class my extends B1{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new my(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return 1===t.length?t[0]:$n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const h of l)iU(o,h),o=zk(o,h)}(e._query,t),new xo(e.firestore,e.converter,zk(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class V1 extends Tw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new V1(e,t)}_apply(e){const t=function(i,r,o){if(null!==i.startAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new qv(r,o);return function(h,m){if(null===Uk(h)){const v=zD(h);null!==v&&rU(0,v,m.field)}}(i,l),l}(e._query,this._field,this._direction);return new xo(e.firestore,e.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Zu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class DI extends Tw{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new DI(e,t,i)}_apply(e){return new xo(e.firestore,e.converter,jD(e._query,this._limit,this._limitType))}}class II extends Tw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new II(e,t,i)}_apply(e){const t=eU(e,this.type,this._docOrFields,this._inclusive);return new xo(e.firestore,e.converter,(r=t,new Zu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class SI extends Tw{constructor(e,t,i){super(),this.type=e,this._docOrFields=t,this._inclusive=i}static _create(e,t,i){return new SI(e,t,i)}_apply(e){const t=eU(e,this.type,this._docOrFields,this._inclusive);return new xo(e.firestore,e.converter,(r=t,new Zu((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function eU(n,e,t,i){if(t[0]=(0,N.m9)(t[0]),t[0]instanceof Sw)return function(r,o,l,h,m){if(!h)throw new Me(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const x of sg(r))if(x.field.isKeyField())v.push(rg(o,h.key));else{const S=h.data.field(x.field);if(FD(S))throw new Me(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const R=x.field.canonicalString();throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}v.push(S)}return new Zf(v,m)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=_g(n.firestore);return function(o,l,h,m,v,x){const S=o.explicitOrderBy;if(v.length>S.length)throw new Me(ue.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let F=0;F<v.length;F++){const H=v[F];if(S[F].field.isKeyField()){if("string"!=typeof H)throw new Me(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof H}`);if(!Hk(o)&&-1!==H.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${m}() must be a plain document ID, but '${H}' contains a slash.`);const Y=o.path.child(xn.fromString(H));if(!Je.isDocumentKey(Y))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${m}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const te=new Je(Y);R.push(rg(l,te))}else{const Y=KV(h,m,H);R.push(Y)}}return new Zf(R,x)}(n._query,n.firestore._databaseId,r,e,t,i)}}function tU(n,e,t){if("string"==typeof(t=(0,N.m9)(t))){if(""===t)throw new Me(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hk(e)&&-1!==t.indexOf("/"))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(xn.fromString(t));if(!Je.isDocumentKey(i))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return rg(n,new Je(i))}if(t instanceof bi)return rg(n,t._key);throw new Me(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_I(t)}.`)}function nU(n,e){if(!Array.isArray(n)||0===n.length)throw new Me(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function iU(n,e){if(e.isInequality()){const i=zD(n),r=e.field;if(null!==i&&!i.isEqual(r))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=Uk(n);null!==o&&rU(0,r,o)}const t=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Me(ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function rU(n,e,t){if(!t.isEqual(e))throw new Me(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class U1{convertValue(e,t="none"){switch(Yf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ku(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw ht()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Gf(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new yI(nr(e.latitude),nr(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=ND(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Y0(e));default:return null}}convertTimestamp(e){const t=$f(e);return new ki(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=xn.fromString(e);Dt(vB(i));const r=new Wf(i.get(1),i.get(3)),o=new Je(i.popFirst(5));return r.isEqual(t)||ur(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function TI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class m8 extends U1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bi(this.firestore,null,t)}}class yg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class nh extends Sw{constructor(e,t,i,r,o,l){super(e,t,i,r,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Mw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(EI("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Mw extends nh{data(e={}){return super.data(e)}}class rp{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new yg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Mw(this._firestore,this._userDataWriter,i.key,i,new yg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Me(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Mw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new yg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const h=new Mw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new yg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let m=-1,v=-1;return 0!==l.type&&(m=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),1!==l.type&&(o=o.add(l.doc),v=o.indexOf(l.doc.key)),{type:_8(l.type),doc:h,oldIndex:m,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function sU(n,e){return n instanceof nh&&e instanceof nh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof rp&&e instanceof rp&&n._firestore===e._firestore&&R1(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class op extends U1{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new bi(this.firestore,null,t)}}function aU(n,e,t){n=vn(n,bi);const i=vn(n.firestore,wi),r=TI(n.converter,e,t);return gy(i,[wI(_g(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Ri.none())])}function lU(n,e,t,...i){n=vn(n,bi);const r=vn(n.firestore,wi),o=_g(r);let l;return l="string"==typeof(e=(0,N.m9)(e))||e instanceof th?N1(o,"updateDoc",n._key,e,t,i):F1(o,"updateDoc",n._key,e),gy(r,[l.toMutation(n._key,Ri.exists(!0))])}function cU(n,...e){var t,i,r;n=(0,N.m9)(n);let o={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||O1(e[l])||(o=e[l],l++);const h={includeMetadataChanges:o.includeMetadataChanges};if(O1(e[l])){const S=e[l];e[l]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[l+1]=null===(i=S.error)||void 0===i?void 0:i.bind(S),e[l+2]=null===(r=S.complete)||void 0===r?void 0:r.bind(S)}let m,v,x;if(n instanceof bi)v=vn(n.firestore,wi),x=Kv(n._key.path),m={next:S=>{e[l]&&e[l](H1(v,n,S))},error:e[l+1],complete:e[l+2]};else{const S=vn(n,xo);v=vn(S.firestore,wi),x=S._query;const R=new op(v);m={next:F=>{e[l]&&e[l](new rp(v,R,S,F))},error:e[l+1],complete:e[l+2]},JV(n._query)}return function(S,R,F,H){const Y=new fI(H),te=new KR(R,Y,F);return S.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return GR(yield py(S),te)})),()=>{Y.Dc(),S.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return WR(yield py(S),te)}))}}(fr(v),x,h,m)}function gy(n,e){return function(t,i){const r=new Fr;return t.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function d5(n,e,t){return e1.apply(this,arguments)}(yield A1(t),i,r)})),r.promise}(fr(n),e)}function H1(n,e,t){const i=t.docs.get(e._key),r=new op(n);return new nh(n,r,e._key,i,new yg(t.hasPendingWrites,t.fromCache),e.converter)}const F8={maxAttempts:5};class dU{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_g(e)}set(e,t,i){this._verifyNotCommitted();const r=sp(e,this._firestore),o=TI(r.converter,t,i),l=wI(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Ri.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const o=sp(e,this._firestore);let l;return l="string"==typeof(t=(0,N.m9)(t))||t instanceof th?N1(this._dataReader,"WriteBatch.update",o._key,t,i,r):F1(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(l.toMutation(o._key,Ri.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=sp(e,this._firestore);return this._mutations=this._mutations.concat(new Jv(t._key,Ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Me(ue.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sp(n,e){if((n=(0,N.m9)(n)).firestore!==e)throw new Me(ue.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class N8 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=_g(e)}get(e){const t=sp(e,this._firestore),i=new m8(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return ht();const o=r[0];if(o.isFoundDocument())return new Sw(this._firestore,i,o.key,o,t.converter);if(o.isNoDocument())return new Sw(this._firestore,i,t._key,null,t.converter);throw ht()})}set(e,t,i){const r=sp(e,this._firestore),o=TI(r.converter,t,i),l=wI(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(e,t,i,...r){const o=sp(e,this._firestore);let l;return l="string"==typeof(t=(0,N.m9)(t))||t instanceof th?N1(this._dataReader,"Transaction.update",o._key,t,i,r):F1(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,l),this}delete(e){const t=sp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=sp(e,this._firestore),i=new op(this._firestore);return super.get(e).then(r=>new nh(this._firestore,i,t._key,r._document,new yg(!1,!1),t.converter))}}function z1(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Me("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function hU(){if(typeof Uint8Array>"u")throw new Me("unimplemented","Uint8Arrays are not available in this environment.")}function fU(){if(!function mG(){return typeof atob<"u"}())throw new Me("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){jv=Vs.SDK_VERSION,(0,Vs._registerComponent)(new hl.wA("firestore",(t,{instanceIdentifier:i,options:r})=>{const o=t.getProvider("app").getImmediate(),l=new wi(new V6(t.getProvider("auth-internal")),new z6(t.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Me(ue.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wf(h.options.projectId,m)}(o,i),o);return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Vs.registerVersion)($L,"3.12.0",n),(0,Vs.registerVersion)($L,"3.12.0","esm2017")}();class kw{constructor(e){this._delegate=e}static fromBase64String(e){return fU(),new kw(Wd.fromBase64String(e))}static fromUint8Array(e){return hU(),new kw(Wd.fromUint8Array(e))}toBase64(){return fU(),this._delegate.toBase64()}toUint8Array(){return hU(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function j1(n){return function $8(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class W8{enableIndexedDbPersistence(e,t){return function j5(n,e){$V(n=vn(n,wi));const t=fr(n);if(t._uninitializedComponentsProvider)throw new Me(ue.FAILED_PRECONDITION,"SDK cache is already specified.");_l("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new fy;return GV(t,r,new x1(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function G5(n){$V(n=vn(n,wi));const e=fr(n);if(e._uninitializedComponentsProvider)throw new Me(ue.FAILED_PRECONDITION,"SDK cache is already specified.");_l("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),i=new fy;return GV(e,i,new DV(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $5(n){if(n._initialized&&!n._terminated)throw new Me(ue.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Fr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ye.Z)(function*(){try{yield(t=(0,ye.Z)(function*(i){if(!Cc.D())return Promise.resolve();const r=i+"main";yield Cc.delete(r)}),function(i){return t.apply(this,arguments)})(fR(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class pU{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof Wf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&_l("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function UV(n,e,t,i={}){var r;const o=(n=vn(n,Cw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&_l("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let l,h;if("string"==typeof i.mockUserToken)l=i.mockUserToken,h=io.MOCK_USER;else{l=(0,N.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const m=i.mockUserToken.sub||i.mockUserToken.user_id;if(!m)throw new Me(ue.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new io(m)}n._authCredentials=new B6(new WL(l,h))}}(this._delegate,e,t,i)}enableNetwork(){return function q5(n){return function k5(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield TV(n),t=yield AV(n);return e.setNetworkEnabled(!0),function(i){const r=it(i);return r.vu.delete(0),bw(r)}(t)}))}(fr(n=vn(n,wi)))}(this._delegate)}disableNetwork(){return function Y5(n){return function R5(n){return n.asyncQueue.enqueue((0,ye.Z)(function*(){const e=yield TV(n),t=yield AV(n);return e.setNetworkEnabled(!1),(i=(0,ye.Z)(function*(r){const o=it(r);o.vu.add(0),yield sy(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(fr(n=vn(n,wi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,FV("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function W5(n){return function(e){const t=new Fr;return e.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return function p5(n,e){return s1.apply(this,arguments)}(yield A1(e),t)})),t.promise}(fr(n=vn(n,wi)))}(this._delegate)}onSnapshotsInSync(e){return function I8(n,e){return function F5(n,e){const t=new fI(e);return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield py(n),r=t,it(i).ku.add(r),void r.next();var i,r})),()=>{t.Dc(),n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return i=yield py(n),r=t,void it(i).ku.delete(r);var i,r}))}}(fr(n=vn(n,wi)),O1(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Me("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new _y(this,HV(this._delegate,e))}catch(t){throw ps(t,"collection()","Firestore.collection()")}}doc(e){try{return new vl(this,vI(this._delegate,e))}catch(t){throw ps(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ms(this,function V5(n,e){if(n=vn(n,Cw),k1("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Me(ue.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xo(n,null,(t=e,new Zu(xn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ps(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function L8(n,e,t){n=vn(n,wi);const i=Object.assign(Object.assign({},F8),t);return function(r){if(r.maxAttempts<1)throw new Me(ue.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,l){const h=new Fr;return r.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){const m=yield function MV(n){return mI(n).then(e=>e.datastore)}(r);new A5(r.asyncQueue,m,l,o,h).run()})),h.promise}(fr(n),r=>e(new N8(n,r)),i)}(this._delegate,t=>e(new mU(this,t)))}batch(){return fr(this._delegate),new gU(new dU(this._delegate,e=>gy(this._delegate,e)))}loadBundle(e){return function K5(n,e){const t=fr(n=vn(n,wi)),i=new H5;return function N5(n,e,t,i){const r=function(o,l){let h;return h="string"==typeof o?eB().encode(o):o,m=function(m,v){if(m instanceof Uint8Array)return IV(m,v);if(m instanceof ArrayBuffer)return IV(new Uint8Array(m),v);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new S5(m,l);var m}(t,yw(e));n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){!function D5(n,e,t){const i=it(n);var r;(r=(0,ye.Z)(function*(o,l,h){try{const m=yield l.getMetadata();if(yield function(R,F){const H=it(R),Y=hr(F.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",te=>H.qs.getBundleMetadata(te,F.id)).then(te=>!!te&&te.createTime.compareTo(Y)>=0)}(o.localStore,m))return yield l.close(),h._completeWith({taskState:"Success",documentsLoaded:(R=m).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);h._updateProgress(gV(m));const v=new r5(m,o.localStore,l.serializer);let x=yield l.bc();for(;x;){const R=yield v.zu(x);R&&h._updateProgress(R),x=yield l.bc()}const S=yield v.complete();return yield eh(o,S.Ju,void 0),yield function(R,F){const H=it(R);return H.persistence.runTransaction("Save bundle","readwrite",Y=>H.qs.saveBundleMetadata(Y,F))}(o.localStore,m),h._completeWith(S.progress),Promise.resolve(S.Hu)}catch(m){return _l("SyncEngine",`Loading bundle failed with ${m}`),h._failWith(m),Promise.resolve(new Set)}var R}),function(o,l,h){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield A1(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function Z5(n,e){return function L5(n,e){return n.asyncQueue.enqueue((0,ye.Z)(function*(){return function(t,i){const r=it(t);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield gI(n),e)}))}(fr(n=vn(n,wi)),e).then(t=>t?new xo(n,null,t.query):null)}(this._delegate,e).then(t=>t?new ms(this,t):null)}}class AI extends U1{constructor(e){super(),this.firestore=e}convertBytes(e){return new kw(new Wd(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return vl.forKey(t,this.firestore,null)}}class mU{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}get(e){const t=wg(e);return this._delegate.get(t).then(i=>new Rw(this._firestore,new nh(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=wg(e);return i?(z1("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=wg(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=wg(e);return this._delegate.delete(t),this}}class gU{constructor(e){this._delegate=e}set(e,t,i){const r=wg(e);return i?(z1("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const o=wg(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,i,...r),this}delete(e){const t=wg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class bg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Mw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ow(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=bg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let o=r.get(t);return o||(o=new bg(e,new AI(e),t),r.set(t,o)),o}}bg.INSTANCES=new WeakMap;class vl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}static forPath(e,t,i){if(e.length%2!=0)throw new Me("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new vl(t,new bi(t._delegate,i,new Je(e)))}static forKey(e,t,i){return new vl(t,new bi(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new _y(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new _y(this.firestore,HV(this._delegate,e))}catch(t){throw ps(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,N.m9)(e))instanceof bi&&zV(this._delegate,e)}set(e,t){t=z1("DocumentReference.set",t);try{return t?aU(this._delegate,e,t):aU(this._delegate,e)}catch(i){throw ps(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?lU(this._delegate,e):lU(this._delegate,e,t,...i)}catch(r){throw ps(r,"updateDoc()","DocumentReference.update()")}}delete(){return function E8(n){return gy(vn(n.firestore,wi),[new Jv(n._key,Ri.none())])}(this._delegate)}onSnapshot(...e){const t=_U(e),i=vU(e,r=>new Rw(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return cU(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function y8(n){n=vn(n,bi);const e=vn(n.firestore,wi),t=fr(e),i=new op(e);return function O5(n,e){const t=new Fr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,o,l){try{const h=yield function(m,v){const x=it(m);return x.persistence.runTransaction("read document","readonly",S=>x.localDocuments.getDocument(S,v))}(r,o);h.isFoundDocument()?l.resolve(h):h.isNoDocument()?l.resolve(null):l.reject(new Me(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const m=cy(h,`Failed to get document '${o} from cache`);l.reject(m)}}),function(r,o,l){return i.apply(this,arguments)})(yield gI(n),e,t);var i})),t.promise}(t,n._key).then(r=>new nh(e,i,n._key,r,new yg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function b8(n){n=vn(n,bi);const e=vn(n.firestore,wi);return kV(fr(e),n._key,{source:"server"}).then(t=>H1(e,n,t))}(this._delegate):function v8(n){n=vn(n,bi);const e=vn(n.firestore,wi);return kV(fr(e),n._key).then(t=>H1(e,n,t))}(this._delegate),t.then(i=>new Rw(this.firestore,new nh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new vl(this.firestore,this._delegate.withConverter(e?bg.getInstance(this.firestore,e):null))}}function ps(n,e,t){return n.message=n.message.replace(e,t),n}function _U(n){for(const e of n)if("object"==typeof e&&!j1(e))return e;return{}}function vU(n,e){var t,i;let r;return r=j1(n[0])?n[0]:j1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(e(o))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class Rw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new vl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return sU(this._delegate,e._delegate)}}class Ow extends Rw{data(e){const t=this._delegate.data(e);return function N6(n,e){n||ht()}(void 0!==t),t}}class ms{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new AI(e)}where(e,t,i){try{return new ms(this.firestore,ip(this._delegate,function a8(n,e,t){const i=e,r=EI("where",n);return Aw._create(r,i,t)}(e,t,i)))}catch(r){throw ps(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ms(this.firestore,ip(this._delegate,function l8(n,e="asc"){const t=e,i=EI("orderBy",n);return V1._create(i,t)}(e,t)))}catch(i){throw ps(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ms(this.firestore,ip(this._delegate,function c8(n){return BV("limit",n),DI._create("limit",n,"F")}(e)))}catch(t){throw ps(t,"limit()","Query.limit()")}}limitToLast(e){try{return new ms(this.firestore,ip(this._delegate,function d8(n){return BV("limitToLast",n),DI._create("limitToLast",n,"L")}(e)))}catch(t){throw ps(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ms(this.firestore,ip(this._delegate,function u8(...n){return II._create("startAt",n,!0)}(...e)))}catch(t){throw ps(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ms(this.firestore,ip(this._delegate,function h8(...n){return II._create("startAfter",n,!1)}(...e)))}catch(t){throw ps(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ms(this.firestore,ip(this._delegate,function f8(...n){return SI._create("endBefore",n,!1)}(...e)))}catch(t){throw ps(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ms(this.firestore,ip(this._delegate,function p8(...n){return SI._create("endAt",n,!0)}(...e)))}catch(t){throw ps(t,"endAt()","Query.endAt()")}}isEqual(e){return R1(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function x8(n){n=vn(n,xo);const e=vn(n.firestore,wi),t=fr(e),i=new op(e);return function P5(n,e){const t=new Fr;return n.asyncQueue.enqueueAndForget((0,ye.Z)(function*(){return(i=(0,ye.Z)(function*(r,o,l){try{const h=yield sI(r,o,!0),m=new yV(o,h.ir),v=m.sc(h.documents),x=m.applyChanges(v,!1);l.resolve(x.snapshot)}catch(h){const m=cy(h,`Failed to execute query '${o} against cache`);l.reject(m)}}),function(r,o,l){return i.apply(this,arguments)})(yield gI(n),e,t);var i})),t.promise}(t,n._query).then(r=>new rp(e,i,n,r))}(this._delegate):"server"===e?.source?function C8(n){n=vn(n,xo);const e=vn(n.firestore,wi),t=fr(e),i=new op(e);return RV(t,n._query,{source:"server"}).then(r=>new rp(e,i,n,r))}(this._delegate):function w8(n){n=vn(n,xo);const e=vn(n.firestore,wi),t=fr(e),i=new op(e);return JV(n._query),RV(t,n._query).then(r=>new rp(e,i,n,r))}(this._delegate),t.then(i=>new G1(this.firestore,new rp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=_U(e),i=vU(e,r=>new G1(this.firestore,new rp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return cU(this._delegate,t,i)}withConverter(e){return new ms(this.firestore,this._delegate.withConverter(e?bg.getInstance(this.firestore,e):null))}}class Y8{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ow(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class G1{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ms(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ow(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Y8(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new Ow(this._firestore,i))})}isEqual(e){return sU(this._delegate,e._delegate)}}class _y extends ms{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new vl(this.firestore,e):null}doc(e){try{return new vl(this.firestore,void 0===e?vI(this._delegate):vI(this._delegate,e))}catch(t){throw ps(t,"doc()","CollectionReference.doc()")}}add(e){return function D8(n,e){const t=vn(n.firestore,wi),i=vI(n),r=TI(n.converter,e);return gy(t,[wI(_g(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ri.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new vl(this.firestore,t))}isEqual(e){return zV(this._delegate,e._delegate)}withConverter(e){return new _y(this.firestore,this._delegate.withConverter(e?bg.getInstance(this.firestore,e):null))}}function wg(n){return vn(n,bi)}class $1{constructor(...e){this._delegate=new th(...e)}static documentId(){return new $1(tr.keyField().canonicalString())}isEqual(e){return(e=(0,N.m9)(e))instanceof th&&this._delegate._internalPath.isEqual(e._internalPath)}}class xg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function V8(){return new P1("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xg(e)}static delete(){const e=function B8(){return new Dw("deleteField")}();return e._methodName="FieldValue.delete",new xg(e)}static arrayUnion(...e){const t=function U8(...n){return new t8("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new xg(t)}static arrayRemove(...e){const t=function H8(...n){return new n8("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new xg(t)}static increment(e){const t=function z8(n){return new r8("increment",n)}(e);return t._methodName="FieldValue.increment",new xg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const K8={Firestore:pU,GeoPoint:yI,Timestamp:ki,Blob:kw,Transaction:mU,WriteBatch:gU,DocumentReference:vl,DocumentSnapshot:Rw,Query:ms,QueryDocumentSnapshot:Ow,QuerySnapshot:G1,CollectionReference:_y,FieldPath:$1,FieldValue:xg,setLogLevel:function q8(n){!function F6(n){Hf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function Q8(n){(function Z8(n,e){n.INTERNAL.registerComponent(new hl.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},K8)))})(n,(e,t)=>new pU(e,t,new W8)),n.registerVersion("@firebase/firestore-compat","0.3.9")}(sv.Z);var ap=V(6451),MI=V(5363),X8=V(6063);class J8 extends xt.x{constructor(e=1/0,t=1/0,i=X8.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:l}=this;t||(i.push(e),!r&&i.push(o.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let l=0;l<o.length&&!e.closed;l+=i?1:2)e.next(o[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const l=t.now();let h=0;for(let m=1;m<i.length&&i[m]<=l;m+=2)h=m;h&&i.splice(0,h+1)}}}var W1=V(3099);function q1(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,W1.B)({connector:()=>new J8(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function yU(n,e){return(0,Kr.m)(e)?ti(()=>n,e):ti(()=>n)}var Y1=V(9468);V(259);const Z1=new Map,wU={activated:!1,tokenObservers:[]},rW={initialized:!1,enabled:!1};function ir(n){return Z1.get(n)||Object.assign({},wU)}function RI(){return rW}class dW{constructor(e,t,i,r,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,ye.Z)(function*(){t.stop();try{t.pending=new N.BH,yield function uW(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new N.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Co=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function X1(n){if(!ir(n).activated)throw Co.create("use-before-activation",{appName:n.name})}function FI(n,e){return eO.apply(this,arguments)}function eO(){return eO=(0,ye.Z)(function*({url:n,body:e},t){const i={"Content-Type":"application/json"},r=t.getImmediate({optional:!0});if(r){const S=yield r.getHeartbeatsHeader();S&&(i["X-Firebase-Client"]=S)}const o={method:"POST",body:JSON.stringify(e),headers:i};let l,h;try{l=yield fetch(n,o)}catch(S){throw Co.create("fetch-network-error",{originalErrorMessage:S?.message})}if(200!==l.status)throw Co.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(S){throw Co.create("fetch-parse-error",{originalErrorMessage:S?.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Co.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const v=1e3*Number(m[1]),x=Date.now();return{token:h.token,expireTimeMillis:x+v,issuedAtTimeMillis:x}}),eO.apply(this,arguments)}function CU(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const Pw="firebase-app-check-store";let NI=null;function DU(){return NI||(NI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=i=>{n(i.target.result)},t.onerror=i=>{var r;e(Co.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},t.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Pw,{keyPath:"compositeKey"})}}catch(t){e(Co.create("storage-open",{originalErrorMessage:t?.message}))}}),NI)}function tO(){return tO=(0,ye.Z)(function*(n,e){const i=(yield DU()).transaction(Pw,"readwrite"),o=i.objectStore(Pw).put({compositeKey:n,value:e});return new Promise((l,h)=>{o.onsuccess=m=>{l()},i.onerror=m=>{var v;h(Co.create("storage-set",{originalErrorMessage:null===(v=m.target.error)||void 0===v?void 0:v.message}))}})}),tO.apply(this,arguments)}const Fw=new Us.Yd("@firebase/app-check");function rO(n,e){return(0,N.hl)()?function vW(n,e){return function IU(n,e){return tO.apply(this,arguments)}(function TU(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Fw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function sO(){return RI().enabled}function aO(){return lO.apply(this,arguments)}function lO(){return lO=(0,ye.Z)(function*(){const n=RI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),lO.apply(this,arguments)}const EW={error:"UNKNOWN_ERROR"};function DW(n){return N.US.encodeString(JSON.stringify(n),!1)}function LI(n){return cO.apply(this,arguments)}function cO(){return cO=(0,ye.Z)(function*(n,e=!1){const t=n.app;X1(t);const i=ir(t);let o,r=i.token;if(r&&!vy(r)&&(i.token=void 0,r=void 0),!r){const m=yield i.cachedTokenPromise;m&&(vy(m)?r=m:yield rO(t,void 0))}if(!e&&r&&vy(r))return{token:r.token};let h,l=!1;if(sO()){i.exchangeTokenPromise||(i.exchangeTokenPromise=FI(CU(t,yield aO()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const m=yield i.exchangeTokenPromise;return yield rO(t,m),i.token=m,{token:m.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield ir(t).exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Fw.warn(m.message):Fw.error(m),o=m}return r?o?h=vy(r)?{token:r.token,internalError:o}:kU(o):(h={token:r.token},i.token=r,yield rO(t,r)):h=kU(o),l&&MU(t,h),h}),cO.apply(this,arguments)}function hO(n,e){const t=ir(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=i}function AU(n){const{app:e}=n,t=ir(e);let i=t.tokenRefresher;i||(i=function SW(n){const{app:e}=n;return new dW((0,ye.Z)(function*(){let i;if(i=ir(e).token?yield LI(n,!0):yield LI(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const t=ir(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=i),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function MU(n,e){const t=ir(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function vy(n){return n.expireTimeMillis-Date.now()>0}function kU(n){return{token:DW(EW),error:n}}class TW{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ir(this.app);for(const t of e)hO(this.app,t.next);return Promise.resolve()}}const VU="app-check-internal";!function zW(){(0,Vs._registerComponent)(new hl.wA("app-check",n=>function AW(n,e){return new TW(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(VU).initialize()})),(0,Vs._registerComponent)(new hl.wA(VU,n=>function MW(n){return{getToken:e=>LI(n,e),addTokenListener:e=>function uO(n,e,t,i){const{app:r}=n,o=ir(r);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:i,type:e}],o.token&&vy(o.token)){const h=o.token;Promise.resolve().then(()=>{t({token:h.token}),AU(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>AU(n))}(n,"INTERNAL",e),removeTokenListener:e=>hO(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Vs.registerVersion)("@firebase/app-check","0.7.0")}();class VI{constructor(){return(0,li.vb)("app-check")}}typeof window<"u"&&window;var qW=V(9260);const _O=new c.OlP("angularfire2.auth.use-emulator"),vO=new c.OlP("angularfire2.auth.settings"),yO=new c.OlP("angularfire2.auth.tenant-id"),bO=new c.OlP("angularfire2.auth.langugage-code"),wO=new c.OlP("angularfire2.auth.use-device-language"),xO=new c.OlP("angularfire.auth.persistence"),CO=(n,e,t,i,r,o,l,h)=>(0,vo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=e.runOutsideAngular(()=>n.auth());if(t&&m.useEmulator(...t),i&&(m.tenantId=i),m.languageCode=r,o&&m.useDeviceLanguage(),l)for(const[v,x]of Object.entries(l))m.settings[v]=x;return h&&m.setPersistence(h),m},[t,i,r,o,l,h]);let EO=(()=>{class n{constructor(t,i,r,o,l,h,m,v,x,S,R,F){const H=new xt.x,Y=Qe(void 0).pipe((0,MI.Q)(l.outsideAngular),ti(()=>o.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2644)))),(0,nt.U)(()=>(0,vo.on)(t,o,i)),(0,nt.U)(te=>CO(te,o,h,v,x,S,m,R)),q1({bufferSize:1,refCount:!1}));if(Yo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Qe(null);else{Y.pipe(mo()).subscribe();const Oe=Y.pipe(ti(_t=>_t.getRedirectResult().then(Xt=>Xt,()=>null)),li.iC,q1({bufferSize:1,refCount:!1})),Ye=Y.pipe(ti(_t=>new ei.y(Xt=>({unsubscribe:o.runOutsideAngular(()=>_t.onAuthStateChanged(Jt=>Xt.next(Jt),Jt=>Xt.error(Jt),()=>Xt.complete()))})))),et=Y.pipe(ti(_t=>new ei.y(Xt=>({unsubscribe:o.runOutsideAngular(()=>_t.onIdTokenChanged(Jt=>Xt.next(Jt),Jt=>Xt.error(Jt),()=>Xt.complete()))}))));this.authState=Oe.pipe(yU(Ye),(0,Y1.R)(l.outsideAngular),(0,MI.Q)(l.insideAngular)),this.user=Oe.pipe(yU(et),(0,Y1.R)(l.outsideAngular),(0,MI.Q)(l.insideAngular)),this.idToken=this.user.pipe(ti(_t=>_t?(0,dn.D)(_t.getIdToken()):Qe(null))),this.idTokenResult=this.user.pipe(ti(_t=>_t?(0,dn.D)(_t.getIdTokenResult()):Qe(null))),this.credential=(0,ap.T)(Oe,H,this.authState.pipe(An(_t=>!_t))).pipe((0,nt.U)(_t=>_t?.user?_t:null),(0,Y1.R)(l.outsideAngular),(0,MI.Q)(l.insideAngular))}return(0,vo.pX)(this,Y,o,{spy:{apply:(te,Oe,Ye)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Ye.then(et=>H.next(et))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vo.Dh),c.LFG(vo.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(li.HU),c.LFG(_O,8),c.LFG(vO,8),c.LFG(yO,8),c.LFG(bO,8),c.LFG(wO,8),c.LFG(xO,8),c.LFG(VI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function HU(n,e){return function KW(n,e=pm.z){return new ei.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function DO(n,e){return HU(n,e).pipe((0,nt.U)(t=>({payload:t,type:"query"})))}function UI(n,e){return DO(n,e).pipe(Er(void 0),m0(),(0,nt.U)(([t,i])=>{const r=i.payload.docChanges(),o=r.map(l=>({type:l.type,payload:l}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,h)=>{const m=r.find(x=>x.doc.ref.isEqual(l.ref)),v=t?.payload.docs.find(x=>x.ref.isEqual(l.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(l.metadata)||!m&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:l}})}),o}))}function zU(n,e,t){return UI(n,t).pipe(Os((i,r)=>function QW(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function XW(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return IO(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return IO(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return IO(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),e),[]),Mm(),(0,nt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function IO(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function jU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class GU{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=UI(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,nt.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Er(void 0),m0(),An(([i,r])=>r.length>0||!i),(0,nt.U)(([i,r])=>r),li.iC)}auditTrail(e){return this.stateChanges(e).pipe(Os((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=jU(e);return zU(this.query,t,this.afs.schedulers.outsideAngular).pipe(li.iC)}valueChanges(e={}){return DO(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),li.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(li.iC)}add(e){return this.ref.add(e)}doc(e){return new $U(this.ref.doc(e),this.afs)}}class $U{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:o}=WU(i,t);return new GU(r,o,this.afs)}snapshotChanges(){return function ZW(n,e){return HU(n,e).pipe(Er(void 0),m0(),(0,nt.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(li.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,dn.D)(this.ref.get(e)).pipe(li.iC)}}class JW{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?UI(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),An(t=>t.length>0),li.iC):UI(this.query,this.afs.schedulers.outsideAngular).pipe(li.iC)}auditTrail(e){return this.stateChanges(e).pipe(Os((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=jU(e);return zU(this.query,t,this.afs.schedulers.outsideAngular).pipe(li.iC)}valueChanges(e={}){return DO(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),li.iC)}get(e){return(0,dn.D)(this.query.get(e)).pipe(li.iC)}}const eq=new c.OlP("angularfire2.enableFirestorePersistence"),tq=new c.OlP("angularfire2.firestore.persistenceSettings"),nq=new c.OlP("angularfire2.firestore.settings"),iq=new c.OlP("angularfire2.firestore.use-emulator");function WU(n,e=(t=>t)){return{query:e(n),ref:n}}let qU=(()=>{class n{constructor(t,i,r,o,l,h,m,v,x,S,R,F,H,Y,te,Oe,Ye){this.schedulers=m;const et=(0,vo.on)(t,h,i),_t=x;S&&CO(et,h,R,H,Y,te,F,Oe),[this.firestore,this.persistenceEnabled$]=(0,vo.cc)(`${et.name}.firestore`,"AngularFirestore",et.name,()=>{const Xt=h.runOutsideAngular(()=>et.firestore());if(o&&Xt.settings(o),_t&&Xt.useEmulator(..._t),r&&!Yo(l)){const Jt=()=>{try{return(0,dn.D)(Xt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(kn){return typeof console<"u"&&console.warn(kn),Qe(!1)}};return[Xt,h.runOutsideAngular(Jt)]}return[Xt,Qe(!1)]},[o,_t,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:l}=WU(r,i),h=this.schedulers.ngZone.run(()=>o);return new GU(h,l,this)}collectionGroup(t,i){const r=i||(l=>l),o=this.firestore.collectionGroup(t);return new JW(r(o),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new $U(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vo.Dh),c.LFG(vo.xv,8),c.LFG(eq,8),c.LFG(nq,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(li.HU),c.LFG(tq,8),c.LFG(iq,8),c.LFG(EO,8),c.LFG(_O,8),c.LFG(vO,8),c.LFG(yO,8),c.LFG(bO,8),c.LFG(wO,8),c.LFG(xO,8),c.LFG(VI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();class yy{constructor(e){this.db=e,this.dbPath="/Holidays",this.collection=e.collection(this.dbPath)}getAll(){return this.collection}create(e){return this.collection.add({...e})}update(e,t){return this.collection.doc(e).update(t)}delete(e){return this.collection.doc(e).delete()}}yy.\u0275fac=function(e){return new(e||yy)(c.LFG(qU))},yy.\u0275prov=c.Yz7({token:yy,factory:yy.\u0275fac,providedIn:"root"});class by{constructor(e){this.firestore=e,this.collectionName="TeamMembers"}create(e){return new Promise((t,i)=>{this.firestore.collection(this.collectionName).add(e).then(r=>{},r=>i(r))})}update(e,t){return this.firestore.collection(this.collectionName).doc(e).set(t)}get(){return this.firestore.collection(this.collectionName).snapshotChanges()}delete(e){return this.firestore.collection(this.collectionName).doc(e.payload.doc.id).delete()}}by.\u0275fac=function(e){return new(e||by)(c.LFG(qU))},by.\u0275prov=c.Yz7({token:by,factory:by.\u0275fac,providedIn:"root"});const rq=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];class wy{constructor(e,t){this.holidayService=e,this.teamMemberService=t,this.data=[],this.holidays=[],this.selectedMemberColor="transparent",this.holidayService.getAll().valueChanges().subscribe(i=>{this.holidays=Array.prototype.map.call(i,r=>{var o=new zM;return o.description=r.description,o.country=r.country,o.date=r.date.toDate(),o})}),this.teamMemberService.get().subscribe(i=>{this.teamMembers=i,this.data=this.getDates(this.selectedMember)})}selectMember(e){this.data?.splice(0),this.data=this.getDates(e)}getDates(e){for(var h,t=[],i=this.getPropertyNames(),r=(new Date).getFullYear(),o=new Date(r,0,1),l=new Date(r,11,31),m=0,v=o;v<=l;v.setDate(v.getDate()+1)){1==v.getDate()&&(h={id:v.getMonth(),month:rq[v.getMonth()],sun1:void 0,mon1:void 0,tue1:void 0,wed1:void 0,thu1:void 0,fri1:void 0,sat1:void 0,sun2:void 0,mon2:void 0,tue2:void 0,wed2:void 0,thu2:void 0,fri2:void 0,sat2:void 0,sun3:void 0,mon3:void 0,tue3:void 0,wed3:void 0,thu3:void 0,fri3:void 0,sat3:void 0,sun4:void 0,mon4:void 0,tue4:void 0,wed4:void 0,thu4:void 0,fri4:void 0,sat4:void 0,sun5:void 0,mon5:void 0,tue5:void 0,wed5:void 0,thu5:void 0,fri5:void 0,sat5:void 0,sun6:void 0,mon6:void 0},m=i.indexOf(this.getPropFromDayOfWeek(v)));var x=i[m++];if(h){var S={date:new Date(v),displayText:v.getDate().toString(),holiday:this.getHoliday(v),vacationingMembers:this.getVacationingTeamMembers(v,e)};h[x]=S,this.isLastDayOfMonth(v)&&t.push(h)}}return t}getVacationingTeamMembers(e,t){return this.teamMembers?.filter(i=>(!t||i.payload.doc.data().code==t?.code)&&i.payload.doc.data().vacations?.filter(r=>this.areDatesEqual(r.toDate(),e)).length>0)}toggleVacation(e,t,i){var r=i.vacations.filter(o=>this.areDatesEqual(o,t));0==r.length?i.vacations.push(t):i.vacations.splice(i.vacations.indexOf(r[0]),1),this.teamMemberService.update(e,i)}getHoliday(e){var t=this.holidays.filter(i=>this.areDatesEqual(i.date,e));return t.length>0?t[0].description:void 0}isLastDayOfMonth(e){var t=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();return e.getDate()==t}getPropertyNames(){return Object.getOwnPropertyNames({id:0,month:"",sun1:void 0,mon1:void 0,tue1:void 0,wed1:void 0,thu1:void 0,fri1:void 0,sat1:void 0,sun2:void 0,mon2:void 0,tue2:void 0,wed2:void 0,thu2:void 0,fri2:void 0,sat2:void 0,sun3:void 0,mon3:void 0,tue3:void 0,wed3:void 0,thu3:void 0,fri3:void 0,sat3:void 0,sun4:void 0,mon4:void 0,tue4:void 0,wed4:void 0,thu4:void 0,fri4:void 0,sat4:void 0,sun5:void 0,mon5:void 0,tue5:void 0,wed5:void 0,thu5:void 0,fri5:void 0,sat5:void 0,sun6:void 0,mon6:void 0})}getPropFromDayOfWeek(e){return["sun1","mon1","tue1","wed1","thu1","fri1","sat1"][e.getDay()]}areDatesEqual(e,t){try{return e?.getFullYear()==t?.getFullYear()&&e?.getMonth()==t?.getMonth()&&e?.getDate()==t?.getDate()}catch{return e?.toDate()?.getFullYear()==t?.getFullYear()&&e?.toDate()?.getMonth()==t?.getMonth()&&e?.toDate()?.getDate()==t?.getDate()}}}wy.\u0275fac=function(e){return new(e||wy)(c.LFG(yy),c.LFG(by))},wy.\u0275prov=c.Yz7({token:wy,factory:wy.\u0275fac,providedIn:"root"});const YU=["*"];class sq{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const e=Math.max(...this.tracker);return e>1?this.rowCount+e-1:this.rowCount}update(e,t){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(e),this.tracker.fill(0,0,this.tracker.length),this.positions=t.map(i=>this._trackTile(i))}_trackTile(e){const t=this._findMatchingGap(e.colspan);return this._markTilePosition(t,e),this.columnIndex=t+e.colspan,new aq(this.rowIndex,t)}_findMatchingGap(e){let t=-1,i=-1;do{this.columnIndex+e>this.tracker.length?(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)):(t=this.tracker.indexOf(0,this.columnIndex),-1!=t?(i=this._findGapEndIndex(t),this.columnIndex=t+1):(this._nextRow(),t=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(t)))}while(i-t<e||0==i);return Math.max(t,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let e=0;e<this.tracker.length;e++)this.tracker[e]=Math.max(0,this.tracker[e]-1)}_findGapEndIndex(e){for(let t=e+1;t<this.tracker.length;t++)if(0!=this.tracker[t])return t;return this.tracker.length}_markTilePosition(e,t){for(let i=0;i<t.colspan;i++)this.tracker[e+i]=t.rowspan}}class aq{constructor(e,t){this.row=e,this.col=t}}const KU=new c.OlP("MAT_GRID_LIST");let ZU=(()=>{class n{constructor(t,i){this._element=t,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(t){this._rowspan=Math.round(Ls(t))}get colspan(){return this._colspan}set colspan(t){this._colspan=Math.round(Ls(t))}_setStyle(t,i){this._element.nativeElement.style[t]=i}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(KU,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(t,i){2&t&&c.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:YU,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const lq=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class SO{constructor(){this._rows=0,this._rowspan=0}init(e,t,i,r){this._gutterSize=QU(e),this._rows=t.rowCount,this._rowspan=t.rowspan,this._cols=i,this._direction=r}getBaseTileSize(e,t){return`(${e}% - (${this._gutterSize} * ${t}))`}getTilePosition(e,t){return 0===t?"0":Cg(`(${e} + ${this._gutterSize}) * ${t}`)}getTileSize(e,t){return`(${e} * ${t}) + (${t-1} * ${this._gutterSize})`}setStyle(e,t,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(e,i,r,o),this.setRowStyles(e,t,r,o)}setColStyles(e,t,i,r){let o=this.getBaseTileSize(i,r);e._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,t)),e._setStyle("width",Cg(this.getTileSize(o,e.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(e){return`${this._rowspan} * ${this.getTileSize(e,1)}`}getComputedHeight(){return null}}class cq extends SO{constructor(e){super(),this.fixedRowHeight=e}init(e,t,i,r){super.init(e,t,i,r),this.fixedRowHeight=QU(this.fixedRowHeight),lq.test(this.fixedRowHeight)}setRowStyles(e,t){e._setStyle("top",this.getTilePosition(this.fixedRowHeight,t)),e._setStyle("height",Cg(this.getTileSize(this.fixedRowHeight,e.rowspan)))}getComputedHeight(){return["height",Cg(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["height",null]),e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}class dq extends SO{constructor(e){super(),this._parseRatio(e)}setRowStyles(e,t,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),e._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,t)),e._setStyle("paddingTop",Cg(this.getTileSize(this.baseTileHeight,e.rowspan)))}getComputedHeight(){return["paddingBottom",Cg(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(e){e._setListStyle(["paddingBottom",null]),e._tiles.forEach(t=>{t._setStyle("marginTop",null),t._setStyle("paddingTop",null)})}_parseRatio(e){const t=e.split(":");this.rowHeightRatio=parseFloat(t[0])/parseFloat(t[1])}}class uq extends SO{setRowStyles(e,t){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);e._setStyle("top",this.getTilePosition(o,t)),e._setStyle("height",Cg(this.getTileSize(o,e.rowspan)))}reset(e){e._tiles&&e._tiles.forEach(t=>{t._setStyle("top",null),t._setStyle("height",null)})}}function Cg(n){return`calc(${n})`}function QU(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let fq=(()=>{class n{constructor(t,i){this._element=t,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(t){this._cols=Math.max(1,Math.round(Ls(t)))}get gutterSize(){return this._gutter}set gutterSize(t){this._gutter=`${t??""}`}get rowHeight(){return this._rowHeight}set rowHeight(t){const i=`${t??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(t){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===t?new uq:t&&t.indexOf(":")>-1?new dq(t):new cq(t)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new sq);const t=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,t,this.cols,r),i.forEach((o,l)=>{const h=t.positions[l];this._tileStyler.setStyle(o,h.row,h.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(t){t&&(this._element.nativeElement.style[t[0]]=t[1])}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(us,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,ZU,5),2&t){let o;c.iGM(o=c.CRH())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[c._Bn([{provide:KU,useExisting:n}])],ngContentSelectors:YU,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div"),c.Hsn(1),c.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),pq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[a0,wn,a0,wn]}),n})();class TO{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class XU extends TO{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class mq extends TO{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class gq extends TO{constructor(e){super(),this.element=e instanceof c.SBq?e.nativeElement:e}}class _q{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof XU?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof mq?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof gq?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class vq extends _q{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const h=l.element,m=this._document.createComment("dom-portal");h.parentNode.insertBefore(m,h),this.outletElement.appendChild(h),this._attachedPortal=l,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(h,m)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let yq=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const JU=wC();class bq{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=Qi(-this._previousScrollPosition.left),e.style.top=Qi(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),JU&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),JU&&(i.scrollBehavior=o,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class wq{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class eH{enable(){}disable(){}attach(){}}function AO(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function tH(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class xq{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();AO(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Cq=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new eH,this.close=l=>new wq(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new bq(this._viewportRuler,this._document),this.reposition=l=>new xq(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Nu),c.LFG(gf),c.LFG(c.R0b),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Eq{constructor(e){if(this.scrollStrategy=new eH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Dq{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let nH=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Iq=(()=>{class n extends nH{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const h=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sq=(()=>{class n extends nH{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Od(o)},this._clickListener=o=>{const l=Od(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const m=this._attachedOverlays.slice();for(let v=m.length-1;v>-1;v--){const x=m[v];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(l)||x.overlayElement.contains(h))break;const S=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>S.next(o)):S.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(Ai),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iH=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||k_()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),k_()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(Ai))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Tq{constructor(e,t,i,r,o,l,h,m,v,x=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=l,this._document=h,this._location=m,this._outsideClickDispatcher=v,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new xt.x,this._attachments=new xt.x,this._detachments=new xt.x,this._locationChanges=os.w0.EMPTY,this._backdropClickHandler=S=>this._backdropClick.next(S),this._backdropTransitionendHandler=S=>{this._disposeBackdrop(S.target)},this._keydownEvents=new xt.x,this._outsidePointerEvents=new xt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Ti(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=Qi(this._config.width),e.height=Qi(this._config.height),e.minWidth=Qi(this._config.minWidth),e.minHeight=Qi(this._config.minHeight),e.maxWidth=Qi(this._config.maxWidth),e.maxHeight=Qi(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=pf(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(sn((0,ap.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const rH="cdk-overlay-connected-position-bounding-box",Aq=/([A-Za-z%]+)$/;class Mq{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new xt.x,this._resizeSubscription=os.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(rH),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let l;for(let h of this._preferredPositions){let m=this._getOriginPoint(e,r,h),v=this._getOverlayPoint(m,t,h),x=this._getOverlayFit(v,t,i,h);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,m);this._canFitWithFlexibleDimensions(x,v,i)?o.push({position:h,origin:m,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(m,h)}):(!l||l.overlayFit.visibleArea<x.visibleArea)&&(l={overlayFit:x,overlayPoint:v,originPoint:m,position:h,overlayRect:t})}if(o.length){let h=null,m=-1;for(const v of o){const x=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);x>m&&(m=x,h=v)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Eg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(rH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const l=this._isRtl()?e.right:e.left,h=this._isRtl()?e.left:e.right;r="start"==i.originX?l:h}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=sH(t);let{x:l,y:h}=e,m=this._getOffset(r,"x"),v=this._getOffset(r,"y");m&&(l+=m),v&&(h+=v);let R=0-h,F=h+o.height-i.height,H=this._subtractOverflows(o.width,0-l,l+o.width-i.width),Y=this._subtractOverflows(o.height,R,F),te=H*Y;return{visibleArea:te,isCompletelyWithinViewport:o.width*o.height===te,fitsInViewportVertically:Y===o.height,fitsInViewportHorizontally:H==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,l=oH(this._overlayRef.getConfig().minHeight),h=oH(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=l&&l<=r)&&(e.fitsInViewportHorizontally||null!=h&&h<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=sH(t),o=this._viewportRect,l=Math.max(e.x+r.width-o.width,0),h=Math.max(e.y+r.height-o.height,0),m=Math.max(o.top-i.top-e.y,0),v=Math.max(o.left-i.left-e.x,0);let x=0,S=0;return x=r.width<=o.width?v||-l:e.x<this._viewportMargin?o.left-i.left-e.x:0,S=r.height<=o.height?m||-h:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x,y:S},{x:e.x+x,y:e.y+S}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Dq(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,l,h,x,S,R;if("top"===t.overlayY)l=e.y,o=i.height-l+this._viewportMargin;else if("bottom"===t.overlayY)h=i.height-e.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const F=Math.min(i.bottom-e.y+i.top,e.y),H=this._lastBoundingBoxSize.height;o=2*F,l=e.y-F,o>H&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.y-H/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)R=i.width-e.x+this._viewportMargin,x=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)S=e.x,x=i.right-e.x;else{const F=Math.min(i.right-e.x+i.left,e.x),H=this._lastBoundingBoxSize.width;x=2*F,S=e.x-F,x>H&&!this._isInitialRender&&!this._growAfterOpen&&(S=e.x-H/2)}return{top:l,left:S,bottom:h,right:R,width:x,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Qi(i.height),r.top=Qi(i.top),r.bottom=Qi(i.bottom),r.width=Qi(i.width),r.left=Qi(i.left),r.right=Qi(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Qi(o)),l&&(r.maxWidth=Qi(l))}this._lastBoundingBoxSize=i,Eg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Eg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Eg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const x=this._viewportRuler.getViewportScrollPosition();Eg(i,this._getExactOverlayY(t,e,x)),Eg(i,this._getExactOverlayX(t,e,x))}else i.position="static";let h="",m=this._getOffset(t,"x"),v=this._getOffset(t,"y");m&&(h+=`translateX(${m}px) `),v&&(h+=`translateY(${v}px)`),i.transform=h.trim(),l.maxHeight&&(r?i.maxHeight=Qi(l.maxHeight):o&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=Qi(l.maxWidth):o&&(i.maxWidth="")),Eg(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Qi(o.y),r}_getExactOverlayX(e,t,i){let l,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),l=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Qi(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:tH(e,i),isOriginOutsideView:AO(e,i),isOverlayClipped:tH(t,i),isOverlayOutsideView:AO(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&pf(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof c.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function Eg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function oH(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Aq);return t&&"px"!==t?null:parseFloat(e)}return n||null}function sH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const aH="cdk-global-overlay-wrapper";class kq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(aH),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:l,maxHeight:h}=i,m=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),v=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),x=this._xPosition,S=this._xOffset,R="rtl"===this._overlayRef.getConfig().direction;let F="",H="",Y="";m?Y="flex-start":"center"===x?(Y="center",R?H=S:F=S):R?"left"===x||"end"===x?(Y="flex-end",F=S):("right"===x||"start"===x)&&(Y="flex-start",H=S):"left"===x||"start"===x?(Y="flex-start",F=S):("right"===x||"end"===x)&&(Y="flex-end",H=S),e.position=this._cssPosition,e.marginLeft=m?"0":F,e.marginTop=v?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=m?"0":H,t.justifyContent=Y,t.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(aH),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Rq=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new kq}flexibleConnectedTo(t){return new Mq(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(gf),c.LFG(J),c.LFG(Ai),c.LFG(iH))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oq=0,Nw=(()=>{class n{constructor(t,i,r,o,l,h,m,v,x,S,R,F){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=h,this._ngZone=m,this._document=v,this._directionality=x,this._location=S,this._outsideClickDispatcher=R,this._animationsModuleType=F}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),l=new Eq(t);return l.direction=l.direction||this._directionality.value,new Tq(o,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Oq++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new vq(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Cq),c.LFG(iH),c.LFG(c._Vd),c.LFG(Rq),c.LFG(Iq),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(J),c.LFG(us),c.LFG(Ue),c.LFG(Sq),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Nq={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Nw],useFactory:function Fq(n){return()=>n.scrollStrategies.reposition()}};let lH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Nw,Nq],imports:[Mu,yq,mm,mm]}),n})();class cH{}class Lq{}const ih="*";function Ec(n,e){return{type:7,name:n,definitions:e,options:{}}}function zo(n,e=null){return{type:4,styles:e,timings:n}}function dH(n,e=null){return{type:2,steps:n,options:e}}function Fn(n){return{type:6,styles:n,offset:null}}function so(n,e,t){return{type:0,name:n,styles:e,options:t}}function ao(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function fH(n){Promise.resolve().then(n)}class Lw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){fH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class pH{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?fH(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==o&&this._onFinish()}),l.onDestroy(()=>{++i==o&&this._onDestroy()}),l.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const Bq=["tooltip"],mH=new c.OlP("mat-tooltip-scroll-strategy"),Hq={provide:mH,deps:[Nw],useFactory:function Uq(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},jq=new c.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function zq(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),gH="tooltip-panel",_H=Ru({passive:!0});let Kq=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=rn(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=Ls(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=Ls(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,r,o,l,h,m,v,x,S,R,F){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=l,this._platform=h,this._ariaDescriber=m,this._focusMonitor=v,this._dir=S,this._defaultOptions=R,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new xt.x,this._scrollStrategy=x,this._document=F,R&&(R.position&&(this.position=R.position),R.positionAtOrigin&&(this.positionAtOrigin=R.positionAtOrigin),R.touchGestures&&(this.touchGestures=R.touchGestures)),S.change.pipe(sn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(sn(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,_H)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new XU(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(sn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof c.SBq)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(sn(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${gH}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(sn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(sn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(sn(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!jn(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:l}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Ti(1),sn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let l;if(l="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",l!==this._currentPosition){const h=this._overlayRef;if(h){const m=`${this._cssClassPrefix}-${gH}-`;h.removePanelClass(m+this._currentPosition),h.addPanelClass(m+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,_H)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),Zq=(()=>{class n extends Kq{constructor(t,i,r,o,l,h,m,v,x,S,R,F){super(t,i,r,o,l,h,m,v,x,S,R,F),this._tooltipComponent=Xq,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Nw),c.Y36(c.SBq),c.Y36(Nu),c.Y36(c.s_b),c.Y36(c.R0b),c.Y36(Ai),c.Y36(JC),c.Y36(Af),c.Y36(mH),c.Y36(us,8),c.Y36(jq,8),c.Y36(J))},n.\u0275dir=c.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[c.qOj]}),n})(),Qq=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new xt.x,this._animationsDisabled="NoopAnimations"===i}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(i);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n}),n})(),Xq=(()=>{class n extends Qq{constructor(t,i,r){super(t,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(1&t&&c.Gf(Bq,7),2&t){let r;c.iGM(r=c.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){1&t&&c.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&t&&c.Udp("zoom",i.isVisible()?1:null)},features:[c.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(t,i){1&t&&(c.TgZ(0,"div",0,1),c.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),c.TgZ(2,"div",2),c._uU(3),c.qZA()()),2&t&&(c.ekj("mdc-tooltip--multiline",i._isMultiline),c.Q6J("ngClass",i.tooltipClass),c.xp6(3),c.Oqu(i.message))},dependencies:[Ht],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:-8px;right:-8px;bottom:-8px;left:-8px;z-index:-1;position:absolute}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),vH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Hq],imports:[_M,Jn,lH,wn,wn,vf]}),n})();const yl=new c.OlP("NgValueAccessor");let u7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,Jn,Y_,wn]}),n})();function h7(n,e){1&n&&(c.TgZ(0,"span",8),c.Hsn(1,1),c.qZA())}function f7(n,e){1&n&&(c.TgZ(0,"span",9),c.Hsn(1,2),c.qZA())}const p7=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],m7=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function g7(n,e){1&n&&(c.TgZ(0,"span",12),c.Hsn(1,2),c.qZA())}const _7=[[["mat-chip-avatar"],["","matChipAvatar",""]],"*",[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],v7=["mat-chip-avatar, [matChipAvatar]","*","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"],ZO=["*"],Iz=new c.OlP("mat-chips-default-options"),Sz=new c.OlP("MatChipAvatar"),Tz=new c.OlP("MatChipTrailingIcon"),Az=new c.OlP("MatChipRemove"),eS=new c.OlP("MatChip");class T7{}const A7=tv(T7,-1);let Cy=(()=>{class n extends A7{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(t){this._disabled=rn(t)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(t,i){super(),this._elementRef=t,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===t.nativeElement.nodeName&&t.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(t){!this.disabled&&this.isInteractive&&this._isPrimary&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(t){(13===t.keyCode||32===t.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(t.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(eS))},n.\u0275dir=c.lG2({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(t,i){1&t&&c.NdJ("click",function(o){return i._handleClick(o)})("keydown",function(o){return i._handleKeydown(o)}),2&t&&(c.uIk("tabindex",i._getTabindex())("disabled",i._getDisabledAttribute())("aria-disabled",i.disabled),c.ekj("mdc-evolution-chip__action--primary",i._isPrimary)("mdc-evolution-chip__action--presentational",!i.isInteractive)("mdc-evolution-chip__action--trailing",!i._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[c.qOj]}),n})(),Mz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:["role","img",1,"mat-mdc-chip-avatar","mdc-evolution-chip__icon","mdc-evolution-chip__icon--primary"],features:[c._Bn([{provide:Sz,useExisting:n}])]}),n})(),R7=0;const O7=tv(Om(ju(hE(class{constructor(n){this._elementRef=n}})),"primary"),-1);let Sg=(()=>{class n extends O7{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(t){this._value=t}get removable(){return this._removable}set removable(t){this._removable=rn(t)}get highlighted(){return this._highlighted}set highlighted(t){this._highlighted=rn(t)}constructor(t,i,r,o,l,h,m,v){super(i),this._changeDetectorRef=t,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=m,this._isRippleCentered=!1,this._onFocus=new xt.x,this._onBlur=new xt.x,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+R7++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new c.vpe,this.destroyed=new c.vpe,this.basicChipAttrName="mat-basic-chip";const x=i.nativeElement;this._document=l,this._animationsDisabled="NoopAnimations"===h,this._isBasicChip=x.hasAttribute(this.basicChipAttrName)||x.tagName.toLowerCase()===this.basicChipAttrName,null!=v&&(this.tabIndex=parseInt(v)??this.defaultTabIndex),this._monitorFocus()}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(t){(8===t.keyCode||46===t.keyCode)&&(t.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(t){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===t||r.contains(t)})}_getActions(){const t=[];return this.primaryAction&&t.push(this.primaryAction),this.removeIcon&&t.push(this.removeIcon),this.trailingIcon&&t.push(this.trailingIcon),t}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{const i=null!==t;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(Ti(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Af),c.Y36(J),c.Y36(c.QbO,8),c.Y36(Mf,8),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-basic-chip"],["mat-chip"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,Sz,5),c.Suo(r,Tz,5),c.Suo(r,Az,5)),2&t){let o;c.iGM(o=c.CRH())&&(i.leadingIcon=o.first),c.iGM(o=c.CRH())&&(i.trailingIcon=o.first),c.iGM(o=c.CRH())&&(i.removeIcon=o.first)}},viewQuery:function(t,i){if(1&t&&(c.Gf(kf,5),c.Gf(Cy,5)),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first),c.iGM(r=c.CRH())&&(i.primaryAction=r.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(t,i){1&t&&c.NdJ("keydown",function(o){return i._handleKeydown(o)}),2&t&&(c.Ikx("id",i.id),c.uIk("role",i.role)("tabindex",i.role?i.tabIndex:null)("aria-label",i.ariaLabel),c.ekj("mdc-evolution-chip",!i._isBasicChip)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",i.leadingIcon)("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-basic-chip",i._isBasicChip)("mat-mdc-standard-chip",!i._isBasicChip)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon())("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[c._Bn([{provide:eS,useExisting:n}]),c.qOj],ngContentSelectors:m7,decls:9,vars:6,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(t,i){1&t&&(c.F$t(p7),c._UZ(0,"span",0)(1,"span",1),c.TgZ(2,"span",2)(3,"span",3),c.YNc(4,h7,2,0,"span",4),c.TgZ(5,"span",5),c.Hsn(6),c._UZ(7,"span",6),c.qZA()()(),c.YNc(8,f7,2,0,"span",7)),2&t&&(c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i._isRippleCentered)("matRippleTrigger",i._elementRef.nativeElement),c.xp6(3),c.Q6J("isInteractive",!1),c.xp6(1),c.Q6J("ngIf",i.leadingIcon),c.xp6(4),c.Q6J("ngIf",i._hasTrailingIcon()))},dependencies:[yr,kf,Cy],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__graphic{height:24px;width:24px;font-size:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__icon--primary{height:24px;width:24px;font-size:24px}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 14px 14px 14px 14px)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size, 28px);width:var(--mdc-chip-with-avatar-avatar-size, 28px);font-size:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width, 1px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-outline-width, 1px)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--selected) .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-unselected-outline-width, 1px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size, 18px);width:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, currentColor)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),kz=(()=>{class n extends Sg{constructor(){super(...arguments),this.chipListSelectable=!0,this._chipListMultiple=!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new c.vpe}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(t){this._selectable=rn(t),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(t){this._setSelectedState(rn(t),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(t=!1){return this._setSelectedState(!this.selected,t,!0),this.selected}_handlePrimaryActionInteraction(){this.selectable&&!this.disabled&&this.toggleSelected(!0)}_setSelectedState(t,i,r){t!==this.selected&&(this._selected=t,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-basic-chip-option"],["mat-chip-option"]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option","mdc-evolution-chip","mdc-evolution-chip--filter","mdc-evolution-chip--selectable","mdc-evolution-chip--with-primary-graphic"],hostVars:29,hostBindings:function(t,i){2&t&&(c.Ikx("id",i.id),c.uIk("tabindex",null)("aria-label",null)("aria-description",null)("role",i.role),c.ekj("mat-mdc-chip-selected",i.selected)("mat-mdc-chip-multiple",i._chipListMultiple)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-chip-with-avatar",i.leadingIcon)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--selected",i.selected)("mdc-evolution-chip--selecting",!i._animationsDisabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[c._Bn([{provide:Sg,useExisting:n},{provide:eS,useExisting:n}]),c.qOj],ngContentSelectors:v7,decls:15,vars:11,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(t,i){1&t&&(c.F$t(_7),c._UZ(0,"span",0)(1,"span",1),c.TgZ(2,"span",2)(3,"button",3)(4,"span",4),c.Hsn(5),c.TgZ(6,"span",5),c.O4$(),c.TgZ(7,"svg",6),c._UZ(8,"path",7),c.qZA()()(),c.kcU(),c.TgZ(9,"span",8),c.Hsn(10,1),c._UZ(11,"span",9),c.qZA()()(),c.YNc(12,g7,2,0,"span",10),c.TgZ(13,"span",11),c._uU(14),c.qZA()),2&t&&(c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i._isRippleCentered)("matRippleTrigger",i._elementRef.nativeElement),c.xp6(3),c.Q6J("tabIndex",i.tabIndex)("_allowFocusWhenDisabled",!0),c.uIk("aria-selected",i.ariaSelected)("aria-label",i.ariaLabel)("aria-describedby",i._ariaDescriptionId),c.xp6(9),c.Q6J("ngIf",i._hasTrailingIcon()),c.xp6(1),c.Q6J("id",i._ariaDescriptionId),c.xp6(1),c.Oqu(i.ariaDescription))},dependencies:[yr,kf,Cy],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__graphic{height:24px;width:24px;font-size:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__icon--primary{height:24px;width:24px;font-size:24px}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 14px 14px 14px 14px)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size, 28px);width:var(--mdc-chip-with-avatar-avatar-size, 28px);font-size:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width, 1px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-outline-width, 1px)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--selected) .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-unselected-outline-width, 1px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size, 18px);width:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, currentColor)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();class P7{constructor(e){}}const F7=tv(P7);let QO=(()=>{class n extends F7{get chipFocusChanges(){return this._getChipStream(t=>t._onFocus)}get chipDestroyedChanges(){return this._getChipStream(t=>t.destroyed)}get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t),this._syncChipsState()}get empty(){return 0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(t){this._explicitRole=t}get focused(){return this._hasFocusedChip()}constructor(t,i,r){super(t),this._elementRef=t,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new xt.x,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new c.n_E}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(t=>t._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(t=>{t.disabled=this._disabled,t._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(t){this._originatesFromChip(t)&&this._keyManager.onKeydown(t)}_isValidIndex(t){return t>=0&&t<this._chips.length}_allowFocusEscape(){const t=this.tabIndex;-1!==this.tabIndex&&(this.tabIndex=-1,Promise.resolve().then(()=>{this.tabIndex=t,this._changeDetectorRef.markForCheck()}))}_getChipStream(t){return this._chips.changes.pipe(Er(null),ti(()=>(0,ap.T)(...this._chips.map(t))))}_originatesFromChip(t){let i=t.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList&&i.classList.contains("mdc-evolution-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(Er(this._chips)).subscribe(t=>{const i=[];t.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new eE(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(t=>this._skipPredicate(t)),this.chipFocusChanges.pipe(sn(this._destroyed)).subscribe(({chip:t})=>{const i=t._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(sn(this._destroyed)).subscribe(t=>this._keyManager.withHorizontalOrientation(t))}_skipPredicate(t){return!t.isInteractive||t.disabled}_trackChipSetChanges(){this._chips.changes.pipe(Er(null),sn(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(sn(this._destroyed)).subscribe(t=>{const r=this._chips.toArray().indexOf(t.chip);this._isValidIndex(r)&&t.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const t=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[t];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(us,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-chip-set"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,Sg,5),2&t){let o;c.iGM(o=c.CRH())&&(i._chips=o)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(t,i){1&t&&c.NdJ("keydown",function(o){return i._handleKeydown(o)}),2&t&&c.uIk("role",i.role)},inputs:{disabled:"disabled",role:"role"},features:[c.qOj],ngContentSelectors:ZO,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})();class N7{constructor(e,t){this.source=e,this.value=t}}const L7={provide:yl,useExisting:(0,c.Gpc)(()=>XO),multi:!0};let XO=(()=>{class n extends QO{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(t,i)=>t===i,this._required=!1,this.change=new c.vpe}get multiple(){return this._multiple}set multiple(t){this._multiple=rn(t),this._syncListboxProperties()}get selected(){const t=this._chips.toArray().filter(i=>i.selected);return this.multiple?t:t[0]}get selectable(){return this._selectable}set selectable(t){this._selectable=rn(t),this._syncListboxProperties()}get required(){return this._required}set required(t){this._required=rn(t)}get chipSelectionChanges(){return this._getChipStream(t=>t.selectionChange)}get chipBlurChanges(){return this._getChipStream(t=>t._onBlur)}get value(){return this._value}set value(t){this.writeValue(t),this._value=t}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(Er(null),sn(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(sn(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(sn(this._destroyed)).subscribe(t=>{this.multiple||this._chips.forEach(i=>{i!==t.source&&i._setSelectedState(!1,!1,!1)}),t.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const t=this._getFirstSelectedChip();t&&!t.disabled?t.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(t){this._chips?this._setSelectionByValue(t,!1):null!=t&&(this._pendingInitialValue=t)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t}_setSelectionByValue(t,i=!0){this._clearSelection(),Array.isArray(t)?t.forEach(r=>this._selectValue(r,i)):this._selectValue(t,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||(this._propagateChanges(),this._markAsTouched())})}_keydown(t){9===t.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let t=null;t=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=t,this.change.emit(new N7(this,t)),this._onChange(t),this._changeDetectorRef.markForCheck()}_clearSelection(t){this._chips.forEach(i=>{i!==t&&i.deselect()})}_selectValue(t,i){const r=this._chips.find(o=>null!=o.value&&this.compareWith(o.value,t));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(t=>{t._chipListMultiple=this.multiple,t.chipListSelectable=this._selectable,t._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(t){return!t.isInteractive}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,kz,5),2&t){let o;c.iGM(o=c.CRH())&&(i._chips=o)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(t,i){1&t&&c.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(o){return i._keydown(o)}),2&t&&(c.Ikx("tabIndex",i.empty?-1:i.tabIndex),c.uIk("role",i.role)("aria-describedby",i._ariaDescribedby||null)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-multiselectable",i.multiple)("aria-orientation",i.ariaOrientation),c.ekj("mat-mdc-chip-list-disabled",i.disabled)("mat-mdc-chip-list-required",i.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",value:"value"},outputs:{change:"change"},features:[c._Bn([L7]),c.qOj],ngContentSelectors:ZO,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"span",0),c.Hsn(1),c.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})(),G7=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[mE,{provide:Iz,useValue:{separatorKeyCodes:[13]}}],imports:[wn,Jn,nv,wn]}),n})();const Oz=function(n){return{background:n}};function $7(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"mat-chip",9),c.NdJ("click",function(){const o=c.CHM(t).$implicit,l=c.oxw();return c.KtG(l.selectTeamMember(o.payload.doc.data(),o.payload.doc.id))}),c._UZ(1,"img",10),c._uU(2),c.qZA()}if(2&n){const t=e.$implicit;c.Q6J("ngStyle",c.VKq(3,Oz,t.payload.doc.data().color)),c.xp6(1),c.Q6J("src",t.payload.doc.data().pictureUrl,c.LSH),c.xp6(1),c.hij(" ",t.payload.doc.data().name," ")}}function W7(n,e){if(1&n&&(c.TgZ(0,"th",15),c._uU(1),c.ALo(2,"uppercase"),c.ALo(3,"slice"),c.qZA()),2&n){const t=c.oxw(2).$implicit;c.xp6(1),c.Oqu(c.lcZ(2,1,c.Dn7(3,3,t,0,1)))}}function q7(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"td",16),c.NdJ("click",function(){const o=c.CHM(t).$implicit,l=c.oxw(2).$implicit,h=c.oxw();return c.KtG(h.toggleEvent(o[l]))}),c._uU(1),c.qZA()}if(2&n){const t=e.$implicit,i=c.oxw(2).$implicit,r=c.oxw();c.Q6J("ngClass",r.getCellClasses(t[i]))("matTooltip",r.getTooltip(t[i]))("ngStyle",c.VKq(4,Oz,r.getBackgroundColor(null==t[i]?null:t[i].vacationingMembers))),c.xp6(1),c.hij(" ",null==t[i]?null:t[i].displayText,"")}}function Y7(n,e){1&n&&(c.TgZ(0,"div"),c.YNc(1,W7,4,7,"th",13),c.YNc(2,q7,2,6,"td",14),c.qZA())}function K7(n,e){1&n&&c._UZ(0,"th",15)}function Z7(n,e){if(1&n&&(c.TgZ(0,"td",18),c._uU(1),c.qZA()),2&n){const t=e.$implicit;c.xp6(1),c.Oqu(t.month)}}function Q7(n,e){1&n&&(c.TgZ(0,"div"),c.YNc(1,K7,1,0,"th",13),c.YNc(2,Z7,2,1,"td",17),c.qZA())}function X7(n,e){if(1&n&&(c.ynx(0,11),c.YNc(1,Y7,3,0,"div",12),c.YNc(2,Q7,3,0,"div",12),c.BQk()),2&n){const t=e.$implicit;c.Q6J("matColumnDef",t),c.xp6(1),c.Q6J("ngIf","month"!=t),c.xp6(1),c.Q6J("ngIf","month"==t)}}function J7(n,e){1&n&&c._UZ(0,"tr",19)}function eY(n,e){1&n&&c._UZ(0,"tr",20)}const tY=function(n){return{border:n}};class zw{constructor(e){this.ds=e,this.displayedColumns=["month","sun1","mon1","tue1","wed1","thu1","fri1","sat1","sun2","mon2","tue2","wed2","thu2","fri2","sat2","sun3","mon3","tue3","wed3","thu3","fri3","sat3","sun4","mon4","tue4","wed4","thu4","fri4","sat4","sun5","mon5","tue5","wed5","thu5","fri5","sat5","sun6","mon6"],this.dataSource=e}ngAfterViewInit(){}getCellClasses(e){var t=new Date,i=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=e?.displayText?"validday":"filler";return r+=e?.holiday?" holiday":"",(r+=e?.date.getTime()==i.getTime()?" today":"")+(e?.date.getTime()<i.getTime()?" pastdate":"")}getTooltip(e){var t=e?.holiday??"";if(e?.vacationingMembers)for(var i=0;i<e.vacationingMembers?.length;i++)t+=" - "+e.vacationingMembers[i].payload.doc.data().name+" on vacation";return t}getBackgroundColor(e){if(!e||0==e.length)return"";if(1==e.length)return e[0].payload.doc.data().color;for(var t=0,i=100/e.length,r="linear-gradient(45deg",o=0;o<e.length;o++)r+=", "+e[o].payload.doc.data().color+" "+t+"% "+(t+i)+"% ",t+=i;return r+")"}selectTeamMember(e,t){this.dataSource.selectedMemberColor=this.dataSource.selectedMemberColor==e.color?"transparent":e.color,this.dataSource.selectedMember?.code==e.code?(this.dataSource.selectMember(void 0),this.dataSource.selectedMember=void 0,this.dataSource.selectedMemberId=void 0):(this.dataSource.selectMember(e),this.dataSource.selectedMember=e,this.dataSource.selectedMemberId=t)}toggleEvent(e){this.dataSource.selectedMember&&this.dataSource.selectedMemberId&&this.ds.toggleVacation(this.dataSource.selectedMemberId,e.date,this.dataSource.selectedMember)}}zw.\u0275fac=function(e){return new(e||zw)(c.Y36(wy))},zw.\u0275cmp=c.Xpm({type:zw,selectors:[["app-main-table"]],viewQuery:function(e,t){if(1&e&&c.Gf(Nm,5),2&e){let i;c.iGM(i=c.CRH())&&(t.table=i.first)}},decls:10,vars:8,consts:[["cols","1","rowHeight","1rem"],["rowspan","7"],[3,"ngStyle","click",4,"ngFor","ngForOf"],["rowspan","39"],["tabindex","0",1,"mat-elevation-z8",3,"ngStyle"],["mat-table","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"ngStyle","click"],["matChipAvatar","",3,"src"],[3,"matColumnDef"],[4,"ngIf"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass","matTooltip","ngStyle","click",4,"matCellDef"],["mat-header-cell",""],["mat-cell","",3,"ngClass","matTooltip","ngStyle","click"],["mat-cell","",4,"matCellDef"],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(c.TgZ(0,"mat-grid-list",0)(1,"mat-grid-tile",1)(2,"mat-chip-listbox"),c.YNc(3,$7,3,5,"mat-chip",2),c.qZA()(),c.TgZ(4,"mat-grid-tile",3)(5,"section",4)(6,"table",5),c.YNc(7,X7,3,3,"ng-container",6),c.YNc(8,J7,1,0,"tr",7),c.YNc(9,eY,1,0,"tr",8),c.qZA()()()()),2&e&&(c.xp6(3),c.Q6J("ngForOf",t.dataSource.teamMembers),c.xp6(2),c.Q6J("ngStyle",c.VKq(6,tY,"5px solid "+t.dataSource.selectedMemberColor)),c.xp6(1),c.Q6J("dataSource",t.dataSource.data),c.xp6(1),c.Q6J("ngForOf",t.displayedColumns),c.xp6(1),c.Q6J("matHeaderRowDef",t.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",t.displayedColumns))},dependencies:[Ht,Aa,yr,xs,Nm,c0,Lm,$u,Bs,CE,d0,u0,EE,h0,fq,ZU,Zq,Sg,Mz,XO,br,Tp],styles:[".validday[_ngcontent-%COMP%]{background-color:#f0f8ff;transition-duration:.2s}.validday[_ngcontent-%COMP%]:hover{background-color:#3f51b5;color:#fff;cursor:pointer;border-radius:25px}.mat-elevation-z8[_ngcontent-%COMP%]{overflow-x:auto}.mat-column-sun1[_ngcontent-%COMP%], .mat-column-sat1[_ngcontent-%COMP%], .mat-column-sun2[_ngcontent-%COMP%], .mat-column-sat2[_ngcontent-%COMP%], .mat-column-sun3[_ngcontent-%COMP%], .mat-column-sat3[_ngcontent-%COMP%], .mat-column-sun4[_ngcontent-%COMP%], .mat-column-sat4[_ngcontent-%COMP%], .mat-column-sun5[_ngcontent-%COMP%], .mat-column-sat5[_ngcontent-%COMP%], .mat-column-sun6[_ngcontent-%COMP%]{background-color:#edeaea;color:gray}.filler[_ngcontent-%COMP%]{background-color:#fafafa}td[_ngcontent-%COMP%]{text-align:center}tr[_ngcontent-%COMP%]{height:47px!important}.mat-mdc-chip-listbox[_ngcontent-%COMP%]{padding:0 2em}.mat-mdc-chip-selected[_ngcontent-%COMP%]{font-size:20px;height:50px;border-radius:25px}table[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.button-margin[_ngcontent-%COMP%]{margin-left:30px}.pastdate[_ngcontent-%COMP%]{color:#d3d3d3}.holiday[_ngcontent-%COMP%]{background-color:#ffa07a!important;color:#fff}.mat-mdc-table[_ngcontent-%COMP%]{height:47px}.example-header-image[_ngcontent-%COMP%]{background-size:cover}.today[_ngcontent-%COMP%]{background:red!important;color:#fff;border-radius:30px}"]});const nY=[{path:"",children:[{path:"",component:zw}]}];class Ey{}Ey.\u0275fac=function(e){return new(e||Ey)},Ey.\u0275mod=c.oAB({type:Ey}),Ey.\u0275inj=c.cJS({imports:[fC.forRoot(nY),fC]});const iY=["*",[["mat-toolbar-row"]]],rY=["*","mat-toolbar-row"],oY=Om(class{constructor(n){this._elementRef=n}});let sY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),aY=(()=>{class n extends oY{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ai),c.Y36(J))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(t,i,r){if(1&t&&c.Suo(r,sY,5),2&t){let o;c.iGM(o=c.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:rY,decls:2,vars:0,template:function(t,i){1&t&&(c.F$t(iY),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),lY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,wn]}),n})();const dY=["mat-icon-button",""],uY=["*"],hY=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],fY=Om(hE(ju(class{constructor(n){this._elementRef=n}})));let pY=(()=>{class n extends fY{constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,c.f3M)(Af),this._isFab=!1;const l=t.nativeElement.classList;for(const h of hY)this._hasHostAttributes(h.selector)&&h.mdcClasses.forEach(m=>{l.add(m)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(t){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(t,i){if(1&t&&c.Gf(kf,5),2&t){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},features:[c.qOj]}),n})(),_Y=(()=>{class n extends pY{constructor(t,i,r,o){super(t,i,r,o)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(Ai),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(t,i){2&t&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:dY,ngContentSelectors:uY,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(t,i){1&t&&(c.F$t(),c._UZ(0,"span",0),c.Hsn(1),c._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&t&&(c.xp6(3),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[kf],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Pz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,nv,wn]}),n})();const nS=["*"],vY=["content"];function yY(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function bY(n,e){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const wY=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],xY=["mat-drawer","mat-drawer-content","*"];function CY(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(t);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const t=c.oxw();c.ekj("mat-drawer-shown",t._isShowingBackdrop())}}function EY(n,e){1&n&&(c.TgZ(0,"mat-sidenav-content"),c.Hsn(1,2),c.qZA())}const DY=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],IY=["mat-sidenav","mat-sidenav-content","*"],Fz={transformDrawer:Ec("transform",[so("open, open-instant",Fn({transform:"none",visibility:"visible"})),so("void",Fn({"box-shadow":"none",visibility:"hidden"})),ao("void => open-instant",zo("0ms")),ao("void <=> open, open-instant => void",zo("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},TY=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function AY(){return!1}}),JO=new c.OlP("MAT_DRAWER_CONTAINER");let iS=(()=>{class n extends Lu{constructor(t,i,r,o,l){super(r,o,l),this._changeDetectorRef=t,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>Lz)),c.Y36(c.SBq),c.Y36(Nu),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:Lu,useExisting:n}]),c.qOj],ngContentSelectors:nS,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Nz=(()=>{class n{get position(){return this._position}set position(t){(t="end"===t?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(t),this._position=t,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(t){this._mode=t,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(t){this._disableClose=rn(t)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(t){("true"===t||"false"===t||null==t)&&(t=rn(t)),this._autoFocus=t}get opened(){return this._opened}set opened(t){this.toggle(rn(t))}constructor(t,i,r,o,l,h,m,v){this._elementRef=t,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=l,this._interactivityChecker=h,this._doc=m,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new xt.x,this._animationEnd=new xt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(An(x=>x),(0,nt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(An(x=>x.fromState!==x.toState&&0===x.toState.indexOf("open")),_d(void 0)),this._closedStream=this.openedChange.pipe(An(x=>!x),(0,nt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(An(x=>x.fromState!==x.toState&&"void"===x.toState),_d(void 0)),this._destroyed=new xt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new xt.x,this.openedChange.subscribe(x=>{x?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{dm(this._elementRef.nativeElement,"keydown").pipe(An(x=>27===x.keyCode&&!this.disableClose&&!jn(x)),sn(this._destroyed)).subscribe(x=>this._ngZone.run(()=>{this.close(),x.stopPropagation(),x.preventDefault()}))}),this._animationEnd.pipe(Mm((x,S)=>x.fromState===S.fromState&&x.toState===S.toState)).subscribe(x=>{const{fromState:S,toState:R}=x;(0===R.indexOf("open")&&"void"===S||"void"===R&&0===S.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const t=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&t.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(t){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,t):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const t=this._doc.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(t){return this.toggle(!0,t)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(t=!this.opened,i){t&&i&&(this._openedVia=i);const r=this._setOpen(t,!t&&this._isFocusWithinDrawer(),this._openedVia||"program");return t||(this._openedVia=null),r}_setOpen(t,i,r){return this._opened=t,t?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Ti(1)).subscribe(l=>o(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(t){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===t?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(oL),c.Y36(Af),c.Y36(Ai),c.Y36(c.R0b),c.Y36(aM),c.Y36(J,8),c.Y36(JO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(t,i){if(1&t&&c.Gf(vY,5),2&t){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(t,i){1&t&&c.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&t&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:nS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[Lu],encapsulation:2,data:{animation:[Fz.transformDrawer]},changeDetection:0}),n})(),Lz=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(t){this._autosize=rn(t)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(t){this._backdropOverride=null==t?null:rn(t)}get scrollable(){return this._userContent||this._content}constructor(t,i,r,o,l,h=!1,m){this._dir=t,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=m,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new xt.x,this._doCheckSubject=new xt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new xt.x,t&&t.change.pipe(sn(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(sn(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=h}ngAfterContentInit(){this._allDrawers.changes.pipe(Er(this._allDrawers),sn(this._destroyed)).subscribe(t=>{this._drawers.reset(t.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(Er(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(t=>{this._watchDrawerToggle(t),this._watchDrawerPosition(t),this._watchDrawerMode(t)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Gb(10),sn(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(t=>t.open())}close(){this._drawers.forEach(t=>t.close())}updateContentMargins(){let t=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)t+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();t+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,t-=r}t=t||null,i=i||null,(t!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:t,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(t){t._animationStarted.pipe(An(i=>i.fromState!==i.toState),sn(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==t.mode&&t.openedChange.pipe(sn(this._drawers.changes)).subscribe(()=>this._setContainerClass(t.opened))}_watchDrawerPosition(t){t&&t.onPositionChanged.pipe(sn(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Ti(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(t){t&&t._modeChanged.pipe(sn((0,ap.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(t){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";t?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(t=>{"end"==t.position?this._end=t:this._start=t}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(t=>t&&!t.disableClose&&this._canHaveBackdrop(t)).forEach(t=>t._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(t){return"side"!==t.mode||!!this._backdropOverride}_isDrawerOpen(t){return null!=t&&t.opened}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(us,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(gf),c.Y36(TY),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,iS,5),c.Suo(r,Nz,5)),2&t){let o;c.iGM(o=c.CRH())&&(i._content=o.first),c.iGM(o=c.CRH())&&(i._allDrawers=o)}},viewQuery:function(t,i){if(1&t&&c.Gf(iS,5),2&t){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:JO,useExisting:n}])],ngContentSelectors:xY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(wY),c.YNc(0,yY,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,bY,2,0,"mat-drawer-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[yr,iS],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),eP=(()=>{class n extends iS{constructor(t,i,r,o,l){super(t,i,r,o,l)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>Vz)),c.Y36(c.SBq),c.Y36(Nu),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(t,i){2&t&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:Lu,useExisting:n}]),c.qOj],ngContentSelectors:nS,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Bz=(()=>{class n extends Nz{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(t){this._fixedInViewport=rn(t)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(t){this._fixedTopGap=Ls(t)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(t){this._fixedBottomGap=Ls(t)}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(t,i){2&t&&(c.uIk("align",null),c.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:nS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(t,i){1&t&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[Lu],encapsulation:2,data:{animation:[Fz.transformDrawer]},changeDetection:0}),n})(),Vz=(()=>{class n extends Lz{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,eP,5),c.Suo(r,Bz,5)),2&t){let o;c.iGM(o=c.CRH())&&(i._content=o.first),c.iGM(o=c.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(t,i){2&t&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[c._Bn([{provide:JO,useExisting:n}]),c.qOj],ngContentSelectors:IY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(t,i){1&t&&(c.F$t(DY),c.YNc(0,CY,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,EY,2,0,"mat-sidenav-content",1)),2&t&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[yr,eP],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),MY=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Jn,wn,vf,vf,wn]}),n})();class tP{}class dp{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),l=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof dp?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new dp;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof dp?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let l=this.headers.get(t);if(!l)return;l=l.filter(h=>-1===o.indexOf(h)),0===l.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,l)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class kY{encodeKey(e){return Hz(e)}encodeValue(e){return Hz(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const OY=/%(\d[a-f0-9])/gi,PY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Hz(n){return encodeURIComponent(n).replace(OY,(e,t)=>PY[t]??e)}function rS(n){return`${n}`}class up{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new kY,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function RY(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[l,h]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],m=t.get(l)||[];m.push(h),t.set(l,m)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(rS):[rS(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new up({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(rS(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(rS(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class FY{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function zz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function jz(n){return typeof Blob<"u"&&n instanceof Blob}function Gz(n){return typeof FormData<"u"&&n instanceof FormData}class jw{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function NY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new dp),this.context||(this.context=new FY),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=t;else{const h=t.indexOf("?");this.urlWithParams=t+(-1===h?"?":h<t.length-1?"&":"")+l}}else this.params=new up,this.urlWithParams=t}serializeBody(){return null===this.body?null:zz(this.body)||jz(this.body)||Gz(this.body)||function LY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof up?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Gz(this.body)?null:jz(this.body)?this.body.type||null:zz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof up?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,l=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,h=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let m=e.headers||this.headers,v=e.params||this.params;const x=e.context??this.context;return void 0!==e.setHeaders&&(m=Object.keys(e.setHeaders).reduce((S,R)=>S.set(R,e.setHeaders[R]),m)),e.setParams&&(v=Object.keys(e.setParams).reduce((S,R)=>S.set(R,e.setParams[R]),v)),new jw(t,i,o,{params:v,headers:m,context:x,reportProgress:h,responseType:r,withCredentials:l})}}var Eo=(()=>((Eo=Eo||{})[Eo.Sent=0]="Sent",Eo[Eo.UploadProgress=1]="UploadProgress",Eo[Eo.ResponseHeader=2]="ResponseHeader",Eo[Eo.DownloadProgress=3]="DownloadProgress",Eo[Eo.Response=4]="Response",Eo[Eo.User=5]="User",Eo))();class BY{constructor(e,t=200,i="OK"){this.headers=e.headers||new dp,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class nP extends BY{constructor(e={}){super(e),this.type=Eo.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new nP({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function iP(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let rP=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof jw)o=t;else{let m,v;m=r.headers instanceof dp?r.headers:new dp(r.headers),r.params&&(v=r.params instanceof up?r.params:new up({fromObject:r.params})),o=new jw(t,i,void 0!==r.body?r.body:null,{headers:m,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=Qe(o).pipe(ss(m=>this.handler.handle(m)));if(t instanceof jw||"events"===r.observe)return l;const h=l.pipe(An(m=>m instanceof nP));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,nt.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return h.pipe((0,nt.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return h.pipe((0,nt.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));default:return h.pipe((0,nt.U)(m=>m.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new up).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,iP(r,i))}post(t,i,r={}){return this.request("POST",t,iP(r,i))}put(t,i,r={}){return this.request("PUT",t,iP(r,i))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(tP))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const QY=["*"];let sS;function Gw(n){return function XY(){if(void 0===sS&&(sS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(sS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return sS}()?.createHTML(n)||n}function Xz(n){return Error(`Unable to find icon with the name "${n}"`)}function Jz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function ej(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Tg{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let aS=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Tg(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const l=this._sanitizer.sanitize(c.q3G.HTML,r);if(!l)throw ej(r);const h=Gw(l);return this._addSvgIconConfig(t,i,new Tg("",h,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Tg(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(c.q3G.HTML,i);if(!o)throw ej(i);const l=Gw(o);return this._addSvgIconSetConfig(t,new Tg("",l,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,t);if(!i)throw Jz(t);const r=this._cachedIconsByUrl.get(i);return r?Qe(lS(r)):this._loadSvgIconFromConfig(new Tg(t,null)).pipe((0,gi.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,nt.U)(o=>lS(o)))}getNamedSvgIcon(t,i=""){const r=tj(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(t,l):rs(Xz(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Qe(lS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,nt.U)(i=>lS(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Qe(r):function yH(...n){const e=(0,qr.jO)(n),{args:t,keys:i}=Wa(n),r=new ei.y(o=>{const{length:l}=t;if(!l)return void o.complete();const h=new Array(l);let m=l,v=l;for(let x=0;x<l;x++){let S=!1;(0,Rs.Xf)(t[x]).subscribe((0,On.x)(o,R=>{S||(S=!0,v--),h[x]=R},()=>m--,void 0,()=>{(!m||!S)&&(v||o.next(i?Ph(i,h):h),o.complete())}))}});return e?r.pipe(ns(e)):r}(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(as(h=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,l.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(v)),Qe(null)})))).pipe((0,nt.U)(()=>{const l=this._extractIconWithNameFromAnySet(t,i);if(!l)throw Xz(t);return l}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const l=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(l,t,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,gi.b)(i=>t.svgText=i),(0,nt.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Qe(null):this._fetchIcon(t).pipe((0,gi.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const l=o.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const h=this._svgElementFromString(Gw("<svg></svg>"));return h.appendChild(l),this._setSvgAttributes(h,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Gw("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:l,value:h}=r[o];"id"!==l&&i.setAttribute(l,h)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function JY(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!l)throw Jz(i);const h=this._inProgressUrlFetches.get(l);if(h)return h;const m=this._httpClient.get(l,{responseType:"text",withCredentials:o}).pipe((0,nt.U)(v=>Gw(v)),Dr(()=>this._inProgressUrlFetches.delete(l)),(0,W1.B)());return this._inProgressUrlFetches.set(l,m),m}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(tj(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return tK(o)?new Tg(o.url,null,o.options):new Tg(o,null)}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(rP,8),c.LFG(Ga),c.LFG(J,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lS(n){return n.cloneNode(!0)}function tj(n,e){return n+":"+e}function tK(n){return!(!n.url||!n.options)}const nK=Om(class{constructor(n){this._elementRef=n}}),iK=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),rK=new c.OlP("mat-icon-location",{providedIn:"root",factory:function oK(){const n=(0,c.f3M)(J),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),nj=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],sK=nj.map(n=>`[${n}]`).join(", "),aK=/^url\(['"]?#(.*?)['"]?\)$/;let lK=(()=>{class n extends nK{get inline(){return this._inline}set inline(t){this._inline=rn(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,l,h){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=os.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(l=>{o.setAttribute(l.name,`url('${t}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(sK),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)nj.forEach(l=>{const h=i[o],m=h.getAttribute(l),v=m?m.match(aK):null;if(v){let x=r.get(h);x||(x=[],r.set(h,x)),x.push({name:l,value:v[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Ti(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(aS),c.$8M("aria-hidden"),c.Y36(rK),c.Y36(c.qLn),c.Y36(iK,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(t,i){2&t&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:QY,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),cK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,wn]}),n})(),dK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,wn]}),n})();const ij=["*"],oj=["unscopedContent"],uK=["text"],hK=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],fK=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],sj=new c.OlP("ListOption");let aj=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),lj=(()=>{class n{constructor(t){this._elementRef=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),kK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),cj=(()=>{class n{constructor(t){this._listOption=t}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(sj,8))},n.\u0275dir=c.lG2({type:n,hostVars:4,hostBindings:function(t,i){2&t&&c.ekj("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),RK=(()=>{class n extends cj{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[c.qOj]}),n})(),OK=(()=>{class n extends cj{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[c.qOj]}),n})();const PK=new c.OlP("MAT_LIST_CONFIG");let Sy=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,c.f3M)(PK,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=rn(t)}get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,hostVars:1,hostBindings:function(t,i){2&t&&c.uIk("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),sP=(()=>{class n{set lines(t){this._explicitLines=Ls(t,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(t){this._disableRipple=rn(t)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(t){this._disabled=rn(t)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(t,i,r,o,l,h){this._elementRef=t,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new os.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=l||{},this._hostElement=this._elementRef.nativeElement,this._noopAnimations="NoopAnimations"===h,r&&!r._isNonInteractive&&this._initInteractiveListItem(),"button"===this._hostElement.nodeName.toLowerCase()&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new Gu(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,ap.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(t){if(!this._lines||!this._titles||!this._unscopedContent)return;t&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let t=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(t+=1),t}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(t=>t.nodeType!==t.COMMENT_NODE).some(t=>!(!t.textContent||!t.textContent.trim()))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Sy,8),c.Y36(Ai),c.Y36(Mf,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,RK,4),c.Suo(r,OK,4)),2&t){let o;c.iGM(o=c.CRH())&&(i._avatars=o),c.iGM(o=c.CRH())&&(i._icons=o)}},hostVars:3,hostBindings:function(t,i){2&t&&(c.uIk("aria-disabled",i.disabled),c.ekj("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),FK=(()=>{class n extends sP{get activated(){return this._activated}set activated(t){this._activated=rn(t)}constructor(t,i,r,o,l,h){super(t,i,r,o,l,h),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Sy,8),c.Y36(Ai),c.Y36(Mf,8),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(c.Suo(r,lj,5),c.Suo(r,aj,5),c.Suo(r,kK,5)),2&t){let o;c.iGM(o=c.CRH())&&(i._lines=o),c.iGM(o=c.CRH())&&(i._titles=o),c.iGM(o=c.CRH())&&(i._meta=o)}},viewQuery:function(t,i){if(1&t&&(c.Gf(oj,5),c.Gf(uK,5)),2&t){let r;c.iGM(r=c.CRH())&&(i._unscopedContent=r.first),c.iGM(r=c.CRH())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(t,i){2&t&&(c.uIk("aria-current",i._getAriaCurrent()),c.ekj("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[c.qOj],ngContentSelectors:fK,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(t,i){1&t&&(c.F$t(hK),c.Hsn(0),c.TgZ(1,"span",0),c.Hsn(2,1),c.Hsn(3,2),c.TgZ(4,"span",1,2),c.NdJ("cdkObserveContent",function(){return i._updateItemLines(!0)}),c.Hsn(6,3),c.qZA()(),c.Hsn(7,4),c.Hsn(8,5),c._UZ(9,"div",3))},dependencies:[qb],encapsulation:2,changeDetection:0}),n})(),LK=(()=>{class n extends Sy{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[c._Bn([{provide:Sy,useExisting:n}]),c.qOj],ngContentSelectors:ij,decls:1,vars:0,template:function(t,i){1&t&&(c.F$t(),c.Hsn(0))},styles:['.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:24px;height:24px}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-image .mdc-list-item__start{width:56px;height:56px}.mdc-list-item--with-leading-video .mdc-list-item__start{width:100px;height:56px}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-radio .mdc-list-item__start{width:40px;height:40px}.mdc-list-item--with-leading-switch .mdc-list-item__start{width:36px;height:20px}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:24px;height:24px}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{width:40px;height:40px}.mdc-list-item--with-trailing-radio .mdc-list-item__end{width:40px;height:40px}.mdc-list-item--with-trailing-switch .mdc-list-item__end{width:36px;height:20px}.mdc-list-divider{height:1px}@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),n})(),HK=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Y_,Jn,wn,nv,bE,dK]}),n})();class $w{constructor(e){this.breakpointObserver=e,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,nt.U)(t=>t.matches),q1())}}$w.\u0275fac=function(e){return new(e||$w)(c.Y36(KC))},$w.\u0275cmp=c.Xpm({type:$w,selectors:[["app-app-navigation"]],decls:16,vars:0,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav"],["drawer",""],["color","primary"],["mat-list-item","","routerLink","/",3,"click"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(e,t){if(1&e){const i=c.EpF();c.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar",3),c._uU(4,"Menu"),c.qZA(),c.TgZ(5,"mat-nav-list")(6,"a",4),c.NdJ("click",function(){c.CHM(i);const o=c.MAs(2);return c.KtG(o.toggle())}),c._uU(7,"Table"),c.qZA()()(),c.TgZ(8,"mat-sidenav-content")(9,"mat-toolbar",3)(10,"button",5),c.NdJ("click",function(){c.CHM(i);const o=c.MAs(2);return c.KtG(o.toggle())}),c.TgZ(11,"mat-icon",6),c._uU(12,"menu"),c.qZA()(),c.TgZ(13,"span"),c._uU(14," Team Vacation Planner "),c.qZA()(),c._UZ(15,"router-outlet"),c.qZA()()}},dependencies:[Ae,im,aY,_Y,Bz,Vz,eP,lK,LK,FK],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}body[_ngcontent-%COMP%]{margin:0}"]});class Ww{constructor(){this.title="TeamVacationPlanner"}}function uj(n){return new c.vHH(3e3,!1)}function xZ(){return typeof window<"u"&&typeof window.document<"u"}function aP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function hp(n){switch(n.length){case 0:return new Lw;case 1:return n[0];default:return new pH(n)}}function hj(n,e,t,i,r=new Map,o=new Map){const l=[],h=[];let m=-1,v=null;if(i.forEach(x=>{const S=x.get("offset"),R=S==m,F=R&&v||new Map;x.forEach((H,Y)=>{let te=Y,Oe=H;if("offset"!==Y)switch(te=e.normalizePropertyName(te,l),Oe){case"!":Oe=r.get(Y);break;case ih:Oe=o.get(Y);break;default:Oe=e.normalizeStyleValue(Y,te,Oe,l)}F.set(te,Oe)}),R||h.push(F),v=F,m=S}),l.length)throw function dZ(n){return new c.vHH(3502,!1)}();return h}function lP(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&cP(t,"start",n)));break;case"done":n.onDone(()=>i(t&&cP(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&cP(t,"destroy",n)))}}function cP(n,e,t){const o=dP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),l=n._data;return null!=l&&(o._data=l),o}function dP(n,e,t,i,r="",o=0,l){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!l}}function Ca(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function fj(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}Ww.\u0275fac=function(e){return new(e||Ww)},Ww.\u0275cmp=c.Xpm({type:Ww,selectors:[["app-root"]],decls:1,vars:0,template:function(e,t){1&e&&c._UZ(0,"app-app-navigation")},dependencies:[$w]});let uP=(n,e)=>!1,pj=(n,e,t)=>[],mj=null;function hP(n){const e=n.parentNode||n.host;return e===mj?null:e}(aP()||typeof Element<"u")&&(xZ()?(mj=(()=>document.documentElement)(),uP=(n,e)=>{for(;e;){if(e===n)return!0;e=hP(e)}return!1}):uP=(n,e)=>n.contains(e),pj=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let Ag=null,gj=!1;const _j=uP,vj=pj;let yj=(()=>{class n{validateStyleProperty(t){return function EZ(n){Ag||(Ag=function DZ(){return typeof document<"u"?document.body:null}()||{},gj=!!Ag.style&&"WebkitAppearance"in Ag.style);let e=!0;return Ag.style&&!function CZ(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Ag.style,!e&&gj&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Ag.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return _j(t,i)}getParentElement(t){return hP(t)}query(t,i,r){return vj(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,l,h=[],m){return new Lw(r,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),fP=(()=>{class n{}return n.NOOP=new yj,n})();const pP="ng-enter",cS="ng-leave",dS="ng-trigger",uS=".ng-trigger",wj="ng-animating",mP=".ng-animating";function oh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:gP(parseFloat(e[1]),e[2])}function gP(n,e){return"s"===e?1e3*n:n}function hS(n,e,t){return n.hasOwnProperty("duration")?n:function TZ(n,e,t){let r,o=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(uj()),{duration:0,delay:0,easing:""};r=gP(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(o=gP(parseFloat(m),h[4]));const v=h[5];v&&(l=v)}else r=n;if(!t){let h=!1,m=e.length;r<0&&(e.push(function zK(){return new c.vHH(3100,!1)}()),h=!0),o<0&&(e.push(function jK(){return new c.vHH(3101,!1)}()),h=!0),h&&e.splice(m,0,uj())}return{duration:r,delay:o,easing:l}}(n,e,t)}function qw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function xj(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function fp(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function Ej(n,e,t){return t?e+":"+t+";":""}function Dj(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=Ej(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Ej(0,RZ(t),n.style[t]));n.setAttribute("style",e)}function qd(n,e,t){n.style&&(e.forEach((i,r)=>{const o=vP(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i}),aP()&&Dj(n))}function Mg(n,e){n.style&&(e.forEach((t,i)=>{const r=vP(i);n.style[r]=""}),aP()&&Dj(n))}function Yw(n){return Array.isArray(n)?1==n.length?n[0]:dH(n):n}const _P=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ij(n){let e=[];if("string"==typeof n){let t;for(;t=_P.exec(n);)e.push(t[1]);_P.lastIndex=0}return e}function Kw(n,e,t){const i=n.toString(),r=i.replace(_P,(o,l)=>{let h=e[l];return null==h&&(t.push(function $K(n){return new c.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function fS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const kZ=/-+([a-z0-9])/g;function vP(n){return n.replace(kZ,(...e)=>e[1].toUpperCase())}function RZ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ea(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function WK(n){return new c.vHH(3004,!1)}()}}function Sj(n,e){return window.getComputedStyle(n)[e]}function BZ(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function VZ(n,e,t){if(":"==n[0]){const m=function UZ(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function sZ(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function oZ(n){return new c.vHH(3015,!1)}()),e;const r=i[1],o=i[2],l=i[3];e.push(Tj(r,l));"<"==o[0]&&!("*"==r&&"*"==l)&&e.push(Tj(l,r))}(i,t,e)):t.push(n),t}const _S=new Set(["true","1"]),vS=new Set(["false","0"]);function Tj(n,e){const t=_S.has(n)||vS.has(n),i=_S.has(e)||vS.has(e);return(r,o)=>{let l="*"==n||n==r,h="*"==e||e==o;return!l&&t&&"boolean"==typeof r&&(l=r?_S.has(n):vS.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?_S.has(e):vS.has(e)),l&&h}}const HZ=new RegExp("s*:selfs*,?","g");function yP(n,e,t,i){return new zZ(n).build(e,t,i)}class zZ{constructor(e){this._driver=e}build(e,t,i){const r=new $Z(t);return this._resetContextStyleTimingState(r),Ea(this,Yw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function YK(){return new c.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const m=h,v=m.name;v.toString().split(/\s*,\s*/).forEach(x=>{m.name=x,o.push(this.visitState(m,t))}),m.name=v}else if(1==h.type){const m=this.visitTransition(h,t);i+=m.queryCount,r+=m.depCount,l.push(m)}else t.errors.push(function KK(){return new c.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:l,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,l=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(m=>{Ij(m).forEach(v=>{l.hasOwnProperty(v)||o.add(v)})})}),o.size&&(fS(o.values()),t.errors.push(function ZK(n,e){return new c.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Ea(this,Yw(e.animation),t);return{type:1,matchers:BZ(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:kg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Ea(this,i,t)),options:kg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(l=>{t.currentTime=i;const h=Ea(this,l,t);return r=Math.max(r,t.currentTime),h});return t.currentTime=r,{type:3,steps:o,options:kg(e.options)}}visitAnimate(e,t){const i=function qZ(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return bP(hS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=bP(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=hS(t,e);return bP(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:Fn({});if(5==o.type)r=this.visitKeyframes(o,t);else{let l=e.styles,h=!1;if(!l){h=!0;const v={};i.easing&&(v.easing=i.easing),l=Fn(v)}t.currentTime+=i.duration+i.delay;const m=this.visitStyle(l,t);m.isEmptyStep=h,r=m}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of r)"string"==typeof h?h===ih?i.push(h):t.errors.push(new c.vHH(3002,!1)):i.push(xj(h));let o=!1,l=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(l=h.get("easing"),h.delete("easing")),!o))for(let m of h.values())if(m.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:l,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(l=>{"string"!=typeof l&&l.forEach((h,m)=>{const v=t.collectedStyles.get(t.currentQuerySelector),x=v.get(m);let S=!0;x&&(o!=r&&o>=x.startTime&&r<=x.endTime&&(t.errors.push(function XK(n,e,t,i,r){return new c.vHH(3010,!1)}()),S=!1),o=x.startTime),S&&v.set(m,{startTime:o,endTime:r}),t.options&&function MZ(n,e,t){const i=e.params||{},r=Ij(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function GK(n){return new c.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function JK(){return new c.vHH(3011,!1)}()),i;let o=0;const l=[];let h=!1,m=!1,v=0;const x=e.steps.map(Oe=>{const Ye=this._makeStyleAst(Oe,t);let et=null!=Ye.offset?Ye.offset:function WZ(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ye.styles),_t=0;return null!=et&&(o++,_t=Ye.offset=et),m=m||_t<0||_t>1,h=h||_t<v,v=_t,l.push(_t),Ye});m&&t.errors.push(function eZ(){return new c.vHH(3012,!1)}()),h&&t.errors.push(function tZ(){return new c.vHH(3200,!1)}());const S=e.steps.length;let R=0;o>0&&o<S?t.errors.push(function nZ(){return new c.vHH(3202,!1)}()):0==o&&(R=1/(S-1));const F=S-1,H=t.currentTime,Y=t.currentAnimateTimings,te=Y.duration;return x.forEach((Oe,Ye)=>{const et=R>0?Ye==F?1:R*Ye:l[Ye],_t=et*te;t.currentTime=H+Y.delay+_t,Y.duration=_t,this._validateStyleAst(Oe,t),Oe.offset=et,i.styles.push(Oe)}),i}visitReference(e,t){return{type:8,animation:Ea(this,Yw(e.animation),t),options:kg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:kg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:kg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,l]=function jZ(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(HZ,"")),n=n.replace(/@\*/g,uS).replace(/@\w+/g,t=>uS+"-"+t.slice(1)).replace(/:animating/g,mP),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Ca(t.collectedStyles,t.currentQuerySelector,new Map);const h=Ea(this,Yw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:kg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function iZ(){return new c.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:hS(e.timings,t.errors,!0);return{type:12,animation:Ea(this,Yw(e.animation),t),timings:i,options:null}}}class $Z{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function kg(n){return n?(n=qw(n)).params&&(n.params=function GZ(n){return n?qw(n):null}(n.params)):n={},n}function bP(n,e,t){return{duration:n,delay:e,easing:t}}function wP(n,e,t,i,r,o,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:l,subTimeline:h}}class yS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const ZZ=new RegExp(":enter","g"),XZ=new RegExp(":leave","g");function xP(n,e,t,i,r,o=new Map,l=new Map,h,m,v=[]){return(new JZ).buildKeyframes(n,e,t,i,r,o,l,h,m,v)}class JZ{buildKeyframes(e,t,i,r,o,l,h,m,v,x=[]){v=v||new yS;const S=new CP(e,t,v,r,o,x,[]);S.options=m;const R=m.delay?oh(m.delay):0;S.currentTimeline.delayNextStep(R),S.currentTimeline.setStyles([l],null,S.errors,m),Ea(this,i,S);const F=S.timelines.filter(H=>H.containsAnimation());if(F.length&&h.size){let H;for(let Y=F.length-1;Y>=0;Y--){const te=F[Y];if(te.element===t){H=te;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([h],null,S.errors,m)}return F.length?F.map(H=>H.buildKeyframes()):[wP(t,[],[],[],0,R,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);o!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const l="number"==typeof o?o:oh(Kw(o,r?.params??{},t.errors));i.delayNextStep(l)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const l=null!=i.duration?oh(i.duration):null,h=null!=i.delay?oh(i.delay):null;return 0!==l&&e.forEach(m=>{const v=t.appendInstructionToTimeline(m,l,h);o=Math.max(o,v.duration+v.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Ea(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=bS);const l=oh(o.delay);r.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>Ea(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?oh(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);o&&h.delayNextStep(o),Ea(this,l,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return hS(t.params?Kw(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,h=t.createSubContext().currentTimeline;h.easing=i.easing,e.styles.forEach(m=>{h.forwardTime((m.offset||0)*o),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?oh(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=bS);let l=i;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((v,x)=>{t.currentQueryIndex=x;const S=t.createSubContext(e.options,v);o&&S.delayNextStep(o),v===t.element&&(m=S.currentTimeline),Ea(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,l=Math.abs(o.duration),h=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":m=h-m;break;case"full":m=i.currentStaggerTime}const x=t.currentTimeline;m&&x.delayNextStep(m);const S=x.currentTime;Ea(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-S+(r.startTime-i.currentTimeline.startTime)}}const bS={};class CP{constructor(e,t,i,r,o,l,h,m){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=bS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new wS(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=oh(i.duration)),null!=i.delay&&(r.delay=oh(i.delay));const o=i.params;if(o){let l=r.params;l||(l=this.options.params={}),Object.keys(o).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=Kw(o[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new CP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=bS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new eQ(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,l){let h=[];if(r&&h.push(this.element),e.length>0){e=(e=e.replace(ZZ,"."+this._enterClassName)).replace(XZ,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),h.push(...v)}return!o&&0==h.length&&l.push(function rZ(n){return new c.vHH(3014,!1)}()),h}}class wS{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new wS(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||ih),this._currentKeyframe.set(t,ih);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},l=function tQ(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,ih)}else fp(r,t)}),t}(e,this._globalTimelineStyles);for(let[h,m]of l){const v=Kw(m,o,i);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??ih),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,m)=>{const v=fp(h,new Map,this._backFill);v.forEach((x,S)=>{"!"===x?e.add(S):x===ih&&t.add(S)}),i||v.set("offset",m/this.duration),r.push(v)});const o=e.size?fS(e.values()):[],l=t.size?fS(t.values()):[];if(i){const h=r[0],m=new Map(h);h.set("offset",0),m.set("offset",1),r=[h,m]}return wP(this.element,r,o,l,this.duration,this.startTime,this.easing,!1)}}class eQ extends wS{constructor(e,t,i,r,o,l,h=!1){super(e,t,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],l=i+t,h=t/l,m=fp(e[0]);m.set("offset",0),o.push(m);const v=fp(e[0]);v.set("offset",kj(h)),o.push(v);const x=e.length-1;for(let S=1;S<=x;S++){let R=fp(e[S]);const F=R.get("offset");R.set("offset",kj((t+F*i)/l)),o.push(R)}i=l,t=0,r="",e=o}return wP(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function kj(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class EP{}const nQ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class iQ extends EP{normalizePropertyName(e,t){return vP(e)}normalizeStyleValue(e,t,i,r){let o="";const l=i.toString().trim();if(nQ.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function qK(n,e){return new c.vHH(3005,!1)}())}return l+o}}function Rj(n,e,t,i,r,o,l,h,m,v,x,S,R){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:l,timelines:h,queriedElements:m,preStyleProps:v,postStyleProps:x,totalTime:S,errors:R}}const DP={};class Oj{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function rQ(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,l,h,m,v,x){const S=[],R=this.ast.options&&this.ast.options.params||DP,H=this.buildStyles(i,h&&h.params||DP,S),Y=m&&m.params||DP,te=this.buildStyles(r,Y,S),Oe=new Set,Ye=new Map,et=new Map,_t="void"===r,Xt={params:oQ(Y,R),delay:this.ast.options?.delay},Jt=x?[]:xP(e,t,this.ast.animation,o,l,H,te,Xt,v,S);let kn=0;if(Jt.forEach(Il=>{kn=Math.max(Il.duration+Il.delay,kn)}),S.length)return Rj(t,this._triggerName,i,r,_t,H,te,[],[],Ye,et,kn,S);Jt.forEach(Il=>{const lh=Il.element,m6=Ca(Ye,lh,new Set);Il.preStyleProps.forEach(jg=>m6.add(jg));const Ix=Ca(et,lh,new Set);Il.postStyleProps.forEach(jg=>Ix.add(jg)),lh!==t&&Oe.add(lh)});const Io=fS(Oe.values());return Rj(t,this._triggerName,i,r,_t,H,te,Jt,Io,Ye,et,kn)}}function oQ(n,e){const t=qw(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class sQ{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=qw(this.defaultParams);return Object.keys(e).forEach(o=>{const l=e[o];null!==l&&(r[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,h)=>{l&&(l=Kw(l,r,t));const m=this.normalizer.normalizePropertyName(h,t);l=this.normalizer.normalizeStyleValue(h,m,l,t),i.set(h,l)})}),i}}class lQ{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new sQ(r.style,r.options&&r.options.params||{},i))}),Pj(this.states,"true","1"),Pj(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new Oj(e,r,this.states))}),this.fallbackTransition=function cQ(n,e,t){return new Oj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(l=>l.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function Pj(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const dQ=new yS;class uQ{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=yP(this._driver,t,i,[]);if(i.length)throw function uZ(n){return new c.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=hj(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let l;const h=new Map;if(o?(l=xP(this._driver,t,o,pP,cS,new Map,new Map,i,dQ,r),l.forEach(x=>{const S=Ca(h,x.element,new Map);x.postStyleProps.forEach(R=>S.set(R,null))})):(r.push(function hZ(){return new c.vHH(3300,!1)}()),l=[]),r.length)throw function fZ(n){return new c.vHH(3504,!1)}();h.forEach((x,S)=>{x.forEach((R,F)=>{x.set(F,this._driver.computeStyle(S,F,ih))})});const v=hp(l.map(x=>{const S=h.get(x.element);return this._buildPlayer(x,new Map,S)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function pZ(n){return new c.vHH(3301,!1)}();return t}listen(e,t,i,r){const o=dP(t,"","","");return lP(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Fj="ng-animate-queued",IP="ng-animate-disabled",gQ=[],Nj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},_Q={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},bl="__ng_removed";class SP{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function wQ(n){return n??null}(i?e.value:e),i){const o=qw(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Zw="void",TP=new SP(Zw);class vQ{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,wl(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function mZ(n,e){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function gZ(n){return new c.vHH(3303,!1)}();if(!function xQ(n){return"start"==n||"done"==n}(i))throw function _Z(n,e){return new c.vHH(3400,!1)}();const o=Ca(this._elementListeners,e,[]),l={name:t,phase:i,callback:r};o.push(l);const h=Ca(this._engine.statesByElement,e,new Map);return h.has(t)||(wl(e,dS),wl(e,dS+"-"+t),h.set(t,TP)),()=>{this._engine.afterFlush(()=>{const m=o.indexOf(l);m>=0&&o.splice(m,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function vZ(n){return new c.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),l=new AP(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(wl(e,dS),wl(e,dS+"-"+t),this._engine.statesByElement.set(e,h=new Map));let m=h.get(t);const v=new SP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&m&&v.absorbOptions(m.options),h.set(t,v),m||(m=TP),v.value!==Zw&&m.value===v.value){if(!function DQ(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(m.params,v.params)){const Y=[],te=o.matchStyles(m.value,m.params,Y),Oe=o.matchStyles(v.value,v.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{Mg(e,te),qd(e,Oe)})}return}const R=Ca(this._engine.playersByElement,e,[]);R.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==t&&Y.queued&&Y.destroy()});let F=o.matchTransition(m.value,v.value,e,v.params),H=!1;if(!F){if(!r)return;F=o.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:F,fromState:m,toState:v,player:l,isFallbackTransition:H}),H||(wl(e,Fj),l.onStart(()=>{Ty(e,Fj)})),l.onDone(()=>{let Y=this.players.indexOf(l);Y>=0&&this.players.splice(Y,1);const te=this._engine.playersByElement.get(e);if(te){let Oe=te.indexOf(l);Oe>=0&&te.splice(Oe,1)}}),this.players.push(l),R.push(l),l}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,uS,!0);i.forEach(r=>{if(r[bl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(l=>l.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),l=new Map;if(o){const h=[];if(o.forEach((m,v)=>{if(l.set(v,m.value),this._triggers.has(v)){const x=this.trigger(e,v,Zw,r);x&&h.push(x)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),i&&hp(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const l=o.name;if(r.has(l))return;r.add(l);const m=this._triggers.get(l).fallbackTransition,v=i.get(l)||TP,x=new SP(Zw),S=new AP(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:v,toState:x,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let l=e;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[bl];(!o||o===Nj)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){wl(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,l=this._elementListeners.get(o);l&&l.forEach(h=>{if(h.name==i.triggerName){const m=dP(o,i.triggerName,i.fromState.value,i.toState.value);m._data=e,lP(i.player,h.phase,m,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class yQ{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new vQ(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,h=this.driver.getParentElement(t);for(;h;){const m=r.get(h);if(m){const v=i.indexOf(m);i.splice(v+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}l||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(xS(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!xS(t))return;const o=t[bl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),wl(e,IP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ty(e,IP))}removeNode(e,t,i,r){if(xS(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[bl]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return xS(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,uS,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,mP,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return hp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[bl];if(t&&t.setForRemoval){if(e[bl]=Nj,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(IP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)wl(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?hp(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function yZ(n){return new c.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new yS,r=[],o=new Map,l=[],h=new Map,m=new Map,v=new Map,x=new Set;this.disabledNodes.forEach(Ct=>{x.add(Ct);const Nt=this.driver.query(Ct,".ng-animate-queued",!0);for(let jt=0;jt<Nt.length;jt++)x.add(Nt[jt])});const S=this.bodyNode,R=Array.from(this.statesByElement.keys()),F=Vj(R,this.collectedEnterElements),H=new Map;let Y=0;F.forEach((Ct,Nt)=>{const jt=pP+Y++;H.set(Nt,jt),Ct.forEach(In=>wl(In,jt))});const te=[],Oe=new Set,Ye=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Nt=this.collectedLeaveElements[Ct],jt=Nt[bl];jt&&jt.setForRemoval&&(te.push(Nt),Oe.add(Nt),jt.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(In=>Oe.add(In)):Ye.add(Nt))}const et=new Map,_t=Vj(R,Array.from(Oe));_t.forEach((Ct,Nt)=>{const jt=cS+Y++;et.set(Nt,jt),Ct.forEach(In=>wl(In,jt))}),e.push(()=>{F.forEach((Ct,Nt)=>{const jt=H.get(Nt);Ct.forEach(In=>Ty(In,jt))}),_t.forEach((Ct,Nt)=>{const jt=et.get(Nt);Ct.forEach(In=>Ty(In,jt))}),te.forEach(Ct=>{this.processLeaveNode(Ct)})});const Xt=[],Jt=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(t).forEach(jt=>{const In=jt.player,uo=jt.element;if(Xt.push(In),this.collectedEnterElements.length){const $o=uo[bl];if($o&&$o.setForMove){if($o.previousTriggersValues&&$o.previousTriggersValues.has(jt.triggerName)){const Gg=$o.previousTriggersValues.get(jt.triggerName),Sl=this.statesByElement.get(jt.element);if(Sl&&Sl.has(jt.triggerName)){const sT=Sl.get(jt.triggerName);sT.value=Gg,Sl.set(jt.triggerName,sT)}}return void In.destroy()}}const Qd=!S||!this.driver.containsElement(S,uo),Sa=et.get(uo),Ip=H.get(uo),$i=this._buildInstruction(jt,i,Ip,Sa,Qd);if($i.errors&&$i.errors.length)return void Jt.push($i);if(Qd)return In.onStart(()=>Mg(uo,$i.fromStyles)),In.onDestroy(()=>qd(uo,$i.toStyles)),void r.push(In);if(jt.isFallbackTransition)return In.onStart(()=>Mg(uo,$i.fromStyles)),In.onDestroy(()=>qd(uo,$i.toStyles)),void r.push(In);const v6=[];$i.timelines.forEach($o=>{$o.stretchStartingKeyframe=!0,this.disabledNodes.has($o.element)||v6.push($o)}),$i.timelines=v6,i.append(uo,$i.timelines),l.push({instruction:$i,player:In,element:uo}),$i.queriedElements.forEach($o=>Ca(h,$o,[]).push(In)),$i.preStyleProps.forEach(($o,Gg)=>{if($o.size){let Sl=m.get(Gg);Sl||m.set(Gg,Sl=new Set),$o.forEach((sT,zF)=>Sl.add(zF))}}),$i.postStyleProps.forEach(($o,Gg)=>{let Sl=v.get(Gg);Sl||v.set(Gg,Sl=new Set),$o.forEach((sT,zF)=>Sl.add(zF))})});if(Jt.length){const Ct=[];Jt.forEach(Nt=>{Ct.push(function bZ(n,e){return new c.vHH(3505,!1)}())}),Xt.forEach(Nt=>Nt.destroy()),this.reportError(Ct)}const kn=new Map,Io=new Map;l.forEach(Ct=>{const Nt=Ct.element;i.has(Nt)&&(Io.set(Nt,Nt),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,kn))}),r.forEach(Ct=>{const Nt=Ct.element;this._getPreviousPlayers(Nt,!1,Ct.namespaceId,Ct.triggerName,null).forEach(In=>{Ca(kn,Nt,[]).push(In),In.destroy()})});const Il=te.filter(Ct=>Hj(Ct,m,v)),lh=new Map;Bj(lh,this.driver,Ye,v,ih).forEach(Ct=>{Hj(Ct,m,v)&&Il.push(Ct)});const Ix=new Map;F.forEach((Ct,Nt)=>{Bj(Ix,this.driver,new Set(Ct),m,"!")}),Il.forEach(Ct=>{const Nt=lh.get(Ct),jt=Ix.get(Ct);lh.set(Ct,new Map([...Array.from(Nt?.entries()??[]),...Array.from(jt?.entries()??[])]))});const jg=[],g6=[],_6={};l.forEach(Ct=>{const{element:Nt,player:jt,instruction:In}=Ct;if(i.has(Nt)){if(x.has(Nt))return jt.onDestroy(()=>qd(Nt,In.toStyles)),jt.disabled=!0,jt.overrideTotalTime(In.totalTime),void r.push(jt);let uo=_6;if(Io.size>1){let Sa=Nt;const Ip=[];for(;Sa=Sa.parentNode;){const $i=Io.get(Sa);if($i){uo=$i;break}Ip.push(Sa)}Ip.forEach($i=>Io.set($i,uo))}const Qd=this._buildAnimation(jt.namespaceId,In,kn,o,Ix,lh);if(jt.setRealPlayer(Qd),uo===_6)jg.push(jt);else{const Sa=this.playersByElement.get(uo);Sa&&Sa.length&&(jt.parentPlayer=hp(Sa)),r.push(jt)}}else Mg(Nt,In.fromStyles),jt.onDestroy(()=>qd(Nt,In.toStyles)),g6.push(jt),x.has(Nt)&&r.push(jt)}),g6.forEach(Ct=>{const Nt=o.get(Ct.element);if(Nt&&Nt.length){const jt=hp(Nt);Ct.setRealPlayer(jt)}}),r.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<te.length;Ct++){const Nt=te[Ct],jt=Nt[bl];if(Ty(Nt,cS),jt&&jt.hasAnimation)continue;let In=[];if(h.size){let Qd=h.get(Nt);Qd&&Qd.length&&In.push(...Qd);let Sa=this.driver.query(Nt,mP,!0);for(let Ip=0;Ip<Sa.length;Ip++){let $i=h.get(Sa[Ip]);$i&&$i.length&&In.push(...$i)}}const uo=In.filter(Qd=>!Qd.destroyed);uo.length?CQ(this,Nt,uo):this.processLeaveNode(Nt)}return te.length=0,jg.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Nt=this.players.indexOf(Ct);this.players.splice(Nt,1)}),Ct.play()}),jg}elementContainsData(e,t){let i=!1;const r=t[bl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const m=!o||o==Zw;h.forEach(v=>{v.queued||!m&&v.triggerName!=r||l.push(v)})}}return(i||r)&&(l=l.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),l}_beforeAnimationBuild(e,t,i){const o=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const v=m.element,x=v!==o,S=Ca(i,v,[]);this._getPreviousPlayers(v,x,l,h,t.toState).forEach(F=>{const H=F.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),F.destroy(),S.push(F)})}Mg(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,l){const h=t.triggerName,m=t.element,v=[],x=new Set,S=new Set,R=t.timelines.map(H=>{const Y=H.element;x.add(Y);const te=Y[bl];if(te&&te.removedBeforeQueried)return new Lw(H.duration,H.delay);const Oe=Y!==m,Ye=function EQ(n){const e=[];return Uj(n,e),e}((i.get(Y)||gQ).map(kn=>kn.getRealPlayer())).filter(kn=>!!kn.element&&kn.element===Y),et=o.get(Y),_t=l.get(Y),Xt=hj(0,this._normalizer,0,H.keyframes,et,_t),Jt=this._buildPlayer(H,Xt,Ye);if(H.subTimeline&&r&&S.add(Y),Oe){const kn=new AP(e,h,Y);kn.setRealPlayer(Jt),v.push(kn)}return Jt});v.forEach(H=>{Ca(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function bQ(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,H.element,H))}),x.forEach(H=>wl(H,wj));const F=hp(R);return F.onDestroy(()=>{x.forEach(H=>Ty(H,wj)),qd(m,t.toStyles)}),S.forEach(H=>{Ca(r,H,[]).push(F)}),F}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Lw(e.duration,e.delay)}}class AP{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Lw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>lP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ca(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function xS(n){return n&&1===n.nodeType}function Lj(n,e){const t=n.style.display;return n.style.display=e??"none",t}function Bj(n,e,t,i,r){const o=[];t.forEach(m=>o.push(Lj(m)));const l=[];i.forEach((m,v)=>{const x=new Map;m.forEach(S=>{const R=e.computeStyle(v,S,r);x.set(S,R),(!R||0==R.length)&&(v[bl]=_Q,l.push(v))}),n.set(v,x)});let h=0;return t.forEach(m=>Lj(m,o[h++])),l}function Vj(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const r=new Set(e),o=new Map;function l(h){if(!h)return 1;let m=o.get(h);if(m)return m;const v=h.parentNode;return m=t.has(v)?v:r.has(v)?1:l(v),o.set(h,m),m}return e.forEach(h=>{const m=l(h);1!==m&&t.get(m).push(h)}),t}function wl(n,e){n.classList?.add(e)}function Ty(n,e){n.classList?.remove(e)}function CQ(n,e,t){hp(t).onDone(()=>n.processLeaveNode(e))}function Uj(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof pH?Uj(i.players,e):e.push(i)}}function Hj(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class CS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new yQ(e,t,i),this._timelineEngine=new uQ(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const l=e+"-"+r;let h=this._triggerCache[l];if(!h){const m=[],x=yP(this._driver,o,m,[]);if(m.length)throw function cZ(n,e){return new c.vHH(3404,!1)}();h=function aQ(n,e,t){return new lQ(n,e,t)}(r,x,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,r,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,l]=fj(i);this._timelineEngine.command(o,t,l,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[l,h]=fj(i);return this._timelineEngine.listen(l,t,h,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let SQ=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&qd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qd(this._element,this._initialStyles),this._endStyles&&(qd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mg(this._element,this._endStyles),this._endStyles=null),qd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function MP(n){let e=null;return n.forEach((t,i)=>{(function TQ(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class zj{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:Sj(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class AQ{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return _j(e,t)}getParentElement(e){return hP(e)}query(e,t,i){return vj(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,l=[]){const m={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(m.easing=o);const v=new Map,x=l.filter(F=>F instanceof zj);(function OZ(n,e){return 0===n||0===e})(i,r)&&x.forEach(F=>{F.currentSnapshot.forEach((H,Y)=>v.set(Y,H))});let S=function AZ(n){return n.length?n[0]instanceof Map?n:n.map(e=>xj(e)):[]}(t).map(F=>fp(F));S=function PZ(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,l)=>{i.has(l)||r.push(l),i.set(l,o)}),r.length)for(let o=1;o<e.length;o++){let l=e[o];r.forEach(h=>l.set(h,Sj(n,h)))}}return e}(e,S,v);const R=function IQ(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=MP(e[0]),e.length>1&&(i=MP(e[e.length-1]))):e instanceof Map&&(t=MP(e)),t||i?new SQ(n,t,i):null}(e,S);return new zj(e,S,m,R)}}let MQ=(()=>{class n extends cH{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?dH(t):t;return jj(this._renderer,null,i,"register",[r]),new kQ(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class kQ extends Lq{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new RQ(this._id,e,t||{},this._renderer)}}class RQ{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return jj(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function jj(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const Gj="@.disabled";let OQ=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,l)=>{const h=l?.parentNode(o);h&&l.removeChild(h,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let x=this._rendererCache.get(o);return x||(x=new $j("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,x)),x}const l=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const m=x=>{Array.isArray(x)?x.forEach(m):this.engine.registerTrigger(l,h,t,x.name,x)};return i.data.animation.forEach(m),new PQ(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,h]=o;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.FYo),c.LFG(CS),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class $j{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==Gj?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class PQ extends $j{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Gj?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function FQ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function NQ(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(e,t,i)}}let LQ=(()=>{class n extends CS{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(J),c.LFG(fP),c.LFG(EP),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Wj=[{provide:cH,useClass:MQ},{provide:EP,useFactory:function BQ(){return new iQ}},{provide:CS,useClass:LQ},{provide:c.FYo,useFactory:function VQ(n,e,t){return new OQ(n,e,t)},deps:[ed,CS,c.R0b]}],kP=[{provide:fP,useFactory:()=>new AQ},{provide:c.QbO,useValue:"BrowserAnimations"},...Wj],qj=[{provide:fP,useClass:yj},{provide:c.QbO,useValue:"NoopAnimations"},...Wj];let UQ=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?qj:kP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:kP,imports:[ec]}),n})();const $Q={provide:new c.OlP("mat-select-scroll-strategy"),deps:[Nw],useFactory:function GQ(n){return()=>n.scrollStrategies.reposition()}};let WQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[$Q],imports:[Jn,lH,wE,wn,vf,u7,wE,wn]}),n})(),RP=(()=>{class n{constructor(){this.changes=new xt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(t,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=t*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QQ={provide:RP,deps:[[new c.FiY,new c.tp0,RP]],useFactory:function ZQ(n){return n||new RP}};let XQ=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[QQ],imports:[Jn,Pz,WQ,vH]}),n})(),OP=(()=>{class n{constructor(){this.changes=new xt.x}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const eX={provide:OP,deps:[[new c.FiY,new c.tp0,OP]],useFactory:function JQ(n){return n||new OP}};let tX=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[eX],imports:[Jn,wn]}),n})();const Yj="@firebase/database";let PP="";function Zj(n){PP=n}class oX{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,N.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,N.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class sX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,N.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const Qj=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new oX(e)}}catch{}return new sX},Rg=Qj("localStorage"),FP=Qj("sessionStorage"),Ay=new Us.Yd("@firebase/database"),Xj=function(){let n=1;return function(){return n++}}(),Jj=function(n){const e=(0,N.dS)(n),t=new N.gQ;t.update(e);const i=t.digest();return N.US.encodeByteArray(i)},Qw=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Qw.apply(null,i):e+="object"==typeof i?(0,N.Wl)(i):i,e+=" "}return e};let Og=null,e4=!0;const t4=function(n,e){(0,N.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Ay.logLevel=Us.in.VERBOSE,Og=Ay.log.bind(Ay),e&&FP.set("logging_enabled",!0)):"function"==typeof n?Og=n:(Og=null,FP.remove("logging_enabled"))},lo=function(...n){if(!0===e4&&(e4=!1,null===Og&&!0===FP.get("logging_enabled")&&t4(!0)),Og){const e=Qw.apply(null,n);Og(e)}},Xw=function(n){return function(...e){lo(n,...e)}},NP=function(...n){const e="FIREBASE INTERNAL ERROR: "+Qw(...n);Ay.error(e)},Yd=function(...n){const e=`FIREBASE FATAL ERROR: ${Qw(...n)}`;throw Ay.error(e),new Error(e)},Go=function(...n){const e="FIREBASE WARNING: "+Qw(...n);Ay.warn(e)},DS=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},mp="[MIN_NAME]",sh="[MAX_NAME]",Pg=function(n,e){if(n===e)return 0;if(n===mp||e===sh)return-1;if(e===mp||n===sh)return 1;{const t=o4(n),i=o4(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},cX=function(n,e){return n===e?0:n<e?-1:1},Jw=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Wl)(e))},LP=function(n){if("object"!=typeof n||null===n)return(0,N.Wl)(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=(0,N.Wl)(e[i]),t+=":",t+=LP(n[e[i]]);return t+="}",t},n4=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function co(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const r4=function(n){(0,N.hu)(!DS(n),"Invalid JSON number");const i=1023;let r,o,l,h,m;0===n?(o=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=h+i,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(o=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(m=52;m;m-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(m=11;m;m-=1)v.push(o%2?1:0),o=Math.floor(o/2);v.push(r?1:0),v.reverse();const x=v.join("");let S="";for(m=0;m<64;m+=8){let R=parseInt(x.substr(m,8),2).toString(16);1===R.length&&(R="0"+R),S+=R}return S.toLowerCase()},fX=new RegExp("^-?(0*)\\d{1,10}$"),o4=function(n){if(fX.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},My=function(n){try{n()}catch(e){setTimeout(()=>{throw Go("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},ex=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class _X{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Go(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class vX{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(lo("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Go(e)}}let tx=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const d4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,f4="websocket",p4="long_polling";class VP{constructor(e,t,i,r,o=!1,l="",h=!1,m=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rg.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rg.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function m4(n,e,t){let i;if((0,N.hu)("string"==typeof e,"typeof type must == string"),(0,N.hu)("object"==typeof t,"typeof params must == object"),e===f4)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==p4)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function yX(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return co(t,(o,l)=>{r.push(o+"="+l)}),i+r.join("&")}class bX{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,N.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,N.p$)(this.counters_)}}const UP={},HP={};function zP(n){const e=n.toString();return UP[e]||(UP[e]=new bX),UP[e]}class xX{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&My(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class gp{constructor(e,t,i,r,o,l,h){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Xw(e),this.stats_=zP(t),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),m4(t,p4,m))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new xX(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jP((...o)=>{const[l,h,m,v,x]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=m;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[l,h]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&d4.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gp.forceAllow_=!0}static forceDisallow(){gp.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!gp.forceAllow_&&(gp.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,N.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=(0,N.h$)(t),r=n4(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,N.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class jP{constructor(e,t,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Xj(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=jP.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){lo("frame writing exception"),h.stack&&lo(h.stack),lo(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||lo("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){(0,N.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{lo("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let SS=null;typeof MozWebSocket<"u"?SS=MozWebSocket:typeof WebSocket<"u"&&(SS=WebSocket);let ky=(()=>{class n{constructor(t,i,r,o,l,h,m){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Xw(this.connId),this.stats_=zP(i),this.connURL=n.connectionURL_(i,h,m,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,l){const h={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&d4.test(location.hostname)&&(h.r="f"),i&&(h.s=i),r&&(h.ls=r),o&&(h.ac=o),l&&(h.p=l),m4(t,f4,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rg.set("previous_websocket_failure",!0);try{let r;if((0,N.Yr)()){r={headers:{"User-Agent":`Firebase/5/${PP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(r.proxy={origin:h})}this.mySock=new SS(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==SS&&!n.forceDisallow_}static previouslyFailed(){return Rg.isInMemoryStorage||!0===Rg.get("previous_websocket_failure")}markConnectionHealthy(){Rg.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=(0,N.Wl)(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=n4(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),x4=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[gp,ky]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=ky&&ky.isAvailable();let r=i&&!ky.previouslyFailed();if(t.webSocketOnly&&(i||Go("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ky];else{const o=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class A4{constructor(e,t,i,r,o,l,h,m,v,x){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=m,this.onKill_=v,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Xw("c:"+this.id+":"),this.transportManager_=new x4(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=ex(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Jw("t",e),i=Jw("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Jw("t",e),i=Jw("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Jw("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?NP("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):NP("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Go("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),ex(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ex(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class M4{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class k4{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,N.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){(0,N.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class TS extends k4{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new TS}getInitialEvent(e){return(0,N.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Bn{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Mn(){return new Bn("")}function un(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function _p(n){return n.pieces_.length-n.pieceNum_}function ii(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Bn(n.pieces_,e)}function $P(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function nx(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function P4(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Bn(e,0)}function Oi(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Bn)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Bn(t,0)}function hn(n){return n.pieceNum_>=n.pieces_.length}function _s(n,e){const t=un(n),i=un(e);if(null===t)return e;if(t===i)return _s(ii(n),ii(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function GX(n,e){const t=nx(n,0),i=nx(e,0);for(let r=0;r<t.length&&r<i.length;r++){const o=Pg(t[r],i[r]);if(0!==o)return o}return t.length===i.length?0:t.length<i.length?-1:1}function WP(n,e){if(_p(n)!==_p(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function xl(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(_p(n)>_p(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class $X{constructor(e,t){this.errorPrefix_=t,this.parts_=nx(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);F4(this)}}function F4(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Fg(n))}function Fg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class qP extends k4{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new qP}getInitialEvent(e){return(0,N.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ix=1e3;let MS,Ng=(()=>{class n extends M4{constructor(t,i,r,o,l,h,m,v){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=Xw("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ix,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qP.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&TS.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,l={r:o,a:t,b:i};this.log_((0,N.Wl)(l)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new N.BH,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const m=h.d;"ok"===h.s?i.resolve(m):i.reject(m)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,N.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const m={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(h).set(l,m),this.connected_&&this.sendListen_(m)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const l={p:r};t.tag&&(l.q=i._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,m=>{const v=m.d,x=m.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",m),"ok"!==x&&this.removeListen_(r,o),t.onComplete&&t.onComplete(x,v))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&(0,N.r3)(t,"w")){const r=(0,N.DV)(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();Go(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,N.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=(0,N.w9)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const l=o.s,h=o.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,N.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const l={p:t};o&&(l.q=r,l.t=o),this.sendRequest("n",l)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const l={p:i,d:r};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,l){this.initConnection_();const h={p:i,d:r};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,N.Wl)(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):NP("Unrecognized action received from server: "+(0,N.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ix,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ix,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ix),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,ye.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let m=!1,v=null;const x=function(){v?v.close():(m=!0,o())};t.realtime_={close:x,sendRequest:function(F){(0,N.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(F)}};const R=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[F,H]=yield Promise.all([t.authTokenProvider_.getToken(R),t.appCheckTokenProvider_.getToken(R)]);m?lo("getToken() completed but was canceled"):(lo("getToken() completed. Creating connection."),t.authToken_=F&&F.accessToken,t.appCheckToken_=H&&H.token,v=new A4(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,Y=>{Go(Y+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(F){t.log_("Failed to get token: "+F),m||(t.repoInfo_.nodeAdmin&&Go(F),x())}}})()}interrupt(t){lo("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){lo("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ix,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(l=>LP(l)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Bn(t).toString();let o;if(this.listens.has(r)){const l=this.listens.get(r);o=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){lo("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){lo("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+i+"."+PP.replace(/\./g,"-")]=1,(0,N.uI)()?t["framework.cordova"]=1:(0,N.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=TS.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class pn{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new pn(e,t)}}class AS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new pn(mp,e),r=new pn(mp,t);return 0!==this.compare(i,r)}minPost(){return pn.MIN}}class B4 extends AS{static get __EMPTY_NODE(){return MS}static set __EMPTY_NODE(e){MS=e}compare(e,t){return Pg(e.name,t.name)}isDefinedOn(e){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return pn.MIN}maxPost(){return new pn(sh,MS)}makePost(e,t){return(0,N.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new pn(e,MS)}toString(){return".key"}}const Kd=new B4;class kS{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,r&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let KP,Dc=(()=>{class n{constructor(t,i,r,o,l){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Ws.EMPTY_NODE,this.right=l??Ws.EMPTY_NODE}copy(t,i,r,o,l){return new n(t??this.key,i??this.value,r??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const l=r(t,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===l?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ws.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Ws.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ws{constructor(e,t=Ws.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Ws(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Dc.BLACK,null,null))}remove(e){return new Ws(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Dc.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new kS(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new kS(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new kS(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new kS(this.root_,null,this.comparator_,!0,e)}}function JX(n,e){return Pg(n.name,e.name)}function YP(n,e){return Pg(n,e)}Ws.EMPTY_NODE=new class XX{copy(e,t,i,r,o){return this}insert(e,t,i){return new Dc(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const V4=function(n){return"number"==typeof n?"number:"+r4(n):"string:"+n},U4=function(n){if(n.isLeafNode()){const e=n.val();(0,N.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,N.r3)(e,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===KP||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===KP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let H4,z4,j4,Ry=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),U4(this.priorityNode_)}static set __childrenNodeConstructor(t){H4=t}static get __childrenNodeConstructor(){return H4}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return hn(t)?this:".priority"===un(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=un(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===_p(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ii(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+V4(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?r4(this.value_):this.value_,this.lazyHash_=Jj(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(o>=0,"Unknown leaf type: "+i),(0,N.hu)(l>=0,"Unknown leaf type: "+r),o===l?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const di=new class iJ extends AS{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?Pg(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return pn.MIN}maxPost(){return new pn(sh,new Ry("[PRIORITY-POST]",j4))}makePost(e,t){const i=z4(e);return new pn(t,new Ry("[PRIORITY-POST]",i))}toString(){return".priority"}},rJ=Math.log(2);class oJ{constructor(e){this.count=parseInt(Math.log(e+1)/rJ,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const RS=function(n,e,t,i){n.sort(e);const r=function(m,v){const x=v-m;let S,R;if(0===x)return null;if(1===x)return S=n[m],R=t?t(S):S,new Dc(R,S.node,Dc.BLACK,null,null);{const F=parseInt(x/2,10)+m,H=r(m,F),Y=r(F+1,v);return S=n[F],R=t?t(S):S,new Dc(R,S.node,Dc.BLACK,H,Y)}},h=function(m){let v=null,x=null,S=n.length;const R=function(H,Y){const te=S-H,Oe=S;S-=H;const Ye=r(te+1,Oe),et=n[te],_t=t?t(et):et;F(new Dc(_t,et.node,Y,null,Ye))},F=function(H){v?(v.left=H,v=H):(x=H,v=H)};for(let H=0;H<m.count;++H){const Y=m.nextBitIsOne(),te=Math.pow(2,m.count-(H+1));Y?R(te,Dc.BLACK):(R(te,Dc.BLACK),R(te,Dc.RED))}return x}(new oJ(n.length));return new Ws(i||e,h)};let ZP;const Oy={};class ah{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,N.hu)(Oy&&di,"ChildrenNode.ts has not been loaded"),ZP=ZP||new ah({".priority":Oy},{".priority":di}),ZP}get(e){const t=(0,N.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Ws?t:null}hasIndex(e){return(0,N.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,N.hu)(e!==Kd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(pn.Wrap);let h,l=o.getNext();for(;l;)r=r||e.isDefinedOn(l.node),i.push(l),l=o.getNext();h=r?RS(i,e.getCompare()):Oy;const m=e.toString(),v=Object.assign({},this.indexSet_);v[m]=e;const x=Object.assign({},this.indexes_);return x[m]=h,new ah(x,v)}addToIndexes(e,t){const i=(0,N.UI)(this.indexes_,(r,o)=>{const l=(0,N.DV)(this.indexSet_,o);if((0,N.hu)(l,"Missing index implementation for "+o),r===Oy){if(l.isDefinedOn(e.node)){const h=[],m=t.getIterator(pn.Wrap);let v=m.getNext();for(;v;)v.name!==e.name&&h.push(v),v=m.getNext();return h.push(e),RS(h,l.getCompare())}return Oy}{const h=t.get(e.name);let m=r;return h&&(m=m.remove(new pn(e.name,h))),m.insert(e,e.node)}});return new ah(i,this.indexSet_)}removeFromIndexes(e,t){const i=(0,N.UI)(this.indexes_,r=>{if(r===Oy)return r;{const o=t.get(e.name);return o?r.remove(new pn(e.name,o)):r}});return new ah(i,this.indexSet_)}}let rx,on=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&U4(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return rx||(rx=new n(new Ws(YP),null,ah.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||rx}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?rx:i}}getChild(t){const i=un(t);return null===i?this:this.getImmediateChild(i).getChild(ii(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new pn(t,i);let o,l;i.isEmpty()?(o=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),l=this.indexMap_.addToIndexes(r,this.children_));const h=o.isEmpty()?rx:this.priorityNode_;return new n(o,h,l)}}updateChild(t,i){const r=un(t);if(null===r)return i;{(0,N.hu)(".priority"!==un(t)||1===_p(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ii(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,l=!0;if(this.forEachChild(di,(h,m)=>{i[h]=m.val(t),r++,l&&n.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):l=!1}),!t&&l&&o<2*r){const h=[];for(const m in i)h[m]=i[m];return h}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+V4(this.getPriority().val())+":"),this.forEachChild(di,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":Jj(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const l=o.getPredecessorKey(new pn(t,i));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new pn(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new pn(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,pn.Wrap);let l=o.peek();for(;null!=l&&i.compare(l,t)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,pn.Wrap);let l=o.peek();for(;null!=l&&i.compare(l,t)>0;)o.getNext(),l=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ox?-1:0}withIndex(t){if(t===Kd||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===Kd||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(di),o=i.getIterator(di);let l=r.getNext(),h=o.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=r.getNext(),h=o.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===Kd?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const ox=new class sJ extends on{constructor(){super(new Ws(YP),on.EMPTY_NODE,ah.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return on.EMPTY_NODE}isEmpty(){return!1}};function Gi(n,e=null){if(null===n)return on.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,N.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Ry(n,Gi(e));if(n instanceof Array){let t=on.EMPTY_NODE;return co(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const o=Gi(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Gi(e))}{const t=[];let i=!1;if(co(n,(l,h)=>{if("."!==l.substring(0,1)){const m=Gi(h);m.isEmpty()||(i=i||!m.getPriority().isEmpty(),t.push(new pn(l,m)))}}),0===t.length)return on.EMPTY_NODE;const o=RS(t,JX,l=>l.name,YP);if(i){const l=RS(t,di.getCompare());return new on(o,Gi(e),new ah({".priority":l},{".priority":di}))}return new on(o,Gi(e),ah.Default)}}Object.defineProperties(pn,{MIN:{value:new pn(mp,on.EMPTY_NODE)},MAX:{value:new pn(sh,ox)}}),B4.__EMPTY_NODE=on.EMPTY_NODE,Ry.__childrenNodeConstructor=on,function eJ(n){KP=n}(ox),function nJ(n){j4=n}(ox),function tJ(n){z4=n}(Gi);class QP extends AS{constructor(e){super(),this.indexPath_=e,(0,N.hu)(!hn(e)&&".priority"!==un(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?Pg(e.name,t.name):o}makePost(e,t){const i=Gi(e),r=on.EMPTY_NODE.updateChild(this.indexPath_,i);return new pn(t,r)}maxPost(){const e=on.EMPTY_NODE.updateChild(this.indexPath_,ox);return new pn(sh,e)}toString(){return nx(this.indexPath_,0).join("/")}}const XP=new class lJ extends AS{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Pg(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return pn.MIN}maxPost(){return pn.MAX}makePost(e,t){const i=Gi(e);return new pn(t,i)}toString(){return".value"}};function G4(n){return{type:"value",snapshotNode:n}}function Py(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function sx(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function ax(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class JP{constructor(e){this.index_=e}updateChild(e,t,i,r,o,l){(0,N.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(t);return h.getChild(r).equals(i.getChild(r))&&h.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?e.hasChild(t)?l.trackChildChange(sx(t,h)):(0,N.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?l.trackChildChange(Py(t,i)):l.trackChildChange(ax(t,i,h))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(di,(r,o)=>{t.hasChild(r)||i.trackChildChange(sx(r,o))}),t.isLeafNode()||t.forEachChild(di,(r,o)=>{if(e.hasChild(r)){const l=e.getImmediateChild(r);l.equals(o)||i.trackChildChange(ax(r,o,l))}else i.trackChildChange(Py(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?on.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class lx{constructor(e){this.indexedFilter_=new JP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=lx.getStartPost_(e),this.endPost_=lx.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,l){return this.matches(new pn(t,i))||(i=on.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,l)}updateFullNode(e,t,i){t.isLeafNode()&&(t=on.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(on.EMPTY_NODE);const o=this;return t.forEachChild(di,(l,h)=>{o.matches(new pn(l,h))||(r=r.updateImmediateChild(l,on.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class dJ{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new lx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,l){return this.rangedFilter_.matches(new pn(t,i))||(i=on.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,l):this.fullLimitUpdateChild_(e,t,i,o,l)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=on.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;r=on.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const h=o.getNext();if(this.withinDirectionalStart(h)){if(!this.withinDirectionalEnd(h))break;r=r.updateImmediateChild(h.name,h.node),l++}}}else{let o;r=t.withIndex(this.index_),r=r.updatePriority(on.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;o.hasNext();){const h=o.getNext();l<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?l++:r=r.updateImmediateChild(h.name,on.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let l;if(this.reverse_){const S=this.index_.getCompare();l=(R,F)=>S(F,R)}else l=this.index_.getCompare();const h=e;(0,N.hu)(h.numChildren()===this.limit_,"");const m=new pn(t,i),v=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),x=this.rangedFilter_.matches(m);if(h.hasChild(t)){const S=h.getImmediateChild(t);let R=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=R&&(R.name===t||h.hasChild(R.name));)R=r.getChildAfterChild(this.index_,R,this.reverse_);const F=null==R?1:l(R,m);if(x&&!i.isEmpty()&&F>=0)return o?.trackChildChange(ax(t,i,S)),h.updateImmediateChild(t,i);{o?.trackChildChange(sx(t,S));const Y=h.updateImmediateChild(t,on.EMPTY_NODE);return null!=R&&this.rangedFilter_.matches(R)?(o?.trackChildChange(Py(R.name,R.node)),Y.updateImmediateChild(R.name,R.node)):Y}}return i.isEmpty()?e:x&&l(v,m)>=0?(null!=o&&(o.trackChildChange(sx(v.name,v.node)),o.trackChildChange(Py(t,i))),h.updateImmediateChild(t,i).updateImmediateChild(v.name,on.EMPTY_NODE)):e}}class OS{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:mp}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:sh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===di}copy(){const e=new OS;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function eF(n,e,t){const i=n.copy();return i.startSet_=!0,void 0===e&&(e=null),i.indexStartValue_=e,null!=t?(i.startNameSet_=!0,i.indexStartName_=t):(i.startNameSet_=!1,i.indexStartName_=""),i}function tF(n,e,t){const i=n.copy();return i.endSet_=!0,void 0===e&&(e=null),i.indexEndValue_=e,void 0!==t?(i.endNameSet_=!0,i.indexEndName_=t):(i.endNameSet_=!1,i.indexEndName_=""),i}function PS(n,e){const t=n.copy();return t.index_=e,t}function $4(n){const e={};if(n.isDefault())return e;let t;if(n.index_===di?t="$priority":n.index_===XP?t="$value":n.index_===Kd?t="$key":((0,N.hu)(n.index_ instanceof QP,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,N.Wl)(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=(0,N.Wl)(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+(0,N.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=(0,N.Wl)(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+(0,N.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function W4(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==di&&(e.i=n.index_.toString()),e}class FS extends M4{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Xw("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,N.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=FS.getListenId_(e,i),h={};this.listens_[l]=h;const m=$4(e._queryParams);this.restRequest_(o+".json",m,(v,x)=>{let S=x;if(404===v&&(S=null,v=null),null===v&&this.onDataUpdate_(o,S,!1,i),(0,N.DV)(this.listens_,l)===h){let R;R=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(R,null)}})}unlisten(e,t){const i=FS.getListenId_(e,t);delete this.listens_[i]}get(e){const t=$4(e._queryParams),i=e._path.toString(),r=new N.BH;return this.restRequest_(i+".json",t,(o,l)=>{let h=l;404===o&&(h=null,o=null),null===o?(this.onDataUpdate_(i,h,!1,null),r.resolve(h)):r.reject(new Error(h))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,N.xO)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(i&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let m=null;if(h.status>=200&&h.status<300){try{m=(0,N.cI)(h.responseText)}catch{Go("Failed to parse JSON response for "+l+": "+h.responseText)}i(null,m)}else 401!==h.status&&404!==h.status&&Go("Got unsuccessful REST response for "+l+" Status: "+h.status),i(h.status);i=null}},h.open("GET",l,!0),h.send()})}}class gJ{constructor(){this.rootNode_=on.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function NS(){return{value:null,children:new Map}}function Fy(n,e,t){if(hn(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=un(e);n.children.has(i)||n.children.set(i,NS()),Fy(n.children.get(i),e=ii(e),t)}}function nF(n,e){if(hn(e))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const t=n.value;return n.value=null,t.forEachChild(di,(i,r)=>{Fy(n,new Bn(i),r)}),nF(n,e)}}if(n.children.size>0){const t=un(e);return e=ii(e),n.children.has(t)&&nF(n.children.get(t),e)&&n.children.delete(t),0===n.children.size}return!0}function iF(n,e,t){null!==n.value?t(e,n.value):function _J(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{iF(r,new Bn(e.toString()+"/"+i),t)})}class vJ{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&co(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class wJ{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new vJ(e);const i=1e4+2e4*Math.random();ex(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;co(e,(r,o)=>{o>0&&(0,N.r3)(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),ex(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Cl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Cl||(Cl={})),Cl))();function sF(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class LS{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=Cl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(hn(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Bn(e));return new LS(Mn(),t,this.revert)}}return(0,N.hu)(un(this.path)===e,"operationForChild called for unrelated child."),new LS(ii(this.path),this.affectedTree,this.revert)}}class cx{constructor(e,t){this.source=e,this.path=t,this.type=Cl.LISTEN_COMPLETE}operationForChild(e){return hn(this.path)?new cx(this.source,Mn()):new cx(this.source,ii(this.path))}}class Lg{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=Cl.OVERWRITE}operationForChild(e){return hn(this.path)?new Lg(this.source,Mn(),this.snap.getImmediateChild(e)):new Lg(this.source,ii(this.path),this.snap)}}class Ny{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=Cl.MERGE}operationForChild(e){if(hn(this.path)){const t=this.children.subtree(new Bn(e));return t.isEmpty()?null:t.value?new Lg(this.source,Mn(),t.value):new Ny(this.source,Mn(),t)}return(0,N.hu)(un(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ny(this.source,ii(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class vp{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(hn(e))return this.isFullyInitialized()&&!this.filtered_;const t=un(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class xJ{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function dx(n,e,t,i,r,o){const l=i.filter(h=>h.type===t);l.sort((h,m)=>function DJ(n,e,t){if(null==e.childName||null==t.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new pn(e.childName,e.snapshotNode),r=new pn(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,h,m)),l.forEach(h=>{const m=function EJ(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,o);r.forEach(v=>{v.respondsTo(h.type)&&e.push(v.createEvent(m,n.query_))})})}function BS(n,e){return{eventCache:n,serverCache:e}}function ux(n,e,t,i){return BS(new vp(e,t,i),n.serverCache)}function Y4(n,e,t,i){return BS(n.eventCache,new vp(e,t,i))}function VS(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Bg(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let aF;class ui{constructor(e,t=(()=>(aF||(aF=new Ws(cX)),aF))()){this.value=e,this.children=t}static fromObject(e){let t=new ui(null);return co(e,(i,r)=>{t=t.set(new Bn(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Mn(),value:this.value};if(hn(e))return null;{const i=un(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(ii(e),t);return null!=o?{path:Oi(new Bn(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(hn(e))return this;{const t=un(e),i=this.children.get(t);return null!==i?i.subtree(ii(e)):new ui(null)}}set(e,t){if(hn(e))return new ui(t,this.children);{const i=un(e),o=(this.children.get(i)||new ui(null)).set(ii(e),t),l=this.children.insert(i,o);return new ui(this.value,l)}}remove(e){if(hn(e))return this.children.isEmpty()?new ui(null):new ui(null,this.children);{const t=un(e),i=this.children.get(t);if(i){const r=i.remove(ii(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new ui(null):new ui(this.value,o)}return this}}get(e){if(hn(e))return this.value;{const t=un(e),i=this.children.get(t);return i?i.get(ii(e)):null}}setTree(e,t){if(hn(e))return t;{const i=un(e),o=(this.children.get(i)||new ui(null)).setTree(ii(e),t);let l;return l=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new ui(this.value,l)}}fold(e){return this.fold_(Mn(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Oi(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,Mn(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(hn(e))return null;{const o=un(e),l=this.children.get(o);return l?l.findOnPath_(ii(e),Oi(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Mn(),t)}foreachOnPath_(e,t,i){if(hn(e))return this;{this.value&&i(t,this.value);const r=un(e),o=this.children.get(r);return o?o.foreachOnPath_(ii(e),Oi(t,r),i):new ui(null)}}foreach(e){this.foreach_(Mn(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(Oi(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Ic{constructor(e){this.writeTree_=e}static empty(){return new Ic(new ui(null))}}function hx(n,e,t){if(hn(e))return new Ic(new ui(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const l=_s(r,e);return o=o.updateChild(l,t),new Ic(n.writeTree_.set(r,o))}{const r=new ui(t),o=n.writeTree_.setTree(e,r);return new Ic(o)}}}function lF(n,e,t){let i=n;return co(t,(r,o)=>{i=hx(i,Oi(e,r),o)}),i}function K4(n,e){if(hn(e))return Ic.empty();{const t=n.writeTree_.setTree(e,new ui(null));return new Ic(t)}}function cF(n,e){return null!=Vg(n,e)}function Vg(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(_s(t.path,e)):null}function Z4(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(di,(i,r)=>{e.push(new pn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new pn(i,r.value))}),e}function yp(n,e){if(hn(e))return n;{const t=Vg(n,e);return new Ic(null!=t?new ui(t):n.writeTree_.subtree(e))}}function dF(n){return n.writeTree_.isEmpty()}function Ly(n,e){return Q4(Mn(),n.writeTree_,e)}function Q4(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?((0,N.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=Q4(Oi(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(Oi(n,".priority"),i)),t}}function US(n,e){return n3(e,n)}function kJ(n,e){if(n.snap)return xl(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&xl(Oi(n.path,t),e))return!0;return!1}function OJ(n){return n.visible}function X4(n,e,t){let i=Ic.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const l=o.path;let h;if(o.snap)xl(t,l)?(h=_s(t,l),i=hx(i,h,o.snap)):xl(l,t)&&(h=_s(l,t),i=hx(i,Mn(),o.snap.getChild(h)));else{if(!o.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(xl(t,l))h=_s(t,l),i=lF(i,h,o.children);else if(xl(l,t))if(h=_s(l,t),hn(h))i=lF(i,Mn(),o.children);else{const m=(0,N.DV)(o.children,un(h));if(m){const v=m.getChild(ii(h));i=hx(i,Mn(),v)}}}}}return i}function J4(n,e,t,i,r){if(i||r){const o=yp(n.visibleWrites,e);return!r&&dF(o)?t:r||null!=t||cF(o,Mn())?Ly(X4(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(xl(v.path,e)||xl(e,v.path))},e),t||on.EMPTY_NODE):null}{const o=Vg(n.visibleWrites,e);if(null!=o)return o;{const l=yp(n.visibleWrites,e);return dF(l)?t:null!=t||cF(l,Mn())?Ly(l,t||on.EMPTY_NODE):null}}}function HS(n,e,t,i){return J4(n.writeTree,n.treePath,e,t,i)}function uF(n,e){return function PJ(n,e,t){let i=on.EMPTY_NODE;const r=Vg(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(di,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(t){const o=yp(n.visibleWrites,e);return t.forEachChild(di,(l,h)=>{const m=Ly(yp(o,new Bn(l)),h);i=i.updateImmediateChild(l,m)}),Z4(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return Z4(yp(n.visibleWrites,e)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,e)}function e3(n,e,t,i){return function FJ(n,e,t,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Oi(e,t);if(cF(n.visibleWrites,o))return null;{const l=yp(n.visibleWrites,o);return dF(l)?r.getChild(t):Ly(l,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function zS(n,e){return function LJ(n,e){return Vg(n.visibleWrites,e)}(n.writeTree,Oi(n.treePath,e))}function hF(n,e,t){return function NJ(n,e,t,i){const r=Oi(e,t),o=Vg(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?Ly(yp(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function t3(n,e){return n3(Oi(n.treePath,e),n.writeTree)}function n3(n,e){return{treePath:n,writeTree:e}}class HJ{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;(0,N.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,ax(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,sx(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,Py(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw(0,N.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,ax(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const r3=new class zJ{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class fF{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new vp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return hF(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Bg(this.viewCache_),o=function UJ(n,e,t,i,r,o){return function BJ(n,e,t,i,r,o,l){let h;const m=yp(n.visibleWrites,e),v=Vg(m,Mn());if(null!=v)h=v;else{if(null==t)return[];h=Ly(m,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const x=[],S=l.getCompare(),R=o?h.getReverseIteratorFrom(i,l):h.getIteratorFrom(i,l);let F=R.getNext();for(;F&&x.length<r;)0!==S(F,i)&&x.push(F),F=R.getNext();return x}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function o3(n,e,t,i,r,o){const l=e.eventCache;if(null!=zS(i,t))return e;{let h,m;if(hn(t))if((0,N.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const v=Bg(e),S=uF(i,v instanceof on?v:on.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),S,o)}else{const v=HS(i,Bg(e));h=n.filter.updateFullNode(e.eventCache.getNode(),v,o)}else{const v=un(t);if(".priority"===v){(0,N.hu)(1===_p(t),"Can't have a priority with additional path components");const x=l.getNode();m=e.serverCache.getNode();const S=e3(i,t,x,m);h=null!=S?n.filter.updatePriority(x,S):l.getNode()}else{const x=ii(t);let S;if(l.isCompleteForChild(v)){m=e.serverCache.getNode();const R=e3(i,t,l.getNode(),m);S=null!=R?l.getNode().getImmediateChild(v).updateChild(x,R):l.getNode().getImmediateChild(v)}else S=hF(i,v,e.serverCache);h=null!=S?n.filter.updateChild(l.getNode(),v,S,x,r,o):l.getNode()}}return ux(e,h,l.isFullyInitialized()||hn(t),n.filter.filtersNodes())}}function jS(n,e,t,i,r,o,l,h){const m=e.serverCache;let v;const x=l?n.filter:n.filter.getIndexedFilter();if(hn(t))v=x.updateFullNode(m.getNode(),i,null);else if(x.filtersNodes()&&!m.isFiltered()){const F=m.getNode().updateChild(t,i);v=x.updateFullNode(m.getNode(),F,null)}else{const F=un(t);if(!m.isCompleteForPath(t)&&_p(t)>1)return e;const H=ii(t),te=m.getNode().getImmediateChild(F).updateChild(H,i);v=".priority"===F?x.updatePriority(m.getNode(),te):x.updateChild(m.getNode(),F,te,H,r3,null)}const S=Y4(e,v,m.isFullyInitialized()||hn(t),x.filtersNodes());return o3(n,S,t,r,new fF(r,S,o),h)}function pF(n,e,t,i,r,o,l){const h=e.eventCache;let m,v;const x=new fF(r,e,o);if(hn(t))v=n.filter.updateFullNode(e.eventCache.getNode(),i,l),m=ux(e,v,!0,n.filter.filtersNodes());else{const S=un(t);if(".priority"===S)v=n.filter.updatePriority(e.eventCache.getNode(),i),m=ux(e,v,h.isFullyInitialized(),h.isFiltered());else{const R=ii(t),F=h.getNode().getImmediateChild(S);let H;if(hn(R))H=i;else{const Y=x.getCompleteChild(S);H=null!=Y?".priority"===$P(R)&&Y.getChild(P4(R)).isEmpty()?Y:Y.updateChild(R,i):on.EMPTY_NODE}m=F.equals(H)?e:ux(e,n.filter.updateChild(h.getNode(),S,H,R,x,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return m}function s3(n,e){return n.eventCache.isCompleteForChild(e)}function a3(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function mF(n,e,t,i,r,o,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let v,m=e;v=hn(t)?i:new ui(null).setTree(t,i);const x=e.serverCache.getNode();return v.children.inorderTraversal((S,R)=>{if(x.hasChild(S)){const H=a3(0,e.serverCache.getNode().getImmediateChild(S),R);m=jS(n,m,new Bn(S),H,r,o,l,h)}}),v.children.inorderTraversal((S,R)=>{const F=!e.serverCache.isCompleteForChild(S)&&null===R.value;if(!x.hasChild(S)&&!F){const Y=a3(0,e.serverCache.getNode().getImmediateChild(S),R);m=jS(n,m,new Bn(S),Y,r,o,l,h)}}),m}class QJ{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new JP(i.getIndex()),o=function uJ(n){return n.loadsAllData()?new JP(n.getIndex()):n.hasLimit()?new dJ(n):new lx(n)}(i);this.processor_=function jJ(n){return{filter:n}}(o);const l=t.serverCache,h=t.eventCache,m=r.updateFullNode(on.EMPTY_NODE,l.getNode(),null),v=o.updateFullNode(on.EMPTY_NODE,h.getNode(),null),x=new vp(m,l.isFullyInitialized(),r.filtersNodes()),S=new vp(v,h.isFullyInitialized(),o.filtersNodes());this.viewCache_=BS(S,x),this.eventGenerator_=new xJ(this.query_)}get query(){return this.query_}}function eee(n,e){const t=Bg(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!hn(e)&&!t.getImmediateChild(un(e)).isEmpty())?t.getChild(e):null}function l3(n){return 0===n.eventRegistrations_.length}function c3(n,e,t){const i=[];if(t){(0,N.hu)(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(t,r);l&&i.push(l)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const l=n.eventRegistrations_[o];if(l.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function d3(n,e,t,i){e.type===Cl.MERGE&&null!==e.source.queryId&&((0,N.hu)(Bg(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(VS(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function $J(n,e,t,i,r){const o=new HJ;let l,h;if(t.type===Cl.OVERWRITE){const v=t;v.source.fromUser?l=pF(n,e,v.path,v.snap,i,r,o):((0,N.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered()&&!hn(v.path),l=jS(n,e,v.path,v.snap,i,r,h,o))}else if(t.type===Cl.MERGE){const v=t;v.source.fromUser?l=function qJ(n,e,t,i,r,o,l){let h=e;return i.foreach((m,v)=>{const x=Oi(t,m);s3(e,un(x))&&(h=pF(n,h,x,v,r,o,l))}),i.foreach((m,v)=>{const x=Oi(t,m);s3(e,un(x))||(h=pF(n,h,x,v,r,o,l))}),h}(n,e,v.path,v.children,i,r,o):((0,N.hu)(v.source.fromServer,"Unknown source."),h=v.source.tagged||e.serverCache.isFiltered(),l=mF(n,e,v.path,v.children,i,r,h,o))}else if(t.type===Cl.ACK_USER_WRITE){const v=t;l=v.revert?function ZJ(n,e,t,i,r,o){let l;if(null!=zS(i,t))return e;{const h=new fF(i,e,r),m=e.eventCache.getNode();let v;if(hn(t)||".priority"===un(t)){let x;if(e.serverCache.isFullyInitialized())x=HS(i,Bg(e));else{const S=e.serverCache.getNode();(0,N.hu)(S instanceof on,"serverChildren would be complete if leaf node"),x=uF(i,S)}v=n.filter.updateFullNode(m,x,o)}else{const x=un(t);let S=hF(i,x,e.serverCache);null==S&&e.serverCache.isCompleteForChild(x)&&(S=m.getImmediateChild(x)),v=null!=S?n.filter.updateChild(m,x,S,ii(t),h,o):e.eventCache.getNode().hasChild(x)?n.filter.updateChild(m,x,on.EMPTY_NODE,ii(t),h,o):m,v.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=HS(i,Bg(e)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,o)))}return l=e.serverCache.isFullyInitialized()||null!=zS(i,Mn()),ux(e,v,l,n.filter.filtersNodes())}}(n,e,v.path,i,r,o):function YJ(n,e,t,i,r,o,l){if(null!=zS(r,t))return e;const h=e.serverCache.isFiltered(),m=e.serverCache;if(null!=i.value){if(hn(t)&&m.isFullyInitialized()||m.isCompleteForPath(t))return jS(n,e,t,m.getNode().getChild(t),r,o,h,l);if(hn(t)){let v=new ui(null);return m.getNode().forEachChild(Kd,(x,S)=>{v=v.set(new Bn(x),S)}),mF(n,e,t,v,r,o,h,l)}return e}{let v=new ui(null);return i.foreach((x,S)=>{const R=Oi(t,x);m.isCompleteForPath(R)&&(v=v.set(x,m.getNode().getChild(R)))}),mF(n,e,t,v,r,o,h,l)}}(n,e,v.path,v.affectedTree,i,r,o)}else{if(t.type!==Cl.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+t.type);l=function KJ(n,e,t,i,r){const o=e.serverCache;return o3(n,Y4(e,o.getNode(),o.isFullyInitialized()||hn(t),o.isFiltered()),t,i,r3,r)}(n,e,t.path,i,o)}const m=o.getChanges();return function WJ(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=VS(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(G4(VS(e)))}}(e,l,m),{viewCache:l,changes:m}}(n.processor_,r,e,t,i);return function GJ(n,e){(0,N.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,N.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,u3(n,o.changes,o.viewCache.eventCache.getNode(),null)}function u3(n,e,t,i){return function CJ(n,e,t,i){const r=[],o=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(function cJ(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),dx(n,r,"child_removed",e,i,t),dx(n,r,"child_added",e,i,t),dx(n,r,"child_moved",o,i,t),dx(n,r,"child_changed",e,i,t),dx(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let GS,WS;class h3{constructor(){this.views=new Map}}function gF(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return(0,N.hu)(null!=o,"SyncTree gave us an op for an invalid query."),d3(o,e,t,i)}{let o=[];for(const l of n.views.values())o=o.concat(d3(l,e,t,i));return o}}function f3(n,e,t,i,r){const l=n.views.get(e._queryIdentifier);if(!l){let h=HS(t,r?i:null),m=!1;h?m=!0:i instanceof on?(h=uF(t,i),m=!1):(h=on.EMPTY_NODE,m=!1);const v=BS(new vp(h,m,!1),new vp(i,r,!1));return new QJ(e,v)}return l}function p3(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function bp(n,e){let t=null;for(const i of n.views.values())t=t||eee(i,e);return t}function m3(n,e){return e._queryParams.loadsAllData()?$S(n):n.views.get(e._queryIdentifier)}function g3(n,e){return null!=m3(n,e)}function wp(n){return null!=$S(n)}function $S(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let dee=1;class _3{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ui(null),this.pendingWriteTree_=function VJ(){return{visibleWrites:Ic.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function _F(n,e,t,i,r){return function SJ(n,e,t,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=hx(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?By(n,new Lg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function xp(n,e,t=!1){const i=function AJ(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function MJ(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,N.hu)(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&kJ(h,i.path)?r=!1:xl(i.path,h.path)&&(o=!0)),l--}return!!r&&(o?(function RJ(n){n.visibleWrites=X4(n.allWrites,OJ,Mn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=K4(n.visibleWrites,i.path):co(i.children,m=>{n.visibleWrites=K4(n.visibleWrites,Oi(i.path,m))}),!0))}(n.pendingWriteTree_,e)){let o=new ui(null);return null!=i.snap?o=o.set(Mn(),!0):co(i.children,l=>{o=o.set(new Bn(l),!0)}),By(n,new LS(i.path,o,t))}return[]}function fx(n,e,t){return By(n,new Lg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function qS(n,e,t,i,r=!1){const o=e._path,l=n.syncPointTree_.get(o);let h=[];if(l&&("default"===e._queryIdentifier||g3(l,e))){const m=function aee(n,e,t,i){const r=e._queryIdentifier,o=[];let l=[];const h=wp(n);if("default"===r)for(const[m,v]of n.views.entries())l=l.concat(c3(v,t,i)),l3(v)&&(n.views.delete(m),v.query._queryParams.loadsAllData()||o.push(v.query));else{const m=n.views.get(r);m&&(l=l.concat(c3(m,t,i)),l3(m)&&(n.views.delete(r),m.query._queryParams.loadsAllData()||o.push(m.query)))}return h&&!wp(n)&&o.push(new(function ree(){return(0,N.hu)(GS,"Reference.ts has not been loaded"),GS}())(e._repo,e._path)),{removed:o,events:l}}(l,e,t,i);(function oee(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const v=m.removed;if(h=m.events,!r){const x=-1!==v.findIndex(R=>R._queryParams.loadsAllData()),S=n.syncPointTree_.findOnPath(o,(R,F)=>wp(F));if(x&&!S){const R=n.syncPointTree_.subtree(o);if(!R.isEmpty()){const F=function _ee(n){return n.fold((e,t,i)=>{if(t&&wp(t))return[$S(t)];{let r=[];return t&&(r=p3(t)),co(i,(o,l)=>{r=r.concat(l)}),r}})}(R);for(let H=0;H<F.length;++H){const Y=F[H],te=Y.query,Oe=w3(n,Y);n.listenProvider_.startListening(mx(te),px(n,te),Oe.hashFn,Oe.onComplete)}}}!S&&v.length>0&&!i&&(x?n.listenProvider_.stopListening(mx(e),null):v.forEach(R=>{const F=n.queryToTagMap.get(KS(R));n.listenProvider_.stopListening(mx(R),F)}))}!function vee(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=KS(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,v)}return h}function v3(n,e,t,i){const r=yF(n,i);if(null!=r){const o=bF(r),l=o.path,h=o.queryId,m=_s(l,e);return wF(n,l,new Lg(sF(h),m,t))}return[]}function vF(n,e,t,i=!1){const r=e._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(r,(R,F)=>{const H=_s(R,r);o=o||bp(F,H),l=l||wp(F)});let m,h=n.syncPointTree_.get(r);h?(l=l||wp(h),o=o||bp(h,Mn())):(h=new h3,n.syncPointTree_=n.syncPointTree_.set(r,h)),null!=o?m=!0:(m=!1,o=on.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((F,H)=>{const Y=bp(H,Mn());Y&&(o=o.updateImmediateChild(F,Y))}));const v=g3(h,e);if(!v&&!e._queryParams.loadsAllData()){const R=KS(e);(0,N.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const F=function yee(){return dee++}();n.queryToTagMap.set(R,F),n.tagToQueryMap.set(F,R)}let S=function see(n,e,t,i,r,o){const l=f3(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,l),function tee(n,e){n.eventRegistrations_.push(e)}(l,t),function nee(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(di,(o,l)=>{i.push(Py(o,l))}),t.isFullyInitialized()&&i.push(G4(t.getNode())),u3(n,i,t.getNode(),e)}(l,t)}(h,e,t,US(n.pendingWriteTree_,r),o,m);if(!v&&!l&&!i){const R=m3(h,e);S=S.concat(function bee(n,e,t){const i=e._path,r=px(n,e),o=w3(n,t),l=n.listenProvider_.startListening(mx(e),r,o.hashFn,o.onComplete),h=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!wp(h.value),"If we're adding a query, it shouldn't be shadowed");else{const m=h.fold((v,x,S)=>{if(!hn(v)&&x&&wp(x))return[$S(x).query];{let R=[];return x&&(R=R.concat(p3(x).map(F=>F.query))),co(S,(F,H)=>{R=R.concat(H)}),R}});for(let v=0;v<m.length;++v){const x=m[v];n.listenProvider_.stopListening(mx(x),px(n,x))}}return l}(n,e,R))}return S}function YS(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(l,h)=>{const v=bp(h,_s(l,e));if(v)return v});return J4(r,e,o,t,!0)}function By(n,e){return y3(e,n.syncPointTree_,null,US(n.pendingWriteTree_,Mn()))}function y3(n,e,t,i){if(hn(n.path))return b3(n,e,t,i);{const r=e.get(Mn());null==t&&null!=r&&(t=bp(r,Mn()));let o=[];const l=un(n.path),h=n.operationForChild(l),m=e.children.get(l);if(m&&h){const v=t?t.getImmediateChild(l):null,x=t3(i,l);o=o.concat(y3(h,m,v,x))}return r&&(o=o.concat(gF(r,n,i,t))),o}}function b3(n,e,t,i){const r=e.get(Mn());null==t&&null!=r&&(t=bp(r,Mn()));let o=[];return e.children.inorderTraversal((l,h)=>{const m=t?t.getImmediateChild(l):null,v=t3(i,l),x=n.operationForChild(l);x&&(o=o.concat(b3(x,h,m,v)))}),r&&(o=o.concat(gF(r,n,i,t))),o}function w3(n,e){const t=e.query,i=px(n,t);return{hashFn:()=>(function XJ(n){return n.viewCache_.serverCache.getNode()}(e)||on.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function pee(n,e,t){const i=yF(n,t);if(i){const r=bF(i),o=r.path,l=r.queryId,h=_s(o,e);return wF(n,o,new cx(sF(l),h))}return[]}(n,t._path,i):function fee(n,e){return By(n,new cx({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const o=function hX(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return qS(n,t,null,o)}}}}function px(n,e){const t=KS(e);return n.queryToTagMap.get(t)}function KS(n){return n._path.toString()+"$"+n._queryIdentifier}function yF(n,e){return n.tagToQueryMap.get(e)}function bF(n){const e=n.indexOf("$");return(0,N.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Bn(n.substr(0,e))}}function wF(n,e,t){const i=n.syncPointTree_.get(e);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),gF(i,t,US(n.pendingWriteTree_,e),null)}function mx(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function cee(){return(0,N.hu)(WS,"Reference.ts has not been loaded"),WS}())(n._repo,n._path):n}class xF{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new xF(t)}node(){return this.node_}}class CF{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Oi(this.path_,e);return new CF(this.syncTree_,t)}node(){return YS(this.syncTree_,this.path_)}}const x3=function(n,e,t){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?xee(n[".sv"],e,t):"object"==typeof n[".sv"]?Cee(n[".sv"],e):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},xee=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},Cee=function(n,e,t){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=e.node();if((0,N.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},C3=function(n,e,t,i){return DF(e,new CF(t,n),i)},EF=function(n,e,t){return DF(n,new xF(e),t)};function DF(n,e,t){const i=n.getPriority().val(),r=x3(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const l=n,h=x3(l.getValue(),e,t);return h!==l.getValue()||r!==l.getPriority().val()?new Ry(h,Gi(r)):n}{const l=n;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new Ry(r))),l.forEachChild(di,(h,m)=>{const v=DF(m,e.getImmediateChild(h),t);v!==m&&(o=o.updateImmediateChild(h,v))}),o}}class IF{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function ZS(n,e){let t=e instanceof Bn?e:new Bn(e),i=n,r=un(t);for(;null!==r;){const o=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new IF(r,i,o),t=ii(t),r=un(t)}return i}function Ug(n){return n.node.value}function SF(n,e){n.node.value=e,TF(n)}function E3(n){return n.node.childCount>0}function QS(n,e){co(n.node.children,(t,i)=>{e(new IF(t,n,i))})}function D3(n,e,t,i){t&&!i&&e(n),QS(n,r=>{D3(r,e,!0,i)}),t&&i&&e(n)}function gx(n){return new Bn(null===n.parent?n.name:gx(n.parent)+"/"+n.name)}function TF(n){null!==n.parent&&function Iee(n,e,t){const i=function Eee(n){return void 0===Ug(n)&&!E3(n)}(t),r=(0,N.r3)(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,TF(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,TF(n))}(n.parent,n.name,n)}const See=/[\[\].#$\/\u0000-\u001F\u007F]/,Tee=/[\[\].#$\u0000-\u001F\u007F]/,AF=10485760,XS=function(n){return"string"==typeof n&&0!==n.length&&!See.test(n)},I3=function(n){return"string"==typeof n&&0!==n.length&&!Tee.test(n)},_x=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!DS(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},Zd=function(n,e,t,i){i&&void 0===e||vx((0,N.gK)(n,"value"),e,t)},vx=function(n,e,t){const i=t instanceof Bn?new $X(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Fg(i));if("function"==typeof e)throw new Error(n+"contains a function "+Fg(i)+" with contents = "+e.toString());if(DS(e))throw new Error(n+"contains "+e.toString()+" "+Fg(i));if("string"==typeof e&&e.length>AF/3&&(0,N.ug)(e)>AF)throw new Error(n+"contains a string greater than "+AF+" utf8 bytes "+Fg(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(co(e,(l,h)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(o=!0,!XS(l)))throw new Error(n+" contains an invalid key ("+l+") "+Fg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function WX(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,N.ug)(e),F4(n)})(i,l),vx(n,h,i),function qX(n){const e=n.parts_.pop();n.byteLength_-=(0,N.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Fg(i)+" in addition to actual children.")}},S3=function(n,e,t,i){if(i&&void 0===e)return;const r=(0,N.gK)(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];co(e,(l,h)=>{const m=new Bn(l);if(vx(r,h,Oi(t,m)),".priority"===$P(m)&&!_x(h))throw new Error(r+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(m)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=nx(i);for(let l=0;l<o.length;l++)if((".priority"!==o[l]||l!==o.length-1)&&!XS(o[l]))throw new Error(n+"contains an invalid key ("+o[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(GX);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&xl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},MF=function(n,e,t){if(!t||void 0!==e){if(DS(e))throw new Error((0,N.gK)(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_x(e))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},yx=function(n,e,t,i){if(!(i&&void 0===t||XS(t)))throw new Error((0,N.gK)(n,e)+'was an invalid key = "'+t+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},bx=function(n,e,t,i){if(!(i&&void 0===t||I3(t)))throw new Error((0,N.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},El=function(n,e){if(".info"===un(e))throw new Error(n+" failed = Can't modify data under /.info/")},T3=function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!XS(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),I3(n)}(t))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Ree{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function JS(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!WP(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function A3(n,e,t){JS(n,t),M3(n,i=>WP(i,e))}function Da(n,e,t){JS(n,t),M3(n,i=>xl(i,e)||xl(e,i))}function M3(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(Oee(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function Oee(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Og&&lo("event: "+t.toString()),My(i)}}}const k3="repo_interrupt";class Fee{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ree,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=NS(),this.transactionQueueTree_=new IF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function R3(n){const t=n.infoData_.getNode(new Bn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function wx(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:R3(n)})}function O3(n,e,t,i,r){n.dataUpdateCount++;const o=new Bn(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(r)if(i){const m=(0,N.UI)(t,v=>Gi(v));l=function mee(n,e,t,i){const r=yF(n,i);if(r){const o=bF(r),l=o.path,h=o.queryId,m=_s(l,e),v=ui.fromObject(t);return wF(n,l,new Ny(sF(h),m,v))}return[]}(n.serverSyncTree_,o,m,r)}else{const m=Gi(t);l=v3(n.serverSyncTree_,o,m,r)}else if(i){const m=(0,N.UI)(t,v=>Gi(v));l=function hee(n,e,t){const i=ui.fromObject(t);return By(n,new Ny({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,m)}else{const m=Gi(t);l=fx(n.serverSyncTree_,o,m)}let h=o;l.length>0&&(h=Uy(n,o)),Da(n.eventQueue_,h,l)}function P3(n,e){kF(n,"connected",e),!1===e&&function Uee(n){Vy(n,"onDisconnectEvents");const e=wx(n),t=NS();iF(n.onDisconnect_,Mn(),(r,o)=>{const l=C3(r,o,n.serverSyncTree_,e);Fy(t,r,l)});let i=[];iF(t,Mn(),(r,o)=>{i=i.concat(fx(n.serverSyncTree_,r,o));const l=FF(n,r);Uy(n,l)}),n.onDisconnect_=NS(),Da(n.eventQueue_,Mn(),i)}(n)}function kF(n,e,t){const i=new Bn("/.info/"+e),r=Gi(t);n.infoData_.updateSnapshot(i,r);const o=fx(n.infoSyncTree_,i,r);Da(n.eventQueue_,i,o)}function eT(n){return n.nextWriteId_++}function RF(n,e,t,i,r){Vy(n,"set",{path:e.toString(),value:t,priority:i});const o=wx(n),l=Gi(t,i),h=YS(n.serverSyncTree_,e),m=EF(l,h,o),v=eT(n),x=_F(n.serverSyncTree_,e,m,v,!0);JS(n.eventQueue_,x),n.server_.put(e.toString(),l.val(!0),(R,F)=>{const H="ok"===R;H||Go("set at "+e+" failed: "+R);const Y=xp(n.serverSyncTree_,v,!H);Da(n.eventQueue_,e,Y),Cp(0,r,R,F)});const S=FF(n,e);Uy(n,S),Da(n.eventQueue_,S,[])}function Hee(n,e,t){n.server_.onDisconnectCancel(e.toString(),(i,r)=>{"ok"===i&&nF(n.onDisconnect_,e),Cp(0,t,i,r)})}function F3(n,e,t,i){const r=Gi(t);n.server_.onDisconnectPut(e.toString(),r.val(!0),(o,l)=>{"ok"===o&&Fy(n.onDisconnect_,e,r),Cp(0,i,o,l)})}function OF(n,e,t){let i;i=".info"===un(e._path)?qS(n.infoSyncTree_,e,t):qS(n.serverSyncTree_,e,t),A3(n.eventQueue_,e._path,i)}function N3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(k3)}function Vy(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),lo(t,...e)}function Cp(n,e,t,i){e&&My(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const l=new Error(o);l.code=r,e(l)}})}function PF(n,e,t){return YS(n.serverSyncTree_,e,t)||on.EMPTY_NODE}function tT(n,e=n.transactionQueueTree_){if(e||nT(n,e),Ug(e)){const t=B3(n,e);(0,N.hu)(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function qee(n,e,t){const i=t.map(v=>v.currentWriteId),r=PF(n,e,i);let o=r;const l=r.hash();for(let v=0;v<t.length;v++){const x=t[v];(0,N.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const S=_s(e,x.path);o=o.updateChild(S,x.currentOutputSnapshotRaw)}const h=o.val(!0),m=e;n.server_.put(m.toString(),h,v=>{Vy(n,"transaction put response",{path:m.toString(),status:v});let x=[];if("ok"===v){const S=[];for(let R=0;R<t.length;R++)t[R].status=2,x=x.concat(xp(n.serverSyncTree_,t[R].currentWriteId)),t[R].onComplete&&S.push(()=>t[R].onComplete(null,!0,t[R].currentOutputSnapshotResolved)),t[R].unwatcher();nT(n,ZS(n.transactionQueueTree_,e)),tT(n,n.transactionQueueTree_),Da(n.eventQueue_,e,x);for(let R=0;R<S.length;R++)My(S[R])}else{if("datastale"===v)for(let S=0;S<t.length;S++)t[S].status=3===t[S].status?4:0;else{Go("transaction at "+m.toString()+" failed: "+v);for(let S=0;S<t.length;S++)t[S].status=4,t[S].abortReason=v}Uy(n,e)}},l)}(n,gx(e),t)}else E3(e)&&QS(e,t=>{tT(n,t)})}function Uy(n,e){const t=L3(n,e),i=gx(t);return function Yee(n,e,t){if(0===e.length)return;const i=[];let r=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const m=e[h],v=_s(t,m.path);let S,x=!1;if((0,N.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)x=!0,S=m.abortReason,r=r.concat(xp(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=25)x=!0,S="maxretry",r=r.concat(xp(n.serverSyncTree_,m.currentWriteId,!0));else{const R=PF(n,m.path,l);m.currentInputSnapshot=R;const F=e[h].update(R.val());if(void 0!==F){vx("transaction failed: Data returned ",F,m.path);let H=Gi(F);"object"==typeof F&&null!=F&&(0,N.r3)(F,".priority")||(H=H.updatePriority(R.getPriority()));const te=m.currentWriteId,Oe=wx(n),Ye=EF(H,R,Oe);m.currentOutputSnapshotRaw=H,m.currentOutputSnapshotResolved=Ye,m.currentWriteId=eT(n),l.splice(l.indexOf(te),1),r=r.concat(_F(n.serverSyncTree_,m.path,Ye,m.currentWriteId,m.applyLocally)),r=r.concat(xp(n.serverSyncTree_,te,!0))}else x=!0,S="nodata",r=r.concat(xp(n.serverSyncTree_,m.currentWriteId,!0))}Da(n.eventQueue_,t,r),r=[],x&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&i.push("nodata"===S?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(S),!1,null)))}nT(n,n.transactionQueueTree_);for(let h=0;h<i.length;h++)My(i[h]);tT(n,n.transactionQueueTree_)}(n,B3(n,t),i),i}function L3(n,e){let t,i=n.transactionQueueTree_;for(t=un(e);null!==t&&void 0===Ug(i);)i=ZS(i,t),t=un(e=ii(e));return i}function B3(n,e){const t=[];return V3(n,e,t),t.sort((i,r)=>i.order-r.order),t}function V3(n,e,t){const i=Ug(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);QS(e,r=>{V3(n,r,t)})}function nT(n,e){const t=Ug(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,SF(e,t.length>0?t:void 0)}QS(e,i=>{nT(n,i)})}function FF(n,e){const t=gx(L3(n,e)),i=ZS(n.transactionQueueTree_,e);return function Dee(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{NF(n,r)}),NF(n,i),D3(i,r=>{NF(n,r)}),t}function NF(n,e){const t=Ug(e);if(t){const i=[];let r=[],o=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,N.hu)(o===l-1,"All SENT items should be at beginning of queue."),o=l,t[l].status=3,t[l].abortReason="set"):((0,N.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),r=r.concat(xp(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&i.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===o?SF(e,void 0):t.length=o+1,Da(n.eventQueue_,gx(e),r);for(let l=0;l<i.length;l++)My(i[l])}}const LF=function(n,e){const t=Qee(n),i=t.namespace;return"firebase.com"===t.domain&&Yd(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&Yd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Go("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new VP(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Bn(t.pathString)}},Qee=function(n){let e="",t="",i="",r="",o="",l=!0,h="https",m=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(h=n.substring(0,v-1),n=n.substring(v+2));let x=n.indexOf("/");-1===x&&(x=n.length);let S=n.indexOf("?");-1===S&&(S=n.length),e=n.substring(0,Math.min(x,S)),x<S&&(r=function Kee(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(x,S)));const R=function Zee(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Go(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,S)));v=e.indexOf(":"),v>=0?(l="https"===h||"wss"===h,m=parseInt(e.substring(v+1),10)):v=e.length;const F=e.slice(0,v);if("localhost"===F.toLowerCase())t="localhost";else if(F.split(".").length<=2)t=F;else{const H=e.indexOf(".");i=e.substring(0,H).toLowerCase(),t=e.substring(H+1),o=i}"ns"in R&&(o=R.ns)}return{host:e,port:m,domain:t,subdomain:i,secure:l,scheme:h,pathString:r,namespace:o}},U3="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Xee=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const o=new Array(8);for(r=7;r>=0;r--)o[r]=U3.charAt(t%64),t=Math.floor(t/64);(0,N.hu)(0===t,"Cannot push at time == 0");let l=o.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=U3.charAt(e[r]);return(0,N.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class H3{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Wl)(this.snapshot.exportVal())}}class z3{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class BF{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class j3{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new N.BH;return Hee(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){El("OnDisconnect.remove",this._path);const e=new N.BH;return F3(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){El("OnDisconnect.set",this._path),Zd("OnDisconnect.set",e,this._path,!1);const t=new N.BH;return F3(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){El("OnDisconnect.setWithPriority",this._path),Zd("OnDisconnect.setWithPriority",e,this._path,!1),MF("OnDisconnect.setWithPriority",t,!1);const i=new N.BH;return function zee(n,e,t,i,r){const o=Gi(t,i);n.server_.onDisconnectPut(e.toString(),o.val(!0),(l,h)=>{"ok"===l&&Fy(n.onDisconnect_,e,o),Cp(0,r,l,h)})}(this._repo,this._path,e,t,i.wrapCallback(()=>{})),i.promise}update(e){El("OnDisconnect.update",this._path),S3("OnDisconnect.update",e,this._path,!1);const t=new N.BH;return function jee(n,e,t,i){if((0,N.xb)(t))return lo("onDisconnect().update() called with empty data.  Don't do anything."),void Cp(0,i,"ok",void 0);n.server_.onDisconnectMerge(e.toString(),t,(r,o)=>{"ok"===r&&co(t,(l,h)=>{const m=Gi(h);Fy(n.onDisconnect_,Oi(e,l),m)}),Cp(0,i,r,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class qs{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return hn(this._path)?null:$P(this._path)}get ref(){return new Dl(this._repo,this._path)}get _queryIdentifier(){const e=W4(this._queryParams),t=LP(e);return"{}"===t?"default":t}get _queryObject(){return W4(this._queryParams)}isEqual(e){if(!((e=(0,N.m9)(e))instanceof qs))return!1;const t=this._repo===e._repo,i=WP(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function jX(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}function iT(n,e){if(!0===n._orderByCalled)throw new Error(e+": You can't combine multiple orderBy calls.")}function Ep(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===Kd){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==mp)throw new Error(i);if("string"!=typeof e)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==sh)throw new Error(i);if("string"!=typeof t)throw new Error(r)}}else if(n.getIndex()===di){if(null!=e&&!_x(e)||null!=t&&!_x(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof QP||n.getIndex()===XP,"unknown index type."),null!=e&&"object"==typeof e||null!=t&&"object"==typeof t)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function rT(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Dl extends qs{constructor(e,t){super(e,t,new OS,!1)}get parent(){const e=P4(this._path);return null===e?null:new Dl(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Hg{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Bn(e),i=zg(this.ref,e);return new Hg(this._node.getChild(t),i,di)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Hg(r,zg(this.ref,i),di)))}hasChild(e){const t=new Bn(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function G3(n,e){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==e?zg(n._root,e):n._root}function $3(n,e){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const t=LF(e,n._repo.repoInfo_.nodeAdmin);T3("refFromURL",t);const i=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Yd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),G3(n,t.path.toString())}function zg(n,e){return null===un((n=(0,N.m9)(n))._path)?((t=e)&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),bx("child","path",t,!1)):bx("child","path",e,!1),new Dl(n._repo,Oi(n._path,e));var t}function VF(n,e){n=(0,N.m9)(n),El("set",n._path),Zd("set",e,n._path,!1);const t=new N.BH;return RF(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function ite(n,e){S3("update",e,n._path,!1);const t=new N.BH;return function Vee(n,e,t,i){Vy(n,"update",{path:e.toString(),value:t});let r=!0;const o=wx(n),l={};if(co(t,(h,m)=>{r=!1,l[h]=C3(Oi(e,h),Gi(m),n.serverSyncTree_,o)}),r)lo("update() called with empty data.  Don't do anything."),Cp(0,i,"ok",void 0);else{const h=eT(n),m=function uee(n,e,t,i){!function TJ(n,e,t,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=lF(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=ui.fromObject(t);return By(n,new Ny({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,l,h);JS(n.eventQueue_,m),n.server_.merge(e.toString(),t,(v,x)=>{const S="ok"===v;S||Go("update at "+e+" failed: "+v);const R=xp(n.serverSyncTree_,h,!S),F=R.length>0?Uy(n,e):e;Da(n.eventQueue_,F,R),Cp(0,i,v,x)}),co(t,v=>{const x=FF(n,Oi(e,v));Uy(n,x)}),Da(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function rte(n){n=(0,N.m9)(n);const e=new BF(()=>{}),t=new xx(e);return function Bee(n,e,t){const i=function gee(n,e){const t=e._path;let i=null;n.syncPointTree_.foreachOnPath(t,(v,x)=>{const S=_s(v,t);i=i||bp(x,S)});let r=n.syncPointTree_.get(t);r?i=i||bp(r,Mn()):(r=new h3,n.syncPointTree_=n.syncPointTree_.set(t,r));const o=null!=i,l=o?new vp(i,!0,!1):null;return function JJ(n){return VS(n.viewCache_)}(f3(r,e,US(n.pendingWriteTree_,e._path),o?l.getNode():on.EMPTY_NODE,o))}(n.serverSyncTree_,e);return null!=i?Promise.resolve(i):n.server_.get(e).then(r=>{const o=Gi(r).withIndex(e._queryParams.getIndex());let l;if(vF(n.serverSyncTree_,e,t,!0),e._queryParams.loadsAllData())l=fx(n.serverSyncTree_,e._path,o);else{const h=px(n.serverSyncTree_,e);l=v3(n.serverSyncTree_,e._path,o,h)}return Da(n.eventQueue_,e._path,l),qS(n.serverSyncTree_,e,t,null,!0),o},r=>(Vy(n,"get for query "+(0,N.Wl)(e)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,t).then(i=>new Hg(i,new Dl(n._repo,n._path),n._queryParams.getIndex()))}class xx{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new H3("value",this,new Hg(e.snapshotNode,new Dl(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new z3(this,e,t):null}matches(e){return e instanceof xx&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class oT{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new z3(this,e,t):null}createEvent(e,t){(0,N.hu)(null!=e.childName,"Child events should have a childName.");const i=zg(new Dl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new H3(e.type,this,new Hg(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof oT&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Cx(n,e,t,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const m=t,v=(x,S)=>{OF(n._repo,n,h),m(x,S)};v.userCallback=t.userCallback,v.context=t.context,t=v}const l=new BF(t,o||void 0),h="value"===e?new xx(l):new oT(e,l);return function Gee(n,e,t){let i;i=".info"===un(e._path)?vF(n.infoSyncTree_,e,t):vF(n.serverSyncTree_,e,t),A3(n.eventQueue_,e._path,i)}(n._repo,n,h),()=>OF(n._repo,n,h)}function UF(n,e,t,i){return Cx(n,"value",e,t,i)}function W3(n,e,t,i){return Cx(n,"child_added",e,t,i)}function q3(n,e,t,i){return Cx(n,"child_changed",e,t,i)}function Y3(n,e,t,i){return Cx(n,"child_moved",e,t,i)}function K3(n,e,t,i){return Cx(n,"child_removed",e,t,i)}function Z3(n,e,t){let i=null;const r=t?new BF(t):null;"value"===e?i=new xx(r):e&&(i=new oT(e,r)),OF(n._repo,n,i)}class Sc{}class Q3 extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Zd("endAt",this._value,e._path,!0);const t=tF(e._queryParams,this._value,this._key);if(rT(t),Ep(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qs(e._repo,e._path,t,e._orderByCalled)}}class ste extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Zd("endBefore",this._value,e._path,!1);const t=function mJ(n,e,t){let i;return i=tF(n,e,n.index_===Kd||t?t:mp),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(rT(t),Ep(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new qs(e._repo,e._path,t,e._orderByCalled)}}class X3 extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Zd("startAt",this._value,e._path,!0);const t=eF(e._queryParams,this._value,this._key);if(rT(t),Ep(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new qs(e._repo,e._path,t,e._orderByCalled)}}class cte extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){Zd("startAfter",this._value,e._path,!1);const t=function pJ(n,e,t){let i;return i=eF(n,e,n.index_===Kd||t?t:sh),i.startAfterSet_=!0,i}(e._queryParams,this._value,this._key);if(rT(t),Ep(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new qs(e._repo,e._path,t,e._orderByCalled)}}class ute extends Sc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new qs(e._repo,e._path,function hJ(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}(e._queryParams,this._limit),e._orderByCalled)}}class fte extends Sc{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new qs(e._repo,e._path,function fJ(n,e){const t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}(e._queryParams,this._limit),e._orderByCalled)}}class mte extends Sc{constructor(e){super(),this._path=e}_apply(e){iT(e,"orderByChild");const t=new Bn(this._path);if(hn(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new QP(t),r=PS(e._queryParams,i);return Ep(r),new qs(e._repo,e._path,r,!0)}}class _te extends Sc{_apply(e){iT(e,"orderByKey");const t=PS(e._queryParams,Kd);return Ep(t),new qs(e._repo,e._path,t,!0)}}class yte extends Sc{_apply(e){iT(e,"orderByPriority");const t=PS(e._queryParams,di);return Ep(t),new qs(e._repo,e._path,t,!0)}}class wte extends Sc{_apply(e){iT(e,"orderByValue");const t=PS(e._queryParams,XP);return Ep(t),new qs(e._repo,e._path,t,!0)}}class Cte extends Sc{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(Zd("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Q3(this._value,this._key)._apply(new X3(this._value,this._key)._apply(e))}}function Tc(n,...e){let t=(0,N.m9)(n);for(const i of e)t=i._apply(t);return t}(function iee(n){(0,N.hu)(!GS,"__referenceConstructor has already been defined"),GS=n})(Dl),function lee(n){(0,N.hu)(!WS,"__referenceConstructor has already been defined"),WS=n}(Dl);const HF={};function e6(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Yd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),lo("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,v,l=LF(o,r),h=l.repoInfo;typeof process<"u"&&process.env&&(v=process.env.FIREBASE_DATABASE_EMULATOR_HOST),v?(m=!0,o=`http://${v}?ns=${h.namespace}`,l=LF(o,r),h=l.repoInfo):m=!l.repoInfo.secure;const x=r&&m?new tx(tx.OWNER):new vX(n.name,n.options,e);T3("Invalid Firebase Database URL",l),hn(l.path)||Yd("Database URL must point to the root of a Firebase Database (not including a child path).");const S=function Tte(n,e,t,i){let r=HF[e.name];r||(r={},HF[e.name]=r);let o=r[n.toURLString()];return o&&Yd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Fee(n,false,t,i),r[n.toURLString()]=o,o}(h,n,x,new _X(n.name,t));return new Mte(S,n)}class Mte{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Nee(n,e,t){if(n.stats_=zP(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new FS(n.repoInfo_,(i,r,o,l)=>{O3(n,i,r,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>P3(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Wl)(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Ng(n.repoInfo_,e,(i,r,o,l)=>{O3(n,i,r,o,l)},i=>{P3(n,i)},i=>{!function Lee(n,e){co(e,(t,i)=>{kF(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function wX(n,e){const t=n.toString();return HP[t]||(HP[t]=e()),HP[t]}(n.repoInfo_,()=>new wJ(n.stats_,n.server_)),n.infoData_=new gJ,n.infoSyncTree_=new _3({startListening:(i,r,o,l)=>{let h=[];const m=n.infoData_.getNode(i._path);return m.isEmpty()||(h=fx(n.infoSyncTree_,i._path,m),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),kF(n,"connected",!1),n.serverSyncTree_=new _3({startListening:(i,r,o,l)=>(n.server_.listen(i,o,r,(h,m)=>{const v=l(h,m);Da(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Dl(this._repo,Mn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ste(n,e){const t=HF[e];(!t||t[n.key]!==n)&&Yd(`Database ${e}(${n.repoInfo_}) has already been deleted.`),N3(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Yd("Cannot call "+e+" on a deleted database.")}}function t6(){x4.IS_TRANSPORT_INITIALIZED&&Go("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function kte(){t6(),gp.forceDisallow()}function Rte(){t6(),ky.forceDisallow(),gp.forceAllow()}function Fte(n,e){t4(n,e)}const Lte={".sv":"timestamp"};class Ute{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ng.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Ng.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Nte(n){Zj(Vs.SDK_VERSION),(0,Vs._registerComponent)(new hl.wA("database",(e,{instanceIdentifier:t})=>e6(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Vs.registerVersion)(Yj,"0.14.4",n),(0,Vs.registerVersion)(Yj,"0.14.4","esm2017")}();const Gte=new Us.Yd("@firebase/database-compat"),r6=function(n){Gte.warn("FIREBASE WARNING: "+n)};class qte{constructor(e){this._delegate=e}cancel(e){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),i=>e(i)),t}remove(e){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),i=>e(i)),t}set(e,t){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",t,!0);const i=this._delegate.set(e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(e,t);return i&&r.then(()=>i(null),o=>i(o)),r}update(e,t){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,r6("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",t,!0);const i=this._delegate.update(e);return t&&i.then(()=>t(null),r=>t(r)),i}}class Yte{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Dp{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),bx("DataSnapshot.child","path",e,!1),new Dp(this._database,this._delegate.child(e))}hasChild(e){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),bx("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Dp(this._database,t)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new Ia(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Do{constructor(e,t){this.database=e,this._delegate=t}on(e,t,i,r){var o;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",t,!1);const l=Do.getCancelAndContextArgs_("Query.on",i,r),h=(v,x)=>{t.call(l.context,new Dp(this.database,v),x)};h.userCallback=t,h.context=l.context;const m=null===(o=l.cancel)||void 0===o?void 0:o.bind(l.context);switch(e){case"value":return UF(this._delegate,h,m),t;case"child_added":return W3(this._delegate,h,m),t;case"child_removed":return K3(this._delegate,h,m),t;case"child_changed":return q3(this._delegate,h,m),t;case"child_moved":return Y3(this._delegate,h,m),t;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,e,t){if(void 0!==e)switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,N.Wj)("Query.off","callback",t,!0),(0,N.lb)("Query.off","context",i,!0),t){const r=()=>{};r.userCallback=t,r.context=i,Z3(this._delegate,e,r)}else Z3(this._delegate,e)}get(){return rte(this._delegate).then(e=>new Dp(this.database,e))}once(e,t,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",t,!0);const o=Do.getCancelAndContextArgs_("Query.once",i,r),l=new N.BH,h=(v,x)=>{const S=new Dp(this.database,v);t&&t.call(o.context,S,x),l.resolve(S)};h.userCallback=t,h.context=o.context;const m=v=>{o.cancel&&o.cancel.call(o.context,v),l.reject(v)};switch(e){case"value":UF(this._delegate,h,m,{onlyOnce:!0});break;case"child_added":W3(this._delegate,h,m,{onlyOnce:!0});break;case"child_removed":K3(this._delegate,h,m,{onlyOnce:!0});break;case"child_changed":q3(this._delegate,h,m,{onlyOnce:!0});break;case"child_moved":Y3(this._delegate,h,m,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(e){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new Do(this.database,Tc(this._delegate,function hte(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new ute(n)}(e)))}limitToLast(e){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new Do(this.database,Tc(this._delegate,function pte(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new fte(n)}(e)))}orderByChild(e){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new Do(this.database,Tc(this._delegate,function gte(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return bx("orderByChild","path",n,!1),new mte(n)}(e)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new Do(this.database,Tc(this._delegate,function vte(){return new _te}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new Do(this.database,Tc(this._delegate,function bte(){return new yte}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new Do(this.database,Tc(this._delegate,function xte(){return new wte}()))}startAt(e=null,t){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new Do(this.database,Tc(this._delegate,function lte(n=null,e){return yx("startAt","key",e,!0),new X3(n,e)}(e,t)))}startAfter(e=null,t){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new Do(this.database,Tc(this._delegate,function dte(n,e){return yx("startAfter","key",e,!0),new cte(n,e)}(e,t)))}endAt(e=null,t){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new Do(this.database,Tc(this._delegate,function ote(n,e){return yx("endAt","key",e,!0),new Q3(n,e)}(e,t)))}endBefore(e=null,t){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new Do(this.database,Tc(this._delegate,function ate(n,e){return yx("endBefore","key",e,!0),new ste(n,e)}(e,t)))}equalTo(e,t){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new Do(this.database,Tc(this._delegate,function Ete(n,e){return yx("equalTo","key",e,!0),new Cte(n,e)}(e,t)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof Do))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,i){const r={cancel:void 0,context:void 0};if(t&&i)r.cancel=t,(0,N.Wj)(e,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,N.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Ia(this.database,new Dl(this._delegate._repo,this._delegate._path))}}class Ia extends Do{constructor(e,t){super(e,new qs(t._repo,t._path,new OS,!1)),this.database=e,this._delegate=t}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Ia(this.database,zg(this._delegate,e))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Ia(this.database,e):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new Ia(this.database,this._delegate.root)}set(e,t){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",t,!0);const i=VF(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}update(e,t){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const r={};for(let o=0;o<e.length;++o)r[""+o]=e[o];e=r,r6("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}El("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",t,!0);const i=ite(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}setWithPriority(e,t,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function nte(n,e,t){if(El("setWithPriority",n._path),Zd("setWithPriority",e,n._path,!1),MF("setWithPriority",t,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return RF(n._repo,n._path,e,t,i.wrapCallback(()=>{})),i.promise}(this._delegate,e,t);return i&&r.then(()=>i(null),o=>i(o)),r}remove(e){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",e,!0);const t=function ete(n){return El("remove",n._path),VF(n,null)}(this._delegate);return e&&t.then(()=>e(null),i=>e(i)),t}transaction(e,t,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,N.Wj)("Reference.transaction","onComplete",t,!0),function(n,e,t,i){if(void 0!==t&&"boolean"!=typeof t)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Hte(n,e,t){var i;if(n=(0,N.m9)(n),El("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=t?.applyLocally)||void 0===i||i,o=new N.BH,h=UF(n,()=>{});return function Wee(n,e,t,i,r,o){Vy(n,"transaction on "+e);const l={path:e,update:t,onComplete:i,status:null,order:Xj(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},h=PF(n,e,void 0);l.currentInputSnapshot=h;const m=l.update(h.val());if(void 0===m)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{vx("transaction failed: Data returned ",m,l.path),l.status=0;const v=ZS(n.transactionQueueTree_,e),x=Ug(v)||[];let S;x.push(l),SF(v,x),"object"==typeof m&&null!==m&&(0,N.r3)(m,".priority")?(S=(0,N.DV)(m,".priority"),(0,N.hu)(_x(S),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):S=(YS(n.serverSyncTree_,e)||on.EMPTY_NODE).getPriority().val();const R=wx(n),F=Gi(m,S),H=EF(F,h,R);l.currentOutputSnapshotRaw=F,l.currentOutputSnapshotResolved=H,l.currentWriteId=eT(n);const Y=_F(n.serverSyncTree_,e,H,l.currentWriteId,l.applyLocally);Da(n.eventQueue_,e,Y),tT(n,n.transactionQueueTree_)}}(n._repo,n._path,e,(m,v,x)=>{let S=null;m?o.reject(m):(S=new Hg(x,new Dl(n._repo,n._path),di),o.resolve(new Ute(v,S)))},h,r),o.promise}(this._delegate,e,{applyLocally:i}).then(o=>new Yte(o.committed,new Dp(this.database,o.snapshot)));return t&&r.then(o=>t(null,o.committed,o.snapshot),o=>t(o,!1,null)),r}setPriority(e,t){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",t,!0);const i=function tte(n,e){n=(0,N.m9)(n),El("setPriority",n._path),MF("setPriority",e,!1);const t=new N.BH;return RF(n._repo,Oi(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}(this._delegate,e);return t&&i.then(()=>t(null),r=>t(r)),i}push(e,t){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",t,!0);const i=function Jee(n,e){n=(0,N.m9)(n),El("push",n._path),Zd("push",e,n._path,!0);const t=R3(n._repo),i=Xee(t),r=zg(n,i),o=zg(n,i);let l;return l=null!=e?VF(o,e).then(()=>o):Promise.resolve(o),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,e),r=i.then(l=>new Ia(this.database,l));t&&r.then(()=>t(null),l=>t(l));const o=new Ia(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return El("Reference.onDisconnect",this._delegate._path),new qte(new j3(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Ex{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:kte,forceLongPolling:Rte}}useEmulator(e,t,i={}){!function n6(n,e,t,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Yd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Yd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new tx(tx.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);o=new tx(l)}!function Ite(n,e,t,i){n.repoInfo_=new VP(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(this._delegate,e,t,i)}ref(e){if((0,N.Dv)("database.ref",0,1,arguments.length),e instanceof Ia){const t=$3(this._delegate,e.toString());return new Ia(this,t)}{const t=G3(this._delegate,e);return new Ia(this,t)}}refFromURL(e){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=$3(this._delegate,e);return new Ia(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function Ote(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),N3(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function Pte(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function $ee(n){n.persistentConnection_&&n.persistentConnection_.resume(k3)}(n._repo)}(this._delegate)}}Ex.ServerValue={TIMESTAMP:function Bte(){return Lte}(),increment:n=>function Vte(n){return{".sv":{increment:n}}}(n)};var Zte=Object.freeze({__proto__:null,initStandalone:function Kte({app:n,url:e,version:t,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){Zj(t);const l=new hl.zt("auth-internal",new hl.H0("database-standalone"));return l.setComponent(new hl.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Ex(e6(n,l,void 0,e,o),n),namespace:r}}});const Qte=Ex.ServerValue;function o6(n){return null==n}function s6(n){return"function"==typeof n.set}function a6(n,e){return s6(e)?e:n.ref(e)}function l6(n,e){if(function Jte(n){return"string"==typeof n}(n))return e.stringCase();if(s6(n))return e.firebaseCase();if(function ene(n){return"function"==typeof n.exportVal}(n))return e.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Dx(n,e,t="on",i=pm.z){return new ei.y(r=>{let o=null;return o=n[t](e,(l,h)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:h})}),"once"===t&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===t?{unsubscribe(){null!=o&&n.off(e,o)}}:{unsubscribe(){}}}).pipe((0,nt.U)(r=>{const{snapshot:o,prevKey:l}=r;let h=null;return o.exists()&&(h=o.key),{type:e,payload:o,prevKey:l,key:h}}),(0,W1.B)())}function c6(n,e){const t=n.length;for(let i=0;i<t;i++)if(n[i].payload.key===e)return i;return-1}function ine(n,e){const{payload:t,prevKey:i,key:r}=e,o=c6(n,r),l=function nne(n,e){if(o6(e))return 0;{const t=c6(n,e);return-1===t?n.length:t+1}}(n,i);switch(e.type){case"value":if(e.payload&&e.payload.exists()){let h=null;e.payload.forEach(m=>{const v={payload:m,type:"value",prevKey:h,key:m.key};return h=m.key,n=[...n,v],!1})}return n;case"child_added":if(o>-1){const h=n[o-1];(h&&h.key||null)!==i&&(n=n.filter(m=>m.payload.key!==t.key)).splice(l,0,e)}else{if(null==i)return[e,...n];(n=n.slice()).splice(l,0,e)}return n;case"child_removed":return n.filter(h=>h.payload.key!==t.key);case"child_changed":return n.map(h=>h.payload.key===r?e:h);case"child_moved":if(o>-1){const h=n.splice(o,1)[0];return(n=n.slice()).splice(l,0,h),n}return n;default:return n}}function d6(n){return(o6(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function u6(n,e,t){return function tne(n,e,t){return Dx(n,"value","once",t).pipe(ti(i=>{const r=[Qe(i)];return e.forEach(o=>r.push(Dx(n,o,"on",t))),(0,ap.T)(...r).pipe(Os(ine,[]))}),Mm())}(n,e=d6(e),t)}function h6(n,e,t){const i=(e=d6(e)).map(r=>Dx(n,r,"on",t));return(0,ap.T)(...i)}function f6(n,e){return function(i,r){return l6(i,{stringCase:()=>n.child(i)[e](r),firebaseCase:()=>i[e](r),snapshotCase:()=>i.ref[e](r)})}}function ane(n){return function(t){return t?l6(t,{stringCase:()=>n.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):n.remove()}}function p6(n,e){return function(){return Dx(n,"value","on",e)}}!function Xte(n){n.INTERNAL.registerComponent(new hl.wA("database-compat",(e,{instanceIdentifier:t})=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new Ex(r,i)},"PUBLIC").setServiceProps({Reference:Ia,Query:Do,Database:Ex,DataSnapshot:Dp,enableLogging:Fte,INTERNAL:Zte,ServerValue:Qte}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(sv.Z);const dne=new c.OlP("angularfire2.realtimeDatabaseURL"),une=new c.OlP("angularfire2.database.use-emulator");let hne=(()=>{class n{constructor(t,i,r,o,l,h,m,v,x,S,R,F,H,Y,te){this.schedulers=h;const Oe=m,Ye=(0,vo.on)(t,l,i);v&&CO(Ye,l,x,R,F,H,S,Y),this.database=(0,vo.cc)(`${Ye.name}.database.${r}`,"AngularFireDatabase",Ye.name,()=>{const et=l.runOutsideAngular(()=>Ye.database(r||void 0));return Oe&&et.useEmulator(...Oe),et},[Oe])}list(t,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>a6(this.database,t));let o=r;return i&&(o=i(r)),function lne(n,e){const t=e.schedulers.outsideAngular,i=e.schedulers.ngZone.run(()=>n.ref);return{query:n,update:f6(i,"update"),set:f6(i,"set"),push:r=>i.push(r),remove:ane(i),snapshotChanges:r=>u6(n,r,t).pipe(li.iC),stateChanges:r=>h6(n,r,t).pipe(li.iC),auditTrail:r=>function rne(n,e,t){return function sne(n,e,t){return function one(n,e){return Dx(n,"value","on",e).pipe((0,nt.U)(t=>{let i;return t.payload.forEach(r=>(i=r.key,!1)),{data:t,lastKeyToLoad:i}}))}(n,t).pipe(function iX(...n){const e=(0,qr.jO)(n);return(0,si.e)((t,i)=>{const r=n.length,o=new Array(r);let l=n.map(()=>!1),h=!1;for(let m=0;m<r;m++)(0,Rs.Xf)(n[m]).subscribe((0,On.x)(i,v=>{o[m]=v,!h&&!l[m]&&(l[m]=!0,(h=l.every(ts.y))&&(l=null))},SC.Z));t.subscribe((0,On.x)(i,m=>{if(h){const v=[m,...o];i.next(e?e(...v):v)}}))})}(e),(0,nt.U)(([r,o])=>{const l=r.lastKeyToLoad,h=o.map(m=>m.key);return{actions:o,lastKeyToLoad:l,loadedKeys:h}}),function rX(n){return(0,si.e)((e,t)=>{let i=!1,r=0;e.subscribe((0,On.x)(t,o=>(i||(i=!n(o,r++)))&&t.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,nt.U)(r=>r.actions))}(n,h6(n,e).pipe(Os((r,o)=>[...r,o],[])),t)}(n,r,t).pipe(li.iC),valueChanges:(r,o)=>u6(n,r,t).pipe((0,nt.U)(h=>h.map(m=>o&&o.idField?Object.assign(Object.assign({},m.payload.val()),{[o.idField]:m.key}):m.payload.val())),li.iC)}}(o,this)}object(t){return function cne(n,e){return{query:n,snapshotChanges:()=>p6(n,e.schedulers.outsideAngular)().pipe(li.iC),update:t=>n.ref.update(t),set:t=>n.ref.set(t),remove:()=>n.ref.remove(),valueChanges:()=>p6(n,e.schedulers.outsideAngular)().pipe(li.iC,(0,nt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>a6(this.database,t)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(vo.Dh),c.LFG(vo.xv,8),c.LFG(dne,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(li.HU),c.LFG(une,8),c.LFG(EO,8),c.LFG(_O,8),c.LFG(vO,8),c.LFG(yO,8),c.LFG(bO,8),c.LFG(wO,8),c.LFG(xO,8),c.LFG(VI,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),fne=(()=>{class n{constructor(){qW.Z.registerVersion("angularfire",li.q4.full,"rtdb-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[hne]}),n})();class Hy{}Hy.\u0275fac=function(e){return new(e||Hy)},Hy.\u0275mod=c.oAB({type:Hy,bootstrap:[Ww]}),Hy.\u0275inj=c.cJS({imports:[ec,Ey,UQ,p0,XQ,tX,tM,lY,Pz,MY,cK,HK,pq,vH,G7,vo.hO.initializeApp({apiKey:"AIzaSyCeBCuFMxvxExw_kEoip_zZPerQ5rZIbrs",authDomain:"team-vacation-planner-poc.firebaseapp.com",projectId:"team-vacation-planner-poc",storageBucket:"team-vacation-planner-poc.appspot.com",messagingSenderId:"798745482636",appId:"1:798745482636:web:cc8779acb5acdffe2832a9",measurementId:"G-6WQCV4D8G3"}),fne]}),Np().bootstrapModule(Hy).catch(n=>console.error(n))},9751:(bt,Se,V)=>{V.d(Se,{y:()=>xe});var c=V(930),ie=V(727),B=V(8822),ce=V(9635),de=V(2416),J=V(576),be=V(2806);let xe=(()=>{class Q{constructor(Te){Te&&(this._subscribe=Te)}lift(Te){const Ze=new Q;return Ze.source=this,Ze.operator=Te,Ze}subscribe(Te,Ze,ft){const ge=function W(Q){return Q&&Q instanceof c.Lv||function q(Q){return Q&&(0,J.m)(Q.next)&&(0,J.m)(Q.error)&&(0,J.m)(Q.complete)}(Q)&&(0,ie.Nn)(Q)}(Te)?Te:new c.Hp(Te,Ze,ft);return(0,be.x)(()=>{const{operator:Pe,source:Fe}=this;ge.add(Pe?Pe.call(ge,Fe):Fe?this._subscribe(ge):this._trySubscribe(ge))}),ge}_trySubscribe(Te){try{return this._subscribe(Te)}catch(Ze){Te.error(Ze)}}forEach(Te,Ze){return new(Ze=pe(Ze))((ft,ge)=>{const Pe=new c.Hp({next:Fe=>{try{Te(Fe)}catch(Ue){ge(Ue),Pe.unsubscribe()}},error:ge,complete:ft});this.subscribe(Pe)})}_subscribe(Te){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Te)}[B.L](){return this}pipe(...Te){return(0,ce.U)(Te)(this)}toPromise(Te){return new(Te=pe(Te))((Ze,ft)=>{let ge;this.subscribe(Pe=>ge=Pe,Pe=>ft(Pe),()=>Ze(ge))})}}return Q.create=je=>new Q(je),Q})();function pe(Q){var je;return null!==(je=Q??de.v.Promise)&&void 0!==je?je:Promise}},7579:(bt,Se,V)=>{V.d(Se,{x:()=>be});var c=V(9751),ie=V(727);const ce=(0,V(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=V(8737),J=V(2806);let be=(()=>{class pe extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(W){const Q=new xe(this,this);return Q.operator=W,Q}_throwIfClosed(){if(this.closed)throw new ce}next(W){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next(W)}})}error(W){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=W;const{observers:Q}=this;for(;Q.length;)Q.shift().error(W)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:W}=this;for(;W.length;)W.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var W;return(null===(W=this.observers)||void 0===W?void 0:W.length)>0}_trySubscribe(W){return this._throwIfClosed(),super._trySubscribe(W)}_subscribe(W){return this._throwIfClosed(),this._checkFinalizedStatuses(W),this._innerSubscribe(W)}_innerSubscribe(W){const{hasError:Q,isStopped:je,observers:Te}=this;return Q||je?ie.Lc:(this.currentObservers=null,Te.push(W),new ie.w0(()=>{this.currentObservers=null,(0,de.P)(Te,W)}))}_checkFinalizedStatuses(W){const{hasError:Q,thrownError:je,isStopped:Te}=this;Q?W.error(je):Te&&W.complete()}asObservable(){const W=new c.y;return W.source=this,W}}return pe.create=(q,W)=>new xe(q,W),pe})();class xe extends be{constructor(q,W){super(),this.destination=q,this.source=W}next(q){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.next)||void 0===Q||Q.call(W,q)}error(q){var W,Q;null===(Q=null===(W=this.destination)||void 0===W?void 0:W.error)||void 0===Q||Q.call(W,q)}complete(){var q,W;null===(W=null===(q=this.destination)||void 0===q?void 0:q.complete)||void 0===W||W.call(q)}_subscribe(q){var W,Q;return null!==(Q=null===(W=this.source)||void 0===W?void 0:W.subscribe(q))&&void 0!==Q?Q:ie.Lc}}},930:(bt,Se,V)=>{V.d(Se,{Hp:()=>ft,Lv:()=>Q});var c=V(576),ie=V(727),B=V(2416),ce=V(7849),de=V(5032);const J=pe("C",void 0,void 0);function pe(Ne,Ce,Ee){return{kind:Ne,value:Ce,error:Ee}}var q=V(3410),W=V(2806);class Q extends ie.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,ie.Nn)(Ce)&&Ce.add(this)):this.destination=Ue}static create(Ce,Ee,We){return new ft(Ce,Ee,We)}next(Ce){this.isStopped?Fe(function xe(Ne){return pe("N",Ne,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?Fe(function be(Ne){return pe("E",void 0,Ne)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?Fe(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const je=Function.prototype.bind;function Te(Ne,Ce){return je.call(Ne,Ce)}class Ze{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:Ee}=this;if(Ee.next)try{Ee.next(Ce)}catch(We){ge(We)}}error(Ce){const{partialObserver:Ee}=this;if(Ee.error)try{Ee.error(Ce)}catch(We){ge(We)}else ge(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(Ee){ge(Ee)}}}class ft extends Q{constructor(Ce,Ee,We){let Le;if(super(),(0,c.m)(Ce)||!Ce)Le={next:Ce??void 0,error:Ee??void 0,complete:We??void 0};else{let lt;this&&B.v.useDeprecatedNextContext?(lt=Object.create(Ce),lt.unsubscribe=()=>this.unsubscribe(),Le={next:Ce.next&&Te(Ce.next,lt),error:Ce.error&&Te(Ce.error,lt),complete:Ce.complete&&Te(Ce.complete,lt)}):Le=Ce}this.destination=new Ze(Le)}}function ge(Ne){B.v.useDeprecatedSynchronousErrorHandling?(0,W.O)(Ne):(0,ce.h)(Ne)}function Fe(Ne,Ce){const{onStoppedNotification:Ee}=B.v;Ee&&q.z.setTimeout(()=>Ee(Ne,Ce))}const Ue={closed:!0,next:de.Z,error:function Pe(Ne){throw Ne},complete:de.Z}},727:(bt,Se,V)=>{V.d(Se,{Lc:()=>J,w0:()=>de,Nn:()=>be});var c=V(576);const B=(0,V(3888).d)(pe=>function(W){pe(this),this.message=W?`${W.length} errors occurred during unsubscription:\n${W.map((Q,je)=>`${je+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=W});var ce=V(8737);class de{constructor(q){this.initialTeardown=q,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let q;if(!this.closed){this.closed=!0;const{_parentage:W}=this;if(W)if(this._parentage=null,Array.isArray(W))for(const Te of W)Te.remove(this);else W.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(Te){q=Te instanceof B?Te.errors:[Te]}const{_finalizers:je}=this;if(je){this._finalizers=null;for(const Te of je)try{xe(Te)}catch(Ze){q=q??[],Ze instanceof B?q=[...q,...Ze.errors]:q.push(Ze)}}if(q)throw new B(q)}}add(q){var W;if(q&&q!==this)if(this.closed)xe(q);else{if(q instanceof de){if(q.closed||q._hasParent(this))return;q._addParent(this)}(this._finalizers=null!==(W=this._finalizers)&&void 0!==W?W:[]).push(q)}}_hasParent(q){const{_parentage:W}=this;return W===q||Array.isArray(W)&&W.includes(q)}_addParent(q){const{_parentage:W}=this;this._parentage=Array.isArray(W)?(W.push(q),W):W?[W,q]:q}_removeParent(q){const{_parentage:W}=this;W===q?this._parentage=null:Array.isArray(W)&&(0,ce.P)(W,q)}remove(q){const{_finalizers:W}=this;W&&(0,ce.P)(W,q),q instanceof de&&q._removeParent(this)}}de.EMPTY=(()=>{const pe=new de;return pe.closed=!0,pe})();const J=de.EMPTY;function be(pe){return pe instanceof de||pe&&"closed"in pe&&(0,c.m)(pe.remove)&&(0,c.m)(pe.add)&&(0,c.m)(pe.unsubscribe)}function xe(pe){(0,c.m)(pe)?pe():pe.unsubscribe()}},2416:(bt,Se,V)=>{V.d(Se,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(bt,Se,V)=>{V.d(Se,{E:()=>ie});const ie=new(V(9751).y)(de=>de.complete())},8996:(bt,Se,V)=>{V.d(Se,{D:()=>Ce});var c=V(8421),ie=V(5363),B=V(9468),J=V(9751),xe=V(2202),pe=V(576),q=V(9672);function Q(Ee,We){if(!Ee)throw new Error("Iterable cannot be null");return new J.y(Le=>{(0,q.f)(Le,We,()=>{const lt=Ee[Symbol.asyncIterator]();(0,q.f)(Le,We,()=>{lt.next().then(le=>{le.done?Le.complete():Le.next(le.value)})},0,!0)})})}var je=V(3670),Te=V(8239),Ze=V(1144),ft=V(6495),ge=V(2206),Pe=V(4532),Fe=V(3260);function Ce(Ee,We){return We?function Ne(Ee,We){if(null!=Ee){if((0,je.c)(Ee))return function ce(Ee,We){return(0,c.Xf)(Ee).pipe((0,B.R)(We),(0,ie.Q)(We))}(Ee,We);if((0,Ze.z)(Ee))return function be(Ee,We){return new J.y(Le=>{let lt=0;return We.schedule(function(){lt===Ee.length?Le.complete():(Le.next(Ee[lt++]),Le.closed||this.schedule())})})}(Ee,We);if((0,Te.t)(Ee))return function de(Ee,We){return(0,c.Xf)(Ee).pipe((0,B.R)(We),(0,ie.Q)(We))}(Ee,We);if((0,ge.D)(Ee))return Q(Ee,We);if((0,ft.T)(Ee))return function W(Ee,We){return new J.y(Le=>{let lt;return(0,q.f)(Le,We,()=>{lt=Ee[xe.h](),(0,q.f)(Le,We,()=>{let le,kt;try{({value:le,done:kt}=lt.next())}catch(rt){return void Le.error(rt)}kt?Le.complete():Le.next(le)},0,!0)}),()=>(0,pe.m)(lt?.return)&&lt.return()})}(Ee,We);if((0,Fe.L)(Ee))return function Ue(Ee,We){return Q((0,Fe.Q)(Ee),We)}(Ee,We)}throw(0,Pe.z)(Ee)}(Ee,We):(0,c.Xf)(Ee)}},8421:(bt,Se,V)=>{V.d(Se,{Xf:()=>je});var c=V(655),ie=V(1144),B=V(8239),ce=V(9751),de=V(3670),J=V(2206),be=V(4532),xe=V(6495),pe=V(3260),q=V(576),W=V(7849),Q=V(8822);function je(Ne){if(Ne instanceof ce.y)return Ne;if(null!=Ne){if((0,de.c)(Ne))return function Te(Ne){return new ce.y(Ce=>{const Ee=Ne[Q.L]();if((0,q.m)(Ee.subscribe))return Ee.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,ie.z)(Ne))return function Ze(Ne){return new ce.y(Ce=>{for(let Ee=0;Ee<Ne.length&&!Ce.closed;Ee++)Ce.next(Ne[Ee]);Ce.complete()})}(Ne);if((0,B.t)(Ne))return function ft(Ne){return new ce.y(Ce=>{Ne.then(Ee=>{Ce.closed||(Ce.next(Ee),Ce.complete())},Ee=>Ce.error(Ee)).then(null,W.h)})}(Ne);if((0,J.D)(Ne))return Pe(Ne);if((0,xe.T)(Ne))return function ge(Ne){return new ce.y(Ce=>{for(const Ee of Ne)if(Ce.next(Ee),Ce.closed)return;Ce.complete()})}(Ne);if((0,pe.L)(Ne))return function Fe(Ne){return Pe((0,pe.Q)(Ne))}(Ne)}throw(0,be.z)(Ne)}function Pe(Ne){return new ce.y(Ce=>{(function Ue(Ne,Ce){var Ee,We,Le,lt;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Ee=(0,c.KL)(Ne);!(We=yield Ee.next()).done;)if(Ce.next(We.value),Ce.closed)return}catch(le){Le={error:le}}finally{try{We&&!We.done&&(lt=Ee.return)&&(yield lt.call(Ee))}finally{if(Le)throw Le.error}}Ce.complete()})})(Ne,Ce).catch(Ee=>Ce.error(Ee))})}},6451:(bt,Se,V)=>{V.d(Se,{T:()=>J});var c=V(8189),ie=V(8421),B=V(515),ce=V(3269),de=V(8996);function J(...be){const xe=(0,ce.yG)(be),pe=(0,ce._6)(be,1/0),q=be;return q.length?1===q.length?(0,ie.Xf)(q[0]):(0,c.J)(pe)((0,de.D)(q,xe)):B.E}},5403:(bt,Se,V)=>{V.d(Se,{x:()=>ie});var c=V(930);function ie(ce,de,J,be,xe){return new B(ce,de,J,be,xe)}class B extends c.Lv{constructor(de,J,be,xe,pe,q){super(de),this.onFinalize=pe,this.shouldUnsubscribe=q,this._next=J?function(W){try{J(W)}catch(Q){de.error(Q)}}:super._next,this._error=xe?function(W){try{xe(W)}catch(Q){de.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(W){de.error(W)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(bt,Se,V)=>{V.d(Se,{U:()=>B});var c=V(4482),ie=V(5403);function B(ce,de){return(0,c.e)((J,be)=>{let xe=0;J.subscribe((0,ie.x)(be,pe=>{be.next(ce.call(de,pe,xe++))}))})}},8189:(bt,Se,V)=>{V.d(Se,{J:()=>B});var c=V(5577),ie=V(4671);function B(ce=1/0){return(0,c.z)(ie.y,ce)}},5577:(bt,Se,V)=>{V.d(Se,{z:()=>xe});var c=V(4004),ie=V(8421),B=V(4482),ce=V(9672),de=V(5403),be=V(576);function xe(pe,q,W=1/0){return(0,be.m)(q)?xe((Q,je)=>(0,c.U)((Te,Ze)=>q(Q,Te,je,Ze))((0,ie.Xf)(pe(Q,je))),W):("number"==typeof q&&(W=q),(0,B.e)((Q,je)=>function J(pe,q,W,Q,je,Te,Ze,ft){const ge=[];let Pe=0,Fe=0,Ue=!1;const Ne=()=>{Ue&&!ge.length&&!Pe&&q.complete()},Ce=We=>Pe<Q?Ee(We):ge.push(We),Ee=We=>{Te&&q.next(We),Pe++;let Le=!1;(0,ie.Xf)(W(We,Fe++)).subscribe((0,de.x)(q,lt=>{je?.(lt),Te?Ce(lt):q.next(lt)},()=>{Le=!0},void 0,()=>{if(Le)try{for(Pe--;ge.length&&Pe<Q;){const lt=ge.shift();Ze?(0,ce.f)(q,Ze,()=>Ee(lt)):Ee(lt)}Ne()}catch(lt){q.error(lt)}}))};return pe.subscribe((0,de.x)(q,Ce,()=>{Ue=!0,Ne()})),()=>{ft?.()}}(Q,je,pe,W)))}},5363:(bt,Se,V)=>{V.d(Se,{Q:()=>ce});var c=V(9672),ie=V(4482),B=V(5403);function ce(de,J=0){return(0,ie.e)((be,xe)=>{be.subscribe((0,B.x)(xe,pe=>(0,c.f)(xe,de,()=>xe.next(pe),J),()=>(0,c.f)(xe,de,()=>xe.complete(),J),pe=>(0,c.f)(xe,de,()=>xe.error(pe),J)))})}},3099:(bt,Se,V)=>{V.d(Se,{B:()=>de});var c=V(8421),ie=V(7579),B=V(930),ce=V(4482);function de(be={}){const{connector:xe=(()=>new ie.x),resetOnError:pe=!0,resetOnComplete:q=!0,resetOnRefCountZero:W=!0}=be;return Q=>{let je,Te,Ze,ft=0,ge=!1,Pe=!1;const Fe=()=>{Te?.unsubscribe(),Te=void 0},Ue=()=>{Fe(),je=Ze=void 0,ge=Pe=!1},Ne=()=>{const Ce=je;Ue(),Ce?.unsubscribe()};return(0,ce.e)((Ce,Ee)=>{ft++,!Pe&&!ge&&Fe();const We=Ze=Ze??xe();Ee.add(()=>{ft--,0===ft&&!Pe&&!ge&&(Te=J(Ne,W))}),We.subscribe(Ee),!je&&ft>0&&(je=new B.Hp({next:Le=>We.next(Le),error:Le=>{Pe=!0,Fe(),Te=J(Ue,pe,Le),We.error(Le)},complete:()=>{ge=!0,Fe(),Te=J(Ue,q),We.complete()}}),(0,c.Xf)(Ce).subscribe(je))})(Q)}}function J(be,xe,...pe){if(!0===xe)return void be();if(!1===xe)return;const q=new B.Hp({next:()=>{q.unsubscribe(),be()}});return(0,c.Xf)(xe(...pe)).subscribe(q)}},9468:(bt,Se,V)=>{V.d(Se,{R:()=>ie});var c=V(4482);function ie(B,ce=0){return(0,c.e)((de,J)=>{J.add(B.schedule(()=>de.subscribe(J),ce))})}},8505:(bt,Se,V)=>{V.d(Se,{b:()=>de});var c=V(576),ie=V(4482),B=V(5403),ce=V(4671);function de(J,be,xe){const pe=(0,c.m)(J)||be||xe?{next:J,error:be,complete:xe}:J;return pe?(0,ie.e)((q,W)=>{var Q;null===(Q=pe.subscribe)||void 0===Q||Q.call(pe);let je=!0;q.subscribe((0,B.x)(W,Te=>{var Ze;null===(Ze=pe.next)||void 0===Ze||Ze.call(pe,Te),W.next(Te)},()=>{var Te;je=!1,null===(Te=pe.complete)||void 0===Te||Te.call(pe),W.complete()},Te=>{var Ze;je=!1,null===(Ze=pe.error)||void 0===Ze||Ze.call(pe,Te),W.error(Te)},()=>{var Te,Ze;je&&(null===(Te=pe.unsubscribe)||void 0===Te||Te.call(pe)),null===(Ze=pe.finalize)||void 0===Ze||Ze.call(pe)}))}):ce.y}},4408:(bt,Se,V)=>{V.d(Se,{o:()=>de});var c=V(727);class ie extends c.w0{constructor(be,xe){super()}schedule(be,xe=0){return this}}const B={setInterval(J,be,...xe){const{delegate:pe}=B;return pe?.setInterval?pe.setInterval(J,be,...xe):setInterval(J,be,...xe)},clearInterval(J){const{delegate:be}=B;return(be?.clearInterval||clearInterval)(J)},delegate:void 0};var ce=V(8737);class de extends ie{constructor(be,xe){super(be,xe),this.scheduler=be,this.work=xe,this.pending=!1}schedule(be,xe=0){var pe;if(this.closed)return this;this.state=be;const q=this.id,W=this.scheduler;return null!=q&&(this.id=this.recycleAsyncId(W,q,xe)),this.pending=!0,this.delay=xe,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(W,this.id,xe),this}requestAsyncId(be,xe,pe=0){return B.setInterval(be.flush.bind(be,this),pe)}recycleAsyncId(be,xe,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return xe;null!=xe&&B.clearInterval(xe)}execute(be,xe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(be,xe);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,xe){let q,pe=!1;try{this.work(be)}catch(W){pe=!0,q=W||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),q}unsubscribe(){if(!this.closed){const{id:be,scheduler:xe}=this,{actions:pe}=xe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(pe,this),null!=be&&(this.id=this.recycleAsyncId(xe,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(bt,Se,V)=>{V.d(Se,{v:()=>B});var c=V(6063);class ie{constructor(de,J=ie.now){this.schedulerActionCtor=de,this.now=J}schedule(de,J=0,be){return new this.schedulerActionCtor(this,de).schedule(be,J)}}ie.now=c.l.now;class B extends ie{constructor(de,J=ie.now){super(de,J),this.actions=[],this._active=!1}flush(de){const{actions:J}=this;if(this._active)return void J.push(de);let be;this._active=!0;do{if(be=de.execute(de.state,de.delay))break}while(de=J.shift());if(this._active=!1,be){for(;de=J.shift();)de.unsubscribe();throw be}}}},4986:(bt,Se,V)=>{V.d(Se,{P:()=>ce,z:()=>B});var c=V(4408);const B=new(V(7565).v)(c.o),ce=B},6063:(bt,Se,V)=>{V.d(Se,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(bt,Se,V)=>{V.d(Se,{z:()=>c});const c={setTimeout(ie,B,...ce){const{delegate:de}=c;return de?.setTimeout?de.setTimeout(ie,B,...ce):setTimeout(ie,B,...ce)},clearTimeout(ie){const{delegate:B}=c;return(B?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},2202:(bt,Se,V)=>{V.d(Se,{h:()=>ie});const ie=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(bt,Se,V)=>{V.d(Se,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(bt,Se,V)=>{V.d(Se,{_6:()=>J,jO:()=>ce,yG:()=>de});var c=V(576),ie=V(3532);function B(be){return be[be.length-1]}function ce(be){return(0,c.m)(B(be))?be.pop():void 0}function de(be){return(0,ie.K)(B(be))?be.pop():void 0}function J(be,xe){return"number"==typeof B(be)?be.pop():xe}},8737:(bt,Se,V)=>{function c(ie,B){if(ie){const ce=ie.indexOf(B);0<=ce&&ie.splice(ce,1)}}V.d(Se,{P:()=>c})},3888:(bt,Se,V)=>{function c(ie){const ce=ie(de=>{Error.call(de),de.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}V.d(Se,{d:()=>c})},2806:(bt,Se,V)=>{V.d(Se,{O:()=>ce,x:()=>B});var c=V(2416);let ie=null;function B(de){if(c.v.useDeprecatedSynchronousErrorHandling){const J=!ie;if(J&&(ie={errorThrown:!1,error:null}),de(),J){const{errorThrown:be,error:xe}=ie;if(ie=null,be)throw xe}}else de()}function ce(de){c.v.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=de)}},9672:(bt,Se,V)=>{function c(ie,B,ce,de=0,J=!1){const be=B.schedule(function(){ce(),J?ie.add(this.schedule(null,de)):this.unsubscribe()},de);if(ie.add(be),!J)return be}V.d(Se,{f:()=>c})},4671:(bt,Se,V)=>{function c(ie){return ie}V.d(Se,{y:()=>c})},1144:(bt,Se,V)=>{V.d(Se,{z:()=>c});const c=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},2206:(bt,Se,V)=>{V.d(Se,{D:()=>ie});var c=V(576);function ie(B){return Symbol.asyncIterator&&(0,c.m)(B?.[Symbol.asyncIterator])}},576:(bt,Se,V)=>{function c(ie){return"function"==typeof ie}V.d(Se,{m:()=>c})},3670:(bt,Se,V)=>{V.d(Se,{c:()=>B});var c=V(8822),ie=V(576);function B(ce){return(0,ie.m)(ce[c.L])}},6495:(bt,Se,V)=>{V.d(Se,{T:()=>B});var c=V(2202),ie=V(576);function B(ce){return(0,ie.m)(ce?.[c.h])}},8239:(bt,Se,V)=>{V.d(Se,{t:()=>ie});var c=V(576);function ie(B){return(0,c.m)(B?.then)}},3260:(bt,Se,V)=>{V.d(Se,{L:()=>ce,Q:()=>B});var c=V(655),ie=V(576);function B(de){return(0,c.FC)(this,arguments,function*(){const be=de.getReader();try{for(;;){const{value:xe,done:pe}=yield(0,c.qq)(be.read());if(pe)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(xe)}}finally{be.releaseLock()}})}function ce(de){return(0,ie.m)(de?.getReader)}},3532:(bt,Se,V)=>{V.d(Se,{K:()=>ie});var c=V(576);function ie(B){return B&&(0,c.m)(B.schedule)}},4482:(bt,Se,V)=>{V.d(Se,{A:()=>ie,e:()=>B});var c=V(576);function ie(ce){return(0,c.m)(ce?.lift)}function B(ce){return de=>{if(ie(de))return de.lift(function(J){try{return ce(J,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(bt,Se,V)=>{function c(){}V.d(Se,{Z:()=>c})},9635:(bt,Se,V)=>{V.d(Se,{U:()=>B,z:()=>ie});var c=V(4671);function ie(...ce){return B(ce)}function B(ce){return 0===ce.length?c.y:1===ce.length?ce[0]:function(J){return ce.reduce((be,xe)=>xe(be),J)}}},7849:(bt,Se,V)=>{V.d(Se,{h:()=>B});var c=V(2416),ie=V(3410);function B(ce){ie.z.setTimeout(()=>{const{onUnhandledError:de}=c.v;if(!de)throw ce;de(ce)})}},4532:(bt,Se,V)=>{function c(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Se,{z:()=>c})},655:(bt,Se,V)=>{function ce(me,_e){var Ie={};for(var ke in me)Object.prototype.hasOwnProperty.call(me,ke)&&_e.indexOf(ke)<0&&(Ie[ke]=me[ke]);if(null!=me&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(ke=Object.getOwnPropertySymbols(me);qe<ke.length;qe++)_e.indexOf(ke[qe])<0&&Object.prototype.propertyIsEnumerable.call(me,ke[qe])&&(Ie[ke[qe]]=me[ke[qe]])}return Ie}function Q(me,_e,Ie,ke){return new(Ie||(Ie=Promise))(function(He,vt){function mt(en){try{tt(ke.next(en))}catch(At){vt(At)}}function Ut(en){try{tt(ke.throw(en))}catch(At){vt(At)}}function tt(en){en.done?He(en.value):function qe(He){return He instanceof Ie?He:new Ie(function(vt){vt(He)})}(en.value).then(mt,Ut)}tt((ke=ke.apply(me,_e||[])).next())})}function Ne(me){return this instanceof Ne?(this.v=me,this):new Ne(me)}function Ce(me,_e,Ie){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,ke=Ie.apply(me,_e||[]),He=[];return qe={},vt("next"),vt("throw"),vt("return"),qe[Symbol.asyncIterator]=function(){return this},qe;function vt(fn){ke[fn]&&(qe[fn]=function(En){return new Promise(function(Vn,rr){He.push([fn,En,Vn,rr])>1||mt(fn,En)})})}function mt(fn,En){try{!function Ut(fn){fn.value instanceof Ne?Promise.resolve(fn.value.v).then(tt,en):At(He[0][2],fn)}(ke[fn](En))}catch(Vn){At(He[0][3],Vn)}}function tt(fn){mt("next",fn)}function en(fn){mt("throw",fn)}function At(fn,En){fn(En),He.shift(),He.length&&mt(He[0][0],He[0][1])}}function We(me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,_e=me[Symbol.asyncIterator];return _e?_e.call(me):(me=function ft(me){var _e="function"==typeof Symbol&&Symbol.iterator,Ie=_e&&me[_e],ke=0;if(Ie)return Ie.call(me);if(me&&"number"==typeof me.length)return{next:function(){return me&&ke>=me.length&&(me=void 0),{value:me&&me[ke++],done:!me}}};throw new TypeError(_e?"Object is not iterable.":"Symbol.iterator is not defined.")}(me),Ie={},ke("next"),ke("throw"),ke("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie);function ke(He){Ie[He]=me[He]&&function(vt){return new Promise(function(mt,Ut){!function qe(He,vt,mt,Ut){Promise.resolve(Ut).then(function(tt){He({value:tt,done:mt})},vt)}(mt,Ut,(vt=me[He](vt)).done,vt.value)})}}}V.d(Se,{FC:()=>Ce,KL:()=>We,_T:()=>ce,mG:()=>Q,qq:()=>Ne})},4650:(bt,Se,V)=>{V.d(Se,{$8M:()=>sd,$WT:()=>kl,$Z:()=>pC,AFp:()=>pv,ALo:()=>NM,AaK:()=>xe,BQk:()=>Lb,CHM:()=>Hl,CRH:()=>Us,CZH:()=>fv,CqO:()=>gA,D6c:()=>xD,Dn7:()=>xE,EJc:()=>XE,EiD:()=>cs,EpF:()=>pA,F$t:()=>Em,F4k:()=>mA,FYo:()=>lf,FiY:()=>Wa,Gf:()=>Vs,GfV:()=>Hx,GkF:()=>kC,Gpc:()=>W,Hsn:()=>Dm,Ikx:()=>GC,JOm:()=>Dr,JVY:()=>Id,JZr:()=>ft,KtG:()=>zl,L6k:()=>m_,LAX:()=>Xr,LFG:()=>mn,LSH:()=>xu,Lbi:()=>gv,Lck:()=>xM,MAs:()=>cl,MMx:()=>fE,NdJ:()=>bm,O4$:()=>ql,OlP:()=>yn,Oqu:()=>zC,P3R:()=>ef,PXZ:()=>Sv,Q6J:()=>_m,QGY:()=>RC,QbO:()=>ek,Qsj:()=>Ux,R0b:()=>js,RDi:()=>d_,Rgc:()=>$u,SBq:()=>kd,Sil:()=>nk,Suo:()=>hl,TTD:()=>tu,TgZ:()=>Uu,Udp:()=>UC,VKq:()=>Gu,W1O:()=>Gt,WFA:()=>Bb,X6Q:()=>hD,XFs:()=>wt,Xpm:()=>he,Xts:()=>nb,Y36:()=>hf,YKP:()=>tv,YNc:()=>Cf,Yjl:()=>Yn,Yz7:()=>At,Z0I:()=>rr,ZZ4:()=>tg,_Bn:()=>Om,_UZ:()=>Fb,_Vd:()=>af,_c5:()=>mk,_uU:()=>FA,aQg:()=>qu,c2e:()=>QE,cJS:()=>En,cg1:()=>WC,d8E:()=>$C,dDg:()=>oD,dqk:()=>Tt,eBb:()=>Qp,eFA:()=>Qm,ekj:()=>G_,eoX:()=>Ff,f3M:()=>Ni,g9A:()=>Ar,h0i:()=>ju,hGG:()=>gk,hij:()=>W_,iGM:()=>ye,ifc:()=>Et,ip1:()=>E0,jDz:()=>EM,kL8:()=>XA,kcU:()=>Ss,lG2:()=>Ei,lcZ:()=>LM,lqb:()=>Iu,lri:()=>A0,mCW:()=>Td,n5z:()=>Jl,n_E:()=>rv,oAB:()=>St,oxw:()=>_A,pB0:()=>sl,q3G:()=>ai,q4F:()=>zx,qLn:()=>tm,qOj:()=>Sb,qZA:()=>ym,qzn:()=>fa,rWj:()=>no,sBO:()=>Av,s_b:()=>ov,soG:()=>vv,tBr:()=>rc,tb:()=>_v,tp0:()=>ts,uIk:()=>kb,vHH:()=>ge,vpe:()=>Bs,wAp:()=>Ft,xp6:()=>tC,ynx:()=>Nb,z2F:()=>pl,z3N:()=>Zi,zSh:()=>sf,zs3:()=>Au});var c=V(7579),ie=V(727),B=V(9751),ce=V(6451),de=V(3099);function J(s){for(let a in s)if(s[a]===J)return a;throw Error("Could not find renamed property on target object.")}function be(s,a){for(const d in a)a.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=a[d])}function xe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(xe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function pe(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const q=J({__forward_ref__:J});function W(s){return s.__forward_ref__=W,s.toString=function(){return xe(this())},s}function Q(s){return je(s)?s():s}function je(s){return"function"==typeof s&&s.hasOwnProperty(q)&&s.__forward_ref__===W}function Te(s){return s&&!!s.\u0275providers}const ft="https://g.co/ng/security#xss";class ge extends Error{constructor(a,d){super(function Pe(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}(a,d)),this.code=a}}function Fe(s){return"string"==typeof s?s:null==s?"":String(s)}function We(s,a){throw new ge(-201,!1)}function vt(s,a){null==s&&function mt(s,a,d,u){throw new Error(`ASSERTION ERROR: ${s}`+(null==u?"":` [Expected=> ${d} ${u} ${a} <=Actual]`))}(a,s,null,"!=")}function At(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function En(s){return{providers:s.providers||[],imports:s.imports||[]}}function Vn(s){return pr(s,ys)||pr(s,Pi)}function rr(s){return null!==Vn(s)}function pr(s,a){return s.hasOwnProperty(a)?s[a]:null}function So(s){return s&&(s.hasOwnProperty(bs)||s.hasOwnProperty(Lr))?s[bs]:null}const ys=J({\u0275prov:J}),bs=J({\u0275inj:J}),Pi=J({ngInjectableDef:J}),Lr=J({ngInjectorDef:J});var wt=(()=>((wt=wt||{})[wt.Default=0]="Default",wt[wt.Host=1]="Host",wt[wt.Self=2]="Self",wt[wt.SkipSelf=4]="SkipSelf",wt[wt.Optional=8]="Optional",wt))();let Tl;function Nn(s){const a=Tl;return Tl=s,a}function Br(s,a,d){const u=Vn(s);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:d&wt.Optional?null:void 0!==a?a:void We(xe(s))}const Tt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),or={},Fi="__NG_DI_FLAG__",xi="ngTempTokenPath",gr=/\n/gm,Ta="__source";let ln;function sr(s){const a=ln;return ln=s,a}function Vr(s,a=wt.Default){if(void 0===ln)throw new ge(-203,!1);return null===ln?Br(s,void 0,a):ln.get(s,a&wt.Optional?null:void 0,a)}function mn(s,a=wt.Default){return(function Al(){return Tl}()||Vr)(Q(s),a)}function Ni(s,a=wt.Default){return mn(s,Ur(a))}function Ur(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function qn(s){const a=[];for(let d=0;d<s.length;d++){const u=Q(s[d]);if(Array.isArray(u)){if(0===u.length)throw new ge(900,!1);let f,_=wt.Default;for(let b=0;b<u.length;b++){const E=u[b],I=_r(E);"number"==typeof I?-1===I?f=E.token:_|=I:f=E}a.push(mn(f,_))}else a.push(mn(u))}return a}function ar(s,a){return s[Fi]=a,s.prototype[Fi]=a,s}function _r(s){return s[Fi]}function Z(s){return{toString:s}.toString()}var ve=(()=>((ve=ve||{})[ve.OnPush=0]="OnPush",ve[ve.Default=1]="Default",ve))(),Et=(()=>{return(s=Et||(Et={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Et;var s})();const Kt={},Ot=[],Rn=J({\u0275cmp:J}),Un=J({\u0275dir:J}),cn=J({\u0275pipe:J}),qi=J({\u0275mod:J}),Ci=J({\u0275fac:J}),vr=J({__NG_ELEMENT_ID__:J});let Ml=0;function he(s){return Z(()=>{const d=!0===s.standalone,u={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===ve.OnPush,directiveDefs:null,pipeDefs:null,standalone:d,dependencies:d&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ot,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Et.Emulated,id:"c"+Ml++,styles:s.styles||Ot,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},_=s.dependencies,b=s.features;return f.inputs=gn(s.inputs,u),f.outputs=gn(s.outputs),b&&b.forEach(E=>E(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map(Re).filter(yt):null,f.pipeDefs=_?()=>("function"==typeof _?_():_).map(Li).filter(yt):null,f})}function Re(s){return Wt(s)||Kn(s)}function yt(s){return null!==s}function St(s){return Z(()=>({type:s.type,bootstrap:s.bootstrap||Ot,declarations:s.declarations||Ot,imports:s.imports||Ot,exports:s.exports||Ot,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function gn(s,a){if(null==s)return Kt;const d={};for(const u in s)if(s.hasOwnProperty(u)){let f=s[u],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),d[f]=u,a&&(a[f]=_)}return d}const Ei=he;function Yn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Wt(s){return s[Rn]||null}function Kn(s){return s[Un]||null}function Li(s){return s[cn]||null}function kl(s){const a=Wt(s)||Kn(s)||Li(s);return null!==a&&a.standalone}function lr(s,a){const d=s[qi]||null;if(!d&&!0===a)throw new Error(`Type ${xe(s)} does not have '\u0275mod' property.`);return d}function Rr(s){return Array.isArray(s)&&"object"==typeof s[1]}function br(s){return Array.isArray(s)&&!0===s[1]}function Fl(s){return 0!=(4&s.flags)}function Ra(s){return s.componentOffset>-1}function Jd(s){return 1==(1&s.flags)}function jr(s){return null!==s.template}function Mc(s){return 0!=(256&s[2])}function Ao(s,a){return s.hasOwnProperty(Ci)?s[Ci]:null}class Qs{constructor(a,d,u){this.previousValue=a,this.currentValue=d,this.firstChange=u}isFirstChange(){return this.firstChange}}function tu(){return Nl}function Nl(s){return s.type.prototype.ngOnChanges&&(s.setInput=nu),ph}function ph(){const s=Mp(this),a=s?.current;if(a){const d=s.previous;if(d===Kt)s.previous=a;else for(let u in a)d[u]=a[u];s.current=null,this.ngOnChanges(a)}}function nu(s,a,d,u){const f=this.declaredInputs[d],_=Mp(s)||function Oc(s,a){return s[Es]=a}(s,{previous:Kt,current:null}),b=_.current||(_.current={}),E=_.previous,I=E[f];b[f]=new Qs(I&&I.currentValue,a,E===Kt),s[u]=a}tu.ngInherit=!0;const Es="__ngSimpleChanges__";function Mp(s){return s[Es]||null}function Vi(s){for(;Array.isArray(s);)s=s[0];return s}function Ko(s,a){return Vi(a[s])}function Ui(s,a){return Vi(a[s.index])}function gh(s,a){return s.data[a]}function dr(s,a){return s[a]}function Hi(s,a){const d=a[s];return Rr(d)?d:d[0]}function Zo(s){return 64==(64&s[2])}function Is(s,a){return null==a?null:s[a]}function Pa(s){s[18]=0}function Vl(s,a){s[5]+=a;let d=s,u=s[3];for(;null!==u&&(1===a&&1===d[5]||-1===a&&0===d[5]);)u[5]+=a,d=u,u=u[3]}const Bt={lFrame:ou(null),bindingsEnabled:!0};function Lc(){return Bt.bindingsEnabled}function fe(){return Bt.lFrame.lView}function zt(){return Bt.lFrame.tView}function Hl(s){return Bt.lFrame.contextLView=s,s[8]}function zl(s){return Bt.lFrame.contextLView=null,s}function Ii(){let s=Xs();for(;null!==s&&64===s.type;)s=s.parent;return s}function Xs(){return Bt.lFrame.currentTNode}function xr(s,a){const d=Bt.lFrame;d.currentTNode=s,d.isParent=a}function wh(){return Bt.lFrame.isParent}function Vc(){Bt.lFrame.isParent=!1}function fi(){const s=Bt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Js(){return Bt.lFrame.bindingIndex++}function Uc(s,a){const d=Bt.lFrame;d.bindingIndex=d.bindingRootIndex=s,pi(a)}function pi(s){Bt.lFrame.currentDirectiveIndex=s}function Fa(s){const a=Bt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function ru(){return Bt.lFrame.currentQueryIndex}function Hc(s){Bt.lFrame.currentQueryIndex=s}function Ch(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function zc(s,a,d){if(d&wt.SkipSelf){let f=a,_=s;for(;!(f=f.parent,null!==f||d&wt.Host||(f=Ch(_),null===f||(_=_[15],10&f.type))););if(null===f)return!1;a=f,s=_}const u=Bt.lFrame=$l();return u.currentTNode=a,u.lView=s,!0}function jc(s){const a=$l(),d=s[1];Bt.lFrame=a,a.currentTNode=d.firstChild,a.lView=s,a.tView=d,a.contextLView=s,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function $l(){const s=Bt.lFrame,a=null===s?null:s.child;return null===a?ou(s):a}function ou(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Wl(){const s=Bt.lFrame;return Bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Eh=Wl;function Gc(){const s=Wl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Yi(){return Bt.lFrame.selectedIndex}function Xo(s){Bt.lFrame.selectedIndex=s}function Hn(){const s=Bt.lFrame;return gh(s.tView,s.selectedIndex)}function ql(){Bt.lFrame.currentNamespace="svg"}function Ss(){!function Op(){Bt.lFrame.currentNamespace=null}()}function Wc(s,a){for(let d=a.directiveStart,u=a.directiveEnd;d<u;d++){const _=s.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:I,ngAfterViewChecked:M,ngOnDestroy:P}=_;b&&(s.contentHooks||(s.contentHooks=[])).push(-d,b),E&&((s.contentHooks||(s.contentHooks=[])).push(d,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(d,E)),I&&(s.viewHooks||(s.viewHooks=[])).push(-d,I),M&&((s.viewHooks||(s.viewHooks=[])).push(d,M),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(d,M)),null!=P&&(s.destroyHooks||(s.destroyHooks=[])).push(d,P)}}function su(s,a,d){Yl(s,a,3,d)}function qc(s,a,d,u){(3&s[2])===d&&Yl(s,a,d,u)}function Yc(s,a){let d=s[2];(3&d)===a&&(d&=2047,d+=1,s[2]=d)}function Yl(s,a,d,u){const _=u??-1,b=a.length-1;let E=0;for(let I=void 0!==u?65535&s[18]:0;I<b;I++)if("number"==typeof a[I+1]){if(E=a[I],null!=u&&E>=u)break}else a[I]<0&&(s[18]+=65536),(E<_||-1==_)&&(Ih(s,d,a,I),s[18]=(4294901760&s[18])+I+2),I++}function Ih(s,a,d,u){const f=d[u]<0,_=d[u+1],E=s[f?-d[u]:d[u]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{_.call(E)}finally{}}}else try{_.call(E)}finally{}}class Na{constructor(a,d,u){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=u}}function La(s,a,d){let u=0;for(;u<d.length;){const f=d[u];if("number"==typeof f){if(0!==f)break;u++;const _=d[u++],b=d[u++],E=d[u++];s.setAttribute(a,b,E,_)}else{const _=f,b=d[++u];Zc(_)?s.setProperty(a,_,b):s.setAttribute(a,_,b),u++}}return u}function Ba(s){return 3===s||4===s||6===s}function Zc(s){return 64===s.charCodeAt(0)}function ta(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let d=-1;for(let u=0;u<a.length;u++){const f=a[u];"number"==typeof f?d=f:0===d||Qc(s,d,f,null,-1===d||2===d?a[++u]:null)}}return s}function Qc(s,a,d,u,f){let _=0,b=s.length;if(-1===a)b=-1;else for(;_<s.length;){const E=s[_++];if("number"==typeof E){if(E===a){b=-1;break}if(E>a){b=_-1;break}}}for(;_<s.length;){const E=s[_];if("number"==typeof E)break;if(E===d){if(null===u)return void(null!==f&&(s[_+1]=f));if(u===s[_+1])return void(s[_+2]=f)}_++,null!==u&&_++,null!==f&&_++}-1!==b&&(s.splice(b,0,a),_=b+1),s.splice(_++,0,d),null!==u&&s.splice(_++,0,u),null!==f&&s.splice(_++,0,f)}function na(s){return-1!==s}function Ts(s){return 32767&s}function ia(s,a){let d=function Th(s){return s>>16}(s),u=a;for(;d>0;)u=u[15],d--;return u}let Xc=!0;function Jc(s){const a=Xc;return Xc=s,a}let As=0;const es={};function td(s,a){const d=Xl(s,a);if(-1!==d)return d;const u=a[1];u.firstCreatePass&&(s.injectorIndex=a.length,Ql(u.data,s),Ql(a,null),Ql(u.blueprint,null));const f=Ah(s,a),_=s.injectorIndex;if(na(f)){const b=Ts(f),E=ia(f,a),I=E[1].data;for(let M=0;M<8;M++)a[_+M]=E[b+M]|I[b+M]}return a[_+8]=f,_}function Ql(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Xl(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Ah(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,u=null,f=a;for(;null!==f;){if(u=ec(f),null===u)return-1;if(d++,f=f[15],-1!==u.injectorIndex)return u.injectorIndex|d<<16}return-1}function Tn(s,a,d){!function Ms(s,a,d){let u;"string"==typeof d?u=d.charCodeAt(0)||0:d.hasOwnProperty(vr)&&(u=d[vr]),null==u&&(u=d[vr]=As++);const f=255&u;a.data[s+(f>>5)]|=1<<f}(s,a,d)}function nd(s,a,d){if(d&wt.Optional||void 0!==s)return s;We()}function Mh(s,a,d,u){if(d&wt.Optional&&void 0===u&&(u=null),!(d&(wt.Self|wt.Host))){const f=s[9],_=Nn(void 0);try{return f?f.get(a,u,d&wt.Optional):Br(a,u,d&wt.Optional)}finally{Nn(_)}}return nd(u,0,d)}function Va(s,a,d,u=wt.Default,f){if(null!==s){if(1024&a[2]){const b=function od(s,a,d,u,f){let _=s,b=a;for(;null!==_&&null!==b&&1024&b[2]&&!(256&b[2]);){const E=lu(_,b,d,u|wt.Self,es);if(E!==es)return E;let I=_.parent;if(!I){const M=b[21];if(M){const P=M.get(d,es,u);if(P!==es)return P}I=ec(b),b=b[15]}_=I}return f}(s,a,d,u,es);if(b!==es)return b}const _=lu(s,a,d,u,es);if(_!==es)return _}return Mh(a,d,u,f)}function lu(s,a,d,u,f){const _=function id(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(vr)?s[vr]:void 0;return"number"==typeof a?a>=0?255&a:Np:a}(d);if("function"==typeof _){if(!zc(a,s,u))return u&wt.Host?nd(f,0,u):Mh(a,d,u,f);try{const b=_(u);if(null!=b||u&wt.Optional)return b;We()}finally{Eh()}}else if("number"==typeof _){let b=null,E=Xl(s,a),I=-1,M=u&wt.Host?a[16][6]:null;for((-1===E||u&wt.SkipSelf)&&(I=-1===E?Ah(s,a):a[E+8],-1!==I&&Ha(u,!1)?(b=a[1],E=Ts(I),a=ia(I,a)):E=-1);-1!==E;){const P=a[1];if(rd(_,E,P.data)){const U=zi(E,a,d,b,u,M);if(U!==es)return U}I=a[E+8],-1!==I&&Ha(u,a[1].data[E+8]===M)&&rd(_,E,a)?(b=P,E=Ts(I),a=ia(I,a)):E=-1}}return f}function zi(s,a,d,u,f,_){const b=a[1],E=b.data[s+8],P=Ua(E,b,d,null==u?Ra(E)&&Xc:u!=b&&0!=(3&E.type),f&wt.Host&&_===E);return null!==P?oi(a,b,P,E):es}function Ua(s,a,d,u,f){const _=s.providerIndexes,b=a.data,E=1048575&_,I=s.directiveStart,P=_>>20,K=f?E+P:s.directiveEnd;for(let ne=u?E:E+P;ne<K;ne++){const we=b[ne];if(ne<I&&d===we||ne>=I&&we.type===d)return ne}if(f){const ne=b[I];if(ne&&jr(ne)&&ne.type===d)return I}return null}function oi(s,a,d,u){let f=s[d];const _=a.data;if(function Pp(s){return s instanceof Na}(f)){const b=f;b.resolving&&function Ne(s,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ge(-200,`Circular dependency in DI detected for ${s}${d}`)}(function Ue(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Fe(s)}(_[d]));const E=Jc(b.canSeeViewProviders);b.resolving=!0;const I=b.injectImpl?Nn(b.injectImpl):null;zc(s,u,wt.Default);try{f=s[d]=b.factory(void 0,_,s,u),a.firstCreatePass&&d>=u.directiveStart&&function Qg(s,a,d){const{ngOnChanges:u,ngOnInit:f,ngDoCheck:_}=a.type.prototype;if(u){const b=Nl(a);(d.preOrderHooks||(d.preOrderHooks=[])).push(s,b),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,b)}f&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-s,f),_&&((d.preOrderHooks||(d.preOrderHooks=[])).push(s,_),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,_))}(d,_[d],a)}finally{null!==I&&Nn(I),Jc(E),b.resolving=!1,Eh()}}return f}function rd(s,a,d){return!!(d[a+(s>>5)]&1<<s)}function Ha(s,a){return!(s&wt.Self||s&wt.Host&&a)}class Ro{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,u){return Va(this._tNode,this._lView,a,Ur(u),d)}}function Np(){return new Ro(Ii(),fe())}function Jl(s){return Z(()=>{const a=s.prototype.constructor,d=a[Ci]||ra(a),u=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==u;){const _=f[Ci]||ra(f);if(_&&_!==d)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function ra(s){return je(s)?()=>{const a=ra(Q(s));return a&&a()}:Ao(s)}function ec(s){const a=s[1],d=a.type;return 2===d?a.declTNode:1===d?s[6]:null}function sd(s){return function Fp(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const d=s.attrs;if(d){const u=d.length;let f=0;for(;f<u;){const _=d[f];if(Ba(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<u&&"string"==typeof d[f];)f++;else{if(_===a)return d[f+1];f+=2}}}return null}(Ii(),s)}const tc="__parameters__";function sa(s,a,d){return Z(()=>{const u=function ks(s){return function(...d){if(s){const u=s(...d);for(const f in u)this[f]=u[f]}}}(a);function f(..._){if(this instanceof f)return u.apply(this,_),this;const b=new f(..._);return E.annotation=b,E;function E(I,M,P){const U=I.hasOwnProperty(tc)?I[tc]:Object.defineProperty(I,tc,{value:[]})[tc];for(;U.length<=P;)U.push(null);return(U[P]=U[P]||[]).push(b),I}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class yn{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=At({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Oo(s,a){s.forEach(d=>Array.isArray(d)?Oo(d,a):a(d))}function Hp(s,a,d){a>=s.length?s.push(d):s.splice(a,0,d)}function la(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function cd(s,a){const d=[];for(let u=0;u<s;u++)d.push(a);return d}function Ki(s,a,d){let u=dn(s,a);return u>=0?s[1|u]=d:(u=~u,function Ga(s,a,d,u){let f=s.length;if(f==a)s.push(d,u);else if(1===f)s.push(u,s[0]),s[0]=d;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=d,s[a+1]=u}}(s,u,a,d)),u}function hd(s,a){const d=dn(s,a);if(d>=0)return s[1|d]}function dn(s,a){return function Qe(s,a,d){let u=0,f=s.length>>d;for(;f!==u;){const _=u+(f-u>>1),b=s[_<<d];if(a===b)return _<<d;b>a?f=_:u=_+1}return~(f<<d)}(s,a,1)}const rc=ar(sa("Inject",s=>({token:s})),-1),Wa=ar(sa("Optional"),8),ts=ar(sa("SkipSelf"),4);var Dr=(()=>((Dr=Dr||{})[Dr.Important=1]="Important",Dr[Dr.DashCase=2]="DashCase",Dr))();const Bh=new Map;let Vh=0;const X="__ngContext__";function se(s,a){Rr(a)?(s[X]=a[20],function Uh(s){Bh.set(s[20],s)}(a)):s[X]=a}function vd(s,a){return undefined(s,a)}function lc(s){const a=s[3];return br(a)?a[3]:a}function Qa(s){return bd(s[13])}function cc(s){return bd(s[4])}function bd(s){for(;null!==s&&!br(s);)s=s[4];return s}function dc(s,a,d,u,f){if(null!=u){let _,b=!1;br(u)?_=u:Rr(u)&&(b=!0,u=u[0]);const E=Vi(u);0===s&&null!==d?null==f?$h(a,d,E):wd(a,d,E,f||null,!0):1===s&&null!==d?wd(a,d,E,f||null,!0):2===s?function tl(s,a,d){const u=Xa(s,a);u&&function Zy(s,a,d,u){s.removeChild(a,d,u)}(s,u,a,d)}(a,E,b):3===s&&a.destroyNode(E),null!=_&&function c_(s,a,d,u,f){const _=d[7];_!==Vi(d)&&dc(a,s,u,_,f);for(let E=10;E<d.length;E++){const I=d[E];fc(I[1],I,s,a,u,_)}}(a,s,_,d,f)}}function zh(s,a,d){return s.createElement(a,d)}function r_(s,a){const d=s[9],u=d.indexOf(a),f=a[3];512&a[2]&&(a[2]&=-513,Vl(f,-1)),d.splice(u,1)}function mu(s,a){if(s.length<=10)return;const d=10+a,u=s[d];if(u){const f=u[17];null!==f&&f!==s&&r_(f,u),a>0&&(s[d-1][4]=u[4]);const _=la(s,10+a);!function Wy(s,a){fc(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(u[1],u);const b=_[19];null!==b&&b.detachView(_[1]),u[3]=null,u[4]=null,u[2]&=-65}return u}function o_(s,a){if(!(128&a[2])){const d=a[11];d.destroyNode&&fc(s,a,d,3,null,null),function Gp(s){let a=s[13];if(!a)return hc(s[1],s);for(;a;){let d=null;if(Rr(a))d=a[13];else{const u=a[10];u&&(d=u)}if(!d){for(;a&&!a[4]&&a!==s;)Rr(a)&&hc(a[1],a),a=a[3];null===a&&(a=s),Rr(a)&&hc(a[1],a),d=a&&a[4]}a=d}}(a)}}function hc(s,a){if(!(128&a[2])){a[2]&=-65,a[2]|=128,function Ky(s,a){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let u=0;u<d.length;u+=2){const f=a[d[u]];if(!(f instanceof Na)){const _=d[u+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const E=f[_[b]],I=_[b+1];try{I.call(E)}finally{}}else try{_.call(f)}finally{}}}}(s,a),function jh(s,a){const d=s.cleanup,u=a[7];let f=-1;if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const b=d[_+3];b>=0?u[f=b]():u[f=-b].unsubscribe(),_+=2}else{const b=u[f=d[_+1]];d[_].call(b)}if(null!==u){for(let _=f+1;_<u.length;_++)(0,u[_])();a[7]=null}}(s,a),1===a[1].type&&a[11].destroy();const d=a[17];if(null!==d&&br(a[3])){d!==a[3]&&r_(d,a);const u=a[19];null!==u&&u.detachView(s)}!function C(s){Bh.delete(s[20])}(a)}}function Fs(s,a,d){return function Gh(s,a,d){let u=a;for(;null!==u&&40&u.type;)u=(a=u).parent;if(null===u)return d[0];{const{componentOffset:f}=u;if(f>-1){const{encapsulation:_}=s.data[u.directiveStart+f];if(_===Et.None||_===Et.Emulated)return null}return Ui(u,d)}}(s,a.parent,d)}function wd(s,a,d,u,f){s.insertBefore(a,d,u,f)}function $h(s,a,d){s.appendChild(a,d)}function s_(s,a,d,u,f){null!==u?wd(s,a,d,u,f):$h(s,a,d)}function Xa(s,a){return s.parentNode(a)}function qh(s,a,d){return $p(s,a,d)}let rl,yu,Ed,$p=function gu(s,a,d){return 40&s.type?Ui(s,d):null};function Cd(s,a,d,u){const f=Fs(s,u,a),_=a[11],E=qh(u.parent||a[6],u,a);if(null!=f)if(Array.isArray(d))for(let I=0;I<d.length;I++)s_(_,f,d[I],E,!1);else s_(_,f,d,E,!1)}function _u(s,a){if(null!==a){const d=a.type;if(3&d)return Ui(a,s);if(4&d)return el(-1,s[a.index]);if(8&d){const u=a.child;if(null!==u)return _u(s,u);{const f=s[a.index];return br(f)?el(-1,f):Vi(f)}}if(32&d)return vd(a,s)()||Vi(s[a.index]);{const u=a_(s,a);return null!==u?Array.isArray(u)?u[0]:_u(lc(s[16]),u):_u(s,a.next)}}return null}function a_(s,a){return null!==a?s[16][6].projection[a.projection]:null}function el(s,a){const d=10+s+1;if(d<a.length){const u=a[d],f=u[1].firstChild;if(null!==f)return _u(u,f)}return a[7]}function Wp(s,a,d,u,f,_,b){for(;null!=d;){const E=u[d.index],I=d.type;if(b&&0===a&&(E&&se(Vi(E),u),d.flags|=2),32!=(32&d.flags))if(8&I)Wp(s,a,d.child,u,f,_,!1),dc(a,s,f,E,_);else if(32&I){const M=vd(d,u);let P;for(;P=M();)dc(a,s,f,P,_);dc(a,s,f,E,_)}else 16&I?qp(s,a,u,d,f,_):dc(a,s,f,E,_);d=b?d.projectionNext:d.next}}function fc(s,a,d,u,f,_){Wp(d,u,s.firstChild,a,f,_,!1)}function qp(s,a,d,u,f,_){const b=d[16],I=b[6].projection[u.projection];if(Array.isArray(I))for(let M=0;M<I.length;M++)dc(a,s,f,I[M],_);else Wp(s,a,I,b[3],f,_,!0)}function nl(s,a,d){""===d?s.removeAttribute(a,"class"):s.setAttribute(a,"class",d)}function il(s,a,d){const{mergedAttrs:u,classes:f,styles:_}=d;null!==u&&La(s,a,u),null!==f&&nl(s,a,f),null!==_&&function Ns(s,a,d){s.setAttribute(a,"style",d)}(s,a,_)}function ol(s){return function Kh(){if(void 0===rl&&(rl=null,Tt.trustedTypes))try{rl=Tt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return rl}()?.createHTML(s)||s}function d_(s){yu=s}function Zh(s){return function Kp(){if(void 0===Ed&&(Ed=null,Tt.trustedTypes))try{Ed=Tt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ed}()?.createScriptURL(s)||s}class pc{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ft})`}}class h_ extends pc{getTypeName(){return"HTML"}}class Zp extends pc{getTypeName(){return"Style"}}class Tx extends pc{getTypeName(){return"Script"}}class f_ extends pc{getTypeName(){return"URL"}}class p_ extends pc{getTypeName(){return"ResourceURL"}}function Zi(s){return s instanceof pc?s.changingThisBreaksApplicationSecurity:s}function fa(s,a){const d=function pa(s){return s instanceof pc&&s.getTypeName()||null}(s);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${ft})`)}return d===a}function Id(s){return new h_(s)}function m_(s){return new Zp(s)}function Qp(s){return new Tx(s)}function Xr(s){return new f_(s)}function sl(s){return new p_(s)}class eb{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(ol(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class No{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const u=this.inertDocument.createElement("body");d.appendChild(u)}}getInertBodyElement(a){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=ol(a),d;const u=this.inertDocument.createElement("body");return u.innerHTML=ol(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(a){const d=a.attributes;for(let f=d.length-1;0<f;f--){const b=d.item(f).name;("xmlns:ns1"===b||0===b.indexOf("ns1:"))&&a.removeAttribute(b)}let u=a.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const Qh=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Td(s){return(s=String(s)).match(Qh)?s:"unsafe:"+s}function ls(s){const a={};for(const d of s.split(","))a[d]=!0;return a}function ma(...s){const a={};for(const d of s)for(const u in d)d.hasOwnProperty(u)&&(a[u]=!0);return a}const g_=ls("area,br,col,hr,img,wbr"),Ad=ls("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),__=ls("rp,rt"),g=ma(g_,ma(Ad,ls("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ma(__,ls("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ma(__,Ad)),w=ls("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),j=ma(w,ls("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ls("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ee=ls("script,style,template");class Ae{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,u=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?u=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,u&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!g.hasOwnProperty(d))return this.sanitizedSomething=!0,!ee.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const u=a.attributes;for(let f=0;f<u.length;f++){const _=u.item(f),b=_.name,E=b.toLowerCase();if(!j.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let I=_.value;w[E]&&(I=Td(I)),this.buf.push(" ",b,'="',ot(I),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();g.hasOwnProperty(d)&&!g_.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(ot(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const ze=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,st=/([^\#-~ |!])/g;function ot(s){return s.replace(/&/g,"&amp;").replace(ze,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(st,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Pn;function cs(s,a){let d=null;try{Pn=Pn||function bu(s){const a=new No(s);return function Sd(){try{return!!(new window.DOMParser).parseFromString(ol(""),"text/html")}catch{return!1}}()?new eb(a):a}(s);let u=a?String(a):"";d=Pn.getInertBodyElement(u);let f=5,_=u;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,u=_,_=d.innerHTML,d=Pn.getInertBodyElement(u)}while(u!==_);return ol((new Ae).sanitizeChildren(wu(d)||d))}finally{if(d){const u=wu(d)||d;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function wu(s){return"content"in s&&function tb(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var ai=(()=>((ai=ai||{})[ai.NONE=0]="NONE",ai[ai.HTML=1]="HTML",ai[ai.STYLE=2]="STYLE",ai[ai.SCRIPT=3]="SCRIPT",ai[ai.URL=4]="URL",ai[ai.RESOURCE_URL=5]="RESOURCE_URL",ai))();function xu(s){const a=Md();return a?a.sanitize(ai.URL,s)||"":fa(s,"URL")?Zi(s):Td(Fe(s))}function Xp(s){const a=Md();if(a)return Zh(a.sanitize(ai.RESOURCE_URL,s)||"");if(fa(s,"ResourceURL"))return Zh(Zi(s));throw new ge(904,!1)}function ef(s,a,d){return function Cu(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?Xp:xu}(a,d)(s)}function Md(){const s=fe();return s&&s[12]}const nb=new yn("ENVIRONMENT_INITIALIZER"),kx=new yn("INJECTOR",-1),Eu=new yn("INJECTOR_DEF_TYPES");class tf{get(a,d=or){if(d===or){const u=new Error(`NullInjectorError: No provider for ${xe(a)}!`);throw u.name="NullInjectorError",u}return d}}function lT(...s){return{\u0275providers:nf(0,s),\u0275fromNgModule:!0}}function nf(s,...a){const d=[],u=new Set;let f;return Oo(a,_=>{const b=_;ib(b,d,[],u)&&(f||(f=[]),f.push(b))}),void 0!==f&&rf(f,d),d}function rf(s,a){for(let d=0;d<s.length;d++){const{providers:f}=s[d];rb(f,_=>{a.push(_)})}}function ib(s,a,d,u){if(!(s=Q(s)))return!1;let f=null,_=So(s);const b=!_&&Wt(s);if(_||b){if(b&&!b.standalone)return!1;f=s}else{const I=s.ngModule;if(_=So(I),!_)return!1;f=I}const E=u.has(f);if(b){if(E)return!1;if(u.add(f),b.dependencies){const I="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const M of I)ib(M,a,d,u)}}else{if(!_)return!1;{if(null!=_.imports&&!E){let M;u.add(f);try{Oo(_.imports,P=>{ib(P,a,d,u)&&(M||(M=[]),M.push(P))})}finally{}void 0!==M&&rf(M,a)}if(!E){const M=Ao(f)||(()=>new f);a.push({provide:f,useFactory:M,deps:Ot},{provide:Eu,useValue:f,multi:!0},{provide:nb,useValue:()=>mn(f),multi:!0})}const I=_.providers;null==I||E||rb(I,P=>{a.push(P)})}}return f!==s&&void 0!==s.providers}function rb(s,a){for(let d of s)Te(d)&&(d=d.\u0275providers),Array.isArray(d)?rb(d,a):a(d)}const cT=J({provide:String,useValue:J});function ob(s){return null!==s&&"object"==typeof s&&cT in s}function Du(s){return"function"==typeof s}const sf=new yn("Set Injector scope."),mc={},uT={};let ab;function y_(){return void 0===ab&&(ab=new tf),ab}class Iu{}class Ox extends Iu{get destroyed(){return this._destroyed}constructor(a,d,u,f){super(),this.parent=d,this.source=u,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,em(a,b=>this.processProvider(b)),this.records.set(kx,Su(void 0,this)),f.has("environment")&&this.records.set(Iu,Su(void 0,this));const _=this.records.get(sf);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get(Eu.multi,Ot,wt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const d=sr(this),u=Nn(void 0);try{return a()}finally{sr(d),Nn(u)}}get(a,d=or,u=wt.Default){this.assertNotDestroyed(),u=Ur(u);const f=sr(this),_=Nn(void 0);try{if(!(u&wt.SkipSelf)){let E=this.records.get(a);if(void 0===E){const I=function Fx(s){return"function"==typeof s||"object"==typeof s&&s instanceof yn}(a)&&Vn(a);E=I&&this.injectableDefInScope(I)?Su(lb(a),mc):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(u&wt.Self?y_():this.parent).get(a,d=u&wt.Optional&&d===or?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[xi]=b[xi]||[]).unshift(xe(a)),f)throw b;return function G(s,a,d,u){const f=s[xi];throw a[Ta]&&f.unshift(a[Ta]),s.message=function z(s,a,d,u=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=xe(a);if(Array.isArray(a))f=a.map(xe).join(" -> ");else if("object"==typeof a){let _=[];for(let b in a)if(a.hasOwnProperty(b)){let E=a[b];_.push(b+":"+("string"==typeof E?JSON.stringify(E):xe(E)))}f=`{${_.join(", ")}}`}return`${d}${u?"("+u+")":""}[${f}]: ${s.replace(gr,"\n  ")}`}("\n"+s.message,f,d,u),s.ngTokenPath=f,s[xi]=null,s}(b,a,"R3InjectorError",this.source)}throw b}finally{Nn(_),sr(f)}}resolveInjectorInitializers(){const a=sr(this),d=Nn(void 0);try{const u=this.get(nb.multi,Ot,wt.Self);for(const f of u)f()}finally{sr(a),Nn(d)}}toString(){const a=[],d=this.records;for(const u of d.keys())a.push(xe(u));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ge(205,!1)}processProvider(a){let d=Du(a=Q(a))?a:Q(a&&a.provide);const u=function fT(s){return ob(s)?Su(void 0,s.useValue):Su(Px(s),mc)}(a);if(Du(a)||!0!==a.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=Su(void 0,mc,!0),f.factory=()=>qn(f.multi),this.records.set(d,f)),d=a,f.multi.push(a)}this.records.set(d,u)}hydrate(a,d){return d.value===mc&&(d.value=uT,d.value=d.factory()),"object"==typeof d.value&&d.value&&function cb(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=Q(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function lb(s){const a=Vn(s),d=null!==a?a.factory:Ao(s);if(null!==d)return d;if(s instanceof yn)throw new ge(204,!1);if(s instanceof Function)return function hT(s){const a=s.length;if(a>0)throw cd(a,"?"),new ge(204,!1);const d=function Wi(s){const a=s&&(s[ys]||s[Pi]);if(a){const d=function vs(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),a}return null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new ge(204,!1)}function Px(s,a,d){let u;if(Du(s)){const f=Q(s);return Ao(f)||lb(f)}if(ob(s))u=()=>Q(s.useValue);else if(function dT(s){return!(!s||!s.useFactory)}(s))u=()=>s.useFactory(...qn(s.deps||[]));else if(function Rx(s){return!(!s||!s.useExisting)}(s))u=()=>mn(Q(s.useExisting));else{const f=Q(s&&(s.useClass||s.provide));if(!function pT(s){return!!s.deps}(s))return Ao(f)||lb(f);u=()=>new f(...qn(s.deps))}return u}function Su(s,a,d=!1){return{factory:s,value:a,multi:d?[]:void 0}}function em(s,a){for(const d of s)Array.isArray(d)?em(d,a):d&&Te(d)?em(d.\u0275providers,a):a(d)}class b_{}class Nx{}class w_{resolveComponentFactory(a){throw function mT(s){const a=Error(`No component factory found for ${xe(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let af=(()=>{class s{}return s.NULL=new w_,s})();function Bx(){return gc(Ii(),fe())}function gc(s,a){return new kd(Ui(s,a))}let kd=(()=>{class s{constructor(d){this.nativeElement=d}}return s.__NG_ELEMENT_ID__=Bx,s})();function Vx(s){return s instanceof kd?s.nativeElement:s}class lf{}let Ux=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function gT(){const s=fe(),d=Hi(Ii().index,s);return(Rr(d)?d:s)[11]}(),s})(),_T=(()=>{class s{}return s.\u0275prov=At({token:s,providedIn:"root",factory:()=>null}),s})();class Hx{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const zx=new Hx("15.1.4"),db={};function ub(s){return s.ngOriginalError}class tm{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&ub(a);for(;d&&ub(d);)d=ub(d);return d||null}}function Rd(s){return s instanceof Function?s():s}function Yx(s,a,d){let u=s.length;for(;;){const f=s.indexOf(a,d);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const _=a.length;if(f+_===u||s.charCodeAt(f+_)<=32)return f}d=f+1}}const Kx="ng-template";function Zx(s,a,d){let u=0;for(;u<s.length;){let f=s[u++];if(d&&"class"===f){if(f=s[u],-1!==Yx(f.toLowerCase(),a,0))return!0}else if(1===f){for(;u<s.length&&"string"==typeof(f=s[u++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function C_(s){return 4===s.type&&s.value!==Kx}function ET(s,a,d){return a===(4!==s.type||d?s.value:Kx)}function Qx(s,a,d){let u=4;const f=s.attrs||[],_=function E_(s){for(let a=0;a<s.length;a++)if(Ba(s[a]))return a;return s.length}(f);let b=!1;for(let E=0;E<a.length;E++){const I=a[E];if("number"!=typeof I){if(!b)if(4&u){if(u=2|1&u,""!==I&&!ET(s,I,d)||""===I&&1===a.length){if(eo(u))return!1;b=!0}}else{const M=8&u?I:a[++E];if(8&u&&null!==s.attrs){if(!Zx(s.attrs,M,d)){if(eo(u))return!1;b=!0}continue}const U=hb(8&u?"class":I,f,C_(s),d);if(-1===U){if(eo(u))return!1;b=!0;continue}if(""!==M){let K;K=U>_?"":f[U+1].toLowerCase();const ne=8&u?K:null;if(ne&&-1!==Yx(ne,M,0)||2&u&&M!==K){if(eo(u))return!1;b=!0}}}}else{if(!b&&!eo(u)&&!eo(I))return!1;if(b&&eo(I))continue;b=!1,u=I|1&u}}return eo(u)||b}function eo(s){return 0==(1&s)}function hb(s,a,d,u){if(null===a)return-1;let f=0;if(u||!d){let _=!1;for(;f<a.length;){const b=a[f];if(b===s)return f;if(3===b||6===b)_=!0;else{if(1===b||2===b){let E=a[++f];for(;"string"==typeof E;)E=a[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=_?1:2}return-1}return function D_(s,a){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const u=s[d];if("number"==typeof u)return-1;if(u===a)return d;d++}return-1}(a,s)}function Xx(s,a,d=!1){for(let u=0;u<a.length;u++)if(Qx(s,a[u],d))return!0;return!1}function eC(s,a){e:for(let d=0;d<a.length;d++){const u=a[d];if(s.length===u.length){for(let f=0;f<s.length;f++)if(s[f]!==u[f])continue e;return!0}}return!1}function fb(s,a){return s?":not("+a.trim()+")":a}function DT(s){let a=s[0],d=1,u=2,f="",_=!1;for(;d<s.length;){let b=s[d];if("string"==typeof b)if(2&u){const E=s[++d];f+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&u?f+="."+b:4&u&&(f+=" "+b);else""!==f&&!eo(b)&&(a+=fb(_,f),f=""),u=b,_=_||!eo(u);d++}return""!==f&&(a+=fb(_,f)),a}const Zt={};function tC(s){nm(zt(),fe(),Yi()+s,!1)}function nm(s,a,d,u){if(!u)if(3==(3&a[2])){const _=s.preOrderCheckHooks;null!==_&&su(a,_,d)}else{const _=s.preOrderHooks;null!==_&&qc(a,_,0,d)}Xo(d)}function im(s,a=null,d=null,u){const f=sC(s,a,d,u);return f.resolveInjectorInitializers(),f}function sC(s,a=null,d=null,u,f=new Set){const _=[d||Ot,lT(s)];return u=u||("object"==typeof s?void 0:xe(s)),new Ox(_,a||y_(),u||null,f)}let Au=(()=>{class s{static create(d,u){if(Array.isArray(d))return im({name:""},u,d,"");{const f=d.name??"";return im({name:f},d.parent,d.providers,f)}}}return s.THROW_IF_NOT_FOUND=or,s.NULL=new tf,s.\u0275prov=At({token:s,providedIn:"any",factory:()=>mn(kx)}),s.__NG_ELEMENT_ID__=-1,s})();function hf(s,a=wt.Default){const d=fe();return null===d?mn(s,a):Va(Ii(),d,Q(s),a)}function pC(){throw new Error("invalid")}function mC(s,a){const d=s.contentQueries;if(null!==d)for(let u=0;u<d.length;u+=2){const _=d[u+1];if(-1!==_){const b=s.data[_];Hc(d[u]),b.contentQueries(2,a[_],_)}}}function _b(s,a,d,u,f,_,b,E,I,M,P){const U=a.blueprint.slice();return U[0]=f,U[2]=76|u,(null!==P||s&&1024&s[2])&&(U[2]|=1024),Pa(U),U[3]=U[15]=s,U[8]=d,U[10]=b||s&&s[10],U[11]=E||s&&s[11],U[12]=I||s&&s[12]||null,U[9]=M||s&&s[9]||null,U[6]=_,U[20]=function Fo(){return Vh++}(),U[21]=P,U[16]=2==a.type?s[16]:U,U}function ff(s,a,d,u,f){let _=s.data[a];if(null===_)_=function vb(s,a,d,u,f){const _=Xs(),b=wh(),I=s.data[a]=function tN(s,a,d,u,f,_){return{type:d,index:u,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,d,a,u,f);return null===s.firstChild&&(s.firstChild=I),null!==_&&(b?null==_.child&&null!==I.parent&&(_.child=I):null===_.next&&(_.next=I)),I}(s,a,d,u,f),function xh(){return Bt.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=d,_.value=u,_.attrs=f;const b=function Bc(){const s=Bt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return xr(_,!0),_}function sm(s,a,d,u){if(0===d)return-1;const f=a.length;for(let _=0;_<d;_++)a.push(u),s.blueprint.push(u),s.data.push(null);return f}function yb(s,a,d){jc(a);try{const u=s.viewQuery;null!==u&&Pu(1,u,d);const f=s.template;null!==f&&zT(s,a,f,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&mC(s,a),s.staticViewQueries&&Pu(2,s.viewQuery,d);const _=s.components;null!==_&&function HT(s,a){for(let d=0;d<a.length;d++)dm(s,a[d])}(a,_)}catch(u){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),u}finally{a[2]&=-5,Gc()}}function us(s,a,d,u){const f=a[2];if(128!=(128&f)){jc(a);try{Pa(a),function Mo(s){return Bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&zT(s,a,d,2,u);const b=3==(3&f);if(b){const M=s.preOrderCheckHooks;null!==M&&su(a,M,null)}else{const M=s.preOrderHooks;null!==M&&qc(a,M,0,null),Yc(a,0)}if(function ZT(s){for(let a=Qa(s);null!==a;a=cc(a)){if(!a[2])continue;const d=a[9];for(let u=0;u<d.length;u++){const f=d[u];512&f[2]||Vl(f[3],1),f[2]|=512}}}(a),function KT(s){for(let a=Qa(s);null!==a;a=cc(a))for(let d=10;d<a.length;d++){const u=a[d],f=u[1];Zo(u)&&us(f,u,f.template,u[8])}}(a),null!==s.contentQueries&&mC(s,a),b){const M=s.contentCheckHooks;null!==M&&su(a,M)}else{const M=s.contentHooks;null!==M&&qc(a,M,1),Yc(a,1)}!function UT(s,a){const d=s.hostBindingOpCodes;if(null!==d)try{for(let u=0;u<d.length;u++){const f=d[u];if(f<0)Xo(~f);else{const _=f,b=d[++u],E=d[++u];Uc(b,_),E(2,a[_])}}}finally{Xo(-1)}}(s,a);const E=s.components;null!==E&&function gC(s,a){for(let d=0;d<a.length;d++)QT(s,a[d])}(a,E);const I=s.viewQuery;if(null!==I&&Pu(2,I,u),b){const M=s.viewCheckHooks;null!==M&&su(a,M)}else{const M=s.viewHooks;null!==M&&qc(a,M,2),Yc(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[2]&=-41,512&a[2]&&(a[2]&=-513,Vl(a[3],-1))}finally{Gc()}}}function zT(s,a,d,u,f){const _=Yi(),b=2&u;try{Xo(-1),b&&a.length>22&&nm(s,a,22,!1),d(u,f)}finally{Xo(_)}}function Mu(s,a,d){if(Fl(a)){const f=a.directiveEnd;for(let _=a.directiveStart;_<f;_++){const b=s.data[_];b.contentQueries&&b.contentQueries(1,d[_],_)}}}function rn(s,a,d){Lc()&&(function bC(s,a,d,u){const f=d.directiveStart,_=d.directiveEnd;Ra(d)&&function bb(s,a,d){const u=Ui(a,s),f=_C(d),_=s[10],b=R_(s,_b(s,f,null,d.onPush?32:16,u,a,_,_.createRenderer(u,d),null,null,null));s[a.index]=b}(a,d,s.data[f+d.componentOffset]),s.firstCreatePass||td(d,a),se(u,a);const b=d.initialInputs;for(let E=f;E<_;E++){const I=s.data[E],M=oi(a,s,E,d);se(M,a),null!==b&&YT(0,E-f,M,I,0,b),jr(I)&&(Hi(d.index,a)[8]=oi(a,s,E,d))}}(s,a,d,Ui(d,a)),64==(64&d.flags)&&WT(s,a,d))}function Ls(s,a,d=Ui){const u=a.localNames;if(null!==u){let f=a.index+1;for(let _=0;_<u.length;_+=2){const b=u[_+1],E=-1===b?d(a,s):s[b];s[f++]=E}}}function _C(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=pf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function pf(s,a,d,u,f,_,b,E,I,M){const P=22+u,U=P+f,K=function Qi(s,a){const d=[];for(let u=0;u<a;u++)d.push(u<s?null:Zt);return d}(P,U),ne="function"==typeof M?M():M;return K[1]={type:s,blueprint:K,template:d,queries:null,viewQuery:E,declTNode:a,data:K.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:I,consts:ne,incompleteFirstPass:!1}}function jT(s,a,d,u){const f=Eb(a);null===d?f.push(u):(f.push(d),s.firstCreatePass&&CC(s).push(u,f.length-1))}function T_(s,a,d,u){for(let f in s)if(s.hasOwnProperty(f)){d=null===d?{}:d;const _=s[f];null===u?GT(d,a,f,_):u.hasOwnProperty(f)&&GT(d,a,u[f],_)}return d}function GT(s,a,d,u){s.hasOwnProperty(d)?s[d].push(a,u):s[d]=[a,u]}function Lo(s,a,d,u,f,_,b,E){const I=Ui(a,d);let P,M=a.inputs;!E&&null!=M&&(P=M[u])?(Db(s,d,P,u,f),Ra(a)&&$T(d,a.index)):3&a.type&&(u=function yC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(u),f=null!=b?b(f,a.value||"",u):f,_.setProperty(I,u,f))}function $T(s,a){const d=Hi(a,s);16&d[2]||(d[2]|=32)}function am(s,a,d,u){let f=!1;if(Lc()){const _=null===u?null:{"":-1},b=function qT(s,a){const d=s.directiveRegistry;let u=null,f=null;if(d)for(let _=0;_<d.length;_++){const b=d[_];if(Xx(a,b.selectors,!1))if(u||(u=[]),jr(b))if(null!==b.findHostDirectiveDefs){const E=[];f=f||new Map,b.findHostDirectiveDefs(b,E,f),u.unshift(...E,b),Ru(s,a,E.length)}else u.unshift(b),Ru(s,a,0);else f=f||new Map,b.findHostDirectiveDefs?.(b,u,f),u.push(b)}return null===u?null:[u,f]}(s,d);let E,I;null===b?E=I=null:[E,I]=b,null!==E&&(f=!0,Ai(s,a,d,E,_,I)),_&&function M_(s,a,d){if(a){const u=s.localNames=[];for(let f=0;f<a.length;f+=2){const _=d[a[f+1]];if(null==_)throw new ge(-301,!1);u.push(a[f],_)}}}(d,u,_)}return d.mergedAttrs=ta(d.mergedAttrs,d.attrs),f}function Ai(s,a,d,u,f,_){for(let M=0;M<u.length;M++)Tn(td(d,a),s,u[M].type);!function wC(s,a,d){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+d,s.providerIndexes=a}(d,s.data.length,u.length);for(let M=0;M<u.length;M++){const P=u[M];P.providersResolver&&P.providersResolver(P)}let b=!1,E=!1,I=sm(s,a,u.length,null);for(let M=0;M<u.length;M++){const P=u[M];d.mergedAttrs=ta(d.mergedAttrs,P.hostAttrs),cm(s,d,a,I,P),Ou(I,P,f),null!==P.contentQueries&&(d.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(d.flags|=64);const U=P.type.prototype;!b&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(d.index),b=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(d.index),E=!0),I++}!function vC(s,a,d){const f=a.directiveEnd,_=s.data,b=a.attrs,E=[];let I=null,M=null;for(let P=a.directiveStart;P<f;P++){const U=_[P],K=d?d.get(U):null,we=K?K.outputs:null;I=T_(U.inputs,P,I,K?K.inputs:null),M=T_(U.outputs,P,M,we);const Ve=null===I||null===b||C_(a)?null:Od(I,P,b);E.push(Ve)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=8),I.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=I,a.outputs=M}(s,d,_)}function WT(s,a,d){const u=d.directiveStart,f=d.directiveEnd,_=d.index,b=function Zg(){return Bt.lFrame.currentDirectiveIndex}();try{Xo(_);for(let E=u;E<f;E++){const I=s.data[E],M=a[E];pi(E),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&lm(I,M)}}finally{Xo(-1),pi(b)}}function lm(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Ru(s,a,d){a.componentOffset=d,(s.components||(s.components=[])).push(a.index)}function Ou(s,a,d){if(d){if(a.exportAs)for(let u=0;u<a.exportAs.length;u++)d[a.exportAs[u]]=s;jr(a)&&(d[""]=s)}}function cm(s,a,d,u,f){s.data[u]=f;const _=f.factory||(f.factory=Ao(f.type)),b=new Na(_,jr(f),hf);s.blueprint[u]=b,d[u]=b,function iN(s,a,d,u,f){const _=f.hostBindings;if(_){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const E=~a.index;(function mf(s){let a=s.length;for(;a>0;){const d=s[--a];if("number"==typeof d&&d<0)return d}return 0})(b)!=E&&b.push(E),b.push(d,u,_)}}(s,a,u,sm(s,d,f.hostVars,Zt),f)}function al(s,a,d,u,f,_){const b=Ui(s,a);!function wb(s,a,d,u,f,_,b){if(null==_)s.removeAttribute(a,f,d);else{const E=null==b?Fe(_):b(_,u||"",f);s.setAttribute(a,f,E,d)}}(a[11],b,_,s.value,d,u,f)}function YT(s,a,d,u,f,_){const b=_[a];if(null!==b){const E=u.setInput;for(let I=0;I<b.length;){const M=b[I++],P=b[I++],U=b[I++];null!==E?u.setInput(d,U,M,P):d[P]=U}}}function Od(s,a,d){let u=null,f=0;for(;f<d.length;){const _=d[f];if(0!==_)if(5!==_){if("number"==typeof _)break;if(s.hasOwnProperty(_)){null===u&&(u=[]);const b=s[_];for(let E=0;E<b.length;E+=2)if(b[E]===a){u.push(_,b[E+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return u}function k_(s,a,d,u){return[s,!0,!1,a,null,0,u,d,null,null]}function QT(s,a){const d=Hi(a,s);if(Zo(d)){const u=d[1];48&d[2]?us(u,d,u.template,d[8]):d[5]>0&&xb(d)}}function xb(s){for(let u=Qa(s);null!==u;u=cc(u))for(let f=10;f<u.length;f++){const _=u[f];if(Zo(_))if(512&_[2]){const b=_[1];us(b,_,b.template,_[8])}else _[5]>0&&xb(_)}const d=s[1].components;if(null!==d)for(let u=0;u<d.length;u++){const f=Hi(d[u],s);Zo(f)&&f[5]>0&&xb(f)}}function dm(s,a){const d=Hi(a,s),u=d[1];(function xC(s,a){for(let d=a.length;d<s.blueprint.length;d++)a.push(s.blueprint[d])})(u,d),yb(u,d,d[8])}function R_(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Cb(s){for(;s;){s[2]|=32;const a=lc(s);if(Mc(s)&&!a)return s;s=a}return null}function O_(s,a,d,u=!0){const f=a[10];f.begin&&f.begin();try{us(s,a,s.template,d)}catch(b){throw u&&JT(a,b),b}finally{f.end&&f.end()}}function Pu(s,a,d){Hc(0),a(s,d)}function Eb(s){return s[7]||(s[7]=[])}function CC(s){return s.cleanup||(s.cleanup=[])}function EC(s,a,d){return(null===s||jr(s))&&(d=function Bl(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(d[a.index])),d[11]}function JT(s,a){const d=s[9],u=d?d.get(tm,null):null;u&&u.handleError(a)}function Db(s,a,d,u,f){for(let _=0;_<d.length;){const b=d[_++],E=d[_++],I=a[b],M=s.data[b];null!==M.setInput?M.setInput(I,f,u,E):I[E]=f}}function Fu(s,a,d){let u=d?s.styles:null,f=d?s.classes:null,_=0;if(null!==a)for(let b=0;b<a.length;b++){const E=a[b];"number"==typeof E?_=E:1==_?f=pe(f,E):2==_&&(u=pe(u,E+": "+a[++b]+";"))}d?s.styles=u:s.stylesWithoutHost=u,d?s.classes=f:s.classesWithoutHost=f}function um(s,a,d,u,f=!1){for(;null!==d;){const _=a[d.index];if(null!==_&&u.push(Vi(_)),br(_))for(let E=10;E<_.length;E++){const I=_[E],M=I[1].firstChild;null!==M&&um(I[1],I,M,u)}const b=d.type;if(8&b)um(s,a,d.child,u);else if(32&b){const E=vd(d,a);let I;for(;I=E();)u.push(I)}else if(16&b){const E=a_(a,d);if(Array.isArray(E))u.push(...E);else{const I=lc(a[16]);um(I[1],I,E,u,!0)}}d=f?d.projectionNext:d.next}return u}class hm{get rootNodes(){const a=this._lView,d=a[1];return um(d,a,d.firstChild,[])}constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(br(a)){const d=a[8],u=d?d.indexOf(this):-1;u>-1&&(mu(a,u),la(d,u))}this._attachedToViewContainer=!1}o_(this._lView[1],this._lView)}onDestroy(a){jT(this._lView[1],this._lView,null,a)}markForCheck(){Cb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){O_(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qy(s,a){fc(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ge(902,!1);this._appRef=a}}class oN extends hm{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;O_(a[1],a,a[8],!1)}checkNoChanges(){}get context(){return null}}class DC extends af{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=Wt(a);return new fm(d,this.ngModule)}}function IC(s){const a=[];for(let d in s)s.hasOwnProperty(d)&&a.push({propName:s[d],templateName:d});return a}class eA{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,u){u=Ur(u);const f=this.injector.get(a,db,u);return f!==db||d===db?f:this.parentInjector.get(a,d,u)}}class fm extends Nx{get inputs(){return IC(this.componentDef.inputs)}get outputs(){return IC(this.componentDef.outputs)}constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function IT(s){return s.map(DT).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}create(a,d,u,f){let _=(f=f||this.ngModule)instanceof Iu?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new eA(a,_):a,E=b.get(lf,null);if(null===E)throw new ge(407,!1);const I=b.get(_T,null),M=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",U=u?function ku(s,a,d){return s.selectRootElement(a,d===Et.ShadowDom)}(M,u,this.componentDef.encapsulation):zh(M,P,function P_(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(P)),K=this.componentDef.onPush?288:272,ne=pf(0,null,null,1,0,null,null,null,null,null),we=_b(null,ne,null,K,null,null,E,M,I,b,null);let Ve,Xe;jc(we);try{const gt=this.componentDef;let Mt,De=null;gt.findHostDirectiveDefs?(Mt=[],De=new Map,gt.findHostDirectiveDefs(gt,Mt,De),Mt.push(gt)):Mt=[gt];const $t=function pm(s,a){const d=s[1];return s[22]=a,ff(d,22,2,"#host",null)}(we,U),ni=function nA(s,a,d,u,f,_,b,E){const I=f[1];!function iA(s,a,d,u){for(const f of s)a.mergedAttrs=ta(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(Fu(a,a.mergedAttrs,!0),null!==d&&il(u,d,a))}(u,s,a,b);const M=_.createRenderer(a,d),P=_b(f,_C(d),null,d.onPush?32:16,f[s.index],s,_,M,E||null,null,null);return I.firstCreatePass&&Ru(I,s,u.length-1),R_(f,P),f[s.index]=P}($t,U,gt,Mt,we,E,M);Xe=gh(ne,22),U&&function oA(s,a,d,u){if(u)La(s,d,["ng-version",zx.full]);else{const{attrs:f,classes:_}=function ST(s){const a=[],d=[];let u=1,f=2;for(;u<s.length;){let _=s[u];if("string"==typeof _)2===f?""!==_&&a.push(_,s[++u]):8===f&&d.push(_);else{if(!eo(f))break;f=_}u++}return{attrs:a,classes:d}}(a.selectors[0]);f&&La(s,d,f),_&&_.length>0&&nl(s,d,_.join(" "))}}(M,gt,U,u),void 0!==d&&function Ib(s,a,d){const u=s.projection=[];for(let f=0;f<a.length;f++){const _=d[f];u.push(null!=_?Array.from(_):null)}}(Xe,this.ngContentSelectors,d),Ve=function rA(s,a,d,u,f,_){const b=Ii(),E=f[1],I=Ui(b,f);Ai(E,f,b,d,null,u);for(let P=0;P<d.length;P++)se(oi(f,E,b.directiveStart+P,b),f);WT(E,f,b),I&&se(I,f);const M=oi(f,E,b.directiveStart+b.componentOffset,b);if(s[8]=f[8]=M,null!==_)for(const P of _)P(M,a);return Mu(E,b,s),M}(ni,gt,Mt,De,we,[SC]),yb(ne,we,null)}finally{Gc()}return new tA(this.componentType,Ve,gc(Xe,we),we,Xe)}}class tA extends b_{constructor(a,d,u,f,_){super(),this.location=u,this._rootLView=f,this._tNode=_,this.instance=d,this.hostView=this.changeDetectorRef=new oN(f),this.componentType=a}setInput(a,d){const u=this._tNode.inputs;let f;if(null!==u&&(f=u[a])){const _=this._rootLView;Db(_[1],_,f,a,d),$T(_,this._tNode.index)}}get injector(){return new Ro(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function SC(){const s=Ii();Wc(fe()[1],s)}function Sb(s){let a=function sn(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const u=[s];for(;a;){let f;if(jr(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ge(903,!1);f=a.\u0275dir}if(f){if(d){u.push(f);const b=s;b.inputs=Tb(s.inputs),b.declaredInputs=Tb(s.declaredInputs),b.outputs=Tb(s.outputs);const E=f.hostBindings;E&&lN(s,E);const I=f.viewQuery,M=f.contentQueries;if(I&&sN(s,I),M&&aN(s,M),be(s.inputs,f.inputs),be(s.declaredInputs,f.declaredInputs),be(s.outputs,f.outputs),jr(f)&&f.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let b=0;b<_.length;b++){const E=_[b];E&&E.ngInherit&&E(s),E===Sb&&(d=!1)}}a=Object.getPrototypeOf(a)}!function sA(s){let a=0,d=null;for(let u=s.length-1;u>=0;u--){const f=s[u];f.hostVars=a+=f.hostVars,f.hostAttrs=ta(f.hostAttrs,d=ta(d,f.hostAttrs))}}(u)}function Tb(s){return s===Kt?{}:s===Ot?[]:s}function sN(s,a){const d=s.viewQuery;s.viewQuery=d?(u,f)=>{a(u,f),d(u,f)}:a}function aN(s,a){const d=s.contentQueries;s.contentQueries=d?(u,f,_)=>{a(u,f,_),d(u,f,_)}:a}function lN(s,a){const d=s.hostBindings;s.hostBindings=d?(u,f)=>{a(u,f),d(u,f)}:a}let F_=null;function _f(){if(!F_){const s=Tt.Symbol;if(s&&s.iterator)F_=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<a.length;++d){const u=a[d];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(F_=u)}}}return F_}function Mb(s){return!!mm(s)&&(Array.isArray(s)||!(s instanceof Map)&&_f()in s)}function mm(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function ll(s,a,d){return s[a]=d}function to(s,a,d){return!Object.is(s[a],d)&&(s[a]=d,!0)}function yf(s,a,d,u,f){const _=function Bu(s,a,d,u){const f=to(s,a,d);return to(s,a+1,u)||f}(s,a,d,u);return to(s,a+2,f)||_}function kb(s,a,d,u){const f=fe();return to(f,Js(),a)&&(zt(),al(Hn(),f,s,a,d,u)),kb}function Cf(s,a,d,u,f,_,b,E){const I=fe(),M=zt(),P=s+22,U=M.firstCreatePass?function fA(s,a,d,u,f,_,b,E,I){const M=a.consts,P=ff(a,s,4,b||null,Is(M,E));am(a,d,P,Is(M,I)),Wc(a,P);const U=P.tViews=pf(2,P,u,f,_,a.directiveRegistry,a.pipeRegistry,null,a.schemas,M);return null!==a.queries&&(a.queries.template(a,P),U.queries=a.queries.embeddedTView(P)),P}(P,M,I,a,d,u,f,_,b):M.data[P];xr(U,!1);const K=I[11].createComment("");Cd(M,I,K,U),se(K,I),R_(I,I[P]=k_(K,I,K,U)),Jd(U)&&rn(M,I,U),null!=b&&Ls(I,U,E)}function cl(s){return dr(function Kg(){return Bt.lFrame.contextLView}(),22+s)}function _m(s,a,d){const u=fe();return to(u,Js(),a)&&Lo(zt(),Hn(),u,s,a,u[11],d,!1),_m}function vm(s,a,d,u,f){const b=f?"class":"style";Db(s,d,a.inputs[b],b,u)}function Uu(s,a,d,u){const f=fe(),_=zt(),b=22+s,E=f[11],I=f[b]=zh(E,a,function Dh(){return Bt.lFrame.currentNamespace}()),M=_.firstCreatePass?function Pb(s,a,d,u,f,_,b){const E=a.consts,M=ff(a,s,2,f,Is(E,_));return am(a,d,M,Is(E,b)),null!==M.attrs&&Fu(M,M.attrs,!1),null!==M.mergedAttrs&&Fu(M,M.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,M),M}(b,_,f,0,a,d,u):_.data[b];return xr(M,!0),il(E,I,M),32!=(32&M.flags)&&Cd(_,f,I,M),0===function vh(){return Bt.lFrame.elementDepthCount}()&&se(I,f),function Nc(){Bt.lFrame.elementDepthCount++}(),Jd(M)&&(rn(_,f,M),Mu(_,M,f)),null!==u&&Ls(f,M),Uu}function ym(){let s=Ii();wh()?Vc():(s=s.parent,xr(s,!1));const a=s;!function yh(){Bt.lFrame.elementDepthCount--}();const d=zt();return d.firstCreatePass&&(Wc(d,s),Fl(s)&&d.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Kl(s){return 0!=(8&s.flags)}(a)&&vm(d,a,fe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function ko(s){return 0!=(16&s.flags)}(a)&&vm(d,a,fe(),a.stylesWithoutHost,!1),ym}function Fb(s,a,d,u){return Uu(s,a,d,u),ym(),Fb}function Nb(s,a,d){const u=fe(),f=zt(),_=s+22,b=f.firstCreatePass?function uN(s,a,d,u,f){const _=a.consts,b=Is(_,u),E=ff(a,s,8,"ng-container",b);return null!==b&&Fu(E,b,!0),am(a,d,E,Is(_,f)),null!==a.queries&&a.queries.elementStart(a,E),E}(_,f,u,a,d):f.data[_];xr(b,!0);const E=u[_]=u[11].createComment("");return Cd(f,u,E,b),se(E,u),Jd(b)&&(rn(f,u,b),Mu(f,b,u)),null!=d&&Ls(u,b),Nb}function Lb(){let s=Ii();const a=zt();return wh()?Vc():(s=s.parent,xr(s,!1)),a.firstCreatePass&&(Wc(a,s),Fl(s)&&a.queries.elementEnd(s)),Lb}function kC(s,a,d){return Nb(s,a,d),Lb(),kC}function pA(){return fe()}function RC(s){return!!s&&"function"==typeof s.then}function mA(s){return!!s&&"function"==typeof s.subscribe}const gA=mA;function bm(s,a,d,u){const f=fe(),_=zt(),b=Ii();return wm(_,f,f[11],b,s,a,u),bm}function Bb(s,a){const d=Ii(),u=fe(),f=zt();return wm(f,u,EC(Fa(f.data),d,u),d,s,a),Bb}function wm(s,a,d,u,f,_,b){const E=Jd(u),M=s.firstCreatePass&&CC(s),P=a[8],U=Eb(a);let K=!0;if(3&u.type||b){const Ve=Ui(u,a),Xe=b?b(Ve):Ve,gt=U.length,Mt=b?$t=>b(Vi($t[u.index])):u.index;let De=null;if(!b&&E&&(De=function U_(s,a,d,u){const f=s.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const b=f[_];if(b===d&&f[_+1]===u){const E=a[7],I=f[_+2];return E.length>I?E[I]:null}"string"==typeof b&&(_+=2)}return null}(s,a,f,u.index)),null!==De)(De.__ngLastListenerFn__||De).__ngNextListenerFn__=_,De.__ngLastListenerFn__=_,K=!1;else{_=Cm(u,a,P,_,!1);const $t=d.listen(Xe,f,_);U.push(_,$t),M&&M.push(f,Mt,gt,gt+1)}}else _=Cm(u,a,P,_,!1);const ne=u.outputs;let we;if(K&&null!==ne&&(we=ne[f])){const Ve=we.length;if(Ve)for(let Xe=0;Xe<Ve;Xe+=2){const ni=a[we[Xe]][we[Xe+1]].subscribe(_),Zn=U.length;U.push(_,ni),M&&M.push(f,u.index,Zn,-(Zn+1))}}}function xm(s,a,d,u){try{return!1!==d(u)}catch(f){return JT(s,f),!1}}function Cm(s,a,d,u,f){return function _(b){if(b===Function)return u;Cb(s.componentOffset>-1?Hi(s.index,a):a);let I=xm(a,0,u,b),M=_.__ngNextListenerFn__;for(;M;)I=xm(a,0,M,b)&&I,M=M.__ngNextListenerFn__;return f&&!1===I&&(b.preventDefault(),b.returnValue=!1),I}}function _A(s=1){return function kp(s){return(Bt.lFrame.contextLView=function $c(s,a){for(;s>0;)a=a[15],s--;return a}(s,Bt.lFrame.contextLView))[8]}(s)}function hN(s,a){let d=null;const u=function Jx(s){const a=s.attrs;if(null!=a){const d=a.indexOf(5);if(!(1&d))return a[d+1]}return null}(s);for(let f=0;f<a.length;f++){const _=a[f];if("*"!==_){if(null===u?Xx(s,_,!0):eC(u,_))return f}else d=f}return d}function Em(s){const a=fe()[16][6];if(!a.projection){const u=a.projection=cd(s?s.length:1,null),f=u.slice();let _=a.child;for(;null!==_;){const b=s?hN(_,s):0;null!==b&&(f[b]?f[b].projectionNext=_:u[b]=_,f[b]=_),_=_.next}}}function Dm(s,a=0,d){const u=fe(),f=zt(),_=ff(f,22+s,16,null,d||null);null===_.projection&&(_.projection=a),Vc(),32!=(32&_.flags)&&function l_(s,a,d){qp(a[11],0,a,d,Fs(s,d,a),qh(d.parent||a[6],d,a))}(f,u,_)}function j_(s,a){return s<<17|a<<2}function Hu(s){return s>>17&32767}function Im(s){return 2|s}function zu(s){return(131068&s)>>2}function Ub(s,a){return-131069&s|a<<2}function Hb(s){return 1|s}function CA(s,a,d,u,f){const _=s[d+1],b=null===a;let E=u?Hu(_):zu(_),I=!1;for(;0!==E&&(!1===I||b);){const P=s[E+1];gN(s[E],a)&&(I=!0,s[E+1]=u?Hb(P):Im(P)),E=u?Hu(P):zu(P)}I&&(s[d+1]=u?Im(_):Hb(_))}function gN(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&dn(s,a)>=0}function UC(s,a,d){return dl(s,a,d,!1),UC}function G_(s,a){return dl(s,a,null,!0),G_}function dl(s,a,d,u){const f=fe(),_=zt(),b=function $r(s){const a=Bt.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,d}(2);_.firstUpdatePass&&function MA(s,a,d,u){const f=s.data;if(null===f[d+1]){const _=f[Yi()],b=function AA(s,a){return a>=s.expandoStartIndex}(s,d);(function PA(s,a){return 0!=(s.flags&(a?8:16))})(_,u)&&null===a&&!b&&(a=!1),a=function EN(s,a,d,u){const f=Fa(s);let _=u?a.residualClasses:a.residualStyles;if(null===f)0===(u?a.classBindings:a.styleBindings)&&(d=$_(d=HC(null,s,a,d,u),a.attrs,u),_=null);else{const b=a.directiveStylingLast;if(-1===b||s[b]!==f)if(d=HC(f,s,a,d,u),null===_){let I=function DN(s,a,d){const u=d?a.classBindings:a.styleBindings;if(0!==zu(u))return s[Hu(u)]}(s,a,u);void 0!==I&&Array.isArray(I)&&(I=HC(null,s,a,I[1],u),I=$_(I,a.attrs,u),function IN(s,a,d,u){s[Hu(d?a.classBindings:a.styleBindings)]=u}(s,a,u,I))}else _=function SN(s,a,d){let u;const f=a.directiveEnd;for(let _=1+a.directiveStylingLast;_<f;_++)u=$_(u,s[_].hostAttrs,d);return $_(u,a.attrs,d)}(s,a,u)}return void 0!==_&&(u?a.residualClasses=_:a.residualStyles=_),d}(f,_,a,u),function wA(s,a,d,u,f,_){let b=_?a.classBindings:a.styleBindings,E=Hu(b),I=zu(b);s[u]=d;let P,M=!1;if(Array.isArray(d)?(P=d[1],(null===P||dn(d,P)>0)&&(M=!0)):P=d,f)if(0!==I){const K=Hu(s[E+1]);s[u+1]=j_(K,E),0!==K&&(s[K+1]=Ub(s[K+1],u)),s[E+1]=function LC(s,a){return 131071&s|a<<17}(s[E+1],u)}else s[u+1]=j_(E,0),0!==E&&(s[E+1]=Ub(s[E+1],u)),E=u;else s[u+1]=j_(I,0),0===E?E=u:s[I+1]=Ub(s[I+1],u),I=u;M&&(s[u+1]=Im(s[u+1])),CA(s,P,u,!0),CA(s,P,u,!1),function xA(s,a,d,u,f){const _=f?s.residualClasses:s.residualStyles;null!=_&&"string"==typeof a&&dn(_,a)>=0&&(d[u+1]=Hb(d[u+1]))}(a,P,s,u,_),b=j_(E,I),_?a.classBindings=b:a.styleBindings=b}(f,_,a,d,b,u)}}(_,s,b,u),a!==Zt&&to(f,b,a)&&function RA(s,a,d,u,f,_,b,E){if(!(3&a.type))return;const I=s.data,M=I[E+1],P=function bA(s){return 1==(1&s)}(M)?OA(I,a,d,f,zu(M),b):void 0;zb(P)||(zb(_)||function fN(s){return 2==(2&s)}(M)&&(_=OA(I,null,d,f,E,b)),function vu(s,a,d,u,f){if(a)f?s.addClass(d,u):s.removeClass(d,u);else{let _=-1===u.indexOf("-")?void 0:Dr.DashCase;null==f?s.removeStyle(d,u,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=Dr.Important),s.setStyle(d,u,f,_))}}(u,b,Ko(Yi(),d),f,_))}(_,_.data[Yi()],f,f[11],s,f[b+1]=function MN(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=xe(Zi(s)))),s}(a,d),u,b)}function HC(s,a,d,u,f){let _=null;const b=d.directiveEnd;let E=d.directiveStylingLast;for(-1===E?E=d.directiveStart:E++;E<b&&(_=a[E],u=$_(u,_.hostAttrs,f),_!==s);)E++;return null!==s&&(d.directiveStylingLast=E),u}function $_(s,a,d){const u=d?1:2;let f=-1;if(null!==a)for(let _=0;_<a.length;_++){const b=a[_];"number"==typeof b?f=b:f===u&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ki(s,b,!!d||a[++_]))}return void 0===s?null:s}function OA(s,a,d,u,f,_){const b=null===a;let E;for(;f>0;){const I=s[f],M=Array.isArray(I),P=M?I[1]:I,U=null===P;let K=d[f+1];K===Zt&&(K=U?Ot:void 0);let ne=U?hd(K,u):P===u?K:void 0;if(M&&!zb(ne)&&(ne=hd(I,u)),zb(ne)&&(E=ne,b))return E;const we=s[f+1];f=b?Hu(we):zu(we)}if(null!==a){let I=_?a.residualClasses:a.residualStyles;null!=I&&(E=hd(I,u))}return E}function zb(s){return void 0!==s}function FA(s,a=""){const d=fe(),u=zt(),f=s+22,_=u.firstCreatePass?ff(u,f,1,a,null):u.data[f],b=d[f]=function fu(s,a){return s.createText(a)}(d[11],a);Cd(u,d,b,_),xr(_,!1)}function zC(s){return W_("",s,""),zC}function W_(s,a,d){const u=fe(),f=function va(s,a,d,u){return to(s,Js(),d)?a+Fe(d)+u:Zt}(u,s,a,d);return f!==Zt&&function ga(s,a,d){const u=Ko(a,s);!function pu(s,a,d){s.setValue(a,d)}(s[11],u,d)}(u,Yi(),f),W_}function GC(s,a,d){const u=fe();return to(u,Js(),a)&&Lo(zt(),Hn(),u,s,a,u[11],d,!0),GC}function $C(s,a,d){const u=fe();if(to(u,Js(),a)){const _=zt(),b=Hn();Lo(_,b,u,s,a,EC(Fa(_.data),b,u),d,!0)}return $C}const Df=void 0;var ZN=["en",[["a","p"],["AM","PM"],Df],[["AM","PM"],Df,Df],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Df,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Df,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Df,"{1} 'at' {0}",Df],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function KN(s){const d=Math.floor(Math.abs(s)),u=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===u?1:5}];let Tm={};function WC(s){const a=function QN(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=JA(a);if(d)return d;const u=a.split("-")[0];if(d=JA(u),d)return d;if("en"===u)return ZN;throw new ge(701,!1)}function XA(s){return WC(s)[Ft.PluralCase]}function JA(s){return s in Tm||(Tm[s]=Tt.ng&&Tt.ng.common&&Tt.ng.common.locales&&Tt.ng.common.locales[s]),Tm[s]}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const Am="en-US";let $b=Am;function r0(s,a,d,u,f){if(s=Q(s),Array.isArray(s))for(let _=0;_<s.length;_++)r0(s[_],a,d,u,f);else{const _=zt(),b=fe();let E=Du(s)?s:Q(s.provide),I=Px(s);const M=Ii(),P=1048575&M.providerIndexes,U=M.directiveStart,K=M.providerIndexes>>20;if(Du(s)||!s.multi){const ne=new Na(I,f,hf),we=wn(E,a,f?P:P+K,U);-1===we?(Tn(td(M,b),_,E),o0(_,s,a.length),a.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),d.push(ne),b.push(ne)):(d[we]=ne,b[we]=ne)}else{const ne=wn(E,a,P+K,U),we=wn(E,a,P,P+K),Xe=we>=0&&d[we];if(f&&!Xe||!f&&!(ne>=0&&d[ne])){Tn(td(M,b),_,E);const gt=function hE(s,a,d,u,f){const _=new Na(s,d,hf);return _.multi=[],_.index=a,_.componentProviders=0,dE(_,f,u&&!d),_}(f?bL:yL,d.length,f,u,I);!f&&Xe&&(d[we].providerFactory=gt),o0(_,s,a.length,0),a.push(E),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),d.push(gt),b.push(gt)}else o0(_,s,ne>-1?ne:we,dE(d[f?we:ne],I,!f&&u));!f&&u&&Xe&&d[we].componentProviders++}}}function o0(s,a,d,u){const f=Du(a),_=function sb(s){return!!s.useClass}(a);if(f||_){const I=(_?Q(a.useClass):a).prototype.ngOnDestroy;if(I){const M=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const P=M.indexOf(d);-1===P?M.push(d,[u,I]):M[P+1].push(u,I)}else M.push(d,I)}}}function dE(s,a,d){return d&&s.componentProviders++,s.multi.push(a)-1}function wn(s,a,d,u){for(let f=d;f<u;f++)if(a[f]===s)return f;return-1}function yL(s,a,d,u){return uE(this.multi,[])}function bL(s,a,d,u){const f=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=oi(d,d[1],this.providerFactory.index,u);_=E.slice(0,b),uE(f,_);for(let I=b;I<E.length;I++)_.push(E[I])}else _=[],uE(f,_);return _}function uE(s,a){for(let d=0;d<s.length;d++)a.push((0,s[d])());return a}function Om(s,a=[]){return d=>{d.providersResolver=(u,f)=>function wM(s,a,d){const u=zt();if(u.firstCreatePass){const f=jr(s);r0(d,u.data,u.blueprint,f,!0),r0(a,u.data,u.blueprint,f,!1)}}(u,f?f(s):s,a)}}class ju{}class tv{}function xM(s,a){return new CM(s,a??null)}class CM extends ju{constructor(a,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new DC(this);const u=lr(a);this._bootstrapComponents=Rd(u.bootstrap),this._r3Injector=sC(a,d,[{provide:ju,useValue:this},{provide:af,useValue:this.componentFactoryResolver}],xe(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class s0 extends tv{constructor(a){super(),this.moduleType=a}create(a){return new CM(this.moduleType,a)}}class wL extends ju{constructor(a,d,u){super(),this.componentFactoryResolver=new DC(this),this.instance=null;const f=new Ox([...a,{provide:ju,useValue:this},{provide:af,useValue:this.componentFactoryResolver}],d||y_(),u,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function fE(s,a,d=null){return new wL(s,a,d).injector}let xL=(()=>{class s{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const u=nf(0,d.type),f=u.length>0?fE([u],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,f)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=At({token:s,providedIn:"environment",factory:()=>new s(mn(Iu))}),s})();function EM(s){s.getStandaloneInjector=a=>a.get(xL).getOrCreateStandaloneInjector(s)}function Gu(s,a,d,u){return kM(fe(),fi(),s,a,d,u)}function iv(s,a){const d=s[a];return d===Zt?void 0:d}function kM(s,a,d,u,f,_){const b=a+d;return to(s,b,f)?ll(s,b+1,_?u.call(_,f):u(f)):iv(s,b+1)}function NM(s,a){const d=zt();let u;const f=s+22;d.firstCreatePass?(u=function ML(s,a){if(a)for(let d=a.length-1;d>=0;d--){const u=a[d];if(s===u.name)return u}}(a,d.pipeRegistry),d.data[f]=u,u.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(f,u.onDestroy)):u=d.data[f];const _=u.factory||(u.factory=Ao(u.type)),b=Nn(hf);try{const E=Jc(!1),I=_();return Jc(E),function V_(s,a,d,u){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),a[d]=u}(d,fe(),f,I),I}finally{Nn(b)}}function LM(s,a,d){const u=s+22,f=fe(),_=dr(f,u);return Fm(f,u)?kM(f,fi(),a,_.transform,d,_):_.transform(d)}function xE(s,a,d,u,f){const _=s+22,b=fe(),E=dr(b,_);return Fm(b,_)?function OM(s,a,d,u,f,_,b,E){const I=a+d;return yf(s,I,f,_,b)?ll(s,I+3,E?u.call(E,f,_,b):u(f,_,b)):iv(s,I+3)}(b,fi(),a,E.transform,d,u,f,E):E.transform(d,u,f)}function Fm(s,a){return s[1].data[a].pure}function Nm(s){return a=>{setTimeout(s,void 0,a)}}const Bs=class UM extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,u){let f=a,_=d||(()=>null),b=u;if(a&&"object"==typeof a){const I=a;f=I.next?.bind(I),_=I.error?.bind(I),b=I.complete?.bind(I)}this.__isAsync&&(_=Nm(_),f&&(f=Nm(f)),b&&(b=Nm(b)));const E=super.subscribe({next:f,error:_,complete:b});return a instanceof ie.w0&&a.add(E),E}};function c0(){return this._results[_f()]()}class rv{get changes(){return this._changes||(this._changes=new Bs)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=_f(),u=rv.prototype;u[d]||(u[d]=c0)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const u=this;u.dirty=!1;const f=function Wr(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Rh(s,a,d){if(s.length!==a.length)return!1;for(let u=0;u<s.length;u++){let f=s[u],_=a[u];if(d&&(f=d(f),_=d(_)),_!==f)return!1}return!0}(u._results,f,d))&&(u._results=f,u.length=f.length,u.last=f[this.length-1],u.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let $u=(()=>{class s{}return s.__NG_ELEMENT_ID__=u0,s})();const d0=$u,HM=class extends d0{constructor(a,d,u){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=u}createEmbeddedView(a,d){const u=this._declarationTContainer.tViews,f=_b(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null,d||null);f[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(f[19]=b.createEmbeddedView(u)),yb(u,f,a),new hm(f)}};function u0(){return Lm(Ii(),fe())}function Lm(s,a){return 4&s.type?new HM(a,s,gc(s,a)):null}let ov=(()=>{class s{}return s.__NG_ELEMENT_ID__=CE,s})();function CE(){return IE(Ii(),fe())}const EE=ov,DE=class extends EE{constructor(a,d,u){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=u}get element(){return gc(this._hostTNode,this._hostLView)}get injector(){return new Ro(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ah(this._hostTNode,this._hostLView);if(na(a)){const d=ia(a,this._hostLView),u=Ts(a);return new Ro(d[1].data[u+8],d)}return new Ro(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=h0(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,d,u){let f,_;"number"==typeof u?f=u:null!=u&&(f=u.index,_=u.injector);const b=a.createEmbeddedView(d||{},_);return this.insert(b,f),b}createComponent(a,d,u,f,_){const b=a&&!function ld(s){return"function"==typeof s}(a);let E;if(b)E=d;else{const U=d||{};E=U.index,u=U.injector,f=U.projectableNodes,_=U.environmentInjector||U.ngModuleRef}const I=b?a:new fm(Wt(a)),M=u||this.parentInjector;if(!_&&null==I.ngModule){const K=(b?M:this.parentInjector).get(Iu,null);K&&(_=K)}const P=I.create(M,f,void 0,_);return this.insert(P.hostView,E),P}insert(a,d){const u=a._lView,f=u[1];if(function iu(s){return br(s[3])}(u)){const P=this.indexOf(a);if(-1!==P)this.detach(P);else{const U=u[3],K=new DE(U,U[6],U[3]);K.detach(K.indexOf(a))}}const _=this._adjustIndex(d),b=this._lContainer;!function uc(s,a,d,u){const f=10+u,_=d.length;u>0&&(d[f-1][4]=a),u<_-10?(a[4]=d[f],Hp(d,10+u,a)):(d.push(a),a[4]=null),a[3]=d;const b=a[17];null!==b&&d!==b&&function Yy(s,a){const d=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===d?s[9]=[a]:d.push(a)}(b,a);const E=a[19];null!==E&&E.insertView(s),a[2]|=64}(f,u,b,_);const E=el(_,b),I=u[11],M=Xa(I,b[7]);return null!==M&&function i_(s,a,d,u,f,_){u[0]=f,u[6]=a,fc(s,u,d,1,f,_)}(f,b[6],I,u,M,E),a.attachToViewContainerRef(),Hp(f0(b),_,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=h0(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),u=mu(this._lContainer,d);u&&(la(f0(this._lContainer),d),o_(u[1],u))}detach(a){const d=this._adjustIndex(a,-1),u=mu(this._lContainer,d);return u&&null!=la(f0(this._lContainer),d)?new hm(u):null}_adjustIndex(a,d=0){return a??this.length+d}};function h0(s){return s[8]}function f0(s){return s[8]||(s[8]=[])}function IE(s,a){let d;const u=a[s.index];if(br(u))d=u;else{let f;if(8&s.type)f=Vi(u);else{const _=a[11];f=_.createComment("");const b=Ui(s,a);wd(_,Xa(_,b),f,function xd(s,a){return s.nextSibling(a)}(_,b),!1)}a[s.index]=d=k_(u,a,f,s),R_(a,d)}return new DE(d,s,a)}class SE{constructor(a){this.queryList=a,this.matches=null}clone(){return new SE(this.queryList)}setDirty(){this.queryList.setDirty()}}class p0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const u=null!==a.contentQueries?a.contentQueries[0]:d.length,f=[];for(let _=0;_<u;_++){const b=d.getByIndex(_);f.push(this.queries[b.indexInDeclarationView].clone())}return new p0(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==av(a,d).matches&&this.queries[d].setDirty()}}class TE{constructor(a,d,u=null){this.predicate=a,this.flags=d,this.read=u}}class AE{constructor(a=[]){this.queries=a}elementStart(a,d){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let u=0;u<this.length;u++){const f=null!==d?d.length:0,_=this.getByIndex(u).embeddedTView(a,f);_&&(_.indexInDeclarationView=u,null!==d?d.push(_):d=[_])}return null!==d?new AE(d):null}template(a,d){for(let u=0;u<this.queries.length;u++)this.queries[u].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class ME{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new ME(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let u=a.parent;for(;null!==u&&8&u.type&&u.index!==d;)u=u.parent;return d===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const u=this.metadata.predicate;if(Array.isArray(u))for(let f=0;f<u.length;f++){const _=u[f];this.matchTNodeWithReadOption(a,d,zM(d,_)),this.matchTNodeWithReadOption(a,d,Ua(d,a,_,!1,!1))}else u===$u?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,Ua(d,a,u,!1,!1))}matchTNodeWithReadOption(a,d,u){if(null!==u){const f=this.metadata.read;if(null!==f)if(f===kd||f===ov||f===$u&&4&d.type)this.addMatch(d.index,-2);else{const _=Ua(d,a,f,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,u)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function zM(s,a){const d=s.localNames;if(null!==d)for(let u=0;u<d.length;u+=2)if(d[u]===a)return d[u+1];return null}function m0(s,a,d,u){return-1===d?function li(s,a){return 11&s.type?gc(s,a):4&s.type?Lm(s,a):null}(a,s):-2===d?function vo(s,a,d){return d===kd?gc(a,s):d===$u?Lm(a,s):d===ov?IE(a,s):void 0}(s,a,u):oi(s,s[1],d,a)}function jM(s,a,d,u){const f=a[19].queries[u];if(null===f.matches){const _=s.data,b=d.matches,E=[];for(let I=0;I<b.length;I+=2){const M=b[I];E.push(M<0?null:m0(a,_[M],b[I+1],d.metadata.read))}f.matches=E}return f.matches}function sv(s,a,d,u){const f=s.queries.getByIndex(d),_=f.matches;if(null!==_){const b=jM(s,a,f,d);for(let E=0;E<_.length;E+=2){const I=_[E];if(I>0)u.push(b[E/2]);else{const M=_[E+1],P=a[-I];for(let U=10;U<P.length;U++){const K=P[U];K[17]===K[3]&&sv(K[1],K,M,u)}if(null!==P[9]){const U=P[9];for(let K=0;K<U.length;K++){const ne=U[K];sv(ne[1],ne,M,u)}}}}}return u}function ye(s){const a=fe(),d=zt(),u=ru();Hc(u+1);const f=av(d,u);if(s.dirty&&function Fc(s){return 4==(4&s[2])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const _=f.crossesNgTemplate?sv(d,a,u,[]):jM(d,a,f,u);s.reset(_,Vx),s.notifyOnChanges()}return!0}return!1}function Vs(s,a,d){const u=zt();u.firstCreatePass&&(Hs(u,new TE(s,a,d),-1),2==(2&a)&&(u.staticViewQueries=!0)),kE(u,fe(),a)}function hl(s,a,d,u){const f=zt();if(f.firstCreatePass){const _=Ii();Hs(f,new TE(a,d,u),_.index),function at(s,a){const d=s.contentQueries||(s.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,a)}(f,s),2==(2&d)&&(f.staticContentQueries=!0)}kE(f,fe(),d)}function Us(){return function N(s,a){return s[19].queries[a].queryList}(fe(),ru())}function kE(s,a,d){const u=new rv(4==(4&d));jT(s,a,u,u.destroy),null===a[19]&&(a[19]=new p0),a[19].queries.push(new SE(u))}function Hs(s,a,d){null===s.queries&&(s.queries=new AE),s.queries.track(new ME(a,d))}function av(s,a){return s.queries.getByIndex(a)}function Gt(s,a){return Lm(s,a)}function qm(...s){}const E0=new yn("Application Initializer");let fv=(()=>{class s{constructor(d){this.appInits=d,this.resolve=qm,this.reject=qm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,f)=>{this.resolve=u,this.reject=f})}runInitializers(){if(this.initialized)return;const d=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(RC(_))d.push(_);else if(gA(_)){const b=new Promise((E,I)=>{_.subscribe({complete:E,error:I})});d.push(b)}}Promise.all(d).then(()=>{u()}).catch(f=>{this.reject(f)}),0===d.length&&u(),this.initialized=!0}}return s.\u0275fac=function(d){return new(d||s)(mn(E0,8))},s.\u0275prov=At({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const pv=new yn("AppId",{providedIn:"root",factory:function mv(){return`${er()}${er()}${er()}`}});function er(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Ar=new yn("Platform Initializer"),gv=new yn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_v=new yn("appBootstrapListener"),ek=new yn("AnimationModuleType");let QE=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=At({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const vv=new yn("LocaleId",{providedIn:"root",factory:()=>Ni(vv,wt.Optional|wt.SkipSelf)||function tk(){return typeof $localize<"u"&&$localize.locale||Am}()}),XE=new yn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class tD{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let nk=(()=>{class s{compileModuleSync(d){return new s0(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const u=this.compileModuleSync(d),_=Rd(lr(d).declarations).reduce((b,E)=>{const I=Wt(E);return I&&b.push(new fm(I)),b},[]);return new tD(u,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=At({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const rD=(()=>Promise.resolve(0))();function wv(s){typeof Zone>"u"?rD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class js{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Bs(!1),this.onMicrotaskEmpty=new Bs(!1),this.onStable=new Bs(!1),this.onError=new Bs(!1),typeof Zone>"u")throw new ge(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!u&&d,f.shouldCoalesceRunChangeDetection=u,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function xv(){let s=Tt.requestAnimationFrame,a=Tt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Wu(s){const a=()=>{!function ik(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Tt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Cv(s),s.isCheckStableRunning=!0,S0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Cv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,u,f,_,b,E)=>{try{return Ym(s),d.invokeTask(f,_,b,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||s.shouldCoalesceRunChangeDetection)&&a(),T0(s)}},onInvoke:(d,u,f,_,b,E,I)=>{try{return Ym(s),d.invoke(f,_,b,E,I)}finally{s.shouldCoalesceRunChangeDetection&&a(),T0(s)}},onHasTask:(d,u,f,_)=>{d.hasTask(f,_),u===f&&("microTask"==_.change?(s._hasPendingMicrotasks=_.microTask,Cv(s),S0(s)):"macroTask"==_.change&&(s.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,u,f,_)=>(d.handleError(f,_),s.runOutsideAngular(()=>s.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!js.isInAngularZone())throw new ge(909,!1)}static assertNotInAngularZone(){if(js.isInAngularZone())throw new ge(909,!1)}run(a,d,u){return this._inner.run(a,d,u)}runTask(a,d,u,f){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+f,a,Pf,qm,qm);try{return _.runTask(b,d,u)}finally{_.cancelTask(b)}}runGuarded(a,d,u){return this._inner.runGuarded(a,d,u)}runOutsideAngular(a){return this._outer.run(a)}}const Pf={};function S0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Cv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Ym(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function T0(s){s._nesting--,S0(s)}class Km{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Bs,this.onMicrotaskEmpty=new Bs,this.onStable=new Bs,this.onError=new Bs}run(a,d,u){return a.apply(d,u)}runGuarded(a,d,u){return a.apply(d,u)}runOutsideAngular(a){return a()}runTask(a,d,u,f){return a.apply(d,u)}}const A0=new yn(""),no=new yn("");let Dv,oD=(()=>{class s{constructor(d,u,f){this._ngZone=d,this.registry=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Dv||(function Ev(s){Dv=s}(f),f.addToWindow(u)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{js.assertNotInAngularZone(),wv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wv(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(d)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,u,f){let _=-1;u&&u>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),d(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:f})}whenStable(d,u,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,u,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,u,f){return[]}}return s.\u0275fac=function(d){return new(d||s)(mn(js),mn(Ff),mn(no))},s.\u0275prov=At({token:s,factory:s.\u0275fac}),s})(),Ff=(()=>{class s{constructor(){this._applications=new Map}registerApplication(d,u){this._applications.set(d,u)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,u=!0){return Dv?.findTestabilityInTree(this,d,u)??null}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=At({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),fl=null;const M0=new yn("AllowMultipleToken"),Iv=new yn("PlatformDestroyListeners");class Sv{constructor(a,d){this.name=a,this.token=d}}function Qm(s,a,d=[]){const u=`Platform: ${a}`,f=new yn(u);return(_=[])=>{let b=Tv();if(!b||b.injector.get(M0,!1)){const E=[...d,..._,{provide:f,useValue:!0}];s?s(E):function Zm(s){if(fl&&!fl.get(M0,!1))throw new ge(400,!1);fl=s;const a=s.get(dD);(function lD(s){const a=s.get(Ar,null);a&&a.forEach(d=>d())})(s)}(function P0(s=[],a){return Au.create({name:a,providers:[{provide:sf,useValue:"platform"},{provide:Iv,useValue:new Set([()=>fl=null])},...s]})}(E,u))}return function O0(s){const a=Tv();if(!a)throw new ge(401,!1);return a}()}}function Tv(){return fl?.get(dD)??null}let dD=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,u){const f=function F0(s,a){let d;return d="noop"===s?new Km:("zone.js"===s?void 0:s)||new js(a),d}(u?.ngZone,function Nf(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(u)),_=[{provide:js,useValue:f}];return f.run(()=>{const b=Au.create({providers:_,parent:this.injector,name:d.moduleType.name}),E=d.create(b),I=E.injector.get(tm,null);if(!I)throw new ge(402,!1);return f.runOutsideAngular(()=>{const M=f.onError.subscribe({next:P=>{I.handleError(P)}});E.onDestroy(()=>{Bf(this._modules,E),M.unsubscribe()})}),function Xm(s,a,d){try{const u=d();return RC(u)?u.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):u}catch(u){throw a.runOutsideAngular(()=>s.handleError(u)),u}}(I,f,()=>{const M=E.injector.get(fv);return M.runInitializers(),M.donePromise.then(()=>(function Mm(s){vt(s,"Expected localeId to be defined"),"string"==typeof s&&($b=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(vv,Am)||Am),this._moduleDoBootstrap(E),E))})})}bootstrapModule(d,u=[]){const f=Lf({},u);return function k0(s,a,d){const u=new s0(d);return Promise.resolve(u)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(d){const u=d.injector.get(pl);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>u.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new ge(-403,!1);d.instance.ngDoBootstrap(u)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ge(404,!1);this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u());const d=this._injector.get(Iv,null);d&&(d.forEach(u=>u()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(d){return new(d||s)(mn(Au))},s.\u0275prov=At({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Lf(s,a){return Array.isArray(a)?a.reduce(Lf,s):{...s,...a}}let pl=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,u,f){this._zone=d,this._injector=u,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new B.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),b=new B.y(E=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{js.assertNotInAngularZone(),wv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const M=this._zone.onUnstable.subscribe(()=>{js.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{I.unsubscribe(),M.unsubscribe()}});this.isStable=(0,ce.T)(_,b.pipe((0,de.B)()))}bootstrap(d,u){const f=d instanceof Nx;if(!this._injector.get(fv).done)throw!f&&kl(d),new ge(405,false);let b;b=f?d:this._injector.get(af).resolveComponentFactory(d),this.componentTypes.push(b.componentType);const E=function R0(s){return s.isBoundToModule}(b)?void 0:this._injector.get(ju),M=b.create(Au.NULL,[],u||b.selector,E),P=M.location.nativeElement,U=M.injector.get(A0,null);return U?.registerApplication(P),M.onDestroy(()=>{this.detachView(M.hostView),Bf(this.components,M),U?.unregisterApplication(P)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new ge(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const u=d;this._views.push(u),u.attachToAppRef(this)}detachView(d){const u=d;Bf(this._views,u),u.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const u=this._injector.get(_v,[]);u.push(...this._bootstrapListeners),u.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Bf(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new ge(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(d){return new(d||s)(mn(js),mn(Iu),mn(tm))},s.\u0275prov=At({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Bf(s,a){const d=s.indexOf(a);d>-1&&s.splice(d,1)}function hD(){return!1}let Av=(()=>{class s{}return s.__NG_ELEMENT_ID__=Mv,s})();function Mv(s){return function fD(s,a,d){if(Ra(s)&&!d){const u=Hi(s.index,a);return new hm(u,u)}return 47&s.type?new hm(a[16],a):null}(Ii(),fe(),16==(16&s))}class Lv{constructor(){}supports(a){return Mb(a)}create(a){return new _D(a)}}const B0=(s,a)=>a;class _D{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||B0}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,u=this._removalsHead,f=0,_=null;for(;d||u;){const b=!u||d&&d.currentIndex<bD(u,f,_)?d:u,E=bD(b,f,_),I=b.currentIndex;if(b===u)f--,u=u._nextRemoved;else if(d=d._next,null==b.previousIndex)f++;else{_||(_=[]);const M=E-f,P=I-f;if(M!=P){for(let K=0;K<M;K++){const ne=K<_.length?_[K]:_[K]=0,we=ne+K;P<=we&&we<M&&(_[K]=ne+1)}_[b.previousIndex]=P-M}}E!==I&&a(b,E,I)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!Mb(a))throw new ge(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,_,b,d=this._itHead,u=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)_=a[E],b=this._trackByFn(E,_),null!==d&&Object.is(d.trackById,b)?(u&&(d=this._verifyReinsertion(d,_,b,E)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,b,E),u=!0),d=d._next}else f=0,function vf(s,a){if(Array.isArray(s))for(let d=0;d<s.length;d++)a(s[d]);else{const d=s[_f()]();let u;for(;!(u=d.next()).done;)a(u.value)}}(a,E=>{b=this._trackByFn(f,E),null!==d&&Object.is(d.trackById,b)?(u&&(d=this._verifyReinsertion(d,E,b,f)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,b,f),u=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,u,f){let _;return null===a?_=this._itTail:(_=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,_,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(u,f))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,_,f)):a=this._addAfter(new vD(d,u),_,f),a}_verifyReinsertion(a,d,u,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==_?a=this._reinsertAfter(_,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,_=a._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(a,d,u),this._addToMoves(a,u),a}_moveAfter(a,d,u){return this._unlink(a),this._insertAfter(a,d,u),this._addToMoves(a,u),a}_addAfter(a,d,u){return this._insertAfter(a,d,u),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,u){const f=null===d?this._itHead:d._next;return a._next=f,a._prev=d,null===f?this._itTail=a:f._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new yD),this._linkedRecords.put(a),a.currentIndex=u,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,u=a._next;return null===d?this._itHead=u:d._next=u,null===u?this._itTail=d:u._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yD),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class vD{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class V0{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===d||d<=u.currentIndex)&&Object.is(u.trackById,a))return u;return null}remove(a){const d=a._prevDup,u=a._nextDup;return null===d?this._head=u:d._nextDup=u,null===u?this._tail=d:u._prevDup=d,null===this._head}}class yD{constructor(){this.map=new Map}put(a){const d=a.trackById;let u=this.map.get(d);u||(u=new V0,this.map.set(d,u)),u.add(a)}get(a,d){const f=this.map.get(a);return f?f.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function bD(s,a,d){const u=s.previousIndex;if(null===u)return u;let f=0;return d&&u<d.length&&(f=d[u]),u+a+f}class wD{constructor(){}supports(a){return a instanceof Map||mm(a)}create(){return new Bv}}class Bv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||mm(a)))throw new ge(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(u,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,u),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(f,u);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let u=d;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const u=a._prev;return d._next=a,d._prev=u,a._prev=d,u&&(u._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,d);const _=f._prev,b=f._next;return _&&(_._next=b),b&&(b._prev=_),f._next=null,f._prev=null,f}const u=new Jm(a);return this._records.set(a,u),u.currentValue=d,this._addToAdditions(u),u}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(u=>d(a[u],u))}}class Jm{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eg(){return new tg([new Lv])}let tg=(()=>{class s{constructor(d){this.factories=d}static create(d,u){if(null!=u){const f=u.factories.slice();d=d.concat(f)}return new s(d)}static extend(d){return{provide:s,useFactory:u=>s.create(d,u||eg()),deps:[[s,new ts,new Wa]]}}find(d){const u=this.factories.find(f=>f.supports(d));if(null!=u)return u;throw new ge(901,!1)}}return s.\u0275prov=At({token:s,providedIn:"root",factory:eg}),s})();function Uf(){return new qu([new wD])}let qu=(()=>{class s{constructor(d){this.factories=d}static create(d,u){if(u){const f=u.factories.slice();d=d.concat(f)}return new s(d)}static extend(d){return{provide:s,useFactory:u=>s.create(d,u||Uf()),deps:[[s,new ts,new Wa]]}}find(d){const u=this.factories.find(f=>f.supports(d));if(u)return u;throw new ge(901,!1)}}return s.\u0275prov=At({token:s,providedIn:"root",factory:Uf}),s})();const mk=Qm(null,"core",[]);let gk=(()=>{class s{constructor(d){}}return s.\u0275fac=function(d){return new(d||s)(mn(pl))},s.\u0275mod=St({type:s}),s.\u0275inj=En({}),s})();function xD(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(bt,Se,V)=>{V.d(Se,{Z:()=>Ze});var c=V(2090),ie=V(4859),B=V(6881),ce=V(1877);class de{constructor(ge,Pe){this._delegate=ge,this.firebase=Pe,(0,B._addComponent)(ge,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(ge,Pe=B._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const Ue=this._delegate.container.getProvider(ge);return!Ue.isInitialized()&&"EXPLICIT"===(null===(Fe=Ue.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&Ue.initialize(),Ue.getImmediate({identifier:Pe})}_removeServiceInstance(ge,Pe=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Pe)}_addComponent(ge){(0,B._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,B._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),q=function pe(){const ft=function xe(ft){const ge={},Pe={__esModule:!0,initializeApp:function Ne(Le,lt={}){const le=B.initializeApp(Le,lt);if((0,c.r3)(ge,le.name))return ge[le.name];const kt=new ft(le,Pe);return ge[le.name]=kt,kt},app:Ue,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function Ee(Le){const lt=Le.name,le=lt.replace("-compat","");if(B._registerComponent(Le)&&"PUBLIC"===Le.type){const kt=(rt=Ue())=>{if("function"!=typeof rt[le])throw be.create("invalid-app-argument",{appName:lt});return rt[le]()};void 0!==Le.serviceProps&&(0,c.ZB)(kt,Le.serviceProps),Pe[le]=kt,ft.prototype[le]=function(...rt){return this._getService.bind(this,lt).apply(this,Le.multipleInstances?rt:[])}}return"PUBLIC"===Le.type?Pe[le]:null},removeApp:function Fe(Le){delete ge[Le]},useAsService:function We(Le,lt){return"serverAuth"===lt?null:lt},modularAPIs:B}};function Ue(Le){if(!(0,c.r3)(ge,Le=Le||B._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Le});return ge[Le]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function Ce(){return Object.keys(ge).map(Le=>ge[Le])}}),Ue.App=ft,Pe}(de);return ft.INTERNAL=Object.assign(Object.assign({},ft.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ge(Pe){(0,c.ZB)(ft,Pe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ft}(),W=new ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){W.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ft=self.firebase.SDK_VERSION;ft&&ft.indexOf("LITE")>=0&&W.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=q;!function Te(ft){(0,B.registerVersion)("@firebase/app-compat","0.2.10",ft)}()},6881:(bt,Se,V)=>{V.r(Se),V.d(Se,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Ta,_DEFAULT_ENTRY_NAME:()=>Nn,_addComponent:()=>ct,_addOrOverwriteComponent:()=>Lt,_apps:()=>mr,_clearComponents:()=>xi,_components:()=>Tt,_getProvider:()=>or,_registerComponent:()=>Ys,_removeServiceInstance:()=>Fi,deleteApp:()=>mn,getApp:()=>sr,getApps:()=>Vr,initializeApp:()=>ln,onLog:()=>Ur,registerVersion:()=>Ni,setLogLevel:()=>qn});var c=V(5861),ie=V(4859),B=V(1877),ce=V(2090);let J,be;const q=new WeakMap,W=new WeakMap,Q=new WeakMap,je=new WeakMap,Te=new WeakMap;let ge={get(he,re,Re){if(he instanceof IDBTransaction){if("done"===re)return W.get(he);if("objectStoreNames"===re)return he.objectStoreNames||Q.get(he);if("store"===re)return Re.objectStoreNames[1]?void 0:Re.objectStore(Re.objectStoreNames[0])}return Ne(he[re])},set:(he,re,Re)=>(he[re]=Re,!0),has:(he,re)=>he instanceof IDBTransaction&&("done"===re||"store"===re)||re in he};function Ue(he){return"function"==typeof he?function Fe(he){return he!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(he)?function(...re){return he.apply(Ce(this),re),Ne(q.get(this))}:function(...re){return Ne(he.apply(Ce(this),re))}:function(re,...Re){const yt=he.call(Ce(this),re,...Re);return Q.set(yt,re.sort?re.sort():[re]),Ne(yt)}}(he):(he instanceof IDBTransaction&&function ft(he){if(W.has(he))return;const re=new Promise((Re,yt)=>{const St=()=>{he.removeEventListener("complete",tn),he.removeEventListener("error",gn),he.removeEventListener("abort",gn)},tn=()=>{Re(),St()},gn=()=>{yt(he.error||new DOMException("AbortError","AbortError")),St()};he.addEventListener("complete",tn),he.addEventListener("error",gn),he.addEventListener("abort",gn)});W.set(he,re)}(he),((he,re)=>re.some(Re=>he instanceof Re))(he,function xe(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(he,ge):he)}function Ne(he){if(he instanceof IDBRequest)return function Ze(he){const re=new Promise((Re,yt)=>{const St=()=>{he.removeEventListener("success",tn),he.removeEventListener("error",gn)},tn=()=>{Re(Ne(he.result)),St()},gn=()=>{yt(he.error),St()};he.addEventListener("success",tn),he.addEventListener("error",gn)});return re.then(Re=>{Re instanceof IDBCursor&&q.set(Re,he)}).catch(()=>{}),Te.set(re,he),re}(he);if(je.has(he))return je.get(he);const re=Ue(he);return re!==he&&(je.set(he,re),Te.set(re,he)),re}const Ce=he=>Te.get(he),Le=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],le=new Map;function kt(he,re){if(!(he instanceof IDBDatabase)||re in he||"string"!=typeof re)return;if(le.get(re))return le.get(re);const Re=re.replace(/FromIndex$/,""),yt=re!==Re,St=lt.includes(Re);if(!(Re in(yt?IDBIndex:IDBObjectStore).prototype)||!St&&!Le.includes(Re))return;const tn=function(){var gn=(0,c.Z)(function*(Ei,...Yn){const Wt=this.transaction(Ei,St?"readwrite":"readonly");let Kn=Wt.store;return yt&&(Kn=Kn.index(Yn.shift())),(yield Promise.all([Kn[Re](...Yn),St&&Wt.done]))[0]});return function(Yn){return gn.apply(this,arguments)}}();return le.set(re,tn),tn}!function Pe(he){ge=he(ge)}(he=>({...he,get:(re,Re,yt)=>kt(re,Re)||he.get(re,Re,yt),has:(re,Re)=>!!kt(re,Re)||he.has(re,Re)}));class rt{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(Re=>{if(function nn(he){return"VERSION"===he.getComponent()?.type}(Re)){const yt=Re.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(Re=>Re).join(" ")}}const pt="@firebase/app",_e=new B.Yd("@firebase/app"),Nn="[DEFAULT]",Br={[pt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mr=new Map,Tt=new Map;function ct(he,re){try{he.container.addComponent(re)}catch(Re){_e.debug(`Component ${re.name} failed to register with FirebaseApp ${he.name}`,Re)}}function Lt(he,re){he.container.addOrOverwriteComponent(re)}function Ys(he){const re=he.name;if(Tt.has(re))return _e.debug(`There were multiple attempts to register component ${re}.`),!1;Tt.set(re,he);for(const Re of mr.values())ct(Re,he);return!0}function or(he,re){const Re=he.container.getProvider("heartbeat").getImmediate({optional:!0});return Re&&Re.triggerHeartbeat(),he.container.getProvider(re)}function Fi(he,re,Re=Nn){or(he,re).clearInstance(Re)}function xi(){Tt.clear()}const gr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Dn{constructor(re,Re,yt){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},Re),this._name=Re.name,this._automaticDataCollectionEnabled=Re.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw gr.create("app-deleted",{appName:this._name})}}const Ta="9.22.0";function ln(he,re={}){let Re=he;"object"!=typeof re&&(re={name:re});const yt=Object.assign({name:Nn,automaticDataCollectionEnabled:!1},re),St=yt.name;if("string"!=typeof St||!St)throw gr.create("bad-app-name",{appName:String(St)});if(Re||(Re=(0,ce.aH)()),!Re)throw gr.create("no-options");const tn=mr.get(St);if(tn){if((0,ce.vZ)(Re,tn.options)&&(0,ce.vZ)(yt,tn.config))return tn;throw gr.create("duplicate-app",{appName:St})}const gn=new ie.H0(St);for(const Yn of Tt.values())gn.addComponent(Yn);const Ei=new Dn(Re,yt,gn);return mr.set(St,Ei),Ei}function sr(he=Nn){const re=mr.get(he);if(!re&&he===Nn&&(0,ce.aH)())return ln();if(!re)throw gr.create("no-app",{appName:he});return re}function Vr(){return Array.from(mr.values())}function mn(he){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,c.Z)(function*(he){const re=he.name;mr.has(re)&&(mr.delete(re),yield Promise.all(he.container.getProviders().map(Re=>Re.delete())),he.isDeleted=!0)})).apply(this,arguments)}function Ni(he,re,Re){var yt;let St=null!==(yt=Br[he])&&void 0!==yt?yt:he;Re&&(St+=`-${Re}`);const tn=St.match(/\s|\//),gn=re.match(/\s|\//);if(tn||gn){const Ei=[`Unable to register library "${St}" with version "${re}":`];return tn&&Ei.push(`library name "${St}" contains illegal characters (whitespace or "/")`),tn&&gn&&Ei.push("and"),gn&&Ei.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void _e.warn(Ei.join(" "))}Ys(new ie.wA(`${St}-version`,()=>({library:St,version:re}),"VERSION"))}function Ur(he,re){if(null!==he&&"function"!=typeof he)throw gr.create("invalid-log-argument");(0,B.Am)(he,re)}function qn(he){(0,B.Ub)(he)}const G="firebase-heartbeat-store";let z=null;function Z(){return z||(z=function Ee(he,re,{blocked:Re,upgrade:yt,blocking:St,terminated:tn}={}){const gn=indexedDB.open(he,re),Ei=Ne(gn);return yt&&gn.addEventListener("upgradeneeded",Yn=>{yt(Ne(gn.result),Yn.oldVersion,Yn.newVersion,Ne(gn.transaction),Yn)}),Re&&gn.addEventListener("blocked",Yn=>Re(Yn.oldVersion,Yn.newVersion,Yn)),Ei.then(Yn=>{tn&&Yn.addEventListener("close",()=>tn()),St&&Yn.addEventListener("versionchange",Wt=>St(Wt.oldVersion,Wt.newVersion,Wt))}).catch(()=>{}),Ei}("firebase-heartbeat-database",1,{upgrade:(he,re)=>{0===re&&he.createObjectStore(G)}}).catch(he=>{throw gr.create("idb-open",{originalErrorMessage:he.message})})),z}function oe(){return(oe=(0,c.Z)(function*(he){try{return yield(yield Z()).transaction(G).objectStore(G).get(Kt(he))}catch(re){if(re instanceof ce.ZR)_e.warn(re.message);else{const Re=gr.create("idb-get",{originalErrorMessage:re?.message});_e.warn(Re.message)}}})).apply(this,arguments)}function dt(he,re){return Et.apply(this,arguments)}function Et(){return(Et=(0,c.Z)(function*(he,re){try{const yt=(yield Z()).transaction(G,"readwrite");yield yt.objectStore(G).put(re,Kt(he)),yield yt.done}catch(Re){if(Re instanceof ce.ZR)_e.warn(Re.message);else{const yt=gr.create("idb-set",{originalErrorMessage:Re?.message});_e.warn(yt.message)}}})).apply(this,arguments)}function Kt(he){return`${he.name}!${he.options.appId}`}class Un{constructor(re){this.container=re,this._heartbeatsCache=null;const Re=this.container.getProvider("app").getImmediate();this._storage=new Ci(Re),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var re=this;return(0,c.Z)(function*(){const yt=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),St=cn();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==St&&!re._heartbeatsCache.heartbeats.some(tn=>tn.date===St))return re._heartbeatsCache.heartbeats.push({date:St,agent:yt}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(tn=>{const gn=new Date(tn.date).valueOf();return Date.now()-gn<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,c.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const Re=cn(),{heartbeatsToSend:yt,unsentEntries:St}=function qi(he,re=1024){const Re=[];let yt=he.slice();for(const St of he){const tn=Re.find(gn=>gn.agent===St.agent);if(tn){if(tn.dates.push(St.date),vr(Re)>re){tn.dates.pop();break}}else if(Re.push({agent:St.agent,dates:[St.date]}),vr(Re)>re){Re.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:Re,unsentEntries:yt}}(re._heartbeatsCache.heartbeats),tn=(0,ce.L)(JSON.stringify({version:2,heartbeats:yt}));return re._heartbeatsCache.lastSentHeartbeatDate=Re,St.length>0?(re._heartbeatsCache.heartbeats=St,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),tn})()}}function cn(){return(new Date).toISOString().substring(0,10)}class Ci{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,c.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function ve(he){return oe.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var Re=this;return(0,c.Z)(function*(){var yt;if(yield Re._canUseIndexedDBPromise){const tn=yield Re.read();return dt(Re.app,{lastSentHeartbeatDate:null!==(yt=re.lastSentHeartbeatDate)&&void 0!==yt?yt:tn.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var Re=this;return(0,c.Z)(function*(){var yt;if(yield Re._canUseIndexedDBPromise){const tn=yield Re.read();return dt(Re.app,{lastSentHeartbeatDate:null!==(yt=re.lastSentHeartbeatDate)&&void 0!==yt?yt:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...re.heartbeats]})}})()}}function vr(he){return(0,ce.L)(JSON.stringify({version:2,heartbeats:he})).length}!function Ml(he){Ys(new ie.wA("platform-logger",re=>new rt(re),"PRIVATE")),Ys(new ie.wA("heartbeat",re=>new Un(re),"PRIVATE")),Ni(pt,"0.9.10",he),Ni(pt,"0.9.10","esm2017"),Ni("fire-js","")}("")},4859:(bt,Se,V)=>{V.d(Se,{H0:()=>xe,wA:()=>B,zt:()=>de});var c=V(5861),ie=V(2090);class B{constructor(q,W,Q){this.name=q,this.instanceFactory=W,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(q){return this.instantiationMode=q,this}setMultipleInstances(q){return this.multipleInstances=q,this}setServiceProps(q){return this.serviceProps=q,this}setInstanceCreatedCallback(q){return this.onInstanceCreated=q,this}}const ce="[DEFAULT]";class de{constructor(q,W){this.name=q,this.container=W,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(q){const W=this.normalizeInstanceIdentifier(q);if(!this.instancesDeferred.has(W)){const Q=new ie.BH;if(this.instancesDeferred.set(W,Q),this.isInitialized(W)||this.shouldAutoInitialize())try{const je=this.getOrInitializeService({instanceIdentifier:W});je&&Q.resolve(je)}catch{}}return this.instancesDeferred.get(W).promise}getImmediate(q){var W;const Q=this.normalizeInstanceIdentifier(q?.identifier),je=null!==(W=q?.optional)&&void 0!==W&&W;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Te){if(je)return null;throw Te}}getComponent(){return this.component}setComponent(q){if(q.name!==this.name)throw Error(`Mismatching Component ${q.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=q,this.shouldAutoInitialize()){if(function be(pe){return"EAGER"===pe.instantiationMode}(q))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[W,Q]of this.instancesDeferred.entries()){const je=this.normalizeInstanceIdentifier(W);try{const Te=this.getOrInitializeService({instanceIdentifier:je});Q.resolve(Te)}catch{}}}}clearInstance(q=ce){this.instancesDeferred.delete(q),this.instancesOptions.delete(q),this.instances.delete(q)}delete(){var q=this;return(0,c.Z)(function*(){const W=Array.from(q.instances.values());yield Promise.all([...W.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...W.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(q=ce){return this.instances.has(q)}getOptions(q=ce){return this.instancesOptions.get(q)||{}}initialize(q={}){const{options:W={}}=q,Q=this.normalizeInstanceIdentifier(q.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const je=this.getOrInitializeService({instanceIdentifier:Q,options:W});for(const[Te,Ze]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Te)&&Ze.resolve(je);return je}onInit(q,W){var Q;const je=this.normalizeInstanceIdentifier(W),Te=null!==(Q=this.onInitCallbacks.get(je))&&void 0!==Q?Q:new Set;Te.add(q),this.onInitCallbacks.set(je,Te);const Ze=this.instances.get(je);return Ze&&q(Ze,je),()=>{Te.delete(q)}}invokeOnInitCallbacks(q,W){const Q=this.onInitCallbacks.get(W);if(Q)for(const je of Q)try{je(q,W)}catch{}}getOrInitializeService({instanceIdentifier:q,options:W={}}){let Q=this.instances.get(q);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=q,pe===ce?void 0:pe),options:W}),this.instances.set(q,Q),this.instancesOptions.set(q,W),this.invokeOnInitCallbacks(Q,q),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,q,Q)}catch{}var pe;return Q||null}normalizeInstanceIdentifier(q=ce){return this.component?this.component.multipleInstances?q:ce:q}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class xe{constructor(q){this.name=q,this.providers=new Map}addComponent(q){const W=this.getProvider(q.name);if(W.isComponentSet())throw new Error(`Component ${q.name} has already been registered with ${this.name}`);W.setComponent(q)}addOrOverwriteComponent(q){this.getProvider(q.name).isComponentSet()&&this.providers.delete(q.name),this.addComponent(q)}getProvider(q){if(this.providers.has(q))return this.providers.get(q);const W=new de(q,this);return this.providers.set(q,W),W}getProviders(){return Array.from(this.providers.values())}}},1877:(bt,Se,V)=>{V.d(Se,{Am:()=>pe,Ub:()=>xe,Yd:()=>be,in:()=>ie});const c=[];var ie=(()=>{return(q=ie||(ie={}))[q.DEBUG=0]="DEBUG",q[q.VERBOSE=1]="VERBOSE",q[q.INFO=2]="INFO",q[q.WARN=3]="WARN",q[q.ERROR=4]="ERROR",q[q.SILENT=5]="SILENT",ie;var q})();const B={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},ce=ie.INFO,de={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},J=(q,W,...Q)=>{if(W<q.logLevel)return;const je=(new Date).toISOString(),Te=de[W];if(!Te)throw new Error(`Attempted to log a message with an invalid logType (value: ${W})`);console[Te](`[${je}]  ${q.name}:`,...Q)};class be{constructor(W){this.name=W,this._logLevel=ce,this._logHandler=J,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(W){if(!(W in ie))throw new TypeError(`Invalid value "${W}" assigned to \`logLevel\``);this._logLevel=W}setLogLevel(W){this._logLevel="string"==typeof W?B[W]:W}get logHandler(){return this._logHandler}set logHandler(W){if("function"!=typeof W)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=W}get userLogHandler(){return this._userLogHandler}set userLogHandler(W){this._userLogHandler=W}debug(...W){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...W),this._logHandler(this,ie.DEBUG,...W)}log(...W){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...W),this._logHandler(this,ie.VERBOSE,...W)}info(...W){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...W),this._logHandler(this,ie.INFO,...W)}warn(...W){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...W),this._logHandler(this,ie.WARN,...W)}error(...W){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...W),this._logHandler(this,ie.ERROR,...W)}}function xe(q){c.forEach(W=>{W.setLogLevel(q)})}function pe(q,W){for(const Q of c){let je=null;W&&W.level&&(je=B[W.level]),Q.userLogHandler=null===q?null:(Te,Ze,...ft)=>{const ge=ft.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");Ze>=(je??Te.logLevel)&&q({level:ie[Ze].toLowerCase(),message:ge,args:ft,type:Te.name})}}}},259:(bt,Se,V)=>{V.d(Se,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=V(6881);(0,c.registerVersion)("firebase","9.22.0","app")},9260:(bt,Se,V)=>{V.d(Se,{Z:()=>c.Z});var c=V(3942);c.Z.registerVersion("firebase","9.22.0","app-compat")},2644:(bt,Se,V)=>{V.r(Se);var c=V(5861),ie=V(3942),B=V(2090),ce=V(6881),de=V(655),J=V(1877),be=V(4859);const Ze=function je(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ft=function Te(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ge=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new J.Yd("@firebase/auth");function Ne(y,...p){Fe.logLevel<=J.in.ERROR&&Fe.error(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}function Ce(y,...p){throw lt(y,...p)}function Ee(y,...p){return lt(y,...p)}function We(y,p,g){const w=Object.assign(Object.assign({},ft()),{[p]:g});return new B.LL("auth","Firebase",w).create(p,{appName:y.name})}function Le(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ce(y,"argument-error"),We(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return ge.create(y,...p)}function le(y,p,...g){if(!y)throw lt(p,...g)}function kt(y){const p="INTERNAL ASSERTION FAILED: "+y;throw Ne(p),new Error(p)}function rt(y,p){y||kt(p)}function nn(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function pt(){return"http:"===me()||"https:"===me()}function me(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class ke{constructor(p,g){this.shortDelay=p,this.longDelay=g,rt(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return function _e(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pt()||(0,B.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function qe(y,p){rt(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class He{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},mt=new ke(3e4,6e4);function Ut(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function tt(y,p,g,w){return en.apply(this,arguments)}function en(){return(en=(0,c.Z)(function*(y,p,g,w,T={}){return At(y,T,(0,c.Z)(function*(){let O={},j={};w&&("GET"===p?j=w:O={body:JSON.stringify(w)});const ee=(0,B.xO)(Object.assign({key:y.config.apiKey},j)).slice(1),Ae=yield y._getAdditionalHeaders();return Ae["Content-Type"]="application/json",y.languageCode&&(Ae["X-Firebase-Locale"]=y.languageCode),He.fetch()(rr(y,y.config.apiHost,g,ee),Object.assign({method:p,headers:Ae,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function At(y,p,g){return fn.apply(this,arguments)}function fn(){return(fn=(0,c.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},vt),p);try{const T=new pr(y),O=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const j=yield O.json();if("needConfirmation"in j)throw Wi(y,"account-exists-with-different-credential",j);if(O.ok&&!("errorMessage"in j))return j;{const ee=O.ok?j.errorMessage:j.error.message,[Ae,ze]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ae)throw Wi(y,"credential-already-in-use",j);if("EMAIL_EXISTS"===Ae)throw Wi(y,"email-already-in-use",j);if("USER_DISABLED"===Ae)throw Wi(y,"user-disabled",j);const st=w[Ae]||Ae.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw We(y,st,ze);Ce(y,st)}}catch(T){if(T instanceof B.ZR)throw T;Ce(y,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function En(y,p,g,w){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(y,p,g,w,T={}){const O=yield tt(y,p,g,w,T);return"mfaPendingCredential"in O&&Ce(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function rr(y,p,g,w){const T=`${p}${g}?${w}`;return y.config.emulator?qe(y.config,T):`${y.config.apiScheme}://${T}`}class pr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Ee(this.auth,"network-request-failed")),mt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Wi(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const T=Ee(y,p,w);return T.customData._tokenResponse=g,T}function So(){return(So=(0,c.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ys(y,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Pi(y,p){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,c.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function wt(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Nn(){return(Nn=(0,c.Z)(function*(y,p=!1){const g=(0,B.m9)(y),w=yield g.getIdToken(p),T=mr(w);le(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,j=O?.sign_in_provider;return{claims:T,token:w,authTime:wt(Br(T.auth_time)),issuedAtTime:wt(Br(T.iat)),expirationTime:wt(Br(T.exp)),signInProvider:j||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Br(y){return 1e3*Number(y)}function mr(y){const[p,g,w]=y.split(".");if(void 0===p||void 0===g||void 0===w)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,B.tV)(g);return T?JSON.parse(T):(Ne("Failed to decode base64 JWT payload"),null)}catch(T){return Ne("Caught error parsing JWT payload as JSON",T?.toString()),null}}function ct(y,p){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof B.ZR&&Ys(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}function Ys({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class or{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,c.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Fi{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=wt(this.lastLoginAt),this.creationTime=wt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xi(y){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,c.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),T=yield ct(y,Pi(g,{idToken:w}));le(T?.users.length,g,"internal-error");const O=T.users[0];y._notifyReloadListener(O);const j=null!==(p=O.providerUserInfo)&&void 0!==p&&p.length?ln(O.providerUserInfo):[],ee=Ta(y.providerData,j),st=!!y.isAnonymous&&!(y.email&&O.passwordHash||ee?.length),ot={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ee,metadata:new Fi(O.createdAt,O.lastLoginAt),isAnonymous:st};Object.assign(y,ot)})).apply(this,arguments)}function Dn(){return(Dn=(0,c.Z)(function*(y){const p=(0,B.m9)(y);yield xi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Ta(y,p){return[...y.filter(w=>!p.some(T=>T.providerId===w.providerId)),...p]}function ln(y){return y.map(p=>{var{providerId:g}=p,w=(0,de._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Vr(){return(Vr=(0,c.Z)(function*(y,p){const g=yield At(y,{},(0,c.Z)(function*(){const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:O}=y.config,j=rr(y,T,"/v1/token",`key=${O}`),ee=yield y._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",He.fetch()(j,{method:"POST",headers:ee,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class mn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){le(p.idToken,"internal-error"),le(typeof p.idToken<"u","internal-error"),le(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function Tt(y){const p=mr(y);return le(p,"internal-error"),le(typeof p.exp<"u","internal-error"),le(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,c.Z)(function*(){return le(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:j}=yield function sr(y,p){return Vr.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(T,O,Number(j))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:T,expirationTime:O}=g,j=new mn;return w&&(le("string"==typeof w,"internal-error",{appName:p}),j.refreshToken=w),T&&(le("string"==typeof T,"internal-error",{appName:p}),j.accessToken=T),O&&(le("number"==typeof O,"internal-error",{appName:p}),j.expirationTime=O),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new mn,this.toJSON())}_performRefresh(){return kt("not implemented")}}function Qn(y,p){le("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Ni{constructor(p){var{uid:g,auth:w,stsTokenManager:T}=p,O=(0,de._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new or(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Fi(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,c.Z)(function*(){const w=yield ct(g,g.stsTokenManager.getToken(g.auth,p));return le(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function Al(y){return Nn.apply(this,arguments)}(this,p)}reload(){return function gr(y){return Dn.apply(this,arguments)}(this)}_assign(p){this!==p&&(le(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new Ni(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,c.Z)(function*(){let T=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),T=!0),g&&(yield xi(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,c.Z)(function*(){const g=yield p.getIdToken();return yield ct(p,function vs(y,p){return So.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,T,O,j,ee,Ae,ze,st;const ot=null!==(w=g.displayName)&&void 0!==w?w:void 0,Pn=null!==(T=g.email)&&void 0!==T?T:void 0,cs=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,wu=null!==(j=g.photoURL)&&void 0!==j?j:void 0,tb=null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,ai=null!==(Ae=g._redirectEventId)&&void 0!==Ae?Ae:void 0,Xh=null!==(ze=g.createdAt)&&void 0!==ze?ze:void 0,v_=null!==(st=g.lastLoginAt)&&void 0!==st?st:void 0,{uid:xu,emailVerified:Xp,isAnonymous:Jh,providerData:Jr,stsTokenManager:Jp}=g;le(xu&&Jp,p,"internal-error");const Cu=mn.fromJSON(this.name,Jp);le("string"==typeof xu,p,"internal-error"),Qn(ot,p.name),Qn(Pn,p.name),le("boolean"==typeof Xp,p,"internal-error"),le("boolean"==typeof Jh,p,"internal-error"),Qn(cs,p.name),Qn(wu,p.name),Qn(tb,p.name),Qn(ai,p.name),Qn(Xh,p.name),Qn(v_,p.name);const ef=new Ni({uid:xu,auth:p,email:Pn,emailVerified:Xp,displayName:ot,isAnonymous:Jh,photoURL:wu,phoneNumber:cs,tenantId:tb,stsTokenManager:Cu,createdAt:Xh,lastLoginAt:v_});return Jr&&Array.isArray(Jr)&&(ef.providerData=Jr.map(Mx=>Object.assign({},Mx))),ai&&(ef._redirectEventId=ai),ef}static _fromIdTokenResponse(p,g,w=!1){return(0,c.Z)(function*(){const T=new mn;T.updateFromServerResponse(g);const O=new Ni({uid:g.localId,auth:p,stsTokenManager:T,isAnonymous:w});return yield xi(O),O})()}}const Ur=new Map;function qn(y){rt(y instanceof Function,"Expected a class definition");let p=Ur.get(y);return p?(rt(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,Ur.set(y,p),p)}const _r=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,w){var T=this;return(0,c.Z)(function*(){T.storage[g]=w})()}_get(g){var w=this;return(0,c.Z)(function*(){const T=w.storage[g];return void 0===T?null:T})()}_remove(g){var w=this;return(0,c.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function G(y,p,g){return`firebase:${y}:${p}:${g}`}class z{constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:T,name:O}=this.auth;this.fullUserKey=G(this.userKey,T.apiKey,O),this.fullPersistenceKey=G("persistence",T.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,c.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Ni._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,c.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,c.Z)(function*(){if(!g.length)return new z(qn(_r),p,w);const T=(yield Promise.all(g.map(function(){var ze=(0,c.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let O=T[0]||qn(_r);const j=G(w,p.config.apiKey,p.name);let ee=null;for(const ze of g)try{const st=yield ze._get(j);if(st){const ot=Ni._fromJSON(p,st);ze!==O&&(ee=ot),O=ze;break}}catch{}const Ae=T.filter(ze=>ze._shouldAllowMigration);return O._shouldAllowMigration&&Ae.length?(O=Ae[0],ee&&(yield O._set(j,ee.toJSON())),yield Promise.all(g.map(function(){var ze=(0,c.Z)(function*(st){if(st!==O)try{yield st._remove(j)}catch{}});return function(st){return ze.apply(this,arguments)}}())),new z(O,p,w)):new z(O,p,w)})()}}function Z(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Et(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(ve(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(Ot(p))return"Blackberry";if(Rn(p))return"Webos";if(oe(p))return"Safari";if((p.includes("chrome/")||dt(p))&&!p.includes("edge/"))return"Chrome";if(Kt(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function ve(y=(0,B.z$)()){return/firefox\//i.test(y)}function oe(y=(0,B.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function dt(y=(0,B.z$)()){return/crios\//i.test(y)}function Et(y=(0,B.z$)()){return/iemobile/i.test(y)}function Kt(y=(0,B.z$)()){return/android/i.test(y)}function Ot(y=(0,B.z$)()){return/blackberry/i.test(y)}function Rn(y=(0,B.z$)()){return/webos/i.test(y)}function Un(y=(0,B.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function vr(y=(0,B.z$)()){return Un(y)||Kt(y)||Rn(y)||Ot(y)||/windows phone/i.test(y)||Et(y)}function he(y,p=[]){let g;switch(y){case"Browser":g=Z((0,B.z$)());break;case"Worker":g=`${Z((0,B.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${w}`}function Re(){return(Re=(0,c.Z)(function*(y){return(yield tt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yt(y,p){return St.apply(this,arguments)}function St(){return(St=(0,c.Z)(function*(y,p){return tt(y,"GET","/v2/recaptchaConfig",Ut(y,p))})).apply(this,arguments)}function tn(y){return void 0!==y&&void 0!==y.getResponse}function gn(y){return void 0!==y&&void 0!==y.enterprise}class Ei{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Wt(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=T=>{const O=Ee("internal-error");O.customData=T,g(O)},w.type="text/javascript",w.charset="UTF-8",function Yn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Kn(y){return`__${y}${Math.floor(1e6*Math.random())}`}class Hr{constructor(p){this.type="recaptcha-enterprise",this.auth=bn(p)}verify(p="verify",g=!1){var w=this;return(0,c.Z)(function*(){function O(){return O=(0,c.Z)(function*(ee){if(!g){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Ae=(0,c.Z)(function*(ze,st){yt(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(ot=>{if(void 0!==ot.recaptchaKey){const Pn=new Ei(ot);return null==ee.tenantId?ee._agentRecaptchaConfig=Pn:ee._tenantRecaptchaConfigs[ee.tenantId]=Pn,ze(Pn.siteKey)}st(new Error("recaptcha Enterprise site key undefined"))}).catch(ot=>{st(ot)})});return function(ze,st){return Ae.apply(this,arguments)}}())}),O.apply(this,arguments)}function j(ee,Ae,ze){const st=window.grecaptcha;gn(st)?st.enterprise.ready(()=>{st.enterprise.execute(ee,{action:p}).then(ot=>{Ae(ot)}).catch(()=>{Ae("NO_RECAPTCHA")})}):ze(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Ae)=>{(function T(ee){return O.apply(this,arguments)})(w.auth).then(ze=>{if(!g&&gn(window.grecaptcha))j(ze,ee,Ae);else{if(typeof window>"u")return void Ae(new Error("RecaptchaVerifier is only supported in browser"));Wt("https://www.google.com/recaptcha/enterprise.js?render="+ze).then(()=>{j(ze,ee,Ae)}).catch(st=>{Ae(st)})}}).catch(ze=>{Ae(ze)})})})()}}function Ke(y,p,g){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(y,p,g,w=!1){const T=new Hr(y);let O;try{O=yield T.verify(g)}catch{O=yield T.verify(g,!0)}const j=Object.assign({},p);return Object.assign(j,w?{captchaResp:O}:{captchaResponse:O}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class Ln{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=O=>new Promise((j,ee)=>{try{j(p(O))}catch(Ae){ee(Ae)}});w.onAbort=g,this.queue.push(w);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===p)return;const w=[];try{for(const T of g.queue)yield T(p),T.onAbort&&w.push(T.onAbort)}catch(T){w.reverse();for(const O of w)try{O()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class zr{constructor(p,g,w,T){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hi(this),this.idTokenSubscription=new hi(this),this.beforeStateQueue=new Ln(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ge,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=qn(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,O;if(!w._deleted&&(w.persistenceManager=yield z.create(w,p),!w._deleted)){if(null!==(T=w._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,c.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,c.Z)(function*(){var w;const T=yield g.assertedPersistence.getCurrentUser();let O=T,j=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ee=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Ae=O?._redirectEventId,ze=yield g.tryRedirectSignIn(p);(!ee||ee===Ae)&&ze?.user&&(O=ze.user,j=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(j)try{yield g.beforeStateQueue.runMiddleware(O)}catch(ee){O=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ee))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return le(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(p){var g=this;return(0,c.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,c.Z)(function*(){try{yield xi(p)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Ie(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,c.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,c.Z)(function*(){const w=p?(0,B.m9)(p):null;return w&&le(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return p&&le(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,c.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(qn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,c.Z)(function*(){const g=yield yt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new Ei(g);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new Hr(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new B.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,c.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(g);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&qn(p)||g._popupRedirectResolver;le(w,g,"argument-error"),g.redirectPersistenceManager=yield z.create(g,[qn(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,c.Z)(function*(){var w,T;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,c.Z)(function*(){if(p===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,T){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),j=this._isInitialized?Promise.resolve():this._initializationPromise;return le(j,this,"internal-error"),j.then(()=>O(this.currentUser)),"function"==typeof g?p.addObserver(g,w,T):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=he(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,c.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();T&&(w["X-Firebase-Client"]=T);const O=yield p._getAppCheckToken();return O&&(w["X-Firebase-AppCheck"]=O),w})()}_getAppCheckToken(){var p=this;return(0,c.Z)(function*(){var g;const w=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function Ue(y,...p){Fe.logLevel<=J.in.WARN&&Fe.warn(`Auth (${ce.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function bn(y){return(0,B.m9)(y)}class hi{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,B.ne)(g=>this.observer=g)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yr(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Ol(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class To{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return kt("not implemented")}_getIdTokenResponse(p){return kt("not implemented")}_linkToIdToken(p,g){return kt("not implemented")}_getReauthenticationResolver(p){return kt("not implemented")}}function ws(y,p){return ri.apply(this,arguments)}function ri(){return(ri=(0,c.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:resetPassword",Ut(y,p))})).apply(this,arguments)}function Ma(y,p){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,c.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ho(y,p){return xs.apply(this,arguments)}function xs(){return(xs=(0,c.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:update",Ut(y,p))})).apply(this,arguments)}function Di(y,p){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,c.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithPassword",Ut(y,p))})).apply(this,arguments)}function kr(y,p){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,c.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:sendOobCode",Ut(y,p))})).apply(this,arguments)}function Xd(y,p){return ka.apply(this,arguments)}function ka(){return(ka=(0,c.Z)(function*(y,p){return kr(y,p)})).apply(this,arguments)}function Cs(y,p){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(y,p){return kr(y,p)})).apply(this,arguments)}function Bi(y,p){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,c.Z)(function*(y,p){return kr(y,p)})).apply(this,arguments)}function Rr(y,p){return br.apply(this,arguments)}function br(){return(br=(0,c.Z)(function*(y,p){return kr(y,p)})).apply(this,arguments)}function Ra(){return(Ra=(0,c.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithEmailLink",Ut(y,p))})).apply(this,arguments)}function jr(){return(jr=(0,c.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithEmailLink",Ut(y,p))})).apply(this,arguments)}class Mc extends To{constructor(p,g,w,T=null){super("password",w),this._email=p,this._password=g,this._tenantId=T}static _fromEmailAndPassword(p,g){return new Mc(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new Mc(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,c.Z)(function*(){var w;switch(g.signInMethod){case"password":const T={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const O=yield Ke(p,T,"signInWithPassword");return Di(p,O)}return Di(p,T).catch(function(){var O=(0,c.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield Ke(p,T,"signInWithPassword");return Di(p,ee)}return Promise.reject(j)});return function(j){return O.apply(this,arguments)}}());case"emailLink":return function Fl(y,p){return Ra.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ce(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Ma(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Jd(y,p){return jr.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Ce(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function fo(y,p){return ch.apply(this,arguments)}function ch(){return(ch=(0,c.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithIdp",Ut(y,p))})).apply(this,arguments)}class qo extends To{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new qo(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ce("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T}=g,O=(0,de._T)(g,["providerId","signInMethod"]);if(!w||!T)return null;const j=new qo(w,T);return j.idToken=O.idToken||void 0,j.accessToken=O.accessToken||void 0,j.secret=O.secret,j.nonce=O.nonce,j.pendingToken=O.pendingToken||null,j}_getIdTokenResponse(p){return fo(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,fo(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,fo(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,B.xO)(g)}return p}}function $g(y,p){return eu.apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:sendVerificationCode",Ut(y,p))})).apply(this,arguments)}function dh(){return(dh=(0,c.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,p))})).apply(this,arguments)}function kc(){return(kc=(0,c.Z)(function*(y,p){const g=yield En(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,p));if(g.temporaryProof)throw Wi(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const uh={USER_NOT_FOUND:"user-not-found"};function Rc(){return(Rc=(0,c.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithPhoneNumber",Ut(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),uh)})).apply(this,arguments)}class Jn extends To{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Jn({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Jn({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Wg(y,p){return dh.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function qg(y,p){return kc.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Tp(y,p){return Rc.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:T}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:O}=p;return w||g||T||O?new Jn({verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:O}):null}}class Oa{constructor(p){var g,w,T,O,j,ee;const Ae=(0,B.zd)((0,B.pd)(p)),ze=null!==(g=Ae.apiKey)&&void 0!==g?g:null,st=null!==(w=Ae.oobCode)&&void 0!==w?w:null,ot=function Ap(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Ae.mode)&&void 0!==T?T:null);le(ze&&st&&ot,"argument-error"),this.apiKey=ze,this.operation=ot,this.code=st,this.continueUrl=null!==(O=Ae.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(j=Ae.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ee=Ae.tenantId)&&void 0!==ee?ee:null}static parseLink(p){const g=function hh(y){const p=(0,B.zd)((0,B.pd)(y)).link,g=p?(0,B.zd)((0,B.pd)(p)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(y)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||g||p||y}(p);try{return new Oa(g)}catch{return null}}}let fh=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return Mc._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const T=Oa.parseLink(w);return le(T,"argument-error"),Mc._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Yo{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ao extends Yo{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class Qs extends Ao{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return le("providerId"in g&&"signInMethod"in g,"argument-error"),qo._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return le(p.idToken||p.accessToken,"argument-error"),qo._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return Qs.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return Qs.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:O,nonce:j,providerId:ee}=p;if(!w&&!T&&!g&&!O||!ee)return null;try{return new Qs(ee)._credential({idToken:g,accessToken:w,nonce:j,pendingToken:O})}catch{return null}}}let tu=(()=>{class y extends Ao{constructor(){super("facebook.com")}static credential(g){return qo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Nl=(()=>{class y extends Ao{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return qo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:T}=g;if(!w&&!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ph=(()=>{class y extends Ao{constructor(){super("github.com")}static credential(g){return qo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Es extends To{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return fo(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,fo(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,fo(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:T,pendingToken:O}=g;return w&&T&&O&&w===T?new Es(w,O):null}static _create(p,g){return new Es(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Oc extends Yo{constructor(p){le(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Oc.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Oc.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Es.fromJSON(p);return le(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return Es._create(w,g)}catch{return null}}}let Pc=(()=>{class y extends Ao{constructor(){super("twitter.com")}static credential(g,w){return qo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=g;if(!w||!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ds(y,p){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signUp",Ut(y,p))})).apply(this,arguments)}class cr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,T=!1){return(0,c.Z)(function*(){const O=yield Ni._fromIdTokenResponse(p,w,T),j=Ll(w);return new cr({user:O,providerId:j,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,c.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const T=Ll(w);return new cr({user:p,providerId:T,_tokenResponse:w,operationType:g})})()}}function Ll(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Bl(){return(Bl=(0,c.Z)(function*(y){var p;const g=bn(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new cr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Ds(g,{returnSecureToken:!0}),T=yield cr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ko extends B.ZR{constructor(p,g,w,T){var O;super(g.code,g.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,Ko.prototype),this.customData={appName:p.name,tenantId:null!==(O=p.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,T){return new Ko(p,g,w,T)}}function Ui(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Ko._fromErrorAndOperation(y,O,p,w):O})}function mh(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function dr(){return(dr=(0,c.Z)(function*(y,p){const g=(0,B.m9)(y);yield Zo(!0,g,p);const{providerUserInfo:w}=yield ys(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),T=mh(w||[]);return g.providerData=g.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function Hi(y,p){return Fc.apply(this,arguments)}function Fc(){return(Fc=(0,c.Z)(function*(y,p,g=!1){const w=yield ct(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return cr._forOperation(y,"link",w)})).apply(this,arguments)}function Zo(y,p,g){return iu.apply(this,arguments)}function iu(){return(iu=(0,c.Z)(function*(y,p,g){yield xi(p);const T=!1===y?"provider-already-linked":"no-such-provider";le(mh(p.providerData).has(g)===y,p.auth,T)})).apply(this,arguments)}function Is(y,p){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(y,p,g=!1){const{auth:w}=y,T="reauthenticate";try{const O=yield ct(y,Ui(w,T,p,y),g);le(O.idToken,w,"internal-error");const j=mr(O.idToken);le(j,w,"internal-error");const{sub:ee}=j;return le(y.uid===ee,w,"user-mismatch"),cr._forOperation(y,T,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ce(w,"user-mismatch"),O}})).apply(this,arguments)}function Vl(y,p){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(y,p,g=!1){const w="signIn",T=yield Ui(y,w,p),O=yield cr._fromIdTokenResponse(y,w,T);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Ul(y,p){return _h.apply(this,arguments)}function _h(){return(_h=(0,c.Z)(function*(y,p){return Vl(bn(y),p)})).apply(this,arguments)}function vh(y,p){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,c.Z)(function*(y,p){const g=(0,B.m9)(y);return yield Zo(!1,g,p.providerId),Hi(g,p)})).apply(this,arguments)}function yh(y,p){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,c.Z)(function*(y,p){return Is((0,B.m9)(y),p)})).apply(this,arguments)}function Yg(y,p){return bh.apply(this,arguments)}function bh(){return(bh=(0,c.Z)(function*(y,p){return En(y,"POST","/v1/accounts:signInWithCustomToken",Ut(y,p))})).apply(this,arguments)}function zt(){return(zt=(0,c.Z)(function*(y,p){const g=bn(y),w=yield Yg(g,{token:p,returnSecureToken:!0}),T=yield cr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Hl{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?zl._fromServerResponse(p,g):"totpInfo"in g?Ii._fromServerResponse(p,g):Ce(p,"internal-error")}}class zl extends Hl{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new zl(g)}}class Ii extends Hl{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Ii(g)}}function Xs(y,p,g){var w;le((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),le(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(le(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(le(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function xr(){return xr=(0,c.Z)(function*(y,p,g){var w;const T=bn(y),O={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const j=yield Ke(T,O,"getOobCode",!0);g&&Xs(T,j,g),yield Cs(T,j)}else g&&Xs(T,O,g),yield Cs(T,O).catch(function(){var j=(0,c.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ae=yield Ke(T,O,"getOobCode",!0);g&&Xs(T,Ae,g),yield Cs(T,Ae)}});return function(ee){return j.apply(this,arguments)}}())}),xr.apply(this,arguments)}function Vc(){return(Vc=(0,c.Z)(function*(y,p,g){yield ws((0,B.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Qo(){return(Qo=(0,c.Z)(function*(y,p){yield ho((0,B.m9)(y),{oobCode:p})})).apply(this,arguments)}function jl(y,p){return fi.apply(this,arguments)}function fi(){return(fi=(0,c.Z)(function*(y,p){const g=(0,B.m9)(y),w=yield ws(g,{oobCode:p}),T=w.requestType;switch(le(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,g,"internal-error");default:le(w.email,g,"internal-error")}let O=null;return w.mfaInfo&&(O=Hl._fromServerResponse(bn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function Mo(){return(Mo=(0,c.Z)(function*(y,p){const{data:g}=yield jl((0,B.m9)(y),p);return g.email})).apply(this,arguments)}function $r(){return $r=(0,c.Z)(function*(y,p,g){var w;const T=bn(y),O={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ze=yield Ke(T,O,"signUpPassword");j=Ds(T,ze)}else j=Ds(T,O).catch(function(){var ze=(0,c.Z)(function*(st){if("auth/missing-recaptcha-token"===st.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const ot=yield Ke(T,O,"signUpPassword");return Ds(T,ot)}return Promise.reject(st)});return function(st){return ze.apply(this,arguments)}}());const ee=yield j.catch(ze=>Promise.reject(ze)),Ae=yield cr._fromIdTokenResponse(T,"signIn",ee);return yield T._updateCurrentUser(Ae.user),Ae}),$r.apply(this,arguments)}function Uc(){return Uc=(0,c.Z)(function*(y,p,g){var w;const T=bn(y),O={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function j(ee,Ae){le(Ae.handleCodeInApp,T,"argument-error"),Ae&&Xs(T,ee,Ae)}if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield Ke(T,O,"getOobCode",!0);j(ee,g),yield Bi(T,ee)}else j(O,g),yield Bi(T,O).catch(function(){var ee=(0,c.Z)(function*(Ae){if("auth/missing-recaptcha-token"!==Ae.code)return Promise.reject(Ae);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ze=yield Ke(T,O,"getOobCode",!0);j(ze,g),yield Bi(T,ze)}});return function(Ae){return ee.apply(this,arguments)}}())}),Uc.apply(this,arguments)}function Fa(){return(Fa=(0,c.Z)(function*(y,p,g){const w=(0,B.m9)(y),T=fh.credentialWithLink(p,g||nn());return le(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Ul(w,T)})).apply(this,arguments)}function ru(y,p){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,c.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:createAuthUri",Ut(y,p))})).apply(this,arguments)}function zc(){return(zc=(0,c.Z)(function*(y,p){const w={identifier:p,continueUri:pt()?nn():"http://localhost"},{signinMethods:T}=yield ru((0,B.m9)(y),w);return T||[]})).apply(this,arguments)}function $l(){return($l=(0,c.Z)(function*(y,p){const g=(0,B.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&Xs(g.auth,T,p);const{email:O}=yield Xd(g.auth,T);O!==y.email&&(yield y.reload())})).apply(this,arguments)}function Wl(){return(Wl=(0,c.Z)(function*(y,p,g){const w=(0,B.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&Xs(w.auth,O,g);const{email:j}=yield Rr(w.auth,O);j!==y.email&&(yield y.reload())})).apply(this,arguments)}function Eh(y,p){return Gc.apply(this,arguments)}function Gc(){return(Gc=(0,c.Z)(function*(y,p){return tt(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function $c(){return($c=(0,c.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,B.m9)(y),O={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},j=yield ct(w,Eh(w.auth,O));w.displayName=j.displayName||null,w.photoURL=j.photoUrl||null;const ee=w.providerData.find(({providerId:Ae})=>"password"===Ae);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(j)})).apply(this,arguments)}function Hn(y,p,g){return ql.apply(this,arguments)}function ql(){return(ql=(0,c.Z)(function*(y,p,g){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(O.email=p),g&&(O.password=g);const j=yield ct(y,Ma(w,O));yield y._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class Ss{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class Op extends Ss{constructor(p,g,w,T){super(p,g,w),this.username=T}}class Dh extends Ss{constructor(p,g){super(p,"facebook.com",g)}}class Qg extends Op{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Wc extends Ss{constructor(p,g){super(p,"google.com",g)}}class su extends Op{constructor(p,g,w){super(p,"twitter.com",g,w)}}function qc(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Rp(y){var p,g;if(!y)return null;const{providerId:w}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const j=null===(g=null===(p=mr(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(j)return new Ss(O,"anonymous"!==j&&"custom"!==j?j:null)}if(!w)return null;switch(w){case"facebook.com":return new Dh(O,T);case"github.com":return new Qg(O,T);case"google.com":return new Wc(O,T);case"twitter.com":return new su(O,T,y.screenName||null);case"custom":case"anonymous":return new Ss(O,null);default:return new Ss(O,w,T)}}(g)}class ko{constructor(p,g,w){this.type=p,this.credential=g,this.auth=w}static _fromIdtoken(p,g){return new ko("enroll",p,g)}static _fromMfaPendingCredential(p){return new ko("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return ko._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return ko._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ea{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=bn(p),T=g.customData._serverResponse,O=(T.mfaInfo||[]).map(ee=>Hl._fromServerResponse(w,ee));le(T.mfaPendingCredential,w,"internal-error");const j=ko._fromMfaPendingCredential(T.mfaPendingCredential);return new ea(j,O,function(){var ee=(0,c.Z)(function*(Ae){const ze=yield Ae._process(w,j);delete T.mfaInfo,delete T.mfaPendingCredential;const st=Object.assign(Object.assign({},T),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(g.operationType){case"signIn":const ot=yield cr._fromIdTokenResponse(w,g.operationType,st);return yield w._updateCurrentUser(ot.user),ot;case"reauthenticate":return le(g.user,w,"internal-error"),cr._forOperation(g.user,g.operationType,st);default:Ce(w,"internal-error")}});return function(Ae){return ee.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,c.Z)(function*(){return g.signInResolver(p)})()}}function La(y,p){return tt(y,"POST","/v2/accounts/mfaEnrollment:start",Ut(y,p))}class na{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Hl._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new na(p)}getSession(){var p=this;return(0,c.Z)(function*(){return ko._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var w=this;return(0,c.Z)(function*(){const T=p,O=yield w.getSession(),j=yield ct(w.user,T._process(w.user.auth,O,g));return yield w.user._updateTokensIfNecessary(j),w.user.reload()})()}unenroll(p){var g=this;return(0,c.Z)(function*(){const w="string"==typeof p?p:p.uid,T=yield g.user.getIdToken();try{const O=yield ct(g.user,function Qc(y,p){return tt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ut(y,p))}(g.user.auth,{idToken:T,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:j})=>j!==w),yield g.user._updateTokensIfNecessary(O),yield g.user.reload()}catch(O){throw O}})()}}const Ts=new WeakMap,ia="__sak";class Xc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(ia,"1"),this.storage.removeItem(ia),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const As=(()=>{class y extends Xc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Jc(){const y=(0,B.z$)();return oe(y)||Un(y)}()&&function Ml(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=vr(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),O=this.localCache[w];T!==O&&g(w,O,T)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ee,Ae,ze)=>{this.notifyListeners(ee,ze)});const T=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(T);if(g.newValue!==ee)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!w)return}const O=()=>{const ee=this.storage.getItem(T);!w&&this.localCache[T]===ee||this.notifyListeners(T,ee)},j=this.storage.getItem(T);!function Ci(){return(0,B.w1)()&&10===document.documentMode}()||j===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var T=()=>super._set,O=this;return(0,c.Z)(function*(){yield T().call(O,g,w),O.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,T=this;return(0,c.Z)(function*(){const O=yield w().call(T,g);return T.localCache[g]=JSON.stringify(O),O})()}_remove(g){var w=()=>super._remove,T=this;return(0,c.Z)(function*(){yield w().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),Ms=(()=>{class y extends Xc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let Ql=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(O=>O.isListeningto(g));if(w)return w;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,c.Z)(function*(){const T=g,{eventId:O,eventType:j,data:ee}=T.data,Ae=w.handlersMap[j];if(!Ae?.size)return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:j});const ze=Array.from(Ae).map(function(){var ot=(0,c.Z)(function*(Pn){return Pn(T.origin,ee)});return function(Pn){return ot.apply(this,arguments)}}()),st=yield function td(y){return Promise.all(y.map(function(){var p=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(ze);T.ports[0].postMessage({status:"done",eventId:O,eventType:j,response:st})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Xl(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class Ah{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var T=this;return(0,c.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let j,ee;return new Promise((Ae,ze)=>{const st=Xl("",20);O.port1.start();const ot=setTimeout(()=>{ze(new Error("unsupported_event"))},w);ee={messageChannel:O,onMessage(Pn){const cs=Pn;if(cs.data.eventId===st)switch(cs.data.status){case"ack":clearTimeout(ot),j=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Ae(cs.data.response);break;default:clearTimeout(ot),clearTimeout(j),ze(new Error("invalid_response"))}}},T.handlers.add(ee),O.port1.addEventListener("message",ee.onMessage),T.target.postMessage({eventType:p,eventId:st,data:g},[O.port2])}).finally(()=>{ee&&T.removeMessageHandler(ee)})})()}}function Tn(){return window}function nd(){return typeof Tn().WorkerGlobalScope<"u"&&"function"==typeof Tn().importScripts}function Va(){return(Va=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Ua="firebaseLocalStorageDb",id="firebaseLocalStorage",rd="fbase_key";class Ha{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Ro(y,p){return y.transaction([id],p?"readwrite":"readonly").objectStore(id)}function Jl(){const y=indexedDB.open(Ua,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(id,{keyPath:rd})}catch(T){g(T)}}),y.addEventListener("success",(0,c.Z)(function*(){const w=y.result;w.objectStoreNames.contains(id)?p(w):(w.close(),yield function Np(){const y=indexedDB.deleteDatabase(Ua);return new Ha(y).toPromise()}(),p(yield Jl()))}))})}function ra(y,p,g){return od.apply(this,arguments)}function od(){return(od=(0,c.Z)(function*(y,p,g){const w=Ro(y,!0).put({[rd]:p,value:g});return new Ha(w).toPromise()})).apply(this,arguments)}function sd(){return(sd=(0,c.Z)(function*(y,p){const g=Ro(y,!1).get(p),w=yield new Ha(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function oa(y,p){const g=Ro(y,!0).delete(p);return new Ha(g).toPromise()}const ks=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Jl()),g.db})()}_withRetries(g){var w=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const O=yield w._openDb();return yield g(O)}catch(O){if(T++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return nd()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Ql._getInstance(function zi(){return nd()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(T,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(T,O){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var w,T;if(g.activeServiceWorker=yield function Mh(){return Va.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ah(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(T=O[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function lu(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Jl();return yield ra(g,ia,"1"),yield oa(g,ia),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(O=>ra(O,g,w)),T.localCache[g]=w,T.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,c.Z)(function*(){const T=yield w._withRetries(O=>function ec(y,p){return sd.apply(this,arguments)}(O,g));return w.localCache[g]=T,T})()}_remove(g){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(T=>oa(T,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const w=yield g._withRetries(j=>{const ee=Ro(j,!1).getAll();return new Ha(ee).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:j,value:ee}of w)O.add(j),JSON.stringify(g.localCache[j])!==JSON.stringify(ee)&&(g.notifyListeners(j,ee),T.push(j));for(const j of Object.keys(g.localCache))g.localCache[j]&&!O.has(j)&&(g.notifyListeners(j,null),T.push(j));return T})()}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function sa(y,p){return tt(y,"POST","/v2/accounts/mfaSignIn:start",Ut(y,p))}const nc=1e12;class Lp{constructor(p){this.auth=p,this.counter=nc,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new ad(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||nc;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||nc))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,c.Z)(function*(){var w;return null===(w=g._widgets.get(p||nc))||void 0===w||w.execute(),""})()}}class ad{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;le(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Bp(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vp=Kn("rcb"),$y=new ke(3e4,6e4);class e_{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Tn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return le(function Up(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&tn(Tn().grecaptcha)?Promise.resolve(Tn().grecaptcha):new Promise((w,T)=>{const O=Tn().setTimeout(()=>{T(Ee(p,"network-request-failed"))},$y.get());Tn()[Vp]=()=>{Tn().clearTimeout(O),delete Tn()[Vp];const ee=Tn().grecaptcha;if(!ee||!tn(ee))return void T(Ee(p,"internal-error"));const Ae=ee.render;ee.render=(ze,st)=>{const ot=Ae(ze,st);return this.counter++,ot},this.hostLanguage=g,w(ee)},Wt(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:Vp,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),T(Ee(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=Tn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Si{load(p){return(0,c.Z)(function*(){return new Lp(p)})()}clearedOneInstance(){}}const ic="recaptcha",ld={theme:"light",type:"image"};class Rh{constructor(p,g=Object.assign({},ld),w){this.parameters=g,this.type=ic,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(w),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;le(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Si:new e_,this.validateStartingState()}verify(){var p=this;return(0,c.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(O=>{const j=ee=>{ee&&(p.tokenChangeListeners.delete(j),O(ee))};p.tokenChangeListeners.add(j),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=Tn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,c.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,c.Z)(function*(){le(pt()&&!nd(),p.auth,"internal-error"),yield function Wr(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function re(y){return Re.apply(this,arguments)}(p.auth);le(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Oo{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Jn._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function la(){return(la=(0,c.Z)(function*(y,p,g){const w=bn(y),T=yield ud(w,p,(0,B.m9)(g));return new Oo(T,O=>Ul(w,O))})).apply(this,arguments)}function dd(){return(dd=(0,c.Z)(function*(y,p,g){const w=(0,B.m9)(y);yield Zo(!1,w,"phone");const T=yield ud(w.auth,p,(0,B.m9)(g));return new Oo(T,O=>vh(w,O))})).apply(this,arguments)}function Ga(){return(Ga=(0,c.Z)(function*(y,p,g){const w=(0,B.m9)(y),T=yield ud(w.auth,p,(0,B.m9)(g));return new Oo(T,O=>yh(w,O))})).apply(this,arguments)}function ud(y,p,g){return Ki.apply(this,arguments)}function Ki(){return(Ki=(0,c.Z)(function*(y,p,g){var w;const T=yield g.verify();try{let O;if(le("string"==typeof T,y,"argument-error"),le(g.type===ic,y,"argument-error"),O="string"==typeof p?{phoneNumber:p}:p,"session"in O){const j=O.session;if("phoneNumber"in O)return le("enroll"===j.type,y,"internal-error"),(yield La(y,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{le("signin"===j.type,y,"internal-error");const ee=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return le(ee,y,"missing-multi-factor-info"),(yield sa(y,{mfaPendingCredential:j.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield $g(y,{phoneNumber:O.phoneNumber,recaptchaToken:T});return j}}finally{g._reset()}})).apply(this,arguments)}function dn(){return(dn=(0,c.Z)(function*(y,p){yield Hi((0,B.m9)(y),p)})).apply(this,arguments)}let qr=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=bn(g)}verifyPhoneNumber(g,w){return ud(this.auth,g,(0,B.m9)(w))}static credential(g,w){return Jn._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:T}=g;return w&&T?Jn._fromTokenResponse(w,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Qe(y,p){return p?qn(p):(le(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class xt extends To{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return fo(p,this._buildIdpRequest())}_linkToIdToken(p,g){return fo(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return fo(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function Cr(y){return Vl(y.auth,new xt(y),y.bypassAuthState)}function Oh(y){const{auth:p,user:g}=y;return le(g,p,"internal-error"),Is(g,new xt(y),y.bypassAuthState)}function ca(y){return ei.apply(this,arguments)}function ei(){return(ei=(0,c.Z)(function*(y){const{auth:p,user:g}=y;return le(g,p,"internal-error"),Hi(g,new xt(y),y.bypassAuthState)})).apply(this,arguments)}class cu{constructor(p,g,w,T,O=!1){this.auth=p,this.resolver=w,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,c.Z)(function*(w,T){p.pendingPromise={resolve:w,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(O){p.reject(O)}});return function(w,T){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:O,tenantId:j,error:ee,type:Ae}=p;if(ee)return void g.reject(ee);const ze={auth:g.auth,requestUri:w,sessionId:T,tenantId:j||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ae)(ze))}catch(st){g.reject(st)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Cr;case"linkViaPopup":case"linkViaRedirect":return ca;case"reauthViaPopup":case"reauthViaRedirect":return Oh;default:Ce(this.auth,"internal-error")}}resolve(p){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){rt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Yr=new ke(2e3,1e4);function rc(){return(rc=(0,c.Z)(function*(y,p,g){const w=bn(y);Le(y,p,Yo);const T=Qe(w,g);return new pd(w,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function fd(){return(fd=(0,c.Z)(function*(y,p,g){const w=(0,B.m9)(y);Le(w.auth,p,Yo);const T=Qe(w.auth,g);return new pd(w.auth,"reauthViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}function nt(){return(nt=(0,c.Z)(function*(y,p,g){const w=(0,B.m9)(y);Le(w.auth,p,Yo);const T=Qe(w.auth,g);return new pd(w.auth,"linkViaPopup",p,T,w).executeNotNull()})).apply(this,arguments)}let pd=(()=>{class y extends cu{constructor(g,w,T,O,j){super(g,w,O,j),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const w=yield g.execute();return le(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,c.Z)(function*(){rt(1===g.filter.length,"Popup operations only handle one event");const w=Xl();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Ee(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Ee(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,T;this.pollId=null!==(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ee(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Yr.get())};g()}}return y.currentPopupAction=null,y})();const ns=new Map;class Ph extends cu{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,c.Z)(function*(){let w=ns.get(g.auth._key());if(!w){try{const O=(yield function On(y,p){return Fh.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(O)}catch(T){w=()=>Promise.reject(T)}ns.set(g.auth._key(),w)}return g.bypassAuthState||ns.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const T=yield w.auth._redirectUserForId(p.eventId);if(T)return w.user=T,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function Fh(){return(Fh=(0,c.Z)(function*(y,p){const g=Ka(p),w=Nh(y);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(g));return yield w._remove(g),T})).apply(this,arguments)}function is(y,p){return qa.apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(y,p){return Nh(y)._set(Ka(p),"true")})).apply(this,arguments)}function Ya(y,p){ns.set(y._key(),p)}function Nh(y){return qn(y._redirectPersistence)}function Ka(y){return G("pendingRedirect",y.config.apiKey,y.name)}function du(){return(du=(0,c.Z)(function*(y,p,g){const w=bn(y);Le(y,p,Yo),yield w._initializationPromise;const T=Qe(w,g);return yield is(T,w),T._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function po(){return(po=(0,c.Z)(function*(y,p,g){const w=(0,B.m9)(y);Le(w.auth,p,Yo),yield w.auth._initializationPromise;const T=Qe(w.auth,g);yield is(T,w.auth);const O=yield An(w);return T._openRedirect(w.auth,p,"reauthViaRedirect",O)})).apply(this,arguments)}function md(){return(md=(0,c.Z)(function*(y,p,g){const w=(0,B.m9)(y);Le(w.auth,p,Yo),yield w.auth._initializationPromise;const T=Qe(w.auth,g);yield Zo(!1,w,p.providerId),yield is(T,w.auth);const O=yield An(w);return T._openRedirect(w.auth,p,"linkViaRedirect",O)})).apply(this,arguments)}function ti(){return(ti=(0,c.Z)(function*(y,p){return yield bn(y)._initializationPromise,Ti(y,p,!1)})).apply(this,arguments)}function Ti(y,p){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(y,p,g=!1){const w=bn(y),T=Qe(w,p),j=yield new Ph(w,T,g).execute();return j&&!g&&(delete j.user._redirectEventId,yield w._persistUserIfCurrent(j.user),yield w._setRedirectUser(null,p)),j})).apply(this,arguments)}function An(y){return mi.apply(this,arguments)}function mi(){return(mi=(0,c.Z)(function*(y){const p=Xl(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class ua{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function ss(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mo(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!mo(p)){const T=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Ee(this.auth,T))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(uu(p))}saveEventToCache(p){this.cachedEventUids.add(uu(p)),this.lastProcessedEventTime=Date.now()}}function uu(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function mo({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function gi(y){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(y,p={}){return tt(y,"GET","/v1/projects",p)})).apply(this,arguments)}const t_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Os=/^https?/;function Po(){return(Po=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield gi(y);for(const g of p)try{if(hu(g))return}catch{}Ce(y,"unauthorized-domain")})).apply(this,arguments)}function hu(y){const p=nn(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const j=new URL(y);return""===j.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&j.hostname===w}if(!Os.test(g))return!1;if(t_.test(y))return w===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const _d=new ke(3e4,6e4);function Dr(){const y=Tn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Ps=null;function ha(y){return Ps=Ps||function Rt(y){return new Promise((p,g)=>{var w,T,O;function j(){Dr(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Dr(),g(Ee(y,"network-request-failed"))},timeout:_d.get()})}if(null!==(T=null===(w=Tn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==T&&T.Iframe)p(gapi.iframes.getContext());else{if(null===(O=Tn().gapi)||void 0===O||!O.load){const ee=Kn("iframefcb");return Tn()[ee]=()=>{gapi.load?j():g(Ee(y,"network-request-failed"))},Wt(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Ae=>g(Ae))}j()}}).catch(p=>{throw Ps=null,p})}(y),Ps}const Za=new ke(5e3,15e3),Fo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Hh(y){const p=y.config;le(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?qe(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,w={apiKey:p.apiKey,appName:y.name,v:ce.SDK_VERSION},T=Uh.get(y.config.apiHost);T&&(w.eid=T);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${g}?${(0,B.xO)(w).slice(1)}`}function D(){return D=(0,c.Z)(function*(y){const p=yield ha(y),g=Tn().gapi;return le(g,y,"internal-error"),p.open({where:document.body,url:Hh(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fo,dontclear:!0},w=>new Promise(function(){var T=(0,c.Z)(function*(O,j){yield w.restyle({setHideOnLeave:!1});const ee=Ee(y,"network-request-failed"),Ae=Tn().setTimeout(()=>{j(ee)},Za.get());function ze(){Tn().clearTimeout(Ae),O(w)}w.ping(ze).then(ze,()=>{j(ee)})});return function(O,j){return T.apply(this,arguments)}}()))}),D.apply(this,arguments)}const k={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ge{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Or=encodeURIComponent("fac");function zn(y,p,g,w,T,O){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(y,p,g,w,T,O){le(y.config.authDomain,y,"auth-domain-config-required"),le(y.config.apiKey,y,"invalid-api-key");const j={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:ce.SDK_VERSION,eventId:T};if(p instanceof Yo){p.setDefaultLanguage(y.languageCode),j.providerId=p.providerId||"",(0,B.xb)(p.getCustomParameters())||(j.customParameters=JSON.stringify(p.getCustomParameters()));for(const[st,ot]of Object.entries(O||{}))j[st]=ot}if(p instanceof Ao){const st=p.getScopes().filter(ot=>""!==ot);st.length>0&&(j.scopes=st.join(","))}y.tenantId&&(j.tid=y.tenantId);const ee=j;for(const st of Object.keys(ee))void 0===ee[st]&&delete ee[st];const Ae=yield y._getAppCheckToken(),ze=Ae?`#${Or}=${encodeURIComponent(Ae)}`:"";return`${Yt(y)}?${(0,B.xO)(ee).slice(1)}${ze}`})).apply(this,arguments)}function Yt({config:y}){return y.emulator?qe(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const go="webStorageSupport",ji=class _o{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ms,this._completeRedirectFn=Ti,this._overrideRedirectResult=Ya}_openPopup(p,g,w,T){var O=this;return(0,c.Z)(function*(){var j;rt(null===(j=O.eventManagers[p._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ee=yield zn(p,g,w,nn(),T);return function $e(y,p,g,w=500,T=600){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),j=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Ae=Object.assign(Object.assign({},k),{width:w.toString(),height:T.toString(),top:O,left:j}),ze=(0,B.z$)().toLowerCase();g&&(ee=dt(ze)?"_blank":g),ve(ze)&&(p=p||"http://localhost",Ae.scrollbars="yes");const st=Object.entries(Ae).reduce((Pn,[cs,wu])=>`${Pn}${cs}=${wu},`,"");if(function qi(y=(0,B.z$)()){var p;return Un(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ze)&&"_self"!==ee)return function ut(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",ee),new Ge(null);const ot=window.open(p||"",ee,st);le(ot,y,"popup-blocked");try{ot.focus()}catch{}return new Ge(ot)}(p,ee,Xl())})()}_openRedirect(p,g,w,T){var O=this;return(0,c.Z)(function*(){return yield O._originValidation(p),function Fp(y){Tn().location.href=y}(yield zn(p,g,w,nn(),T)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:T,promise:O}=this.eventManagers[g];return T?Promise.resolve(T):(rt(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,c.Z)(function*(){const w=yield function C(y){return D.apply(this,arguments)}(p),T=new ua(p);return w.register("authEvent",O=>(le(O?.authEvent,p,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:T},g.iframes[p._key()]=w,T})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(go,{type:go},T=>{var O;const j=null===(O=T?.[0])||void 0===O?void 0:O[go];void 0!==j&&g(!!j),Ce(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function sc(y){return Po.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return vr()||oe()||Un()}};class vd{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return kt("unexpected MultiFactorSessionType")}}}class ac extends vd{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new ac(p)}_finalizeEnroll(p,g,w){return function Ba(y,p){return tt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ut(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Gy(y,p){return tt(y,"POST","/v2/accounts/mfaSignIn:finalize",Ut(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let lc=(()=>{class y{constructor(){}static assertion(g){return ac._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var bd="@firebase/auth";class fu{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function uc(){return window}function mu(){return(mu=(0,c.Z)(function*(y,p,g){var w;const{BuildInfo:T}=uc();rt(p.sessionId,"AuthEvent did not contain a session ID");const O=yield wd(p.sessionId),j={};return Un()?j.ibi=T.packageName:Kt()?j.apn=T.packageName:Ce(y,"operation-not-supported-in-this-environment"),T.displayName&&(j.appDisplayName=T.displayName),j.sessionId=O,zn(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,j)})).apply(this,arguments)}function hc(){return(hc=(0,c.Z)(function*(y){const{BuildInfo:p}=uc(),g={};Un()?g.iosBundleId=p.packageName:Kt()?g.androidPackageName=p.packageName:Ce(y,"operation-not-supported-in-this-environment"),yield gi(y,g)})).apply(this,arguments)}function Fs(){return(Fs=(0,c.Z)(function*(y,p,g){const{cordova:w}=uc();let T=()=>{};try{yield new Promise((O,j)=>{let ee=null;function Ae(){var ot;O();const Pn=null===(ot=w.plugins.browsertab)||void 0===ot?void 0:ot.close;"function"==typeof Pn&&Pn(),"function"==typeof g?.close&&g.close()}function ze(){ee||(ee=window.setTimeout(()=>{j(Ee(y,"redirect-cancelled-by-user"))},2e3))}function st(){"visible"===document?.visibilityState&&ze()}p.addPassiveListener(Ae),document.addEventListener("resume",ze,!1),Kt()&&document.addEventListener("visibilitychange",st,!1),T=()=>{p.removePassiveListener(Ae),document.removeEventListener("resume",ze,!1),document.removeEventListener("visibilitychange",st,!1),ee&&window.clearTimeout(ee)}})}finally{T()}})).apply(this,arguments)}function wd(y){return $h.apply(this,arguments)}function $h(){return($h=(0,c.Z)(function*(y){const p=s_(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function s_(y){if(rt(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(0,B.Pz)("authIdTokenMaxAge"),function n_(y){(0,ce._registerComponent)(new be.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),O=p.getProvider("app-check-internal"),{apiKey:j,authDomain:ee}=w.options;le(j&&!j.includes(":"),"invalid-api-key",{appName:w.name});const Ae={apiKey:j,authDomain:ee,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:he(y)},ze=new zr(w,T,O,Ae);return function Xn(y,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map(qn);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(ze,g),ze},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new be.wA("auth-internal",p=>{const g=bn(p.getProvider("auth").getImmediate());return new fu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(bd,"0.23.2",function pu(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)(bd,"0.23.2","esm2017")}("Browser");class Wh extends ua{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,c.Z)(function*(){yield p.initPromise})()}}function qh(y){return gu.apply(this,arguments)}function gu(){return(gu=(0,c.Z)(function*(y){const p=yield Yh()._get(Cd(y));return p&&(yield Yh()._remove(Cd(y))),p})).apply(this,arguments)}function Ja(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function Yh(){return qn(As)}function Cd(y){return G("authEvent",y.config.apiKey,y.name)}function el(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,B.zd)(g.join("?"))}const fc=class Wp{constructor(){this._redirectPersistence=Ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ti,this._overrideRedirectResult=Ya}_initialize(p){var g=this;return(0,c.Z)(function*(){const w=p._key();let T=g.eventManagers.get(w);return T||(T=new Wh(p),g.eventManagers.set(w,T),g.attachCallbackListeners(p,T)),T})()}_openPopup(p){Ce(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,T){var O=this;return(0,c.Z)(function*(){!function Gh(y){var p,g,w,T,O,j,ee,Ae,ze,st;const ot=uc();le("function"==typeof(null===(p=ot?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(typeof(null===(g=ot?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(O=null===(T=null===(w=ot?.cordova)||void 0===w?void 0:w.plugins)||void 0===T?void 0:T.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Ae=null===(ee=null===(j=ot?.cordova)||void 0===j?void 0:j.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Ae?void 0:Ae.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(st=null===(ze=ot?.cordova)||void 0===ze?void 0:ze.InAppBrowser)||void 0===st?void 0:st.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const j=yield O._initialize(p);yield j.initialized(),j.resetRedirect(),function jp(){ns.clear()}(),yield O._originValidation(p);const ee=function Xa(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Ja(),postBody:null,tenantId:y.tenantId,error:Ee(y,"no-auth-event")}}(p,w,T);yield function xd(y,p){return Yh()._set(Cd(y),p)}(p,ee);const Ae=yield function r_(y,p,g){return mu.apply(this,arguments)}(p,ee,g),ze=yield function jh(y){const{cordova:p}=uc();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let T=null;w?p.plugins.browsertab.openUrl(y):T=p.InAppBrowser.open(y,function cn(y=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Ae);return function Ky(y,p,g){return Fs.apply(this,arguments)}(p,j,ze)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function o_(y){return hc.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:T,BuildInfo:O}=uc(),j=setTimeout((0,c.Z)(function*(){yield qh(p),g.onEvent(l_())}),500),ee=function(){var st=(0,c.Z)(function*(ot){clearTimeout(j);const Pn=yield qh(p);let cs=null;Pn&&ot?.url&&(cs=function $p(y,p){var g,w;const T=function a_(y){const p=el(y),g=p.link?decodeURIComponent(p.link):void 0,w=el(g).link,T=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return el(T).link||T||w||g||y}(p);if(T.includes("/__/auth/callback")){const O=el(T),j=O.firebaseError?function _u(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ee=null===(w=null===(g=j?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Ae=ee?Ee(ee):null;return Ae?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ae,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(Pn,ot.url)),g.onEvent(cs||l_())});return function(Pn){return st.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ee);const Ae=T,ze=`${O.packageName.toLowerCase()}://`;uc().handleOpenURL=function(){var st=(0,c.Z)(function*(ot){if(ot.toLowerCase().startsWith(ze)&&ee({url:ot}),"function"==typeof Ae)try{Ae(ot)}catch(Pn){console.error(Pn)}});return function(ot){return st.apply(this,arguments)}}()}};function l_(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ee("no-auth-event")}}function nl(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function rl(y=(0,B.z$)()){return!("file:"!==nl()&&"ionic:"!==nl()&&"capacitor:"!==nl()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Jy(){try{const y=self.localStorage,p=Xl();if(y)return y.setItem(p,"1"),y.removeItem(p),!function Xy(y=(0,B.z$)()){return function ol(){return(0,B.w1)()&&11===document?.documentMode}()||function Qy(y=(0,B.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,B.hl)()}catch{return Yp()&&(0,B.hl)()}return!1}function Yp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function yu(){return(function il(){return"http:"===nl()||"https:"===nl()}()||(0,B.ru)()||rl())&&!function Kh(){return(0,B.b$)()||(0,B.UG)()}()&&Jy()&&!Yp()}function d_(){return rl()&&typeof document<"u"}function Ed(){return(Ed=(0,c.Z)(function*(){return!!d_()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Qr={LOCAL:"local",NONE:"none",SESSION:"session"},Dd=le,Zh="persistence";function h_(y){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,c.Z)(function*(y){yield y._initializationPromise;const p=f_(),g=G(Zh,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function f_(){var y;try{return(null===(y=function Kp(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const p_=le;class Zi{constructor(){this.browserResolver=qn(ji),this.cordovaResolver=qn(fc),this.underlyingResolver=null,this._redirectPersistence=Ms,this._completeRedirectFn=Ti,this._overrideRedirectResult=Ya}_initialize(p){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,T){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(p,g,w,T)})()}_openRedirect(p,g,w,T){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(p,g,w,T)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return d_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return p_(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,c.Z)(function*(){if(p.underlyingResolver)return;const g=yield function u_(){return Ed.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function fa(y){return y.unwrap()}function Id(y){return Qp(y)}function Qp(y){const{_tokenResponse:p}=y instanceof B.ZR?y.customData:y;if(!p)return null;if(!(y instanceof B.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return qr.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let w;switch(g){case"google.com":w=Nl;break;case"facebook.com":w=tu;break;case"github.com":w=ph;break;case"twitter.com":w=Pc;break;default:const{oauthIdToken:T,oauthAccessToken:O,oauthTokenSecret:j,pendingToken:ee,nonce:Ae}=p;return O||j||T||ee?ee?g.startsWith("saml.")?Es._create(g,ee):qo._fromParams({providerId:g,signInMethod:g,pendingToken:ee,idToken:T,accessToken:O}):new Qs(g).credential({idToken:T,accessToken:O,rawNonce:Ae}):null}return y instanceof B.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Xr(y,p){return p.catch(g=>{throw g instanceof B.ZR&&function m_(y,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new eb(y,function Sh(y,p){var g;const w=(0,B.m9)(y),T=p;return le(p.customData.operationType,w,"argument-error"),le(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),ea._fromError(w,T)}(y,p));else if(w){const T=Qp(p),O=p;T&&(O.credential=T,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:Id(g),additionalUserInfo:qc(g),user:No.getOrCreate(T)}})}function sl(y,p){return bu.apply(this,arguments)}function bu(){return(bu=(0,c.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Xr(y,g.confirm(w))}})).apply(this,arguments)}class eb{constructor(p,g){this.resolver=g,this.auth=function pa(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Xr(fa(this.auth),this.resolver.resolveSignIn(p))}}class No{constructor(p){this._delegate=p,this.multiFactor=function Th(y){const p=(0,B.m9)(y);return Ts.has(p)||Ts.set(p,na._fromUser(p)),Ts.get(p)}(p)}static getOrCreate(p){return No.USER_MAP.has(p)||No.USER_MAP.set(p,new No(p)),No.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,c.Z)(function*(){return Xr(g.auth,vh(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,c.Z)(function*(){return sl(w.auth,function cd(y,p,g){return dd.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,c.Z)(function*(){return Xr(g.auth,function ts(y,p,g){return nt.apply(this,arguments)}(g._delegate,p,Zi))})()}linkWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield h_(bn(g.auth)),function os(y,p,g){return function si(y,p,g){return md.apply(this,arguments)}(y,p,g)}(g._delegate,p,Zi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,c.Z)(function*(){return Xr(g.auth,yh(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return sl(this.auth,function zp(y,p,g){return Ga.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Xr(this.auth,function Wa(y,p,g){return fd.apply(this,arguments)}(this._delegate,p,Zi))}reauthenticateWithRedirect(p){var g=this;return(0,c.Z)(function*(){return yield h_(bn(g.auth)),function Kr(y,p,g){return function rs(y,p,g){return po.apply(this,arguments)}(y,p,g)}(g._delegate,p,Zi)})()}sendEmailVerification(p){return function jc(y,p){return $l.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,c.Z)(function*(){return yield function gh(y,p){return dr.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Yi(y,p){return Hn((0,B.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Xo(y,p){return Hn((0,B.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function hd(y,p){return dn.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function kp(y,p){return $c.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function ou(y,p,g){return Wl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}No.USER_MAP=new WeakMap;const Sd=le;let Qh=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;Sd(T,"invalid-api-key",{appName:g.name}),Sd(T,"invalid-api-key",{appName:g.name});const O=typeof window<"u"?Zi:void 0;this._delegate=w.initialize({options:{persistence:ls(T,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?No.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Rl(y,p,g){const w=bn(y);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const T=!!g?.disableWarnings,O=yr(p),{host:j,port:ee}=function qt(y){const p=yr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const O=T[1];return{host:O,port:Ol(w.substr(O.length+1))}}{const[O,j]=w.split(":");return{host:O,port:Ol(j)}}}(p);w.config.emulator={url:`${O}//${j}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:j,port:ee,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Ks(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function Kg(y,p){return Qo.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return jl(this._delegate,g)}confirmPasswordReset(g,w){return function wh(y,p,g){return Vc.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var T=this;return(0,c.Z)(function*(){return Xr(T._delegate,function Js(y,p,g){return $r.apply(this,arguments)}(T._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Ch(y,p){return zc.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Zg(y,p){return"EMAIL_SIGNIN"===Oa.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){Sd(yu(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function gd(y,p){return ti.apply(this,arguments)}(g._delegate,Zi);return w?Xr(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function qp(y,p){bn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,T){const{next:O,error:j,complete:ee}=Td(g,w,T);return this._delegate.onAuthStateChanged(O,j,ee)}onIdTokenChanged(g,w,T){const{next:O,error:j,complete:ee}=Td(g,w,T);return this._delegate.onIdTokenChanged(O,j,ee)}sendSignInLinkToEmail(g,w){return function Gl(y,p,g){return Uc.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Bc(y,p,g){return xr.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,c.Z)(function*(){let T;switch(function pc(y,p){Dd(Object.values(Qr).includes(p),y,"invalid-persistence-type"),(0,B.b$)()?Dd(p!==Qr.SESSION,y,"unsupported-persistence-type"):(0,B.UG)()?Dd(p===Qr.NONE,y,"unsupported-persistence-type"):Yp()?Dd(p===Qr.NONE||p===Qr.LOCAL&&(0,B.hl)(),y,"unsupported-persistence-type"):Dd(p===Qr.NONE||Jy(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Qr.SESSION:T=Ms;break;case Qr.LOCAL:T=(yield qn(ks)._isAvailable())?ks:As;break;case Qr.NONE:T=_r;break;default:return Ce("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Xr(this._delegate,function Vi(y){return Bl.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Xr(this._delegate,Ul(this._delegate,g))}signInWithCustomToken(g){return Xr(this._delegate,function fe(y,p){return zt.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Xr(this._delegate,function xh(y,p,g){return Ul((0,B.m9)(y),fh.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Xr(this._delegate,function pi(y,p,g){return Fa.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return sl(this._delegate,function Hp(y,p,g){return la.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,c.Z)(function*(){return Sd(yu(),w._delegate,"operation-not-supported-in-this-environment"),Xr(w._delegate,function $a(y,p,g){return rc.apply(this,arguments)}(w._delegate,g,Zi))})()}signInWithRedirect(g){var w=this;return(0,c.Z)(function*(){return Sd(yu(),w._delegate,"operation-not-supported-in-this-environment"),yield h_(w._delegate),function Rs(y,p,g){return function Lh(y,p,g){return du.apply(this,arguments)}(y,p,g)}(w._delegate,g,Zi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Gr(y,p){return Mo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Qr,y})();function Td(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const T=w;return{next:j=>T(j&&No.getOrCreate(j)),error:p,complete:g}}function ls(y,p){const g=function Tx(y,p){const g=f_();if(!g)return[];const w=G(Zh,y,p);switch(g.getItem(w)){case Qr.NONE:return[_r];case Qr.LOCAL:return[ks,Ms];case Qr.SESSION:return[Ms];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(ks)&&g.push(ks),typeof window<"u")for(const w of[As,Ms])g.includes(w)||g.push(w);return g.includes(_r)||g.push(_r),g}class ma{constructor(){this.providerId="phone",this._delegate=new qr(fa(ie.Z.auth()))}static credential(p,g){return qr.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}ma.PHONE_SIGN_IN_METHOD=qr.PHONE_SIGN_IN_METHOD,ma.PROVIDER_ID=qr.PROVIDER_ID;const g_=le;class Ad{constructor(p,g,w=ie.Z.app()){var T;g_(null===(T=w.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Rh(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Ax(y){y.INTERNAL.registerComponent(new be.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new Qh(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:fh,FacebookAuthProvider:tu,GithubAuthProvider:ph,GoogleAuthProvider:Nl,OAuthProvider:Qs,SAMLAuthProvider:Oc,PhoneAuthProvider:ma,PhoneMultiFactorGenerator:lc,RecaptchaVerifier:Ad,TwitterAuthProvider:Pc,Auth:Qh,AuthCredential:To,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(ie.Z)},5861:(bt,Se,V)=>{function c(B,ce,de,J,be,xe,pe){try{var q=B[xe](pe),W=q.value}catch(Q){return void de(Q)}q.done?ce(W):Promise.resolve(W).then(J,be)}function ie(B){return function(){var ce=this,de=arguments;return new Promise(function(J,be){var xe=B.apply(ce,de);function pe(W){c(xe,J,be,pe,q,"next",W)}function q(W){c(xe,J,be,pe,q,"throw",W)}pe(void 0)})}}V.d(Se,{Z:()=>ie})}},bt=>{bt(bt.s=4903)}]);
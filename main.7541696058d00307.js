"use strict";(self.webpackChunkTeamVacationPlanner=self.webpackChunkTeamVacationPlanner||[]).push([[179],{2011:(xt,Te,V)=>{V.d(Te,{Dh:()=>Ee,GT:()=>J,cc:()=>Me,hO:()=>Ge,on:()=>W,pX:()=>de,xv:()=>_e});var c=V(4650),ne=V(9260),L=V(4976);xt=V.hmd(xt);const ce=["ngOnDestroy"],de=(Pe,Fe,je,Ne={})=>new Proxy(Pe,{get:(Ie,Se)=>je.runOutsideAngular(()=>{var qe;if(Pe[Se])return!(null===(qe=Ne?.spy)||void 0===qe)&&qe.get&&Ne.spy.get(Se,Pe[Se]),Pe[Se];if(ce.indexOf(Se)>-1)return()=>{};const Be=Fe.toPromise().then(lt=>{const le=lt&&lt[Se];return"function"==typeof le?le.bind(lt):le&&le.then?le.then(At=>je.run(()=>At)):je.run(()=>le)});return new Proxy(()=>{},{get:(lt,le)=>Be[le],apply:(lt,le,At)=>Be.then(ot=>{var Zt;const ht=ot&&ot(...At);return!(null===(Zt=Ne?.spy)||void 0===Zt)&&Zt.apply&&Ne.spy.apply(Se,At,ht),ht})})})}),J=(Pe,Fe)=>{Fe.forEach(je=>{Object.getOwnPropertyNames(je.prototype||je).forEach(Ne=>{Object.defineProperty(Pe.prototype,Ne,Object.getOwnPropertyDescriptor(je.prototype||je,Ne))})})};class Ce{constructor(Fe){return Fe}}const Ee=new c.OlP("angularfire2.app.options"),_e=new c.OlP("angularfire2.app.name");function W(Pe,Fe,je){const Ie="object"==typeof je&&je||{};Ie.name=Ie.name||"string"==typeof je&&je||"[DEFAULT]";const qe=ne.Z.apps.filter(Be=>Be&&Be.name===Ie.name)[0]||Fe.runOutsideAngular(()=>ne.Z.initializeApp(Pe,Ie));try{JSON.stringify(Pe)!==JSON.stringify(qe.options)&&$("error",`${qe.name} Firebase App already initialized with different options${xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ce(qe)}const $=(Pe,...Fe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Pe](...Fe)},Q={provide:Ce,useFactory:W,deps:[Ee,c.R0b,[new c.FiY,_e]]};let Ge=(()=>{class Pe{constructor(je){ne.Z.registerVersion("angularfire",L.q4.full,"core"),ne.Z.registerVersion("angularfire",L.q4.full,"app-compat"),ne.Z.registerVersion("angular",c.q4F.full,je.toString())}static initializeApp(je,Ne){return{ngModule:Pe,providers:[{provide:Ee,useValue:je},{provide:_e,useValue:Ne}]}}}return Pe.\u0275fac=function(je){return new(je||Pe)(c.LFG(c.Lbi))},Pe.\u0275mod=c.oAB({type:Pe}),Pe.\u0275inj=c.cJS({providers:[Q]}),Pe})();function Me(Pe,Fe,je,Ne,Ie){const[,Se,qe]=globalThis.\u0275AngularfireInstanceCache.find(Be=>Be[0]===Pe)||[];if(Se)return function Ze(Pe,Fe){try{return Pe.toString()===Fe.toString()}catch{return Pe===Fe}}(Ie,qe)||(ve("error",`${Fe} was already initialized on the ${je} Firebase App with different settings.${ut?" You may need to reload as Firebase is not HMR aware.":""}`),ve("warn",{is:Ie,was:qe})),Se;{const Be=Ne();return globalThis.\u0275AngularfireInstanceCache.push([Pe,Be,Ie]),Be}}const ut=!!xt.hot,ve=(Pe,...Fe)=>{(0,c.X6Q)()&&typeof console<"u"&&console[Pe](...Fe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(xt,Te,V)=>{V.d(Te,{q4:()=>Nn,iC:()=>po,HU:()=>It,vb:()=>cd,JM:()=>ld});var c=V(4650),ne=V(259),L=V(5861),ce=V(6881),de=V(2090),J=V(4859),Ce=V(1877);const Ee=(C,I)=>I.some(M=>C instanceof M);let _e,W;const Ge=new WeakMap,Me=new WeakMap,Ze=new WeakMap,ut=new WeakMap,ve=new WeakMap;let je={get(C,I,M){if(C instanceof IDBTransaction){if("done"===I)return Me.get(C);if("objectStoreNames"===I)return C.objectStoreNames||Ze.get(C);if("store"===I)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return qe(C[I])},set:(C,I,M)=>(C[I]=M,!0),has:(C,I)=>C instanceof IDBTransaction&&("done"===I||"store"===I)||I in C};function Se(C){return"function"==typeof C?function Ie(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Q(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...I){return C.apply(Be(this),I),qe(Ge.get(this))}:function(...I){return qe(C.apply(Be(this),I))}:function(I,...M){const B=C.call(Be(this),I,...M);return Ze.set(B,I.sort?I.sort():[I]),qe(B)}}(C):(C instanceof IDBTransaction&&function Fe(C){if(Me.has(C))return;const I=new Promise((M,B)=>{const q=()=>{C.removeEventListener("complete",X),C.removeEventListener("error",se),C.removeEventListener("abort",se)},X=()=>{M(),q()},se=()=>{B(C.error||new DOMException("AbortError","AbortError")),q()};C.addEventListener("complete",X),C.addEventListener("error",se),C.addEventListener("abort",se)});Me.set(C,I)}(C),Ee(C,function $(){return _e||(_e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,je):C)}function qe(C){if(C instanceof IDBRequest)return function Pe(C){const I=new Promise((M,B)=>{const q=()=>{C.removeEventListener("success",X),C.removeEventListener("error",se)},X=()=>{M(qe(C.result)),q()},se=()=>{B(C.error),q()};C.addEventListener("success",X),C.addEventListener("error",se)});return I.then(M=>{M instanceof IDBCursor&&Ge.set(M,C)}).catch(()=>{}),ve.set(I,C),I}(C);if(ut.has(C))return ut.get(C);const I=Se(C);return I!==C&&(ut.set(C,I),ve.set(I,C)),I}const Be=C=>ve.get(C),At=["get","getKey","getAll","getAllKeys","count"],ot=["put","add","delete","clear"],Zt=new Map;function ht(C,I){if(!(C instanceof IDBDatabase)||I in C||"string"!=typeof I)return;if(Zt.get(I))return Zt.get(I);const M=I.replace(/FromIndex$/,""),B=I!==M,q=ot.includes(M);if(!(M in(B?IDBIndex:IDBObjectStore).prototype)||!q&&!At.includes(M))return;const X=function(){var se=(0,L.Z)(function*(Ye,...$e){const ft=this.transaction(Ye,q?"readwrite":"readonly");let Ot=ft.store;return B&&(Ot=Ot.index($e.shift())),(yield Promise.all([Ot[M](...$e),q&&ft.done]))[0]});return function($e){return se.apply(this,arguments)}}();return Zt.set(I,X),X}!function Ne(C){je=C(je)}(C=>({...C,get:(I,M,B)=>ht(I,M)||C.get(I,M,B),has:(I,M)=>!!ht(I,M)||C.has(I,M)}));const _s="@firebase/installations",Cr="0.6.4",vs=1e4,Do=`w:${Cr}`,he="FIS_v2",me="https://firebaseinstallations.googleapis.com/v1",ye=36e5,pt=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gt(C){return C instanceof de.ZR&&C.code.includes("request-failed")}function kn({projectId:C}){return`${me}/projects/${C}/installations`}function vt(C){return{token:C.token,requestStatus:2,expiresIn:Ji(C.expiresIn),creationTime:Date.now()}}function tn(C,I){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,L.Z)(function*(C,I){const B=(yield I.json()).error;return pt.create("request-failed",{requestName:C,serverCode:B.code,serverMessage:B.message,serverStatus:B.status})})).apply(this,arguments)}function Dn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function xi(C){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,L.Z)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function Ji(C){return Number(C.replace("s","000"))}function bt(){return(bt=(0,L.Z)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:M}){const B=kn(C),q=Dn(C),X=I.getImmediate({optional:!0});if(X){const ft=yield X.getHeartbeatsHeader();ft&&q.append("x-firebase-client",ft)}const Ye={method:"POST",headers:q,body:JSON.stringify({fid:M,authVersion:he,appId:C.appId,sdkVersion:Do})},$e=yield xi(()=>fetch(B,Ye));if($e.ok){const ft=yield $e.json();return{fid:ft.fid||M,registrationStatus:2,refreshToken:ft.refreshToken,authToken:vt(ft.authToken)}}throw yield tn("Create Installation",$e)})).apply(this,arguments)}function Ir(C){return new Promise(I=>{setTimeout(I,C)})}const Wi=/^[cdef][\w-]{21}$/,ur="";function To(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const M=function ln(C){return function Bd(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Wi.test(M)?M:ur}catch{return ur}}function fn(C){return`${C.appName}!${C.appId}`}const ct=new Map;function Lt(C,I){const M=fn(C);Ci(M,I),function er(C,I){const M=function hr(){return!Wn&&"BroadcastChannel"in self&&(Wn=new BroadcastChannel("[Firebase] FID Change"),Wn.onmessage=C=>{Ci(C.data.key,C.data.fid)}),Wn}();M&&M.postMessage({key:C,fid:I}),function yn(){0===ct.size&&Wn&&(Wn.close(),Wn=null)}()}(M,I)}function Ci(C,I){const M=ct.get(C);if(M)for(const B of M)B(I)}let Wn=null;const Ko="firebase-installations-database",nn=1,Mo="firebase-installations-store";let mn=null;function Nr(){return mn||(mn=function lt(C,I,{blocked:M,upgrade:B,blocking:q,terminated:X}={}){const se=indexedDB.open(C,I),Ye=qe(se);return B&&se.addEventListener("upgradeneeded",$e=>{B(qe(se.result),$e.oldVersion,$e.newVersion,qe(se.transaction))}),M&&se.addEventListener("blocked",()=>M()),Ye.then($e=>{X&&$e.addEventListener("close",()=>X()),q&&$e.addEventListener("versionchange",()=>q())}).catch(()=>{}),Ye}(Ko,nn,{upgrade:(C,I)=>{0===I&&C.createObjectStore(Mo)}})),mn}function Kn(C,I){return fi.apply(this,arguments)}function fi(){return(fi=(0,L.Z)(function*(C,I){const M=fn(C),q=(yield Nr()).transaction(Mo,"readwrite"),X=q.objectStore(Mo),se=yield X.get(M);return yield X.put(I,M),yield q.done,(!se||se.fid!==I.fid)&&Lt(C,I.fid),I})).apply(this,arguments)}function oo(C){return On.apply(this,arguments)}function On(){return(On=(0,L.Z)(function*(C){const I=fn(C),B=(yield Nr()).transaction(Mo,"readwrite");yield B.objectStore(Mo).delete(I),yield B.done})).apply(this,arguments)}function so(C,I){return fr.apply(this,arguments)}function fr(){return(fr=(0,L.Z)(function*(C,I){const M=fn(C),q=(yield Nr()).transaction(Mo,"readwrite"),X=q.objectStore(Mo),se=yield X.get(M),Ye=I(se);return void 0===Ye?yield X.delete(M):yield X.put(Ye,M),yield q.done,Ye&&(!se||se.fid!==Ye.fid)&&Lt(C,Ye.fid),Ye})).apply(this,arguments)}function G(C){return z.apply(this,arguments)}function z(){return z=(0,L.Z)(function*(C){let I;const M=yield so(C.appConfig,B=>{const q=function Z(C){return Vn(C||{fid:To(),registrationStatus:0})}(B),X=function we(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(pt.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},B=function re(C,I){return Ue.apply(this,arguments)}(C,M);return{installationEntry:M,registrationPromise:B}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:kt(C)}:{installationEntry:I}}(C,q);return I=X.registrationPromise,X.installationEntry});return M.fid===ur?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}}),z.apply(this,arguments)}function Ue(){return Ue=(0,L.Z)(function*(C,I){try{const M=yield function $i(C,I){return bt.apply(this,arguments)}(C,I);return Kn(C.appConfig,M)}catch(M){throw gt(M)&&409===M.customData.serverCode?yield oo(C.appConfig):yield Kn(C.appConfig,{fid:I.fid,registrationStatus:0}),M}}),Ue.apply(this,arguments)}function kt(C){return sn.apply(this,arguments)}function sn(){return(sn=(0,L.Z)(function*(C){let I=yield oi(C.appConfig);for(;1===I.registrationStatus;)yield Ir(100),I=yield oi(C.appConfig);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:B}=yield G(C);return B||M}return I})).apply(this,arguments)}function oi(C){return so(C,I=>{if(!I)throw pt.create("installation-not-found");return Vn(I)})}function Vn(C){return function vn(C){return 1===C.registrationStatus&&C.registrationTime+vs<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function tr(){return(tr=(0,L.Z)(function*({appConfig:C,heartbeatServiceProvider:I},M){const B=function ao(C,{fid:I}){return`${kn(C)}/${I}/authTokens:generate`}(C,M),q=function qn(C,{refreshToken:I}){const M=Dn(C);return M.append("Authorization",function Er(C){return`${he} ${C}`}(I)),M}(C,M),X=I.getImmediate({optional:!0});if(X){const ft=yield X.getHeartbeatsHeader();ft&&q.append("x-firebase-client",ft)}const Ye={method:"POST",headers:q,body:JSON.stringify({installation:{sdkVersion:Do,appId:C.appId}})},$e=yield xi(()=>fetch(B,Ye));if($e.ok)return vt(yield $e.json());throw yield tn("Generate Auth Token",$e)})).apply(this,arguments)}function Ao(C){return vl.apply(this,arguments)}function vl(){return vl=(0,L.Z)(function*(C,I=!1){let M;const B=yield so(C.appConfig,X=>{if(!qt(X))throw pt.create("not-registered");const se=X.authToken;if(!I&&function wt(C){return 2===C.requestStatus&&!function un(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+ye}(C)}(se))return X;if(1===se.requestStatus)return M=function pe(C,I){return oe.apply(this,arguments)}(C,I),X;{if(!navigator.onLine)throw pt.create("app-offline");const Ye=function an(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}(X);return M=function yt(C,I){return Mt.apply(this,arguments)}(C,Ye),Ye}});return M?yield M:B.authToken}),vl.apply(this,arguments)}function oe(){return(oe=(0,L.Z)(function*(C,I){let M=yield Le(C.appConfig);for(;1===M.authToken.requestStatus;)yield Ir(100),M=yield Le(C.appConfig);const B=M.authToken;return 0===B.requestStatus?Ao(C,I):B})).apply(this,arguments)}function Le(C){return so(C,I=>{if(!qt(I))throw pt.create("not-registered");return function Pi(C){return 1===C.requestStatus&&C.requestTime+vs<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Mt(){return Mt=(0,L.Z)(function*(C,I){try{const M=yield function Xt(C,I){return tr.apply(this,arguments)}(C,I),B=Object.assign(Object.assign({},I),{authToken:M});return yield Kn(C.appConfig,B),M}catch(M){if(!gt(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const B=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Kn(C.appConfig,B)}else yield oo(C.appConfig);throw M}}),Mt.apply(this,arguments)}function qt(C){return void 0!==C&&2===C.registrationStatus}function Ec(){return(Ec=(0,L.Z)(function*(C){const I=C,{installationEntry:M,registrationPromise:B}=yield G(I);return B?B.catch(console.error):Ao(I).catch(console.error),M.fid})).apply(this,arguments)}function Oa(){return Oa=(0,L.Z)(function*(C,I=!1){const M=C;return yield function Lr(C){return Qe.apply(this,arguments)}(M),(yield Ao(M,I)).token}),Oa.apply(this,arguments)}function Qe(){return(Qe=(0,L.Z)(function*(C){const{registrationPromise:I}=yield G(C);I&&(yield I)})).apply(this,arguments)}function mr(C){return pt.create("missing-app-config-values",{valueName:C})}const Wt="installations",Ws=C=>{const I=C.getProvider("app").getImmediate(),M=function yl(C){if(!C||!C.options)throw mr("App Configuration");if(!C.name)throw mr("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!C.options[M])throw mr(M);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:M,heartbeatServiceProvider:(0,ce._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},ko=C=>{const I=C.getProvider("app").getImmediate(),M=(0,ce._getProvider)(I,Wt).getImmediate();return{getId:()=>function mi(C){return Ec.apply(this,arguments)}(M),getToken:q=>function Dm(C){return Oa.apply(this,arguments)}(M,q)}};(function ys(){(0,ce._registerComponent)(new J.wA(Wt,Ws,"PUBLIC")),(0,ce._registerComponent)(new J.wA("installations-internal",ko,"PRIVATE"))})(),(0,ce.registerVersion)(_s,Cr),(0,ce.registerVersion)(_s,Cr,"esm2017");const si="@firebase/remote-config",Ei=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Qo{constructor(I,M,B,q){this.client=I,this.storage=M,this.storageCache=B,this.logger=q}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const B=Date.now()-M,q=B<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${B}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${q}.`),q}fetch(I){var M=this;return(0,L.Z)(function*(){const[B,q]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(q&&M.isCachedDataFresh(I.cacheMaxAgeMillis,B))return q;I.eTag=q&&q.eTag;const X=yield M.client.fetch(I),se=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===X.status&&se.push(M.storage.setLastSuccessfulFetchResponse(X)),yield Promise.all(se),X})()}}function qg(C=navigator){return C.languages&&C.languages[0]||C.language}class Hd{constructor(I,M,B,q,X,se){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=B,this.projectId=q,this.apiKey=X,this.appId=se}fetch(I){var M=this;return(0,L.Z)(function*(){const[B,q]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),se=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,Ye={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},$e={sdk_version:M.sdkVersion,app_instance_id:B,app_instance_id_token:q,app_id:M.appId,language_code:qg()},ft={method:"POST",headers:Ye,body:JSON.stringify($e)},Ot=fetch(se,ft),Pt=new Promise((Vi,go)=>{I.signal.addEventListener(()=>{const ks=new Error("The operation was aborted.");ks.name="AbortError",go(ks)})});let or;try{yield Promise.race([Ot,Pt]),or=yield Ot}catch(Vi){let go="fetch-client-network";throw"AbortError"===Vi?.name&&(go="fetch-timeout"),Ei.create(go,{originalErrorMessage:Vi?.message})}let In=or.status;const Ht=or.headers.get("ETag")||void 0;let As,ma;if(200===or.status){let Vi;try{Vi=yield or.json()}catch(go){throw Ei.create("fetch-client-parse",{originalErrorMessage:go?.message})}As=Vi.entries,ma=Vi.state}if("INSTANCE_STATE_UNSPECIFIED"===ma?In=500:"NO_CHANGE"===ma?In=304:("NO_TEMPLATE"===ma||"EMPTY_CONFIG"===ma)&&(As={}),304!==In&&200!==In)throw Ei.create("fetch-status",{httpStatus:In});return{status:In,eTag:Ht,config:As}})()}}class Kg{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,L.Z)(function*(){const B=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,B)})()}attemptFetch(I,{throttleEndTimeMillis:M,backoffCount:B}){var q=this;return(0,L.Z)(function*(){yield function Yg(C,I){return new Promise((M,B)=>{const q=Math.max(I-Date.now(),0),X=setTimeout(M,q);C.addEventListener(()=>{clearTimeout(X),B(Ei.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,M);try{const X=yield q.client.fetch(I);return yield q.storage.deleteThrottleMetadata(),X}catch(X){if(!function rh(C){if(!(C instanceof de.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(X))throw X;const se={throttleEndTimeMillis:Date.now()+(0,de.$s)(B),backoffCount:B+1};return yield q.storage.setThrottleMetadata(se),q.attemptFetch(I,se)}})()}}class Mm{constructor(I,M,B,q,X){this.app=I,this._client=M,this._storageCache=B,this._storage=q,this._logger=X,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Tc(C,I){const M=C.target.error||void 0;return Ei.create(I,{originalErrorMessage:M&&M?.message})}const Qn="app_namespace_store";class Zy{constructor(I,M,B,q=function Ba(){return new Promise((C,I)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=B=>{I(Tc(B,"storage-open"))},M.onsuccess=B=>{C(B.target.result)},M.onupgradeneeded=B=>{0===B.oldVersion&&B.target.result.createObjectStore(Qn,{keyPath:"compositeKey"})}}catch(M){I(Ei.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=I,this.appName=M,this.namespace=B,this.openDbPromise=q}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,L.Z)(function*(){const B=yield M.openDbPromise;return new Promise((q,X)=>{const Ye=B.transaction([Qn],"readonly").objectStore(Qn),$e=M.createCompositeKey(I);try{const ft=Ye.get($e);ft.onerror=Ot=>{X(Tc(Ot,"storage-get"))},ft.onsuccess=Ot=>{const Pt=Ot.target.result;q(Pt?Pt.value:void 0)}}catch(ft){X(Ei.create("storage-get",{originalErrorMessage:ft?.message}))}})})()}set(I,M){var B=this;return(0,L.Z)(function*(){const q=yield B.openDbPromise;return new Promise((X,se)=>{const $e=q.transaction([Qn],"readwrite").objectStore(Qn),ft=B.createCompositeKey(I);try{const Ot=$e.put({compositeKey:ft,value:M});Ot.onerror=Pt=>{se(Tc(Pt,"storage-set"))},Ot.onsuccess=()=>{X()}}catch(Ot){se(Ei.create("storage-set",{originalErrorMessage:Ot?.message}))}})})()}delete(I){var M=this;return(0,L.Z)(function*(){const B=yield M.openDbPromise;return new Promise((q,X)=>{const Ye=B.transaction([Qn],"readwrite").objectStore(Qn),$e=M.createCompositeKey(I);try{const ft=Ye.delete($e);ft.onerror=Ot=>{X(Tc(Ot,"storage-delete"))},ft.onsuccess=()=>{q()}}catch(ft){X(Ei.create("storage-delete",{originalErrorMessage:ft?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class ah{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,L.Z)(function*(){const M=I.storage.getLastFetchStatus(),B=I.storage.getLastSuccessfulFetchTimestampMillis(),q=I.storage.getActiveConfig(),X=yield M;X&&(I.lastFetchStatus=X);const se=yield B;se&&(I.lastSuccessfulFetchTimestampMillis=se);const Ye=yield q;Ye&&(I.activeConfig=Ye)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function zd(){return Cl.apply(this,arguments)}function Cl(){return(Cl=(0,L.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function Xo(){(0,ce._registerComponent)(new J.wA("remote-config",function C(I,{instanceIdentifier:M}){const B=I.getProvider("app").getImmediate(),q=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Ei.create("registration-window");if(!(0,de.hl)())throw Ei.create("indexed-db-unavailable");const{projectId:X,apiKey:se,appId:Ye}=B.options;if(!X)throw Ei.create("registration-project-id");if(!se)throw Ei.create("registration-api-key");if(!Ye)throw Ei.create("registration-app-id");const $e=new Zy(Ye,B.name,M=M||"firebase"),ft=new ah($e),Ot=new Ce.Yd(si);Ot.logLevel=Ce.in.ERROR;const Pt=new Hd(q,ce.SDK_VERSION,M,X,se,Ye),or=new Kg(Pt,$e),In=new Qo(or,$e,ft,Ot),Ht=new Mm(B,In,ft,$e,Ot);return function Tr(C){const I=(0,de.m9)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(Ht),Ht},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(si,"0.4.4"),(0,ce.registerVersion)(si,"0.4.4","esm2017")}();const lh=(C,I)=>I.some(M=>C instanceof M);let jd,xs;const Ac=new WeakMap,Cs=new WeakMap,gr=new WeakMap,nr=new WeakMap,El=new WeakMap;let Jo={get(C,I,M){if(C instanceof IDBTransaction){if("done"===I)return Cs.get(C);if("objectStoreNames"===I)return C.objectStoreNames||gr.get(C);if("store"===I)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return ir(C[I])},set:(C,I,M)=>(C[I]=M,!0),has:(C,I)=>C instanceof IDBTransaction&&("done"===I||"store"===I)||I in C};function dh(C){return"function"==typeof C?function ch(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Mc(){return xs||(xs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...I){return C.apply(Ii(this),I),ir(Ac.get(this))}:function(...I){return ir(C.apply(Ii(this),I))}:function(I,...M){const B=C.call(Ii(this),I,...M);return gr.set(B,I.sort?I.sort():[I]),ir(B)}}(C):(C instanceof IDBTransaction&&function Va(C){if(Cs.has(C))return;const I=new Promise((M,B)=>{const q=()=>{C.removeEventListener("complete",X),C.removeEventListener("error",se),C.removeEventListener("abort",se)},X=()=>{M(),q()},se=()=>{B(C.error||new DOMException("AbortError","AbortError")),q()};C.addEventListener("complete",X),C.addEventListener("error",se),C.addEventListener("abort",se)});Cs.set(C,I)}(C),lh(C,function km(){return jd||(jd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,Jo):C)}function ir(C){if(C instanceof IDBRequest)return function Ni(C){const I=new Promise((M,B)=>{const q=()=>{C.removeEventListener("success",X),C.removeEventListener("error",se)},X=()=>{M(ir(C.result)),q()},se=()=>{B(C.error),q()};C.addEventListener("success",X),C.addEventListener("error",se)});return I.then(M=>{M instanceof IDBCursor&&Ac.set(M,C)}).catch(()=>{}),El.set(I,C),I}(C);if(nr.has(C))return nr.get(C);const I=dh(C);return I!==C&&(nr.set(C,I),El.set(I,C)),I}const Ii=C=>El.get(C);function kc(C,I,{blocked:M,upgrade:B,blocking:q,terminated:X}={}){const se=indexedDB.open(C,I),Ye=ir(se);return B&&se.addEventListener("upgradeneeded",$e=>{B(ir(se.result),$e.oldVersion,$e.newVersion,ir(se.transaction))}),M&&se.addEventListener("blocked",()=>M()),Ye.then($e=>{X&&$e.addEventListener("close",()=>X()),q&&$e.addEventListener("versionchange",()=>q())}).catch(()=>{}),Ye}function es(C,{blocked:I}={}){const M=indexedDB.deleteDatabase(C);return I&&M.addEventListener("blocked",()=>I()),ir(M).then(()=>{})}const Gd=["get","getKey","getAll","getAllKeys","count"],Es=["put","add","delete","clear"],Ua=new Map;function Il(C,I){if(!(C instanceof IDBDatabase)||I in C||"string"!=typeof I)return;if(Ua.get(I))return Ua.get(I);const M=I.replace(/FromIndex$/,""),B=I!==M,q=Es.includes(M);if(!(M in(B?IDBIndex:IDBObjectStore).prototype)||!q&&!Gd.includes(M))return;const X=function(){var se=(0,L.Z)(function*(Ye,...$e){const ft=this.transaction(Ye,q?"readwrite":"readonly");let Ot=ft.store;return B&&(Ot=Ot.index($e.shift())),(yield Promise.all([Ot[M](...$e),q&&ft.done]))[0]});return function($e){return se.apply(this,arguments)}}();return Ua.set(I,X),X}!function Li(C){Jo=C(Jo)}(C=>({...C,get:(I,M,B)=>Il(I,M)||C.get(I,M,B),has:(I,M)=>!!Il(I,M)||C.has(I,M)}));const Bt="/firebase-messaging-sw.js",Sl="/firebase-cloud-messaging-push-scope",uh="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",hh="https://fcmregistrations.googleapis.com/v1",Rc="google.c.a.c_id",fh="google.c.a.c_l",Oc="google.c.a.ts",Zg="google.c.a.e";var ge=(()=>{return(C=ge||(ge={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",ge;var C})();function jt(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dl(C){const M=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),B=atob(M),q=new Uint8Array(B.length);for(let X=0;X<B.length;++X)q[X]=B.charCodeAt(X);return q}const Tl="fcm_token_details_db",Si=5,Ks="fcm_token_object_Store";function _r(){return _r=(0,L.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(X=>X.name).includes(Tl))return null;let I=null;return(yield kc(Tl,Si,{upgrade:(B=(0,L.Z)(function*(q,X,se,Ye){var $e;if(X<2||!q.objectStoreNames.contains(Ks))return;const ft=Ye.objectStore(Ks),Ot=yield ft.index("fcmSenderId").get(C);if(yield ft.clear(),Ot)if(2===X){const Pt=Ot;if(!Pt.auth||!Pt.p256dh||!Pt.endpoint)return;I={token:Pt.fcmToken,createTime:null!==($e=Pt.createTime)&&void 0!==$e?$e:Date.now(),subscriptionOptions:{auth:Pt.auth,p256dh:Pt.p256dh,endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:"string"==typeof Pt.vapidKey?Pt.vapidKey:jt(Pt.vapidKey)}}}else if(3===X){const Pt=Ot;I={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:jt(Pt.auth),p256dh:jt(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:jt(Pt.vapidKey)}}}else if(4===X){const Pt=Ot;I={token:Pt.fcmToken,createTime:Pt.createTime,subscriptionOptions:{auth:jt(Pt.auth),p256dh:jt(Pt.p256dh),endpoint:Pt.endpoint,swScope:Pt.swScope,vapidKey:jt(Pt.vapidKey)}}}}),function(X,se,Ye,$e){return B.apply(this,arguments)})})).close(),yield es(Tl),yield es("fcm_vapid_details_db"),yield es("undefined"),function ph(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var B}),_r.apply(this,arguments)}const Fc="firebase-messaging-database",Qg=1,ts="firebase-messaging-store";let Ml=null;function gi(){return Ml||(Ml=kc(Fc,Qg,{upgrade:(C,I)=>{0===I&&C.createObjectStore(ts)}})),Ml}function Ur(C){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,L.Z)(function*(C){const I=Nc(C),B=yield(yield gi()).transaction(ts).objectStore(ts).get(I);if(B)return B;{const q=yield function Pc(C){return _r.apply(this,arguments)}(C.appConfig.senderId);if(q)return yield Zs(C,q),q}}),Oo.apply(this,arguments)}function Zs(C,I){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,L.Z)(function*(C,I){const M=Nc(C),q=(yield gi()).transaction(ts,"readwrite");return yield q.objectStore(ts).put(I,M),yield q.done,I})).apply(this,arguments)}function Al(){return(Al=(0,L.Z)(function*(C){const I=Nc(C),B=(yield gi()).transaction(ts,"readwrite");yield B.objectStore(ts).delete(I),yield B.done})).apply(this,arguments)}function Nc({appConfig:C}){return C.appId}const _i=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ha(C,I){return $d.apply(this,arguments)}function $d(){return($d=(0,L.Z)(function*(C,I){const M=yield Wd(C),B=vh(I),q={method:"POST",headers:M,body:JSON.stringify(B)};let X;try{X=yield(yield fetch(kl(C.appConfig),q)).json()}catch(se){throw _i.create("token-subscribe-failed",{errorInfo:se?.toString()})}if(X.error)throw _i.create("token-subscribe-failed",{errorInfo:X.error.message});if(!X.token)throw _i.create("token-subscribe-no-token");return X.token})).apply(this,arguments)}function _h(){return(_h=(0,L.Z)(function*(C,I){const M=yield Wd(C),B=vh(I.subscriptionOptions),q={method:"PATCH",headers:M,body:JSON.stringify(B)};let X;try{X=yield(yield fetch(`${kl(C.appConfig)}/${I.token}`,q)).json()}catch(se){throw _i.create("token-update-failed",{errorInfo:se?.toString()})}if(X.error)throw _i.create("token-update-failed",{errorInfo:X.error.message});if(!X.token)throw _i.create("token-update-no-token");return X.token})).apply(this,arguments)}function Bc(C,I){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,L.Z)(function*(C,I){const B={method:"DELETE",headers:yield Wd(C)};try{const X=yield(yield fetch(`${kl(C.appConfig)}/${I}`,B)).json();if(X.error)throw _i.create("token-unsubscribe-failed",{errorInfo:X.error.message})}catch(q){throw _i.create("token-unsubscribe-failed",{errorInfo:q?.toString()})}})).apply(this,arguments)}function kl({projectId:C}){return`${hh}/projects/${C}/registrations`}function Wd(C){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,L.Z)(function*({appConfig:C,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function vh({p256dh:C,auth:I,endpoint:M,vapidKey:B}){const q={web:{endpoint:M,auth:I,p256dh:C}};return B!==uh&&(q.web.applicationPubKey=B),q}const Uc=6048e5;function Hc(){return Hc=(0,L.Z)(function*(C){const I=yield function Pm(C,I){return yh.apply(this,arguments)}(C.swRegistration,C.vapidKey),M={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:jt(I.getKey("auth")),p256dh:jt(I.getKey("p256dh"))},B=yield Ur(C.firebaseDependencies);if(B){if(function Jg(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}(B.subscriptionOptions,M))return Date.now()>=B.createTime+Uc?function Un(C,I){return Ol.apply(this,arguments)}(C,{token:B.token,createTime:Date.now(),subscriptionOptions:M}):B.token;try{yield Bc(C.firebaseDependencies,B.token)}catch(q){console.warn(q)}return Om(C.firebaseDependencies,M)}return Om(C.firebaseDependencies,M)}),Hc.apply(this,arguments)}function ns(){return ns=(0,L.Z)(function*(C){const I=yield Ur(C.firebaseDependencies);I&&(yield Bc(C.firebaseDependencies,I.token),yield function gh(C){return Al.apply(this,arguments)}(C.firebaseDependencies));const M=yield C.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),ns.apply(this,arguments)}function Ol(){return Ol=(0,L.Z)(function*(C,I){try{const M=yield function Lc(C,I){return _h.apply(this,arguments)}(C.firebaseDependencies,I),B=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield Zs(C.firebaseDependencies,B),M}catch(M){throw yield function qi(C){return ns.apply(this,arguments)}(C),M}}),Ol.apply(this,arguments)}function Om(C,I){return Is.apply(this,arguments)}function Is(){return(Is=(0,L.Z)(function*(C,I){const B={token:yield Ha(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Zs(C,B),B.token})).apply(this,arguments)}function yh(){return(yh=(0,L.Z)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Dl(I)})})).apply(this,arguments)}function zc(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function qd(C,I){if(!I.notification)return;C.notification={};const M=I.notification.title;M&&(C.notification.title=M);const B=I.notification.body;B&&(C.notification.body=B);const q=I.notification.image;q&&(C.notification.image=q);const X=I.notification.icon;X&&(C.notification.icon=X)}(I,C),function Yd(C,I){I.data&&(C.data=I.data)}(I,C),function bh(C,I){var M,B,q,X,se;if(!(I.fcmOptions||null!==(M=I.notification)&&void 0!==M&&M.click_action))return;C.fcmOptions={};const Ye=null!==(q=null===(B=I.fcmOptions)||void 0===B?void 0:B.link)&&void 0!==q?q:null===(X=I.notification)||void 0===X?void 0:X.click_action;Ye&&(C.fcmOptions.link=Ye);const $e=null===(se=I.fcmOptions)||void 0===se?void 0:se.analytics_label;$e&&(C.fcmOptions.analyticsLabel=$e)}(I,C),I}function za(C,I){const M=[];for(let B=0;B<C.length;B++)M.push(C.charAt(B)),B<I.length&&M.push(I.charAt(B));return M.join("")}function is(C){return _i.create("missing-app-config-values",{valueName:C})}za("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),za("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class e_{constructor(I,M,B){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const q=function ja(C){if(!C||!C.options)throw is("App Configuration Object");if(!C.name)throw is("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=C;for(const B of I)if(!M[B])throw is(B);return{appName:C.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:q,installations:M,analyticsProvider:B}}_delete(){return Promise.resolve()}}function Fm(C){return jc.apply(this,arguments)}function jc(){return(jc=(0,L.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Bt,{scope:Sl}),C.swRegistration.update().catch(()=>{})}catch(I){throw _i.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Pl(){return(Pl=(0,L.Z)(function*(C,I){if(!I&&!C.swRegistration&&(yield Fm(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw _i.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function Xs(){return(Xs=(0,L.Z)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=uh)})).apply(this,arguments)}function Ga(){return Ga=(0,L.Z)(function*(C,I){if(!navigator)throw _i.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw _i.create("permission-blocked");return yield function Qs(C,I){return Xs.apply(this,arguments)}(C,I?.vapidKey),yield function Qy(C,I){return Pl.apply(this,arguments)}(C,I?.serviceWorkerRegistration),function Rm(C){return Hc.apply(this,arguments)}(C)}),Ga.apply(this,arguments)}function Js(){return(Js=(0,L.Z)(function*(C,I,M){const B=function ea(C){switch(C){case ge.NOTIFICATION_CLICKED:return"notification_open";case ge.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(B,{message_id:M[Rc],message_name:M[fh],message_time:M[Oc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ta(){return ta=(0,L.Z)(function*(C,I){const M=I.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===ge.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(zc(M)):C.onMessageHandler.next(zc(M)));const B=M.data;(function Kd(C){return"object"==typeof C&&!!C&&Rc in C})(B)&&"1"===B[Zg]&&(yield function Zd(C,I,M){return Js.apply(this,arguments)}(C,M.messageType,B))}),ta.apply(this,arguments)}const Ss="@firebase/messaging",na=C=>{const I=new e_(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function $c(C,I){return ta.apply(this,arguments)}(I,M)),I},Wc=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:B=>function Gc(C,I){return Ga.apply(this,arguments)}(I,B)}};function Nm(){return qc.apply(this,arguments)}function qc(){return(qc=(0,L.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fl(){(0,ce._registerComponent)(new J.wA("messaging",na,"PUBLIC")),(0,ce._registerComponent)(new J.wA("messaging-internal",Wc,"PRIVATE")),(0,ce.registerVersion)(Ss,"0.12.4"),(0,ce.registerVersion)(Ss,"0.12.4","esm2017")}();const En="analytics",Eh="firebase_id",Yc="origin",Xd=6e4,Kc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zc="https://www.googletagmanager.com/gtag/js",Di=new Ce.Yd("@firebase/analytics"),ai=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Jd(C){if(!C.startsWith(Zc)){const I=ai.create("invalid-gtag-resource",{gtagURL:C});return Di.warn(I.message),""}return C}function Nl(C){return Promise.all(C.map(I=>I.catch(M=>M)))}function oa(){return(oa=(0,L.Z)(function*(C,I,M,B,q,X){const se=B[q];try{if(se)yield I[se];else{const $e=(yield Nl(M)).find(ft=>ft.measurementId===q);$e&&(yield I[$e.appId])}}catch(Ye){Di.error(Ye)}C("config",q,X)})).apply(this,arguments)}function Bl(){return(Bl=(0,L.Z)(function*(C,I,M,B,q){try{let X=[];if(q&&q.send_to){let se=q.send_to;Array.isArray(se)||(se=[se]);const Ye=yield Nl(M);for(const $e of se){const ft=Ye.find(Pt=>Pt.measurementId===$e),Ot=ft&&I[ft.appId];if(!Ot){X=[];break}X.push(Ot)}}0===X.length&&(X=Object.values(I)),yield Promise.all(X),C("event",B,q||{})}catch(X){Di.error(X)}})).apply(this,arguments)}const Vl=30,la=new class aa{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Vm(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function on(){return(on=(0,L.Z)(function*(C){var I;const{appId:M,apiKey:B}=C,q={method:"GET",headers:Vm(B)},X=Kc.replace("{app-id}",M),se=yield fetch(X,q);if(200!==se.status&&304!==se.status){let Ye="";try{const $e=yield se.json();null!==(I=$e.error)&&void 0!==I&&I.message&&(Ye=$e.error.message)}catch{}throw ai.create("config-fetch-failed",{httpStatus:se.status,responseMessage:Ye})}return se.json()})).apply(this,arguments)}function Ul(){return(Ul=(0,L.Z)(function*(C,I=la,M){const{appId:B,apiKey:q,measurementId:X}=C.options;if(!B)throw ai.create("no-app-id");if(!q){if(X)return{measurementId:X,appId:B};throw ai.create("no-api-key")}const se=I.getThrottleMetadata(B)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new Jy;return setTimeout((0,L.Z)(function*(){Ye.abort()}),void 0!==M?M:Xd),tu({appId:B,apiKey:q,measurementId:X},se,Ye,I)})).apply(this,arguments)}function tu(C,I,M){return nu.apply(this,arguments)}function nu(){return nu=(0,L.Z)(function*(C,{throttleEndTimeMillis:I,backoffCount:M},B,q=la){var X;const{appId:se,measurementId:Ye}=C;try{yield function Xy(C,I){return new Promise((M,B)=>{const q=Math.max(I-Date.now(),0),X=setTimeout(M,q);C.addEventListener(()=>{clearTimeout(X),B(ai.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(B,I)}catch($e){if(Ye)return Di.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${$e?.message}]`),{appId:se,measurementId:Ye};throw $e}try{const $e=yield function Ih(C){return on.apply(this,arguments)}(C);return q.deleteThrottleMetadata(se),$e}catch($e){const ft=$e;if(!function Um(C){if(!(C instanceof de.ZR&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ft)){if(q.deleteThrottleMetadata(se),Ye)return Di.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Ye} provided in the "measurementId" field in the local Firebase config. [${ft?.message}]`),{appId:se,measurementId:Ye};throw $e}const Ot=503===Number(null===(X=ft?.customData)||void 0===X?void 0:X.httpStatus)?(0,de.$s)(M,q.intervalMillis,Vl):(0,de.$s)(M,q.intervalMillis),Pt={throttleEndTimeMillis:Date.now()+Ot,backoffCount:M+1};return q.setThrottleMetadata(se,Pt),Di.debug(`Calling attemptFetch again in ${Ot} millis`),tu(C,Pt,B,q)}}),nu.apply(this,arguments)}class Jy{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let ca,td;function Hm(){return(Hm=(0,L.Z)(function*(C,I,M,B,q){if(q&&q.global)C("event",M,B);else{const X=yield I;C("event",M,Object.assign(Object.assign({},B),{send_to:X}))}})).apply(this,arguments)}function pn(){return(pn=(0,L.Z)(function*(){if(!(0,de.hl)())return Di.warn(ai.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(C){return Di.warn(ai.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function et(){return et=(0,L.Z)(function*(C,I,M,B,q,X,se){var Ye;const $e=function t_(C){return Ul.apply(this,arguments)}(C);$e.then(In=>{M[In.measurementId]=In.appId,C.options.measurementId&&In.measurementId!==C.options.measurementId&&Di.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${In.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(In=>Di.error(In)),I.push($e);const ft=function vr(){return pn.apply(this,arguments)}().then(In=>{if(In)return B.getId()}),[Ot,Pt]=yield Promise.all([$e,ft]);(function sa(C){const I=window.document.getElementsByTagName("script");for(const M of Object.values(I))if(M.src&&M.src.includes(Zc)&&M.src.includes(C))return M;return null})(X)||function os(C,I){const M=function Ll(C,I){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(C,I)),M}("firebase-js-sdk-policy",{createScriptURL:Jd}),B=document.createElement("script"),q=`${Zc}?l=${C}&id=${I}`;B.src=M?M?.createScriptURL(q):q,B.async=!0,document.head.appendChild(B)}(X,Ot.measurementId),td&&(q("consent","default",td),function nd(C){td=C}(void 0)),q("js",new Date);const or=null!==(Ye=se?.config)&&void 0!==Ye?Ye:{};return or[Yc]="firebase",or.update=!0,null!=Pt&&(or[Eh]=Pt),q("config",Ot.measurementId,or),ca&&(q("set",ca),function zl(C){ca=C}(void 0)),Ot.measurementId}),et.apply(this,arguments)}class Tt{constructor(I){this.app=I}_delete(){return delete Fn[this.app.options.appId],Promise.resolve()}}let Fn={},Sh=[];const jl={};let ru,jr,Xn="dataLayer",id="gtag",Ya=!1;function ss(C,I,M){!function Gl(){const C=[];if((0,de.ru)()&&C.push("This is a browser extension environment."),(0,de.zI)()||C.push("Cookies are not available."),C.length>0){const I=C.map((B,q)=>`(${q+1}) ${B}`).join(" "),M=ai.create("invalid-analytics-context",{errorInfo:I});Di.warn(M.message)}}();const B=C.options.appId;if(!B)throw ai.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ai.create("no-api-key");Di.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Fn[B])throw ai.create("already-exists",{id:B});if(!Ya){!function Lm(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(Xn);const{wrappedGtag:X,gtagCore:se}=function Ds(C,I,M,B,q){let X=function(...se){window[B].push(arguments)};return window[q]&&"function"==typeof window[q]&&(X=window[q]),window[q]=function qa(C,I,M,B){function X(){return X=(0,L.Z)(function*(se,...Ye){try{if("event"===se){const[$e,ft]=Ye;yield function eu(C,I,M,B,q){return Bl.apply(this,arguments)}(C,I,M,$e,ft)}else if("config"===se){const[$e,ft]=Ye;yield function Qc(C,I,M,B,q,X){return oa.apply(this,arguments)}(C,I,M,B,$e,ft)}else if("consent"===se){const[$e]=Ye;C("consent","update",$e)}else if("get"===se){const[$e,ft,Ot]=Ye;C("get",$e,ft,Ot)}else if("set"===se){const[$e]=Ye;C("set",$e)}else C(se,...Ye)}catch($e){Di.error($e)}}),X.apply(this,arguments)}return function q(se){return X.apply(this,arguments)}}(X,C,I,M),{gtagCore:X,wrappedGtag:window[q]}}(Fn,Sh,jl,Xn,id);jr=X,ru=se,Ya=!0}return Fn[B]=function yr(C,I,M,B,q,X,se){return et.apply(this,arguments)}(C,Sh,jl,I,ru,Xn,M),new Tt(C)}function rd(){return as.apply(this,arguments)}function as(){return(as=(0,L.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Fo="@firebase/analytics";!function jm(){(0,ce._registerComponent)(new J.wA(En,(I,{options:M})=>ss(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,ce._registerComponent)(new J.wA("analytics-internal",function C(I){try{const M=I.getProvider(En).getImmediate();return{logEvent:(B,q,X)=>function Dh(C,I,M,B){C=(0,de.m9)(C),function eb(C,I,M,B,q){return Hm.apply(this,arguments)}(jr,Fn[C.app.options.appId],I,M,B).catch(q=>Di.error(q))}(M,B,q,X)}}catch(M){throw ai.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,ce.registerVersion)(Fo,"0.10.0"),(0,ce.registerVersion)(Fo,"0.10.0","esm2017")}();var br=V(4408),ho=V(7565);const li=new class Gr extends ho.v{}(class Za extends br.o{constructor(I,M){super(I,M),this.scheduler=I,this.work=M}schedule(I,M=0){return M>0?super.schedule(I,M):(this.delay=M,this.state=I,this.scheduler.flush(this),this)}execute(I,M){return M>0||this.closed?super.execute(I,M):this._execute(I,M)}requestAsyncId(I,M,B=0){return null!=B&&B>0||null==B&&this.delay>0?super.requestAsyncId(I,M,B):(I.flush(this),0)}});var ad=V(4986),Jn=V(8505),Bi=V(9468),rr=V(5363);const Nn=new c.GfV("7.6.1"),ei="__angularfire_symbol__analyticsIsSupportedValue",fa="__angularfire_symbol__analyticsIsSupported",lu="__angularfire_symbol__remoteConfigIsSupportedValue",Qa="__angularfire_symbol__remoteConfigIsSupported",fo="__angularfire_symbol__messagingIsSupportedValue",No="__angularfire_symbol__messagingIsSupported";function ld(C,I,M){if(I){if(1===I.length)return I[0];const X=I.filter(se=>se.app===M);if(1===X.length)return X[0]}return M.container.getProvider(C).getImmediate({optional:!0})}globalThis[fa]||(globalThis[fa]=rd().then(C=>globalThis[ei]=C).catch(()=>globalThis[ei]=!1)),globalThis[No]||(globalThis[No]=Nm().then(C=>globalThis[fo]=C).catch(()=>globalThis[fo]=!1)),globalThis[Qa]||(globalThis[Qa]=zd().then(C=>globalThis[lu]=C).catch(()=>globalThis[lu]=!1));const cd=(C,I)=>{const M=I?[I]:(0,ne.C6)(),B=[];return M.forEach(q=>{q.container.getProvider(C).instances.forEach(se=>{B.includes(se)||B.push(se)})}),B};function ls(){}class Wl{constructor(I,M=li){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,B){const q=this.zone;return this.delegate.schedule(function(se){q.runGuarded(()=>{I.apply(this,[se])})},M,B)}}class ql{constructor(I){this.zone=I,this.task=null}call(I,M){const B=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ls,{},ls,ls)),M.pipe((0,Jn.b)({next:B,complete:B,error:B})).subscribe(I).add(B)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let It=(()=>{class C{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new Wl(Zone.current)),this.insideAngular=M.run(()=>new Wl(Zone.current,ad.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(M){return new(M||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function mo(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function po(C){return mo(),function Ah(C){return function(M){return(M=M.lift(new ql(C.ngZone))).pipe((0,Bi.R)(C.outsideAngular),(0,rr.Q)(C.insideAngular))}}(mo())(C)}},2090:(xt,Te,V)=>{V.d(Te,{$s:()=>oo,BH:()=>Se,DV:()=>Ji,Dv:()=>Ci,G6:()=>Do,GJ:()=>xi,L:()=>_e,LL:()=>De,Pz:()=>Ie,Sg:()=>qe,UG:()=>le,UI:()=>$i,US:()=>J,Wj:()=>hr,Wl:()=>vt,Yr:()=>vs,ZB:()=>Q,ZR:()=>Ae,aH:()=>Ne,b$:()=>Zt,cI:()=>kn,dS:()=>Ko,eu:()=>me,g5:()=>L,gK:()=>er,gQ:()=>ln,h$:()=>Ee,hl:()=>he,hu:()=>ne,jU:()=>At,lb:()=>yn,m9:()=>fr,ne:()=>fn,p$:()=>$,pd:()=>To,r3:()=>Yn,ru:()=>ot,tV:()=>W,uI:()=>lt,ug:()=>nn,vZ:()=>bt,w1:()=>_s,w9:()=>qn,xO:()=>Wi,xb:()=>Er,z$:()=>Be,zI:()=>ye,zd:()=>ur});const c={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},ne=function(G,z){if(!G)throw L(z)},L=function(G){return new Error("Firebase Database ("+c.SDK_VERSION+") INTERNAL ASSERT FAILED: "+G)},ce=function(G){const z=[];let Z=0;for(let we=0;we<G.length;we++){let re=G.charCodeAt(we);re<128?z[Z++]=re:re<2048?(z[Z++]=re>>6|192,z[Z++]=63&re|128):55296==(64512&re)&&we+1<G.length&&56320==(64512&G.charCodeAt(we+1))?(re=65536+((1023&re)<<10)+(1023&G.charCodeAt(++we)),z[Z++]=re>>18|240,z[Z++]=re>>12&63|128,z[Z++]=re>>6&63|128,z[Z++]=63&re|128):(z[Z++]=re>>12|224,z[Z++]=re>>6&63|128,z[Z++]=63&re|128)}return z},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(G,z){if(!Array.isArray(G))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Z=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,we=[];for(let re=0;re<G.length;re+=3){const Ue=G[re],kt=re+1<G.length,sn=kt?G[re+1]:0,oi=re+2<G.length,Vn=oi?G[re+2]:0;let tr=(15&sn)<<2|Vn>>6,ao=63&Vn;oi||(ao=64,kt||(tr=64)),we.push(Z[Ue>>2],Z[(3&Ue)<<4|sn>>4],Z[tr],Z[ao])}return we.join("")},encodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(G):this.encodeByteArray(ce(G),z)},decodeString(G,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(G):function(G){const z=[];let Z=0,we=0;for(;Z<G.length;){const re=G[Z++];if(re<128)z[we++]=String.fromCharCode(re);else if(re>191&&re<224){const Ue=G[Z++];z[we++]=String.fromCharCode((31&re)<<6|63&Ue)}else if(re>239&&re<365){const oi=((7&re)<<18|(63&G[Z++])<<12|(63&G[Z++])<<6|63&G[Z++])-65536;z[we++]=String.fromCharCode(55296+(oi>>10)),z[we++]=String.fromCharCode(56320+(1023&oi))}else{const Ue=G[Z++],kt=G[Z++];z[we++]=String.fromCharCode((15&re)<<12|(63&Ue)<<6|63&kt)}}return z.join("")}(this.decodeStringToByteArray(G,z))},decodeStringToByteArray(G,z){this.init_();const Z=z?this.charToByteMapWebSafe_:this.charToByteMap_,we=[];for(let re=0;re<G.length;){const Ue=Z[G.charAt(re++)],sn=re<G.length?Z[G.charAt(re)]:0;++re;const Vn=re<G.length?Z[G.charAt(re)]:64;++re;const Xt=re<G.length?Z[G.charAt(re)]:64;if(++re,null==Ue||null==sn||null==Vn||null==Xt)throw new Ce;we.push(Ue<<2|sn>>4),64!==Vn&&(we.push(sn<<4&240|Vn>>2),64!==Xt&&we.push(Vn<<6&192|Xt))}return we},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let G=0;G<this.ENCODED_VALS.length;G++)this.byteToCharMap_[G]=this.ENCODED_VALS.charAt(G),this.charToByteMap_[this.byteToCharMap_[G]]=G,this.byteToCharMapWebSafe_[G]=this.ENCODED_VALS_WEBSAFE.charAt(G),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[G]]=G,G>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(G)]=G,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(G)]=G)}}};class Ce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ee=function(G){const z=ce(G);return J.encodeByteArray(z,!0)},_e=function(G){return Ee(G).replace(/\./g,"")},W=function(G){try{return J.decodeString(G,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function $(G){return Q(void 0,G)}function Q(G,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===G&&(G={});break;case Array:G=[];break;default:return z}for(const Z in z)!z.hasOwnProperty(Z)||!Ge(Z)||(G[Z]=Q(G[Z],z[Z]));return G}function Ge(G){return"__proto__"!==G}const Pe=()=>{try{return function Me(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const G=process.env.__FIREBASE_DEFAULTS__;return G?JSON.parse(G):void 0})()||(()=>{if(typeof document>"u")return;let G;try{G=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=G&&W(G[1]);return z&&JSON.parse(z)})()}catch(G){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${G}`)}},Ne=()=>{var G;return null===(G=Pe())||void 0===G?void 0:G.config},Ie=G=>{var z;return null===(z=Pe())||void 0===z?void 0:z[`_${G}`]};class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,Z)=>{this.resolve=z,this.reject=Z})}wrapCallback(z){return(Z,we)=>{Z?this.reject(Z):this.resolve(we),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(Z):z(Z,we))}}}function qe(G,z){if(G.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const we=z||"demo-project",re=G.iat||0,Ue=G.sub||G.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const kt=Object.assign({iss:`https://securetoken.google.com/${we}`,aud:we,iat:re,exp:re+3600,auth_time:re,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},G);return[_e(JSON.stringify({alg:"none",type:"JWT"})),_e(JSON.stringify(kt)),""].join(".")}function Be(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function lt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function le(){var G;const z=null===(G=Pe())||void 0===G?void 0:G.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function At(){return"object"==typeof self&&self.self===self}function ot(){const G="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof G&&void 0!==G.id}function Zt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _s(){const G=Be();return G.indexOf("MSIE ")>=0||G.indexOf("Trident/")>=0}function vs(){return!0===c.NODE_CLIENT||!0===c.NODE_ADMIN}function Do(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function he(){try{return"object"==typeof indexedDB}catch{return!1}}function me(){return new Promise((G,z)=>{try{let Z=!0;const we="validate-browser-context-for-indexeddb-analytics-module",re=self.indexedDB.open(we);re.onsuccess=()=>{re.result.close(),Z||self.indexedDB.deleteDatabase(we),G(!0)},re.onupgradeneeded=()=>{Z=!1},re.onerror=()=>{var Ue;z((null===(Ue=re.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(Z){z(Z)}})}function ye(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Ae extends Error{constructor(z,Z,we){super(Z),this.code=z,this.customData=we,this.name="FirebaseError",Object.setPrototypeOf(this,Ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,De.prototype.create)}}class De{constructor(z,Z,we){this.service=z,this.serviceName=Z,this.errors=we}create(z,...Z){const we=Z[0]||{},re=`${this.service}/${z}`,Ue=this.errors[z],kt=Ue?function pt(G,z){return G.replace(gt,(Z,we)=>{const re=z[we];return null!=re?String(re):`<${we}?>`})}(Ue,we):"Error";return new Ae(re,`${this.serviceName}: ${kt} (${re}).`,we)}}const gt=/\{\$([^}]+)}/g;function kn(G){return JSON.parse(G)}function vt(G){return JSON.stringify(G)}const tn=function(G){let z={},Z={},we={},re="";try{const Ue=G.split(".");z=kn(W(Ue[0])||""),Z=kn(W(Ue[1])||""),re=Ue[2],we=Z.d||{},delete Z.d}catch{}return{header:z,claims:Z,data:we,signature:re}},qn=function(G){const Z=tn(G).claims;return!!Z&&"object"==typeof Z&&Z.hasOwnProperty("iat")},xi=function(G){const z=tn(G).claims;return"object"==typeof z&&!0===z.admin};function Yn(G,z){return Object.prototype.hasOwnProperty.call(G,z)}function Ji(G,z){if(Object.prototype.hasOwnProperty.call(G,z))return G[z]}function Er(G){for(const z in G)if(Object.prototype.hasOwnProperty.call(G,z))return!1;return!0}function $i(G,z,Z){const we={};for(const re in G)Object.prototype.hasOwnProperty.call(G,re)&&(we[re]=z.call(Z,G[re],re,G));return we}function bt(G,z){if(G===z)return!0;const Z=Object.keys(G),we=Object.keys(z);for(const re of Z){if(!we.includes(re))return!1;const Ue=G[re],kt=z[re];if(Ir(Ue)&&Ir(kt)){if(!bt(Ue,kt))return!1}else if(Ue!==kt)return!1}for(const re of we)if(!Z.includes(re))return!1;return!0}function Ir(G){return null!==G&&"object"==typeof G}function Wi(G){const z=[];for(const[Z,we]of Object.entries(G))Array.isArray(we)?we.forEach(re=>{z.push(encodeURIComponent(Z)+"="+encodeURIComponent(re))}):z.push(encodeURIComponent(Z)+"="+encodeURIComponent(we));return z.length?"&"+z.join("&"):""}function ur(G){const z={};return G.replace(/^\?/,"").split("&").forEach(we=>{if(we){const[re,Ue]=we.split("=");z[decodeURIComponent(re)]=decodeURIComponent(Ue)}}),z}function To(G){const z=G.indexOf("?");if(!z)return"";const Z=G.indexOf("#",z);return G.substring(z,Z>0?Z:void 0)}class ln{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,Z){Z||(Z=0);const we=this.W_;if("string"==typeof z)for(let Xt=0;Xt<16;Xt++)we[Xt]=z.charCodeAt(Z)<<24|z.charCodeAt(Z+1)<<16|z.charCodeAt(Z+2)<<8|z.charCodeAt(Z+3),Z+=4;else for(let Xt=0;Xt<16;Xt++)we[Xt]=z[Z]<<24|z[Z+1]<<16|z[Z+2]<<8|z[Z+3],Z+=4;for(let Xt=16;Xt<80;Xt++){const tr=we[Xt-3]^we[Xt-8]^we[Xt-14]^we[Xt-16];we[Xt]=4294967295&(tr<<1|tr>>>31)}let Vn,vn,re=this.chain_[0],Ue=this.chain_[1],kt=this.chain_[2],sn=this.chain_[3],oi=this.chain_[4];for(let Xt=0;Xt<80;Xt++){Xt<40?Xt<20?(Vn=sn^Ue&(kt^sn),vn=1518500249):(Vn=Ue^kt^sn,vn=1859775393):Xt<60?(Vn=Ue&kt|sn&(Ue|kt),vn=2400959708):(Vn=Ue^kt^sn,vn=3395469782);const tr=(re<<5|re>>>27)+Vn+oi+vn+we[Xt]&4294967295;oi=sn,sn=kt,kt=4294967295&(Ue<<30|Ue>>>2),Ue=re,re=tr}this.chain_[0]=this.chain_[0]+re&4294967295,this.chain_[1]=this.chain_[1]+Ue&4294967295,this.chain_[2]=this.chain_[2]+kt&4294967295,this.chain_[3]=this.chain_[3]+sn&4294967295,this.chain_[4]=this.chain_[4]+oi&4294967295}update(z,Z){if(null==z)return;void 0===Z&&(Z=z.length);const we=Z-this.blockSize;let re=0;const Ue=this.buf_;let kt=this.inbuf_;for(;re<Z;){if(0===kt)for(;re<=we;)this.compress_(z,re),re+=this.blockSize;if("string"==typeof z){for(;re<Z;)if(Ue[kt]=z.charCodeAt(re),++kt,++re,kt===this.blockSize){this.compress_(Ue),kt=0;break}}else for(;re<Z;)if(Ue[kt]=z[re],++kt,++re,kt===this.blockSize){this.compress_(Ue),kt=0;break}}this.inbuf_=kt,this.total_+=Z}digest(){const z=[];let Z=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let re=this.blockSize-1;re>=56;re--)this.buf_[re]=255&Z,Z/=256;this.compress_(this.buf_);let we=0;for(let re=0;re<5;re++)for(let Ue=24;Ue>=0;Ue-=8)z[we]=this.chain_[re]>>Ue&255,++we;return z}}function fn(G,z){const Z=new ct(G,z);return Z.subscribe.bind(Z)}class ct{constructor(z,Z){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Z,this.task.then(()=>{z(this)}).catch(we=>{this.error(we)})}next(z){this.forEachObserver(Z=>{Z.next(z)})}error(z){this.forEachObserver(Z=>{Z.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,Z,we){let re;if(void 0===z&&void 0===Z&&void 0===we)throw new Error("Missing Observer.");re=function Fr(G,z){if("object"!=typeof G||null===G)return!1;for(const Z of z)if(Z in G&&"function"==typeof G[Z])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:Z,complete:we},void 0===re.next&&(re.next=Sr),void 0===re.error&&(re.error=Sr),void 0===re.complete&&(re.complete=Sr);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?re.error(this.finalError):re.complete()}catch{}}),this.observers.push(re),Ue}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let Z=0;Z<this.observers.length;Z++)this.sendOne(Z,z)}sendOne(z,Z){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{Z(this.observers[z])}catch(we){typeof console<"u"&&console.error&&console.error(we)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Sr(){}const Ci=function(G,z,Z,we){let re;if(we<z?re="at least "+z:we>Z&&(re=0===Z?"none":"no more than "+Z),re)throw new Error(G+" failed: Was called with "+we+(1===we?" argument.":" arguments.")+" Expects "+re+".")};function er(G,z){return`${G} failed: ${z} argument `}function hr(G,z,Z,we){if((!we||Z)&&"function"!=typeof Z)throw new Error(er(G,z)+"must be a valid function.")}function yn(G,z,Z,we){if((!we||Z)&&("object"!=typeof Z||null===Z))throw new Error(er(G,z)+"must be a valid context object.")}const Ko=function(G){const z=[];let Z=0;for(let we=0;we<G.length;we++){let re=G.charCodeAt(we);if(re>=55296&&re<=56319){const Ue=re-55296;we++,ne(we<G.length,"Surrogate pair missing trail surrogate."),re=65536+(Ue<<10)+(G.charCodeAt(we)-56320)}re<128?z[Z++]=re:re<2048?(z[Z++]=re>>6|192,z[Z++]=63&re|128):re<65536?(z[Z++]=re>>12|224,z[Z++]=re>>6&63|128,z[Z++]=63&re|128):(z[Z++]=re>>18|240,z[Z++]=re>>12&63|128,z[Z++]=re>>6&63|128,z[Z++]=63&re|128)}return z},nn=function(G){let z=0;for(let Z=0;Z<G.length;Z++){const we=G.charCodeAt(Z);we<128?z++:we<2048?z+=2:we>=55296&&we<=56319?(z+=4,Z++):z+=3}return z},mn=1e3,Nr=2,Kn=144e5,fi=.5;function oo(G,z=mn,Z=Nr){const we=z*Math.pow(Z,G),re=Math.round(fi*we*(Math.random()-.5)*2);return Math.min(Kn,we+re)}function fr(G){return G&&G._delegate?G._delegate:G}},2654:(xt,Te,V)=>{var c=V(4650);let ne=null;function L(){return ne}class de{}const J=new c.OlP("DocumentToken");let Ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ee(){return(0,c.LFG)(W)}()},providedIn:"platform"}),n})();const _e=new c.OlP("Location Initialized");let W=(()=>{class n extends Ce{constructor(e){super(),this._doc=e,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return L().getBaseHref(this._doc)}onPopState(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=L().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,r){$()?this._history.pushState(e,i,r):this._location.hash=r}replaceState(e,i,r){$()?this._history.replaceState(e,i,r):this._location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Q(){return new W((0,c.LFG)(J))}()},providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function Ge(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Me(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ze(n){return n&&"?"!==n[0]?"?"+n:n}let ut=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(Pe)},providedIn:"root"}),n})();const ve=new c.OlP("appBaseHref");let Pe=(()=>{class n extends ut{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,c.f3M)(J).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ge(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+Ze(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const l=this.prepareExternalUrl(r+Ze(o));this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,o){const l=this.prepareExternalUrl(r+Ze(o));this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ce),c.LFG(ve,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fe=(()=>{class n extends ut{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=Ge(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let l=this.prepareExternalUrl(r+Ze(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(e,i,l)}replaceState(e,i,r,o){let l=this.prepareExternalUrl(r+Ze(o));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ce),c.LFG(ve,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),je=(()=>{class n{constructor(e){this._subject=new c.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function qe(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(Me(Se(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+Ze(i))}normalize(e){return n.stripTrailingSlash(function Ie(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,Se(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ze(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=Ze,n.joinWithSlash=Ge,n.stripTrailingSlash=Me,n.\u0275fac=function(e){return new(e||n)(c.LFG(ut))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function Ne(){return new je((0,c.LFG)(ut))}()},providedIn:"root"}),n})();function Se(n){return n.replace(/\/index.html$/,"")}const Lr=/\s+/,Qe=[];let Ut=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=Qe,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(Lr):Qe}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(Lr):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,Boolean(e[i]));this._applyStateDiff()}_updateState(e,i){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],r=e[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(Lr).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class pi{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Pa=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,l)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new pi(r.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)i.remove(null===o?void 0:o);else if(null!==o){const u=i.get(o);i.move(u,l),Zn(u,r)}});for(let r=0,o=i.length;r<o;r++){const u=i.get(r).context;u.index=r,u.count=o,u.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Zn(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Zn(n,t){n.context.$implicit=t.item}let mr=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Wt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){bl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){bl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Wt{constructor(){this.$implicit=null,this.ngIf=null}}function bl(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(t)}'.`)}let bs=(()=>{class n{constructor(e,i,r){this._ngEl=e,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_setStyle(e,i){const[r,o]=e.split("."),l=-1===r.indexOf("-")?void 0:c.JOm.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,l):this._renderer.removeStyle(this._ngEl.nativeElement,r,l)}_applyChanges(e){e.forEachRemovedItem(i=>this._setStyle(i.key,null)),e.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),e.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.aQg),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),n})();function Dr(n,t){return new c.vHH(2100,!1)}let pr=(()=>{class n{transform(e){if(null==e)return null;if("string"!=typeof e)throw Dr();return e.toUpperCase()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=c.Yjl({name:"uppercase",type:n,pure:!0,standalone:!0}),n})(),Mm=(()=>{class n{transform(e,i,r){if(null==e)return null;if(!this.supports(e))throw Dr();return e.slice(i,r)}supports(e){return"string"==typeof e||Array.isArray(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=c.Yjl({name:"slice",type:n,pure:!1,standalone:!0}),n})(),Qn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const Am="browser",sh="server";function Xo(n){return n===sh}let Cl=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new lh((0,c.LFG)(J),window)}),n})();class lh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function xs(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const l=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(l)return l}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=jd(this.window.history)||jd(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function jd(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class bh extends de{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Kd extends bh{static makeCurrent(){!function ce(n){ne||(ne=n)}(new Kd)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ja(){return za=za||document.querySelector("base"),za?za.getAttribute("href"):null}();return null==e?null:function e_(n){is=is||document.createElement("a"),is.setAttribute("href",n);const t=is.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){za=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function Oa(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let is,za=null;const Fm=new c.OlP("TRANSITION_ID"),Qy=[{provide:c.ip1,useFactory:function jc(n,t,e){return()=>{e.get(c.CZH).donePromise.then(()=>{const i=L(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[Fm,J,c.zs3],multi:!0}];let Qs=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xs=new c.OlP("EventManagerPlugins");let Gc=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const l=r[o];if(l.supports(e))return this._eventNameToPlugin.set(e,l),l}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Xs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Ga{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=L().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let Zd=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)0===this.changeUsageCount(i,-1)&&this.onStyleRemoved(i)}onStyleRemoved(e){}onStyleAdded(e){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(e,i){const r=this.usageCount;let o=r.get(e)??0;return o+=i,o>0?r.set(e,o):r.delete(e),o}ngOnDestroy(){for(const e of this.getAllStyles())this.onStyleRemoved(e);this.usageCount.clear()}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Js=(()=>{class n extends Zd{constructor(e){super(),this.doc=e,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.forEach(o=>o.remove()),i.delete(e)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}addStyleToHost(e,i){const r=this.doc.createElement("style");r.textContent=i,e.appendChild(r);const o=this.styleRef.get(i);o?o.push(r):this.styleRef.set(i,[r])}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ea={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$c=/%COMP%/g,Fl=new c.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function xh(n,t){return t.flat(100).map(e=>e.replace($c,n))}function ia(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let zr=(()=>{class n{constructor(e,i,r,o){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new rs(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;const r=this.getOrCreateRenderer(e,i);return r instanceof Eh?r.applyToHost(e):r instanceof En&&r.applyStyles(),r}getOrCreateRenderer(e,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const l=this.eventManager,u=this.sharedStylesHost,p=this.removeStylesOnCompDestory;switch(i.encapsulation){case c.ifc.Emulated:o=new Eh(l,u,i,this.appId,p);break;case c.ifc.ShadowDom:return new Ch(l,u,e,i);default:o=new En(l,u,i,p)}o.onDestroy=()=>r.delete(i.id),r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Gc),c.LFG(Js),c.LFG(c.AFp),c.LFG(Fl))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class rs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(ea[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Wa(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Wa(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=ea[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=ea[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(c.JOm.DashCase|c.JOm.Important)?t.style.setProperty(e,i,r&c.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&c.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ia(i)):this.eventManager.addEventListener(t,e,ia(i))}}function Wa(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Ch extends rs{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=xh(r.id,r.styles);for(const l of o){const u=document.createElement("style");u.textContent=l,this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class En extends rs{constructor(t,e,i,r,o=i.id){super(t),this.sharedStylesHost=e,this.removeStylesOnCompDestory=r,this.rendererUsageCount=0,this.styles=xh(o,i.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Eh extends En{constructor(t,e,i,r,o){const l=r+"-"+i.id;super(t,e,i,o,l),this.contentAttr=function Nm(n){return"_ngcontent-%COMP%".replace($c,n)}(l),this.hostAttr=function qc(n){return"_nghost-%COMP%".replace($c,n)}(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let Yc=(()=>{class n extends Ga{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Xd=["alt","control","meta","shift"],Kc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Zc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Di=(()=>{class n extends Ga{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),l=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>L().onAndCancel(e,o.domEventName,l))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let l="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),l="code."),Xd.forEach(v=>{const x=i.indexOf(v);x>-1&&(i.splice(x,1),l+=v+".")}),l+=o,0!=i.length||0===o.length)return null;const p={};return p.domEventName=r,p.fullKey=l,p}static matchEventFullKeyCode(e,i){let r=Kc[e.key]||e.key,o="";return i.indexOf("code.")>-1&&(r=e.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Xd.forEach(l=>{l!==r&&(0,Zc[l])(e)&&(o+=l+".")}),o+=r,o===i)}static eventCallback(e,i,r){return o=>{n.matchEventFullKeyCode(o,e)&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const eu=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:Am},{provide:c.g9A,useValue:function os(){Kd.makeCurrent()},multi:!0},{provide:J,useFactory:function Qc(){return(0,c.RDi)(document),document},deps:[]}]),Bl=new c.OlP(""),qa=[{provide:c.rWj,useClass:class Pl{addToWindow(t){c.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},c.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(i=>{const r=c.dqk.getAllAngularTestabilities();let o=r.length,l=!1;const u=function(p){l=l||p,o--,0==o&&i(l)};r.forEach(function(p){p.whenStable(u)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?L().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:c.lri,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b,c.eoX,c.rWj]}],Ds=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Lm(){return new c.qLn},deps:[]},{provide:Xs,useClass:Yc,multi:!0,deps:[J,c.R0b,c.Lbi]},{provide:Xs,useClass:Di,multi:!0,deps:[J]},{provide:zr,useClass:zr,deps:[Gc,Js,c.AFp,Fl]},{provide:c.FYo,useExisting:zr},{provide:Zd,useExisting:Js},{provide:Js,useClass:Js,deps:[J]},{provide:Gc,useClass:Gc,deps:[Xs,c.R0b]},{provide:class Mc{},useClass:Qs,deps:[]},[]];let sa=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:c.AFp,useValue:e.appId},{provide:Fm,useExisting:c.AFp},Qy]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Bl,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[...Ds,...qa],imports:[Qn,c.hGG]}),n})(),Vm=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function la(){return new Vm((0,c.LFG)(J))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let td=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):c.LFG(zl),i},providedIn:"root"}),n})(),zl=(()=>{class n extends td{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case c.q3G.NONE:return i;case c.q3G.HTML:return(0,c.qzn)(i,"HTML")?(0,c.z3N)(i):(0,c.EiD)(this._doc,String(i)).toString();case c.q3G.STYLE:return(0,c.qzn)(i,"Style")?(0,c.z3N)(i):i;case c.q3G.SCRIPT:if((0,c.qzn)(i,"Script"))return(0,c.z3N)(i);throw new Error("unsafe value used in a script context");case c.q3G.URL:return(0,c.qzn)(i,"URL")?(0,c.z3N)(i):(0,c.mCW)(String(i));case c.q3G.RESOURCE_URL:if((0,c.qzn)(i,"ResourceURL"))return(0,c.z3N)(i);throw new Error(`unsafe value used in a resource URL context (see ${c.JZr})`);default:throw new Error(`Unexpected SecurityContext ${e} (see ${c.JZr})`)}}bypassSecurityTrustHtml(e){return(0,c.JVY)(e)}bypassSecurityTrustStyle(e){return(0,c.L6k)(e)}bypassSecurityTrustScript(e){return(0,c.eBb)(e)}bypassSecurityTrustUrl(e){return(0,c.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,c.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function nd(n){return new zl(n.get(J))}(c.LFG(c.zs3)),i},providedIn:"root"}),n})();var pn=V(8996),yr=V(3269);function et(...n){const t=(0,yr.yG)(n);return(0,pn.D)(n,t)}var Tt=V(7579);class Fn extends Tt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}const jl=(0,V(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Xn=V(9751);const{isArray:id}=Array,{getPrototypeOf:ru,prototype:jr,keys:Ya}=Object;function Ka(n){if(1===n.length){const t=n[0];if(id(t))return{args:t,keys:null};if(function Gl(n){return n&&"object"==typeof n&&ru(n)===jr}(t)){const e=Ya(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var ss=V(4671),nt=V(4004);const{isArray:ou}=Array;function as(n){return(0,nt.U)(t=>function rd(n,t){return ou(t)?n(...t):n(t)}(n,t))}function Ts(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Hn=V(5403),su=V(9672);function od(...n){const t=(0,yr.yG)(n),e=(0,yr.jO)(n),{args:i,keys:r}=Ka(n);if(0===i.length)return(0,pn.D)([],t);const o=new Xn.y(function ua(n,t,e=ss.y){return i=>{ha(t,()=>{const{length:r}=n,o=new Array(r);let l=r,u=r;for(let p=0;p<r;p++)ha(t,()=>{const v=(0,pn.D)(n[p],t);let x=!1;v.subscribe((0,Hn.x)(i,D=>{o[p]=D,x||(x=!0,u--),u||i.next(e(o.slice()))},()=>{--l||i.complete()}))},i)},i)}}(i,t,r?l=>Ts(r,l):ss.y));return e?o.pipe(as(e)):o}function ha(n,t,e){n?(0,su.f)(e,n,t):t()}var sd=V(8189);function $l(...n){return function Dh(){return(0,sd.J)(1)}()((0,pn.D)(n,(0,yr.yG)(n)))}var Fo=V(8421);function Th(n){return new Xn.y(t=>{(0,Fo.Xf)(n()).subscribe(t)})}var jm=V(9635),br=V(576);function Za(n,t){const e=(0,br.m)(n)?n:()=>n,i=r=>r.error(e());return new Xn.y(t?r=>t.schedule(i,0,r):i)}var ho=V(515),Gr=V(727),li=V(4482);function au(){return(0,li.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Hn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class ad extends Xn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,li.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Gr.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Hn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Gr.w0.EMPTY)}return t}refCount(){return au()(this)}}function Jn(n,t){return(0,li.e)((e,i)=>{let r=null,o=0,l=!1;const u=()=>l&&!r&&i.complete();e.subscribe((0,Hn.x)(i,p=>{r?.unsubscribe();let v=0;const x=o++;(0,Fo.Xf)(n(p,x)).subscribe(r=(0,Hn.x)(i,D=>i.next(t?t(p,D,x,v++):D),()=>{r=null,u()}))},()=>{l=!0,u()}))})}function Bi(n){return n<=0?()=>ho.E:(0,li.e)((t,e)=>{let i=0;t.subscribe((0,Hn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function rr(...n){const t=(0,yr.yG)(n);return(0,li.e)((e,i)=>{(t?$l(n,e,t):$l(n,e)).subscribe(i)})}function Nn(n,t){return(0,li.e)((e,i)=>{let r=0;e.subscribe((0,Hn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var ei=V(5577);function fa(n){return(0,li.e)((t,e)=>{let i=!1;t.subscribe((0,Hn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function lu(n=Qa){return(0,li.e)((t,e)=>{let i=!1;t.subscribe((0,Hn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function Qa(){return new jl}function fo(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nn((r,o)=>n(r,o,i)):ss.y,Bi(1),e?fa(t):lu(()=>new jl))}function No(n,t){return(0,br.m)(t)?(0,ei.z)(n,t,1):(0,ei.z)(n,1)}var ti=V(8505);function Ms(n){return(0,li.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Hn.x)(e,void 0,void 0,l=>{o=(0,Fo.Xf)(n(l,Ms(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Xa(n,t){return(0,li.e)(function Gm(n,t,e,i,r){return(o,l)=>{let u=e,p=t,v=0;o.subscribe((0,Hn.x)(l,x=>{const D=v++;p=u?n(p,x,D):(u=!0,x),i&&l.next(p)},r&&(()=>{u&&l.next(p),l.complete()})))}}(n,t,arguments.length>=2,!0))}function ld(n){return n<=0?()=>ho.E:(0,li.e)((t,e)=>{let i=[];t.subscribe((0,Hn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function cd(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Nn((r,o)=>n(r,o,i)):ss.y,ld(1),e?fa(t):lu(()=>new jl))}function Wl(n){return(0,nt.U)(()=>n)}function ql(n){return(0,li.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const It="primary",mo=Symbol("RouteTitle");class dd{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $r(n){return new dd(n)}function $m(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const l=i[o],u=n[o];if(l.startsWith(":"))r[l.substring(1)]=u;else if(l!==u.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function po(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Ah(n[r],t[r]))return!1;return!0}function Ah(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function kh(n){return Array.prototype.concat.apply([],n)}function Rh(n){return n.length>0?n[n.length-1]:null}function I(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function M(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,pn.D)(Promise.resolve(n)):et(n)}const B=!1,q={exact:function $e(n,t,e){if(!Vi(n.segments,t.segments)||!or(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!$e(n.children[i],t.children[i],e))return!1;return!0},subset:Ot},X={exact:function Ye(n,t){return po(n,t)},subset:function ft(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Ah(n[e],t[e]))},ignored:()=>!0};function se(n,t,e){return q[e.paths](n.root,t.root,e.matrixParams)&&X[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Ot(n,t,e){return Pt(n,t,t.segments,e)}function Pt(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!Vi(r,e)||t.hasChildren()||!or(r,e,i))}if(n.segments.length===e.length){if(!Vi(n.segments,e)||!or(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Ot(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(Vi(n.segments,r)&&or(n.segments,r,i)&&n.children[It])&&Pt(n.children[It],t,o,i)}}function or(n,t,e){return t.every((i,r)=>X[e](n[r].parameters,i.parameters))}class In{constructor(t=new Ht([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$r(this.queryParams)),this._queryParamMap}toString(){return du.serialize(this)}}class Ht{constructor(t,e){this.segments=t,this.children=e,this.parent=null,I(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wm(this)}}class As{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$r(this.parameters)),this._parameterMap}toString(){return n_(this)}}function Vi(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let ks=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return new cu},providedIn:"root"}),n})();class cu{parse(t){const e=new hu(t);return new In(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Yl(t.root,!0)}`,i=function tb(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${pa(e)}=${pa(r)}`).join("&"):`${pa(e)}=${pa(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function qm(n){return encodeURI(n)}(t.fragment)}`:""}`}}const du=new cu;function Wm(n){return n.segments.map(t=>n_(t)).join("/")}function Yl(n,t){if(!n.hasChildren())return Wm(n);if(t){const e=n.children[It]?Yl(n.children[It],!1):"",i=[];return I(n.children,(r,o)=>{o!==It&&i.push(`${o}:${Yl(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function go(n,t){let e=[];return I(n.children,(i,r)=>{r===It&&(e=e.concat(t(i,r)))}),I(n.children,(i,r)=>{r!==It&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===It?[Yl(n.children[It],!1)]:[`${r}:${Yl(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[It]?`${Wm(n)}/${e[0]}`:`${Wm(n)}/(${e.join("//")})`}}function uu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pa(n){return uu(n).replace(/%3B/gi,";")}function ga(n){return uu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ud(n){return decodeURIComponent(n)}function Ym(n){return ud(n.replace(/\+/g,"%20"))}function n_(n){return`${ga(n.path)}${function Km(n){return Object.keys(n).map(t=>`;${ga(t)}=${ga(n[t])}`).join("")}(n.parameters)}`}const i_=/^[^\/()?;=#]+/;function Oh(n){const t=n.match(i_);return t?t[0]:""}const Fx=/^[^=?&#]+/,nb=/^[^&#]+/;class hu{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ht([],{}):new Ht([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[It]=new Ht(t,e)),i}parseSegment(){const t=Oh(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new c.vHH(4009,B);return this.capture(t),new As(ud(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Oh(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Oh(this.remaining);r&&(i=r,this.capture(i))}t[ud(e)]=ud(i)}parseQueryParam(t){const e=function Kl(n){const t=n.match(Fx);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const l=function r_(n){const t=n.match(nb);return t?t[0]:""}(this.remaining);l&&(i=l,this.capture(i))}const r=Ym(e),o=Ym(i);if(t.hasOwnProperty(r)){let l=t[r];Array.isArray(l)||(l=[l],t[r]=l),l.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Oh(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new c.vHH(4010,B);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=It);const l=this.parseChildren();e[o]=1===Object.keys(l).length?l[It]:new Ht([],l),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new c.vHH(4011,B)}}function Ph(n){return n.segments.length>0?new Ht([],{[It]:n}):n}function Ja(n){const t={};for(const i of Object.keys(n.children)){const o=Ja(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function ib(n){if(1===n.numberOfChildren&&n.children[It]){const t=n.children[It];return new Ht(n.segments.concat(t.segments),t.children)}return n}(new Ht(n.segments,t))}function Zl(n){return n instanceof In}const hd=!1;function o_(n,t,e,i,r){if(0===e.length)return _a(t.root,t.root,t.root,i,r);const o=function pu(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Nh(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,l)=>{if("object"==typeof o&&null!=o){if(o.outlets){const u={};return I(o.outlets,(p,v)=>{u[v]="string"==typeof p?p.split("/"):p}),[...r,{outlets:u}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===l?(o.split("/").forEach((u,p)=>{0==p&&"."===u||(0==p&&""===u?e=!0:".."===u?t++:""!=u&&r.push(u))}),r):[...r,o]},[]);return new Nh(e,t,i)}(e);return o.toRoot()?_a(t.root,t.root,new Ht([],{}),i,r):function l(p){const v=function Lh(n,t,e,i){if(n.isAbsolute)return new Ql(t.root,!0,0);if(-1===i)return new Ql(e,e===t.root,0);return function Xl(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new c.vHH(4005,hd&&"Invalid number of '../'");r=i.segments.length}return new Ql(i,!1,r-o)}(e,i+(mu(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,p),x=v.processChildren?cs(v.segmentGroup,v.index,o.commands):Vh(v.segmentGroup,v.index,o.commands);return _a(t.root,v.segmentGroup,x,i,r)}(n.snapshot?._lastPathIndex)}function mu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Fh(n){return"object"==typeof n&&null!=n&&n.outlets}function _a(n,t,e,i,r){let l,o={};i&&I(i,(p,v)=>{o[v]=Array.isArray(p)?p.map(x=>`${x}`):`${p}`}),l=n===t?e:s_(n,t,e);const u=Ph(Ja(l));return new In(u,o,r)}function s_(n,t,e){const i={};return I(n.children,(r,o)=>{i[o]=r===t?e:s_(r,t,e)}),new Ht(n.segments,i)}class Nh{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&mu(i[0]))throw new c.vHH(4003,hd&&"Root segment cannot have matrix parameters");const r=i.find(Fh);if(r&&r!==Rh(i))throw new c.vHH(4004,hd&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ql{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Vh(n,t,e){if(n||(n=new Ht([],{})),0===n.segments.length&&n.hasChildren())return cs(n,t,e);const i=function Qm(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const l=n.segments[r],u=e[i];if(Fh(u))break;const p=`${u}`,v=i<e.length-1?e[i+1]:null;if(r>0&&void 0===p)break;if(p&&v&&"object"==typeof v&&void 0===v.outlets){if(!Jm(p,v,l))return o;i+=2}else{if(!Jm(p,{},l))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Ht(n.segments.slice(0,i.pathIndex),{});return o.children[It]=new Ht(n.segments.slice(i.pathIndex),n.children),cs(o,0,r)}return i.match&&0===r.length?new Ht(n.segments,{}):i.match&&!n.hasChildren()?gu(n,t,e):i.match?cs(n,0,r):gu(n,t,e)}function cs(n,t,e){if(0===e.length)return new Ht(n.segments,{});{const i=function Bh(n){return Fh(n[0])?n[0].outlets:{[It]:n}}(e),r={};if(!i[It]&&n.children[It]&&1===n.numberOfChildren&&0===n.children[It].segments.length){const o=cs(n.children[It],t,e);return new Ht(n.segments,o.children)}return I(i,(o,l)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[l]=Vh(n.children[l],t,o))}),I(n.children,(o,l)=>{void 0===i[l]&&(r[l]=o)}),new Ht(n.segments,r)}}function gu(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(Fh(o)){const p=_u(o.outlets);return new Ht(i,p)}if(0===r&&mu(e[0])){i.push(new As(n.segments[t].path,Xm(e[0]))),r++;continue}const l=Fh(o)?o.outlets[It]:`${o}`,u=r<e.length-1?e[r+1]:null;l&&u&&mu(u)?(i.push(new As(l,Xm(u))),r+=2):(i.push(new As(l,{})),r++)}return new Ht(i,{})}function _u(n){const t={};return I(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=gu(new Ht([],{}),0,e))}),t}function Xm(n){const t={};return I(n,(e,i)=>t[i]=`${e}`),t}function Jm(n,t,e){return n==e.path&&po(t,e.parameters)}const vu="imperative";class Rs{constructor(t,e){this.id=t,this.url=e}}class ep extends Rs{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Lo extends Rs{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yu extends Rs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tl extends Rs{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=16}}class bu extends Rs{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fd extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ob extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sb extends Rs{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ab extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tp extends Rs{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wu{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class a_{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class l_{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class md{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class np{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wr{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jl{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let rp=(()=>{class n{createUrlTree(e,i,r,o,l,u){return o_(e||i.root,r,o,l,u)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),lb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(t){return rp.\u0275fac(t)},providedIn:"root"}),n})();class sp{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=ap(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=ap(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Yi(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Yi(t,this._root).map(e=>e.value)}}function ap(n,t){if(n===t.value)return t;for(const e of t.children){const i=ap(n,e);if(i)return i}return null}function Yi(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Yi(n,e);if(i.length)return i.unshift(t),i}return[]}class Mr{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function pd(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class c_ extends sp{constructor(t,e){super(t),this.snapshot=e,tc(this,t)}toString(){return this.snapshot.toString()}}function d_(n,t){const e=function u_(n,t){const l=new zh([],{},{},"",{},It,t,null,n.root,-1,{});return new Os("",new Mr(l,[]))}(n,t),i=new Fn([new As("",{})]),r=new Fn({}),o=new Fn({}),l=new Fn({}),u=new Fn(""),p=new Ui(i,r,l,u,o,It,t,e.root);return p.snapshot=e.root,new c_(new Mr(p,[]),e)}class Ui{constructor(t,e,i,r,o,l,u,p){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=u,this.title=this.data?.pipe((0,nt.U)(v=>v[mo]))??et(void 0),this._futureSnapshot=p}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,nt.U)(t=>$r(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,nt.U)(t=>$r(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Uh(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Hh(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class zh{get title(){return this.data?.[mo]}constructor(t,e,i,r,o,l,u,p,v,x,D){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=l,this.component=u,this.routeConfig=p,this._urlSegment=v,this._lastPathIndex=x,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$r(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$r(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Os extends sp{constructor(t,e){super(e),this.url=t,tc(this,e)}toString(){return lp(this._root)}}function tc(n,t){t.value._routerState=n,t.children.forEach(e=>tc(n,e))}function lp(n){const t=n.children.length>0?` { ${n.children.map(lp).join(", ")} } `:"";return`${n.value}${t}`}function nc(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,po(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),po(t.params,e.params)||n.params.next(e.params),function Mh(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!po(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),po(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function ds(n,t){const e=po(n.params,t.params)&&function ma(n,t){return Vi(n,t)&&n.every((e,i)=>po(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||ds(n.parent,t.parent))}function gd(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function h_(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return gd(n,i,r);return gd(n,i)})}(n,t,e);return new Mr(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const l=o.route;return l.value._futureSnapshot=t.value,l.children=t.children.map(u=>gd(n,u)),l}}const i=function f_(n){return new Ui(new Fn(n.url),new Fn(n.params),new Fn(n.queryParams),new Fn(n.fragment),new Fn(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>gd(n,o));return new Mr(i,r)}}const m_="ngNavigationCancelingError";function y(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Zl(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=m(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function m(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[m_]=!0,i.cancellationCode=t,e&&(i.url=e),i}function g(n){return w(n)&&Zl(n.url)}function w(n){return n&&n[m_]}class T{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new O,this.attachRef=null}}let O=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const r=this.getOrCreateContext(e);r.outlet=i,this.contexts.set(e,r)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new T,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const j=!1;let ee=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=It,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.parentContexts=(0,c.f3M)(O),this.location=(0,c.f3M)(c.s_b),this.changeDetector=(0,c.f3M)(c.sBO),this.environmentInjector=(0,c.f3M)(c.lqb)}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:r}=e.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new c.vHH(4012,j);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new c.vHH(4012,j);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new c.vHH(4012,j);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new c.vHH(4013,j);this._activatedRoute=e;const r=this.location,l=e.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,p=new Re(e,u,r.injector);if(i&&function We(n){return!!n.resolveComponentFactory}(i)){const v=i.resolveComponentFactory(l);this.activated=r.createComponent(v,r.length,p)}else this.activated=r.createComponent(l,{index:r.length,injector:p,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[c.TTD]}),n})();class Re{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===Ui?this.route:t===O?this.childContexts:this.parent.get(t,e)}}let st=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[c.jDz],decls:1,vars:0,template:function(e,i){1&e&&c._UZ(0,"router-outlet")},dependencies:[ee],encapsulation:2}),n})();function at(n,t){return n.providers&&!n._injector&&(n._injector=(0,c.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Eu(n){const t=n.children&&n.children.map(Eu),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==It&&(e.component=st),e}function _o(n){return n.outlet||It}function jh(n,t){const e=n.filter(i=>_o(i)===t);return e.push(...n.filter(i=>_o(i)!==t)),e}function _d(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class Gh{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),nc(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=pd(e);t.children.forEach(o=>{const l=o.value.outlet;this.deactivateRoutes(o,r[l],i),delete r[l]}),I(r,(o,l)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const l=i.getContext(r.outlet);l&&this.deactivateChildRoutes(t,e,l.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=pd(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);if(i&&i.outlet){const l=i.outlet.detach(),u=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:u})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=pd(t);for(const l of Object.keys(o))this.deactivateRouteAndItsChildren(o[l],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=pd(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Wr(o.value.snapshot))}),t.children.length&&this.forwardEvent(new md(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(nc(r),r===o)if(r.component){const l=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,l.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const l=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const u=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),l.children.onOutletReAttached(u.contexts),l.attachRef=u.componentRef,l.route=u.route.value,l.outlet&&l.outlet.attach(u.componentRef,u.route.value),nc(u.route.value),this.activateChildRoutes(t,null,l.children)}else{const u=_d(r.snapshot),p=u?.get(c._Vd)??null;l.attachRef=null,l.route=r,l.resolver=p,l.injector=u,l.outlet&&l.outlet.activateWith(r,l.injector),this.activateChildRoutes(t,null,l.children)}}else this.activateChildRoutes(t,null,i)}}class ub{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class hb{constructor(t,e){this.component=t,this.route=e}}function cp(n,t,e){const i=n._root;return $h(i,t?t._root:null,e,[i.value])}function Iu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,c.Z0I)(n)?t.get(n):n:i}function $h(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=pd(t);return n.children.forEach(l=>{(function Nx(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,l=t?t.value:null,u=e?e.getContext(n.value.outlet):null;if(l&&o.routeConfig===l.routeConfig){const p=function FF(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Vi(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Vi(n.url,t.url)||!po(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ds(n,t)||!po(n.queryParams,t.queryParams);default:return!ds(n,t)}}(l,o,o.routeConfig.runGuardsAndResolvers);p?r.canActivateChecks.push(new ub(i)):(o.data=l.data,o._resolvedData=l._resolvedData),$h(n,t,o.component?u?u.children:null:e,i,r),p&&u&&u.outlet&&u.outlet.isActivated&&r.canDeactivateChecks.push(new hb(u.outlet.component,l))}else l&&dp(t,u,r),r.canActivateChecks.push(new ub(i)),$h(n,null,o.component?u?u.children:null:e,i,r)})(l,o[l.value.outlet],e,i.concat([l.value]),r),delete o[l.value.outlet]}),I(o,(l,u)=>dp(l,e.getContext(u),r)),r}function dp(n,t,e){const i=pd(n),r=n.value;I(i,(o,l)=>{dp(o,r.component?t?t.children.getContext(l):null:t,e)}),e.canDeactivateChecks.push(new hb(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function Wh(n){return"function"==typeof n}function rc(n){return n instanceof jl||"EmptyError"===n?.name}const __=Symbol("INITIAL_VALUE");function vd(){return Jn(n=>od(n.map(t=>t.pipe(Bi(1),rr(__)))).pipe((0,nt.U)(t=>{for(const e of t)if(!0!==e){if(e===__)return __;if(!1===e||e instanceof In)return e}return!0}),Nn(t=>t!==__),Bi(1)))}function yb(n){return(0,jm.z)((0,ti.b)(t=>{if(Zl(t))throw y(0,t)}),(0,nt.U)(t=>!0===t))}const bb={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ux(n,t,e,i,r){const o=wb(n,t,e);return o.matched?function qh(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?et(r.map(l=>{const u=Iu(l,n);return M(function gb(n){return n&&Wh(n.canMatch)}(u)?u.canMatch(t,e):n.runInContext(()=>u(t,e)))})).pipe(vd(),yb()):et(!0)}(i=at(t,i),t,e).pipe((0,nt.U)(l=>!0===l?o:{...bb})):et(o)}function wb(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...bb}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||$m)(e,n,t);if(!r)return{...bb};const o={};I(r.posParams,(u,p)=>{o[p]=u.path});const l=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:l,positionalParamSegments:r.posParams??{}}}function Yh(n,t,e,i){if(e.length>0&&function tT(n,t,e){return e.some(i=>xb(n,t,i)&&_o(i)!==It)}(n,e,i)){const o=new Ht(t,function Hx(n,t,e,i){const r={};r[It]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&_o(o)!==It){const l=new Ht([],{});l._sourceSegment=n,l._segmentIndexShift=t.length,r[_o(o)]=l}return r}(n,t,i,new Ht(e,n.children)));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===e.length&&function zx(n,t,e){return e.some(i=>xb(n,t,i))}(n,e,i)){const o=new Ht(n.segments,function eT(n,t,e,i,r){const o={};for(const l of i)if(xb(n,e,l)&&!r[_o(l)]){const u=new Ht([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,o[_o(l)]=u}return{...r,...o}}(n,t,e,i,n.children));return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}const r=new Ht(n.segments,n.children);return r._sourceSegment=n,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:e}}function xb(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function jx(n,t,e,i){return!!(_o(n)===i||i!==It&&xb(t,e,n))&&("**"===n.path||wb(t,n,e).matched)}function Kh(n,t,e){return 0===t.length&&!n.children[e]}const b_=!1;class oc{constructor(t){this.segmentGroup=t||null}}class Zh{constructor(t){this.urlTree=t}}function up(n){return Za(new oc(n))}function Cb(n){return Za(new Zh(n))}class Gx{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=Yh(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ht(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,It).pipe((0,nt.U)(o=>this.createUrlTree(Ja(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ms(o=>{if(o instanceof Zh)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof oc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,It).pipe((0,nt.U)(r=>this.createUrlTree(Ja(r),t.queryParams,t.fragment))).pipe(Ms(r=>{throw r instanceof oc?this.noMatchError(r):r}))}noMatchError(t){return new c.vHH(4002,b_)}createUrlTree(t,e,i){const r=Ph(t);return new In(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,nt.U)(o=>new Ht([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,pn.D)(r).pipe(No(o=>{const l=i.children[o],u=jh(e,o);return this.expandSegmentGroup(t,u,l,o).pipe((0,nt.U)(p=>({segment:p,outlet:o})))}),Xa((o,l)=>(o[l.outlet]=l.segment,o),{}),cd())}expandSegment(t,e,i,r,o,l){return(0,pn.D)(i).pipe(No(u=>this.expandSegmentAgainstRoute(t,e,i,u,r,o,l).pipe(Ms(v=>{if(v instanceof oc)return et(null);throw v}))),fo(u=>!!u),Ms((u,p)=>{if(rc(u))return Kh(e,r,o)?et(new Ht([],{})):up(e);throw u}))}expandSegmentAgainstRoute(t,e,i,r,o,l,u){return jx(r,e,o,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,l):u&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l):up(e):up(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,l):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Cb(o):this.lineralizeSegments(i,o).pipe((0,ei.z)(l=>{const u=new Ht(l,{});return this.expandSegment(t,u,e,l,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,l){const{matched:u,consumedSegments:p,remainingSegments:v,positionalParamSegments:x}=wb(e,r,o);if(!u)return up(e);const D=this.applyRedirectCommands(p,r.redirectTo,x);return r.redirectTo.startsWith("/")?Cb(D):this.lineralizeSegments(r,D).pipe((0,ei.z)(R=>this.expandSegment(t,e,i,R.concat(v),l,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=at(i,t),i.loadChildren?(i._loadedRoutes?et({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,nt.U)(u=>(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,new Ht(r,{})))):et(new Ht(r,{}))):Ux(e,i,r,t).pipe(Jn(({matched:l,consumedSegments:u,remainingSegments:p})=>l?this.getChildConfig(t=i._injector??t,i,r).pipe((0,ei.z)(x=>{const D=x.injector??t,R=x.routes,{segmentGroup:F,slicedSegments:H}=Yh(e,u,p,R),Y=new Ht(F.segments,F.children);if(0===H.length&&Y.hasChildren())return this.expandChildren(D,R,Y).pipe((0,nt.U)(Xe=>new Ht(u,Xe)));if(0===R.length&&0===H.length)return et(new Ht(u,{}));const te=_o(i)===o;return this.expandSegment(D,Y,R,H,te?It:o,!0).pipe((0,nt.U)(Ke=>new Ht(u.concat(Ke.segments),Ke.children)))})):up(e)))}getChildConfig(t,e,i){return e.children?et({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?et({routes:e._loadedRoutes,injector:e._loadedInjector}):function JD(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?et(!0):et(r.map(l=>{const u=Iu(l,n);return M(function mb(n){return n&&Wh(n.canLoad)}(u)?u.canLoad(t,e):n.runInContext(()=>u(t,e)))})).pipe(vd(),yb())}(t,e,i).pipe((0,ei.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,ti.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function iT(n){return Za(m(b_,3))}())):et({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return et(i);if(r.numberOfChildren>1||!r.children[It])return t.redirectTo,Za(new c.vHH(4e3,b_));r=r.children[It]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new In(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return I(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const u=r.substring(1);i[o]=e[u]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let l={};return I(e.children,(u,p)=>{l[p]=this.createSegmentGroup(t,u,i,r)}),new Ht(o,l)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new c.vHH(4001,b_);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class Eb{}class hp{constructor(t,e,i,r,o,l,u){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=l,this.urlSerializer=u}recognize(){const t=Yh(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,It).pipe((0,nt.U)(e=>{if(null===e)return null;const i=new zh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},It,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Mr(i,e),o=new Os(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=Uh(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,pn.D)(Object.keys(i.children)).pipe(No(r=>{const o=i.children[r],l=jh(e,r);return this.processSegmentGroup(t,l,o,r)}),Xa((r,o)=>r&&o?(r.push(...o),r):null),function ls(n,t=!1){return(0,li.e)((e,i)=>{let r=0;e.subscribe((0,Hn.x)(i,o=>{const l=n(o,r++);(l||t)&&i.next(o),!l&&i.complete()}))})}(r=>null!==r),fa(null),cd(),(0,nt.U)(r=>{if(null===r)return null;const o=Wx(r);return function sT(n){n.sort((t,e)=>t.value.outlet===It?-1:e.value.outlet===It?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,pn.D)(e).pipe(No(l=>this.processSegmentAgainstRoute(l._injector??t,l,i,r,o)),fo(l=>!!l),Ms(l=>{if(rc(l))return Kh(i,r,o)?et([]):et(null);throw l}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!jx(e,i,r,o))return et(null);let l;if("**"===e.path){const u=r.length>0?Rh(r).parameters:{},p=Yx(i)+r.length;l=et({snapshot:new zh(r,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nl(e),_o(e),e.component??e._loadedComponent??null,e,qx(i),p,Kx(e)),consumedSegments:[],remainingSegments:[]})}else l=Ux(i,e,r,t).pipe((0,nt.U)(({matched:u,consumedSegments:p,remainingSegments:v,parameters:x})=>{if(!u)return null;const D=Yx(i)+p.length;return{snapshot:new zh(p,x,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,nl(e),_o(e),e.component??e._loadedComponent??null,e,qx(i),D,Kx(e)),consumedSegments:p,remainingSegments:v}}));return l.pipe(Jn(u=>{if(null===u)return et(null);const{snapshot:p,consumedSegments:v,remainingSegments:x}=u;t=e._injector??t;const D=e._loadedInjector??t,R=function aT(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:F,slicedSegments:H}=Yh(i,v,x,R.filter(te=>void 0===te.redirectTo));if(0===H.length&&F.hasChildren())return this.processChildren(D,R,F).pipe((0,nt.U)(te=>null===te?null:[new Mr(p,te)]));if(0===R.length&&0===H.length)return et([new Mr(p,[])]);const Y=_o(e)===o;return this.processSegment(D,R,F,H,Y?It:o).pipe((0,nt.U)(te=>null===te?null:[new Mr(p,te)]))}))}}function lT(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Wx(n){const t=[],e=new Set;for(const i of n){if(!lT(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Wx(i.children);t.push(new Mr(i.value,r))}return t.filter(i=>!e.has(i))}function qx(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Yx(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function nl(n){return n.data||{}}function Kx(n){return n.resolve||{}}function Sb(n){return"string"==typeof n.title||null===n.title}function Db(n){return Jn(t=>{const e=n(t);return e?(0,pn.D)(e).pipe((0,nt.U)(()=>t)):et(t)})}const Qh=new c.OlP("ROUTES");let Mb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,c.f3M)(c.Sil)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return et(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=M(e.loadComponent()).pipe((0,nt.U)(Xx),(0,ti.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ql(()=>{this.componentLoaders.delete(e)})),r=new ad(i,()=>new Tt.x).pipe(au());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return et({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,nt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(i);let p,v,x=!1;Array.isArray(u)?v=u:(p=u.create(e).injector,v=kh(p.get(Qh,[],c.XFs.Self|c.XFs.Optional)));return{routes:v.map(Eu),injector:p}}),ql(()=>{this.childrenLoaders.delete(i)})),l=new ad(o,()=>new Tt.x).pipe(au());return this.childrenLoaders.set(i,l),l}loadModuleFactoryOrRoutes(e){return M(e()).pipe((0,nt.U)(Xx),(0,ei.z)(i=>i instanceof c.YKP||Array.isArray(i)?et(i):(0,pn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Xx(n){return function va(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let x_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Tt.x,this.configLoader=(0,c.f3M)(Mb),this.environmentInjector=(0,c.f3M)(c.lqb),this.urlSerializer=(0,c.f3M)(ks),this.rootContexts=(0,c.f3M)(O),this.navigationId=0,this.afterPreactivation=()=>et(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new a_(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new wu(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e){return this.transitions=new Fn({id:0,targetPageId:0,currentUrlTree:e.currentUrlTree,currentRawUrl:e.currentUrlTree,extractedUrl:e.urlHandlingStrategy.extract(e.currentUrlTree),urlAfterRedirects:e.urlHandlingStrategy.extract(e.currentUrlTree),rawUrl:e.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:vu,restoredState:null,currentSnapshot:e.routerState.snapshot,targetSnapshot:null,currentRouterState:e.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Nn(i=>0!==i.id),(0,nt.U)(i=>({...i,extractedUrl:e.urlHandlingStrategy.extract(i.rawUrl)})),Jn(i=>{let r=!1,o=!1;return et(i).pipe((0,ti.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jn(l=>{const u=e.browserUrlTree.toString(),p=!e.navigated||l.extractedUrl.toString()!==u||u!==e.currentUrlTree.toString();if(!p&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const x="";return this.events.next(new tl(l.id,e.serializeUrl(i.rawUrl),x,0)),e.rawUrlTree=l.rawUrl,l.resolve(null),ho.E}if(e.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Jx(l.source)&&(e.browserUrlTree=l.extractedUrl),et(l).pipe(Jn(x=>{const D=this.transitions?.getValue();return this.events.next(new ep(x.id,this.urlSerializer.serialize(x.extractedUrl),x.source,x.restoredState)),D!==this.transitions?.getValue()?ho.E:Promise.resolve(x)}),function $x(n,t,e,i){return Jn(r=>function rT(n,t,e,i,r){return new Gx(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,nt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,e.config),(0,ti.b)(x=>{this.currentNavigation={...this.currentNavigation,finalUrl:x.urlAfterRedirects},i.urlAfterRedirects=x.urlAfterRedirects}),function dT(n,t,e,i,r){return(0,ei.z)(o=>function Ib(n,t,e,i,r,o,l="emptyOnly"){return new hp(n,t,e,i,r,l,o).recognize().pipe(Jn(u=>null===u?function oT(n){return new Xn.y(t=>t.error(n))}(new Eb):et(u)))}(n,t,e,o.urlAfterRedirects,i.serialize(o.urlAfterRedirects),i,r).pipe((0,nt.U)(l=>({...o,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,ti.b)(x=>{if(i.targetSnapshot=x.targetSnapshot,"eager"===e.urlUpdateStrategy){if(!x.extras.skipLocationChange){const R=e.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl);e.setBrowserUrl(R,x)}e.browserUrlTree=x.urlAfterRedirects}const D=new fd(x.id,this.urlSerializer.serialize(x.extractedUrl),this.urlSerializer.serialize(x.urlAfterRedirects),x.targetSnapshot);this.events.next(D)}));if(p&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){const{id:x,extractedUrl:D,source:R,restoredState:F,extras:H}=l,Y=new ep(x,this.urlSerializer.serialize(D),R,F);this.events.next(Y);const te=d_(D,this.rootComponentType).snapshot;return et(i={...l,targetSnapshot:te,urlAfterRedirects:D,extras:{...H,skipLocationChange:!1,replaceUrl:!1}})}{const x="";return this.events.next(new tl(l.id,e.serializeUrl(i.extractedUrl),x,1)),e.rawUrlTree=l.rawUrl,l.resolve(null),ho.E}}),(0,ti.b)(l=>{const u=new ob(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),(0,nt.U)(l=>i={...l,guards:cp(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function v_(n,t){return(0,ei.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:l}}=e;return 0===l.length&&0===o.length?et({...e,guardsResult:!0}):function QD(n,t,e,i){return(0,pn.D)(n).pipe((0,ei.z)(r=>function XD(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?et(o.map(u=>{const p=_d(t)??r,v=Iu(u,p);return M(function KD(n){return n&&Wh(n.canDeactivate)}(v)?v.canDeactivate(n,t,e,i):p.runInContext(()=>v(n,t,e,i))).pipe(fo())})).pipe(vd()):et(!0)}(r.component,r.route,e,t,i)),fo(r=>!0!==r,!0))}(l,i,r,n).pipe((0,ei.z)(u=>u&&function Lx(n){return"boolean"==typeof n}(u)?function _b(n,t,e,i){return(0,pn.D)(t).pipe(No(r=>$l(function Su(n,t){return null!==n&&t&&t(new l_(n)),et(!0)}(r.route.parent,i),function y_(n,t){return null!==n&&t&&t(new np(n)),et(!0)}(r.route,i),function vb(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(l=>function fb(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(l)).filter(l=>null!==l).map(l=>Th(()=>et(l.guards.map(p=>{const v=_d(l.node)??e,x=Iu(p,v);return M(function pb(n){return n&&Wh(n.canActivateChild)}(x)?x.canActivateChild(i,n):v.runInContext(()=>x(i,n))).pipe(fo())})).pipe(vd())));return et(o).pipe(vd())}(n,r.path,e),function Vx(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return et(!0);const r=i.map(o=>Th(()=>{const l=_d(t)??e,u=Iu(o,l);return M(function NF(n){return n&&Wh(n.canActivate)}(u)?u.canActivate(t,n):l.runInContext(()=>u(t,n))).pipe(fo())}));return et(r).pipe(vd())}(n,r.route,e))),fo(r=>!0!==r,!0))}(i,o,n,t):et(u)),(0,nt.U)(u=>({...e,guardsResult:u})))})}(this.environmentInjector,l=>this.events.next(l)),(0,ti.b)(l=>{if(i.guardsResult=l.guardsResult,Zl(l.guardsResult))throw y(0,l.guardsResult);const u=new sb(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Nn(l=>!!l.guardsResult||(e.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Db(l=>{if(l.guards.canActivateChecks.length)return et(l).pipe((0,ti.b)(u=>{const p=new ab(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}),Jn(u=>{let p=!1;return et(u).pipe(function LF(n,t){return(0,ei.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return et(e);let o=0;return(0,pn.D)(r).pipe(No(l=>function BF(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!Sb(r)&&(o[mo]=r.title),function Zx(n,t,e,i){const r=function VF(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return et({});const o={};return(0,pn.D)(r).pipe((0,ei.z)(l=>function Qx(n,t,e,i){const r=_d(t)??i,o=Iu(n,r);return M(o.resolve?o.resolve(t,e):r.runInContext(()=>o(t,e)))}(n[l],t,e,i).pipe(fo(),(0,ti.b)(u=>{o[l]=u}))),ld(1),Wl(o),Ms(l=>rc(l)?ho.E:Za(l)))}(o,n,t,i).pipe((0,nt.U)(l=>(n._resolvedData=l,n.data=Uh(n,e).resolve,r&&Sb(r)&&(n.data[mo]=r.title),null)))}(l.route,i,n,t)),(0,ti.b)(()=>o++),ld(1),(0,ei.z)(l=>o===r.length?et(e):ho.E))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,ti.b)({next:()=>p=!0,complete:()=>{p||(e.restoreHistory(u),this.cancelNavigationTransition(u,"",2))}}))}),(0,ti.b)(u=>{const p=new tp(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}))}),Db(l=>{const u=p=>{const v=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&v.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,ti.b)(x=>{p.component=x}),(0,nt.U)(()=>{})));for(const x of p.children)v.push(...u(x));return v};return od(u(l.targetSnapshot.root)).pipe(fa(),Bi(1))}),Db(()=>this.afterPreactivation()),(0,nt.U)(l=>{const u=function ic(n,t,e){const i=gd(n,t._root,e?e._root:void 0);return new c_(i,t)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return i={...l,targetRouterState:u}}),(0,ti.b)(l=>{e.currentUrlTree=l.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),e.routerState=l.targetRouterState,"deferred"===e.urlUpdateStrategy&&(l.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,l),e.browserUrlTree=l.urlAfterRedirects)}),((n,t,e)=>(0,nt.U)(i=>(new Gh(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l)),Bi(1),(0,ti.b)({next:l=>{r=!0,this.lastSuccessfulNavigation=this.currentNavigation,e.navigated=!0,this.events.next(new Lo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(e.currentUrlTree))),e.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{r=!0}}),ql(()=>{r||o||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),Ms(l=>{if(o=!0,w(l)){g(l)||(e.navigated=!0,e.restoreHistory(i,!0));const u=new yu(i.id,this.urlSerializer.serialize(i.extractedUrl),l.message,l.cancellationCode);if(this.events.next(u),g(l)){const p=e.urlHandlingStrategy.merge(l.url,e.rawUrlTree),v={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy||Jx(i.source)};e.scheduleNavigation(p,vu,null,v,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{e.restoreHistory(i,!0);const u=new bu(i.id,this.urlSerializer.serialize(i.extractedUrl),l,i.targetSnapshot??void 0);this.events.next(u);try{i.resolve(e.errorHandler(l))}catch(p){i.reject(p)}}return ho.E}))}))}cancelNavigationTransition(e,i,r){const o=new yu(e.id,this.urlSerializer.serialize(e.extractedUrl),i,r);this.events.next(o),e.resolve(!1)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jx(n){return n!==vu}let eC=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===It);return i}getResolvedTitleForRoute(e){return e.data[mo]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(uT)},providedIn:"root"}),n})(),uT=(()=>{class n extends eC{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Vm))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(fT)},providedIn:"root"}),n})();class hT{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let fT=(()=>{class n extends hT{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Gt=new c.OlP("",{providedIn:"root",factory:()=>({})});let nC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return(0,c.f3M)(iC)},providedIn:"root"}),n})(),iC=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pT(n){throw n}function gT(n,t,e){return t.parse("/")}const rC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_T={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Bo=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,c.f3M)(c.c2e),this.isNgZoneEnabled=!1,this.options=(0,c.f3M)(Gt,{optional:!0})||{},this.errorHandler=this.options.errorHandler||pT,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gT,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,c.f3M)(nC),this.routeReuseStrategy=(0,c.f3M)(tC),this.urlCreationStrategy=(0,c.f3M)(lb),this.titleStrategy=(0,c.f3M)(eC),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=kh((0,c.f3M)(Qh,{optional:!0})??[]),this.navigationTransitions=(0,c.f3M)(x_),this.urlSerializer=(0,c.f3M)(ks),this.location=(0,c.f3M)(je),this.isNgZoneEnabled=(0,c.f3M)(c.R0b)instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new In,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=d_(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId??0},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),vu,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,r){const o={replaceUrl:!0},l=r?.navigationId?r:null;if(r){const p={...r};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(o.state=p)}const u=this.parseUrl(e);this.scheduleNavigation(u,i,l,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(e){this.config=e.map(Eu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:l,queryParamsHandling:u,preserveFragment:p}=i,v=p?this.currentUrlTree.fragment:l;let x=null;switch(u){case"merge":x={...this.currentUrlTree.queryParams,...o};break;case"preserve":x=this.currentUrlTree.queryParams;break;default:x=o||null}return null!==x&&(x=this.removeEmptyProps(x)),this.urlCreationStrategy.createUrlTree(r,this.routerState,this.currentUrlTree,e,x,v??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=Zl(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,vu,null,i)}navigate(e,i={skipLocationChange:!1}){return function vT(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new c.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...rC}:!1===i?{..._T}:i,Zl(e))return se(this.currentUrlTree,e,r);const o=this.parseUrl(e);return se(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(e,i,r,o,l){if(this.disposed)return Promise.resolve(!1);let u,p,v,x;return l?(u=l.resolve,p=l.reject,v=l.promise):v=new Promise((D,R)=>{u=D,p=R}),x="computed"===this.canceledNavigationResolution?r&&r.\u0275routerPageId?r.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:x,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:o,resolve:u,reject:p,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(D=>Promise.reject(D))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const l={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",l)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.go(r,"",o)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),E_=(()=>{class n{constructor(e,i,r,o,l,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=l,this.locationStrategy=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Tt.x;const p=l.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===p||"area"===p,this.isAnchorElement?this.subscription=e.events.subscribe(v=>{v instanceof Lo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(e){this._preserveFragment=(0,c.D6c)(e)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(e){this._skipLocationChange=(0,c.D6c)(e)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(e){this._replaceUrl=(0,c.D6c)(e)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,i,r,o,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||i||r||o||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:(0,c.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,e,i):r.removeAttribute(o,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Bo),c.Y36(Ui),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(ut))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(e,i){1&e&&c.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&c.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[c.TTD]}),n})();class Ab{}let kb=(()=>{class n{constructor(e,i,r,o,l){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Nn(e=>e instanceof Lo),No(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,c.MMx)(o.providers,e,`Route: ${o.path}`));const l=o._injector??e,u=o._loadedInjector??l;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(l,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(u,o.children??o._loadedRoutes))}return(0,pn.D)(r).pipe((0,sd.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):et(null);const o=r.pipe((0,ei.z)(l=>null===l?et(void 0):(i._loadedRoutes=l.routes,i._loadedInjector=l.injector,this.processRoutes(l.injector??e,l.routes))));if(i.loadComponent&&!i._loadedComponent){const l=this.loader.loadComponent(i);return(0,pn.D)([o,l]).pipe((0,sd.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Bo),c.LFG(c.Sil),c.LFG(c.lqb),c.LFG(Ab),c.LFG(Mb))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const pp=new c.OlP("");let sC=(()=>{class n{constructor(e,i,r,o,l={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof ep?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Lo&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Jl&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Jl(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(e){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();var Ps=(()=>((Ps=Ps||{})[Ps.COMPLETE=0]="COMPLETE",Ps[Ps.FAILED=1]="FAILED",Ps[Ps.REDIRECTING=2]="REDIRECTING",Ps))();const gp=!1;function Du(n,t){return{\u0275kind:n,\u0275providers:t}}const Ob=new c.OlP("",{providedIn:"root",factory:()=>!1});function _p(){const n=(0,c.f3M)(c.zs3);return t=>{const e=n.get(c.z2F);if(t!==e.components[0])return;const i=n.get(Bo),r=n.get(aC);1===n.get(I_)&&i.initialNavigation(),n.get(lC,null,c.XFs.Optional)?.setUpPreloading(),n.get(pp,null,c.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const aC=new c.OlP(gp?"bootstrap done indicator":"",{factory:()=>new Tt.x}),I_=new c.OlP(gp?"initial navigation":"",{providedIn:"root",factory:()=>1});function xT(){let n=[];return n=gp?[{provide:c.Xts,multi:!0,useFactory:()=>{const t=(0,c.f3M)(Bo);return()=>t.events.subscribe(e=>{console.group?.(`Router Event: ${e.constructor.name}`),console.log(function ip(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(e)),console.log(e),console.groupEnd?.()})}}]:[],Du(1,n)}const lC=new c.OlP(gp?"router preloader":"");function CT(n){return Du(0,[{provide:lC,useExisting:kb},{provide:Ab,useExisting:n}])}const ef=!1,ST=new c.OlP(ef?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Pb=[je,{provide:ks,useClass:cu},Bo,O,{provide:Ui,useFactory:function Rb(n){return n.routerState.root},deps:[Bo]},Mb,ef?{provide:Ob,useValue:!0}:[]];function DT(){return new c.PXZ("Router",Bo)}let TT=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Pb,ef&&i?.enableTracing?xT().\u0275providers:[],{provide:Qh,multi:!0,useValue:e},{provide:ST,useFactory:uC,deps:[[Bo,new c.FiY,new c.tp0]]},{provide:Gt,useValue:i||{}},i?.useHash?{provide:ut,useClass:Fe}:{provide:ut,useClass:Pe},{provide:pp,useFactory:()=>{const n=(0,c.f3M)(Cl),t=(0,c.f3M)(c.R0b),e=(0,c.f3M)(Gt),i=(0,c.f3M)(x_),r=(0,c.f3M)(ks);return e.scrollOffset&&n.setOffset(e.scrollOffset),new sC(r,i,n,t,e)}},i?.preloadingStrategy?CT(i.preloadingStrategy).\u0275providers:[],{provide:c.PXZ,multi:!0,useFactory:DT},i?.initialNavigation?AT(i):[],[{provide:hC,useFactory:_p},{provide:c.tb,multi:!0,useExisting:hC}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Qh,multi:!0,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ST,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[st]}),n})();function uC(n){if(ef&&n)throw new c.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function AT(n){return["disabled"===n.initialNavigation?Du(3,[{provide:c.ip1,multi:!0,useFactory:()=>{const t=(0,c.f3M)(Bo);return()=>{t.setUpLocationChangeListener()}}},{provide:I_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Du(2,[{provide:I_,useValue:0},{provide:c.ip1,multi:!0,deps:[c.zs3],useFactory:t=>{const e=t.get(_e,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const r=t.get(Bo),o=t.get(aC);(function zF(n,t){n.events.pipe(Nn(e=>e instanceof Lo||e instanceof yu||e instanceof bu||e instanceof tl),(0,nt.U)(e=>e instanceof Lo||e instanceof tl?Ps.COMPLETE:e instanceof yu&&(0===e.code||1===e.code)?Ps.REDIRECTING:Ps.FAILED),Nn(e=>e!==Ps.REDIRECTING),Bi(1)).subscribe(()=>{t()})})(r,()=>{i(!0)}),t.get(x_).afterPreactivation=()=>(i(!0),o.closed?et(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const hC=new c.OlP(ef?"Router Initializer":""),Fb=new c.OlP("cdk-dir-doc",{providedIn:"root",factory:function yp(){return(0,c.f3M)(J)}}),Nb=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ya=(()=>{class n{constructor(e){this.value="ltr",this.change=new c.vpe,e&&(this.value=function D_(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Nb.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Fb,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function Qt(n){return null!=n&&"false"!=`${n}`}function ba(n,t=0){return function Lb(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function T_(n){return Array.isArray(n)?n:[n]}function Ki(n){return null==n?"":"string"==typeof n?n:`${n}px`}function yd(n){return n instanceof c.SBq?n.nativeElement:n}function M_(n){return n&&"function"==typeof n.connect&&!(n instanceof ad)}class mC{applyChanges(t,e,i,r,o){t.forEachOperation((l,u,p)=>{let v,x;if(null==l.previousIndex){const D=i(l,u,p);v=e.createEmbeddedView(D.templateRef,D.context,D.index),x=1}else null==p?(e.remove(u),x=3):(v=e.get(u),e.move(v,p),x=2);o&&o({context:v?.context,operation:x,record:l})})}detach(){}}const Mu=new c.OlP("_ViewRepeater");let A_;try{A_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{A_=!1}let bp,k_,Au,Fs,Hi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function ah(n){return n===Am}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!A_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.Lbi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wp(n){return function Vb(){if(null==bp&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>bp=!0}))}finally{bp=bp||!1}return bp}()?n:!!n.capture}function gC(){if(null==Au){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Au=!1,Au;if("scrollBehavior"in document.documentElement.style)Au=!0;else{const n=Element.prototype.scrollTo;Au=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Au}function xp(){if("object"!=typeof document||!document)return 0;if(null==k_){const n=document.createElement("div"),t=n.style;n.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const e=document.createElement("div"),i=e.style;i.width="2px",i.height="1px",n.appendChild(e),document.body.appendChild(n),k_=0,0===n.scrollLeft&&(n.scrollLeft=1,k_=0===n.scrollLeft?1:2),n.remove()}return k_}function sc(n){return n.composedPath?n.composedPath()[0]:n.target}function Hb(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var PT=V(1144);const FT=["addListener","removeListener"],zb=["addEventListener","removeEventListener"],NT=["on","off"];function Cp(n,t,e,i){if((0,br.m)(e)&&(i=e,e=void 0),i)return Cp(n,t,e).pipe(as(i));const[r,o]=function QF(n){return(0,br.m)(n.addEventListener)&&(0,br.m)(n.removeEventListener)}(n)?zb.map(l=>u=>n[l](t,u,e)):function R_(n){return(0,br.m)(n.addListener)&&(0,br.m)(n.removeListener)}(n)?FT.map(Ep(n,t)):function O_(n){return(0,br.m)(n.on)&&(0,br.m)(n.off)}(n)?NT.map(Ep(n,t)):[];if(!r&&(0,PT.z)(n))return(0,ei.z)(l=>Cp(l,t,e))((0,Fo.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Xn.y(l=>{const u=(...p)=>l.next(1<p.length?p:p[0]);return r(u),()=>o(u)})}function Ep(n,t){return e=>i=>n[e](t,i)}var P_=V(4408);const F_={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=F_;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Gr.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=F_;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=F_;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var jb=V(7565);const yC=new class vC extends jb.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class _C extends P_.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=F_.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(F_.cancelAnimationFrame(e),t._scheduled=void 0)}});let rf,ac=1;const ku={};function sf(n){return n in ku&&(delete ku[n],!0)}const LT={setImmediate(n){const t=ac++;return ku[t]=!0,rf||(rf=Promise.resolve()),rf.then(()=>sf(t)&&n()),t},clearImmediate(n){sf(n)}},{setImmediate:wC,clearImmediate:VT}=LT,N_={setImmediate(...n){const{delegate:t}=N_;return(t?.setImmediate||wC)(...n)},clearImmediate(n){const{delegate:t}=N_;return(t?.clearImmediate||VT)(n)},delegate:void 0},XF=new class UT extends jb.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Ip extends P_.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=N_.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(t,e,i);const{actions:o}=t;null!=e&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==e&&(N_.clearImmediate(e),t._scheduled===e&&(t._scheduled=void 0))}});var Sp=V(4986),zT=V(3532);function Gb(n,t=Sp.z){return function HT(n){return(0,li.e)((t,e)=>{let i=!1,r=null,o=null,l=!1;const u=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const v=r;r=null,e.next(v)}l&&e.complete()},p=()=>{o=null,l&&e.complete()};t.subscribe((0,Hn.x)(e,v=>{i=!0,r=v,o||(0,Fo.Xf)(n(v)).subscribe(o=(0,Hn.x)(e,u,p))},()=>{l=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>function GT(n=0,t,e=Sp.P){let i=-1;return null!=t&&((0,zT.K)(t)?e=t:i=t),new Xn.y(r=>{let o=function jT(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let l=0;return e.schedule(function(){r.closed||(r.next(l++),0<=i?this.schedule(void 0,i):r.complete())},o)})}(n,t))}var $b=V(5032);function Jt(n){return(0,li.e)((t,e)=>{(0,Fo.Xf)(n).subscribe((0,Hn.x)(e,()=>e.complete(),$b.Z)),!e.closed&&t.subscribe(e)})}const $T=["contentWrapper"],Wb=["*"],WT=new c.OlP("VIRTUAL_SCROLL_STRATEGY");let Ru=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new Tt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Xn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(Gb(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):et()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Nn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=yd(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Cp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(Hi),c.LFG(J,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ou=(()=>{class n{constructor(e,i,r,o){this.elementRef=e,this.scrollDispatcher=i,this.ngZone=r,this.dir=o,this._destroyed=new Tt.x,this._elementScrolled=new Xn.y(l=>this.ngZone.runOutsideAngular(()=>Cp(this.elementRef.nativeElement,"scroll").pipe(Jt(this._destroyed)).subscribe(l)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const i=this.elementRef.nativeElement,r=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=r?e.end:e.start),null==e.right&&(e.right=r?e.start:e.end),null!=e.bottom&&(e.top=i.scrollHeight-i.clientHeight-e.bottom),r&&0!=xp()?(null!=e.left&&(e.right=i.scrollWidth-i.clientWidth-e.left),2==xp()?e.left=e.right:1==xp()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=i.scrollWidth-i.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const i=this.elementRef.nativeElement;gC()?i.scrollTo(e):(null!=e.top&&(i.scrollTop=e.top),null!=e.left&&(i.scrollLeft=e.left))}measureScrollOffset(e){const i="left",r="right",o=this.elementRef.nativeElement;if("top"==e)return o.scrollTop;if("bottom"==e)return o.scrollHeight-o.clientHeight-o.scrollTop;const l=this.dir&&"rtl"==this.dir.value;return"start"==e?e=l?r:i:"end"==e&&(e=l?i:r),l&&2==xp()?e==i?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:l&&1==xp()?e==i?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:e==i?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Ru),c.Y36(c.R0b),c.Y36(ya,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),af=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new Tt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Gb(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Hi),c.LFG(c.R0b),c.LFG(J,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CC=new c.OlP("VIRTUAL_SCROLLABLE");let iN=(()=>{class n extends Ou{constructor(e,i,r,o){super(e,i,r,o)}measureViewportSize(e){const i=this.elementRef.nativeElement;return"horizontal"===e?i.clientWidth:i.clientHeight}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Ru),c.Y36(c.R0b),c.Y36(ya,8))},n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const rN=typeof requestAnimationFrame<"u"?yC:XF;let L_=(()=>{class n extends iN{get orientation(){return this._orientation}set orientation(e){this._orientation!==e&&(this._orientation=e,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(e){this._appendOnly=Qt(e)}constructor(e,i,r,o,l,u,p,v){super(e,u,r,l),this.elementRef=e,this._changeDetectorRef=i,this._scrollStrategy=o,this.scrollable=v,this._platform=(0,c.f3M)(Hi),this._detachedSubject=new Tt.x,this._renderedRangeSubject=new Tt.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new Xn.y(x=>this._scrollStrategy.scrolledIndexChange.subscribe(D=>Promise.resolve().then(()=>this.ngZone.run(()=>x.next(D))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=Gr.w0.EMPTY,this._viewportChanges=p.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(rr(null),Gb(0,rN)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(e){this.ngZone.runOutsideAngular(()=>{this._forOf=e,this._forOf.dataStream.pipe(Jt(this._detachedSubject)).subscribe(i=>{const r=i.length;r!==this._dataLength&&(this._dataLength=r,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(e){return this.getElementRef().nativeElement.getBoundingClientRect()[e]}setTotalContentSize(e){this._totalContentSize!==e&&(this._totalContentSize=e,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(e){(function EC(n,t){return n.start==t.start&&n.end==t.end})(this._renderedRange,e)||(this.appendOnly&&(e={start:0,end:Math.max(this._renderedRange.end,e.end)}),this._renderedRangeSubject.next(this._renderedRange=e),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(e,i="to-start"){e=this.appendOnly&&"to-start"===i?0:e;const o="horizontal"==this.orientation,l=o?"X":"Y";let p=`translate${l}(${Number((o&&this.dir&&"rtl"==this.dir.value?-1:1)*e)}px)`;this._renderedContentOffset=e,"to-end"===i&&(p+=` translate${l}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=p&&(this._renderedContentTransform=p,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(e,i="auto"){const r={behavior:i};"horizontal"===this.orientation?r.start=e:r.top=e,this.scrollable.scrollTo(r)}scrollToIndex(e,i="auto"){this._scrollStrategy.scrollToIndex(e,i)}measureScrollOffset(e){let i;return i=this.scrollable==this?r=>super.measureScrollOffset(r):r=>this.scrollable.measureScrollOffset(r),Math.max(0,i(e??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(e){let i;const r="left",o="right",l="rtl"==this.dir?.value;i="start"==e?l?o:r:"end"==e?l?r:o:e||("horizontal"===this.orientation?"left":"top");const u=this.scrollable.measureBoundingClientRectWithScrollOffset(i);return this.elementRef.nativeElement.getBoundingClientRect()[i]-u}measureRenderedContentSize(){const e=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?e.offsetWidth:e.offsetHeight}measureRangeSize(e){return this._forOf?this._forOf.measureRangeSize(e,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(e){e&&this._runAfterChangeDetection.push(e),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const e=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const i of e)i()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(c.R0b),c.Y36(WT,8),c.Y36(ya,8),c.Y36(Ru),c.Y36(af),c.Y36(CC,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(e,i){if(1&e&&c.Gf($T,7),2&e){let r;c.iGM(r=c.CRH())&&(i._contentWrapper=r.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===i.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==i.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[c._Bn([{provide:Ou,useFactory:(t,e)=>t||e,deps:[[new c.FiY,new c.tBr(CC)],n]}]),c.qOj,c.jDz],ngContentSelectors:Wb,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA(),c._UZ(3,"div",2)),2&e&&(c.xp6(3),c.Udp("width",i._totalContentWidth)("height",i._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),vo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),Pu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Tu,vo,L_,Tu,vo]}),n})();const Fu=[[["caption"]],[["colgroup"],["col"]]],B_=["caption","colgroup, col"];function bd(n){return class extends n{get sticky(){return this._sticky}set sticky(t){const e=this._sticky;this._sticky=Qt(t),this._hasStickyChanged=e!==this._sticky}hasStickyChanged(){const t=this._hasStickyChanged;return this._hasStickyChanged=!1,t}resetStickyChanged(){this._hasStickyChanged=!1}constructor(...t){super(...t),this._sticky=!1,this._hasStickyChanged=!1}}}const wa=new c.OlP("CDK_TABLE");let xa=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellDef",""]]}),n})(),Ca=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderCellDef",""]]}),n})(),lc=(()=>{class n{constructor(e){this.template=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterCellDef",""]]}),n})();class cf{}const df=bd(cf);let Uo=(()=>{class n extends df{get name(){return this._name}set name(e){this._setNameInput(e)}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const i=this._stickyEnd;this._stickyEnd=Qt(e),this._hasStickyChanged=i!==this._stickyEnd}constructor(e){super(),this._table=e,this._stickyEnd=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(wa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,xa,5),c.Suo(r,Ca,5),c.Suo(r,lc,5)),2&e){let o;c.iGM(o=c.CRH())&&(i.cell=o.first),c.iGM(o=c.CRH())&&(i.headerCell=o.first),c.iGM(o=c.CRH())&&(i.footerCell=o.first)}},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[c._Bn([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})();class V_{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}}let U_=(()=>{class n extends V_{constructor(e,i){super(e,i)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Uo),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[c.qOj]}),n})(),H_=(()=>{class n extends V_{constructor(e,i){if(super(e,i),1===e._table?._elementRef.nativeElement.nodeType){const r=e._table._elementRef.nativeElement.getAttribute("role");i.nativeElement.setAttribute("role","grid"===r||"treegrid"===r?"gridcell":"cell")}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Uo),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[c.qOj]}),n})();class Kb{constructor(){this.tasks=[],this.endTasks=[]}}const z_=new c.OlP("_COALESCED_STYLE_SCHEDULER");let Zb=(()=>{class n{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new Tt.x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Kb,this._getScheduleObservable().pipe(Jt(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Kb;for(const i of e.tasks)i();for(const i of e.endTasks)i()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?(0,pn.D)(Promise.resolve(void 0)):this._ngZone.onStable.pipe(Bi(1))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),j_=(()=>{class n{constructor(e,i){this.template=e,this._differs=i}ngOnChanges(e){if(!this._columnsDiffer){const i=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(i).create(),this._columnsDiffer.diff(i)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof uf?e.headerCell.template:this instanceof Nu?e.footerCell.template:e.cell.template}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();class KT extends j_{}const ZT=bd(KT);let uf=(()=>{class n extends ZT{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(wa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})();class QT extends j_{}const SC=bd(QT);let Nu=(()=>{class n extends SC{constructor(e,i,r){super(e,i),this._table=r}ngOnChanges(e){super.ngOnChanges(e)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(wa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[c.qOj,c.TTD]}),n})(),hf=(()=>{class n extends j_{constructor(e,i,r){super(e,i),this._table=r}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc),c.Y36(c.ZZ4),c.Y36(wa,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[c.qOj]}),n})(),cc=(()=>{class n{constructor(e){this._viewContainer=e,n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}}return n.mostRecentCellOutlet=null,n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkCellOutlet",""]]}),n})(),ff=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},dependencies:[cc],encapsulation:2}),n})(),Dp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},dependencies:[cc],encapsulation:2}),n})(),G_=(()=>{class n{constructor(e){this.templateRef=e,this._contentClassName="cdk-no-data-row"}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["ng-template","cdkNoDataRow",""]]}),n})();const Tp=["top","bottom","left","right"];class $_{constructor(t,e,i,r,o=!0,l=!0,u){this._isNativeHtmlTable=t,this._stickCellCss=e,this.direction=i,this._coalescedStyleScheduler=r,this._isBrowser=o,this._needsPositionStickyOnElement=l,this._positionListener=u,this._cachedCellWidths=[],this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){const i=[];for(const r of t)if(r.nodeType===r.ELEMENT_NODE){i.push(r);for(let o=0;o<r.children.length;o++)i.push(r.children[o])}this._coalescedStyleScheduler.schedule(()=>{for(const r of i)this._removeStickyStyle(r,e)})}updateStickyColumns(t,e,i,r=!0){if(!t.length||!this._isBrowser||!e.some(R=>R)&&!i.some(R=>R))return void(this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:[]}),this._positionListener.stickyEndColumnsUpdated({sizes:[]})));const o=t[0],l=o.children.length,u=this._getCellWidths(o,r),p=this._getStickyStartColumnPositions(u,e),v=this._getStickyEndColumnPositions(u,i),x=e.lastIndexOf(!0),D=i.indexOf(!0);this._coalescedStyleScheduler.schedule(()=>{const R="rtl"===this.direction,F=R?"right":"left",H=R?"left":"right";for(const Y of t)for(let te=0;te<l;te++){const Ve=Y.children[te];e[te]&&this._addStickyStyle(Ve,F,p[te],te===x),i[te]&&this._addStickyStyle(Ve,H,v[te],te===D)}this._positionListener&&(this._positionListener.stickyColumnsUpdated({sizes:-1===x?[]:u.slice(0,x+1).map((Y,te)=>e[te]?Y:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:-1===D?[]:u.slice(D).map((Y,te)=>i[te+D]?Y:null).reverse()}))})}stickRows(t,e,i){if(!this._isBrowser)return;const r="bottom"===i?t.slice().reverse():t,o="bottom"===i?e.slice().reverse():e,l=[],u=[],p=[];for(let x=0,D=0;x<r.length;x++){if(!o[x])continue;l[x]=D;const R=r[x];p[x]=this._isNativeHtmlTable?Array.from(R.children):[R];const F=R.getBoundingClientRect().height;D+=F,u[x]=F}const v=o.lastIndexOf(!0);this._coalescedStyleScheduler.schedule(()=>{for(let x=0;x<r.length;x++){if(!o[x])continue;const D=l[x],R=x===v;for(const F of p[x])this._addStickyStyle(F,i,D,R)}"top"===i?this._positionListener?.stickyHeaderRowsUpdated({sizes:u,offsets:l,elements:p}):this._positionListener?.stickyFooterRowsUpdated({sizes:u,offsets:l,elements:p})})}updateStickyFooterContainer(t,e){if(!this._isNativeHtmlTable)return;const i=t.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{e.some(r=>!r)?this._removeStickyStyle(i,["bottom"]):this._addStickyStyle(i,"bottom",0,!1)})}_removeStickyStyle(t,e){for(const r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);Tp.some(r=>-1===e.indexOf(r)&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,i,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${i}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){const e={top:100,bottom:10,left:1,right:1};let i=0;for(const r of Tp)t.style[r]&&(i+=e[r]);return i?`${i}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;const i=[],r=t.children;for(let o=0;o<r.length;o++)i.push(r[o].getBoundingClientRect().width);return this._cachedCellWidths=i,i}_getStickyStartColumnPositions(t,e){const i=[];let r=0;for(let o=0;o<t.length;o++)e[o]&&(i[o]=r,r+=t[o]);return i}_getStickyEndColumnPositions(t,e){const i=[];let r=0;for(let o=t.length;o>0;o--)e[o]&&(i[o]=r,r+=t[o]);return i}}const W_=new c.OlP("CDK_SPL");let Mp=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","rowOutlet",""]]}),n})(),Ap=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","headerRowOutlet",""]]}),n})(),q_=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","footerRowOutlet",""]]}),n})(),kp=(()=>{class n{constructor(e,i){this.viewContainer=e,this.elementRef=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.s_b),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","noDataRowOutlet",""]]}),n})(),pf=(()=>{class n{get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=Qt(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=Qt(e),this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}constructor(e,i,r,o,l,u,p,v,x,D,R,F){this._differs=e,this._changeDetectorRef=i,this._elementRef=r,this._dir=l,this._platform=p,this._viewRepeater=v,this._coalescedStyleScheduler=x,this._viewportRuler=D,this._stickyPositioningListener=R,this._ngZone=F,this._onDestroy=new Tt.x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._stickyColumnStylesNeedReset=!0,this._forceRecalculateCellWidths=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this._fixedLayout=!1,this.contentChanged=new c.vpe,this.viewChange=new Fn({start:0,end:Number.MAX_VALUE}),o||this._elementRef.nativeElement.setAttribute("role","table"),this._document=u,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,i)=>this.trackBy?this.trackBy(i.dataIndex,i.data):i),this._viewportRuler.change().pipe(Jt(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentChecked(){this._cacheRowDefs(),this._cacheColumnDefs();const i=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||i,this._forceRecalculateCellWidths=i,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){[this._rowOutlet.viewContainer,this._headerRowOutlet.viewContainer,this._footerRowOutlet.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),M_(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return this._updateNoDataRow(),void this.contentChanged.next();const i=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,i,(r,o,l)=>this._getEmbeddedViewArgs(r.item,l),r=>r.item.data,r=>{1===r.operation&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{i.get(r.currentIndex).context.$implicit=r.item.data}),this._updateNoDataRow(),this._ngZone&&c.R0b.isInAngularZone()?this._ngZone.onStable.pipe(Bi(1),Jt(this._onDestroy)).subscribe(()=>{this.updateStickyColumnStyles()}):this.updateStickyColumnStyles(),this.contentChanged.next()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),r=this._elementRef.nativeElement.querySelector("thead");r&&(r.style.display=e.length?"":"none");const o=this._headerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,o,"top"),this._headerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),r=this._elementRef.nativeElement.querySelector("tfoot");r&&(r.style.display=e.length?"":"none");const o=this._footerRowDefs.map(l=>l.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,o,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,o),this._footerRowDefs.forEach(l=>l.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),i=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...i,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((o,l)=>{this._addStickyColumnStyles([o],this._headerRowDefs[l])}),this._rowDefs.forEach(o=>{const l=[];for(let u=0;u<i.length;u++)this._renderRows[u].rowDef===o&&l.push(i[u]);this._addStickyColumnStyles(l,o)}),r.forEach((o,l)=>{this._addStickyColumnStyles([o],this._footerRowDefs[l])}),Array.from(this._columnDefsByName.values()).forEach(o=>o.resetStickyChanged())}_getAllRenderRows(){const e=[],i=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let r=0;r<this._data.length;r++){let o=this._data[r];const l=this._getRenderRowsForData(o,r,i.get(o));this._cachedRenderRowsMap.has(o)||this._cachedRenderRowsMap.set(o,new WeakMap);for(let u=0;u<l.length;u++){let p=l[u];const v=this._cachedRenderRowsMap.get(p.data);v.has(p.rowDef)?v.get(p.rowDef).push(p):v.set(p.rowDef,[p]),e.push(p)}}return e}_getRenderRowsForData(e,i,r){return this._getRowDefs(e,i).map(l=>{const u=r&&r.has(l)?r.get(l):[];if(u.length){const p=u.shift();return p.dataIndex=i,p}return{data:e,rowDef:l,dataIndex:i}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Rp(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(i=>{this._columnDefsByName.has(i.name),this._columnDefsByName.set(i.name,i)})}_cacheRowDefs(){this._headerRowDefs=Rp(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Rp(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Rp(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(i=>!i.when);this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(l,u)=>l||!!u.getColumnsDiff(),i=this._rowDefs.reduce(e,!1);i&&this._forceRenderDataRows();const r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();const o=this._footerRowDefs.reduce(e,!1);return o&&this._forceRenderFooterRows(),i||r||o}_switchDataSource(e){this._data=[],M_(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;M_(this.dataSource)?e=this.dataSource.connect(this):function qr(n){return!!n&&(n instanceof Xn.y||(0,br.m)(n.lift)&&(0,br.m)(n.subscribe))}(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=et(this.dataSource)),this._renderChangeSubscription=e.pipe(Jt(this._onDestroy)).subscribe(i=>{this._data=i||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,i)=>this._renderRow(this._headerRowOutlet,e,i)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,i)=>this._renderRow(this._footerRowOutlet,e,i)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,i){const r=Array.from(i.columns||[]).map(u=>this._columnDefsByName.get(u)),o=r.map(u=>u.sticky),l=r.map(u=>u.stickyEnd);this._stickyStyler.updateStickyColumns(e,o,l,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){const i=[];for(let r=0;r<e.viewContainer.length;r++){const o=e.viewContainer.get(r);i.push(o.rootNodes[0])}return i}_getRowDefs(e,i){if(1==this._rowDefs.length)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(o=>!o.when||o.when(i,e));else{let o=this._rowDefs.find(l=>l.when&&l.when(i,e))||this._defaultRowDef;o&&r.push(o)}return r}_getEmbeddedViewArgs(e,i){return{templateRef:e.rowDef.template,context:{$implicit:e.data},index:i}}_renderRow(e,i,r,o={}){const l=e.viewContainer.createEmbeddedView(i.template,o,r);return this._renderCellTemplateForItem(i,o),l}_renderCellTemplateForItem(e,i){for(let r of this._getCellTemplates(e))cc.mostRecentCellOutlet&&cc.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let i=0,r=e.length;i<r;i++){const l=e.get(i).context;l.count=r,l.first=0===i,l.last=i===r-1,l.even=i%2==0,l.odd=!l.even,this.multiTemplateDataRows?(l.dataIndex=this._renderRows[i].dataIndex,l.renderIndex=i):l.index=this._renderRows[i].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,i=>{const r=this._columnDefsByName.get(i);return e.extractCellTemplate(r)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),i=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const r of i){const o=this._document.createElement(r.tag);o.setAttribute("role","rowgroup");for(const l of r.outlets)o.appendChild(l.elementRef.nativeElement);e.appendChild(o)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(i,r)=>i||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){this._stickyStyler=new $_(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement,this._stickyPositioningListener),(this._dir?this._dir.change:et()).pipe(Jt(this._onDestroy)).subscribe(i=>{this._stickyStyler.direction=i,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(i=>!i._table||i._table===this)}_updateNoDataRow(){const e=this._customNoDataRow||this._noDataRow;if(!e)return;const i=0===this._rowOutlet.viewContainer.length;if(i===this._isShowingNoDataRow)return;const r=this._noDataRowOutlet.viewContainer;if(i){const o=r.createEmbeddedView(e.templateRef),l=o.rootNodes[0];1===o.rootNodes.length&&l?.nodeType===this._document.ELEMENT_NODE&&(l.setAttribute("role","row"),l.classList.add(e._contentClassName))}else r.clear();this._isShowingNoDataRow=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.ZZ4),c.Y36(c.sBO),c.Y36(c.SBq),c.$8M("role"),c.Y36(ya,8),c.Y36(J),c.Y36(Hi),c.Y36(Mu),c.Y36(z_),c.Y36(af),c.Y36(W_,12),c.Y36(c.R0b,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,G_,5),c.Suo(r,Uo,5),c.Suo(r,hf,5),c.Suo(r,uf,5),c.Suo(r,Nu,5)),2&e){let o;c.iGM(o=c.CRH())&&(i._noDataRow=o.first),c.iGM(o=c.CRH())&&(i._contentColumnDefs=o),c.iGM(o=c.CRH())&&(i._contentRowDefs=o),c.iGM(o=c.CRH())&&(i._contentHeaderRowDefs=o),c.iGM(o=c.CRH())&&(i._contentFooterRowDefs=o)}},viewQuery:function(e,i){if(1&e&&(c.Gf(Mp,7),c.Gf(Ap,7),c.Gf(q_,7),c.Gf(kp,7)),2&e){let r;c.iGM(r=c.CRH())&&(i._rowOutlet=r.first),c.iGM(r=c.CRH())&&(i._headerRowOutlet=r.first),c.iGM(r=c.CRH())&&(i._footerRowOutlet=r.first),c.iGM(r=c.CRH())&&(i._noDataRowOutlet=r.first)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("cdk-table-fixed-layout",i.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows",fixedLayout:"fixedLayout"},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[c._Bn([{provide:wa,useExisting:n},{provide:Mu,useClass:mC},{provide:z_,useClass:Zb},{provide:W_,useValue:null}])],ngContentSelectors:B_,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(c.F$t(Fu),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Mp,Ap,q_,kp],styles:[".cdk-table-fixed-layout{table-layout:fixed}"],encapsulation:2}),n})();function Rp(n,t){return n.concat(Array.from(t))}let RC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Pu]}),n})();function Lu(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Np(n,t=Sp.z){return(0,li.e)((e,i)=>{let r=null,o=null,l=null;const u=()=>{if(r){r.unsubscribe(),r=null;const v=o;o=null,i.next(v)}};function p(){const v=l+n,x=t.now();if(x<v)return r=this.schedule(void 0,v-x),void i.add(r);u()}e.subscribe((0,Hn.x)(i,v=>{o=v,l=t.now(),r||(r=t.schedule(p,n),i.add(r))},()=>{u(),i.complete()},void 0,()=>{o=r=null}))})}function WC(n){return Nn((t,e)=>n<=e)}function Lp(n,t=ss.y){return n=n??qC,(0,li.e)((e,i)=>{let r,o=!0;e.subscribe((0,Hn.x)(i,l=>{const u=t(l);(o||!n(r,u))&&(o=!1,r=u,i.next(l))}))})}function qC(n,t){return n===t}let o0=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YC=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=yd(e);return new Xn.y(r=>{const l=this._observeElement(i).subscribe(r);return()=>{l.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new Tt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(o0))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KC=(()=>{class n{get disabled(){return this._disabled}set disabled(e){this._disabled=Qt(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ba(e),this._subscribe()}constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new c.vpe,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Np(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(YC),c.Y36(c.SBq),c.Y36(c.R0b))},n.\u0275dir=c.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),s0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[o0]}),n})(),HM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const vf=new Set;let yf,zM=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):X_}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function jM(n){if(!vf.has(n))try{yf||(yf=document.createElement("style"),yf.setAttribute("type","text/css"),document.head.appendChild(yf)),yf.sheet&&(yf.sheet.insertRule(`@media ${n} {body{ }}`,0),vf.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Hi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X_(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let a0=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new Tt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return l0(T_(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=od(l0(T_(e)).map(l=>this._registerQuery(l).observable));return o=$l(o.pipe(Bi(1)),o.pipe(WC(1),Np(0))),o.pipe((0,nt.U)(l=>{const u={matches:!1,breakpoints:{}};return l.forEach(({matches:p,query:v})=>{u.matches=u.matches||p,u.breakpoints[v]=p}),u}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Xn.y(l=>{const u=p=>this._zone.run(()=>l.next(p));return i.addListener(u),()=>{i.removeListener(u)}}).pipe(rr(i),(0,nt.U)(({matches:l})=>({query:e,matches:l})),Jt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(zM),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function l0(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function J_(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const XC="cdk-describedby-message",Up="cdk-describedby-host";let ev=0,JC=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+ev++,this._document=e,this._id=(0,c.f3M)(c.AFp)+"-"+ev++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=c0(i,r);"string"!=typeof i?(d0(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=c0(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const l=this._messageRegistry.get(o);l&&0===l.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Up}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Up);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");d0(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(c0(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=J_(e,"aria-describedby").filter(r=>0!=r.indexOf(XC));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function Bp(n,t,e){const i=J_(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(Up,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function Vp(n,t,e){const r=J_(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Up)}_isElementDescribedByMessage(e,i){const r=J_(e,"aria-describedby"),o=this._messageRegistry.get(i),l=o&&o.messageElement.id;return!!l&&-1!=r.indexOf(l)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(Hi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function c0(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function d0(n,t){n.id||(n.id=`${XC}-${t}-${ev++}`)}class GM{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Tt.x,this._typeaheadSubscription=Gr.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new Tt.x,this.change=new Tt.x,t instanceof c.n_E&&(this._itemChangesSubscription=t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ti.b)(e=>this._pressedLetters.push(e)),Np(t),Nn(()=>this._pressedLetters.length>0),(0,nt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,l=i[o];if(!this._skipPredicateFn(l)&&0===l.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}withPageUpDown(t=!0,e=10){return this._pageUpAndDown={enabled:t,delta:e},this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,l=this._getItemsArray().length;this._setActiveItemByIndex(o<l?o:l-1,-1);break}return;default:return void((r||Lu(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof c.n_E?this._items.toArray():this._items}}class $M extends GM{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let WM=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function eE(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function JN(n){try{return n.frameElement}catch{return null}}(function eL(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===iE(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=iE(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function KM(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function ZM(n){return!function qM(n){return function tE(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function tv(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function YM(n){return function Hp(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||nE(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Hi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nE(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function iE(n){if(!nE(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class QM{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Bi(1)).subscribe(t)}}let rE=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new QM(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(WM),c.LFG(c.R0b),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function u0(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function oE(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const sE=new c.OlP("cdk-input-modality-detector-options"),JM={ignoreKeys:[18,17,224,91,16]},bf=wp({passive:!0,capture:!0});let aE=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new Fn(null),this._lastTouchMs=0,this._onKeydown=l=>{this._options?.ignoreKeys?.some(u=>u===l.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=sc(l))},this._onMousedown=l=>{Date.now()-this._lastTouchMs<650||(this._modality.next(u0(l)?"keyboard":"mouse"),this._mostRecentTarget=sc(l))},this._onTouchstart=l=>{oE(l)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=sc(l))},this._options={...JM,...o},this.modalityDetected=this._modality.pipe(WC(1)),this.modalityChanged=this.modalityDetected.pipe(Lp()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,bf),r.addEventListener("mousedown",this._onMousedown,bf),r.addEventListener("touchstart",this._onTouchstart,bf)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,bf),document.removeEventListener("mousedown",this._onMousedown,bf),document.removeEventListener("touchstart",this._onTouchstart,bf))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Hi),c.LFG(c.R0b),c.LFG(J),c.LFG(sE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cE=new c.OlP("cdk-focus-monitor-default-options"),rv=wp({passive:!0,capture:!0});let zp=(()=>{class n{constructor(e,i,r,o,l){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Tt.x,this._rootNodeFocusAndBlurListener=u=>{for(let v=sc(u);v;v=v.parentElement)"focus"===u.type?this._onFocus(u,v):this._onBlur(u,v)},this._document=o,this._detectionMode=l?.detectionMode||0}monitor(e,i=!1){const r=yd(e);if(!this._platform.isBrowser||1!==r.nodeType)return et(null);const o=function RT(n){if(function Ub(){if(null==Fs){const n=typeof document<"u"?document.head:null;Fs=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Fs}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(r)||this._getDocument(),l=this._elementInfo.get(r);if(l)return i&&(l.checkChildren=!0),l.subject;const u={checkChildren:i,subject:new Tt.x,rootNode:o};return this._elementInfo.set(r,u),this._registerGlobalListeners(u),u.subject}stopMonitoring(e){const i=yd(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=yd(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([u,p])=>this._originChanged(u,i,p)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=sc(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,rv),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,rv)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Jt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rv),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rv),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let l=0;l<o.length;l++)if(o[l].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.R0b),c.LFG(Hi),c.LFG(aE),c.LFG(J,8),c.LFG(cE,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const dE="cdk-high-contrast-black-on-white",uE="cdk-high-contrast-white-on-black",h0="cdk-high-contrast-active";let hE=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,c.f3M)(a0).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(h0,dE,uE),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(h0,dE):2===i&&e.add(h0,uE)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Hi),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nA=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hE))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[s0]}),n})();const sA=new c.OlP("mat-sanity-checks",{providedIn:"root",factory:function oA(){return!0}});let wn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Hb()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(hE),c.LFG(sA,8),c.LFG(J))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Tu,Tu]}),n})();function p0(n){return class extends n{get disabled(){return this._disabled}set disabled(t){this._disabled=Qt(t)}constructor(...t){super(...t),this._disabled=!1}}}function sv(n,t){return class extends n{get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...e){super(...e),this.defaultColor=t,this.color=t}}}function lA(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=Qt(t)}constructor(...t){super(...t),this._disableRipple=!1}}}function av(n,t=0){return class extends n{get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?ba(e):this.defaultTabIndex}constructor(...e){super(...e),this._tabIndex=t,this.defaultTabIndex=t}}}let _E=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,wn]}),n})();class gA{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const _A=wp({passive:!0,capture:!0});class vA{constructor(){this._events=new Map,this._delegateEventHandler=t=>{const e=sc(t);e&&this._events.get(t.type)?.forEach((i,r)=>{(r===e||r.contains(e))&&i.forEach(o=>o.handleEvent(t))})}}addHandler(t,e,i,r){const o=this._events.get(e);if(o){const l=o.get(i);l?l.add(r):o.set(i,new Set([r]))}else this._events.set(e,new Map([[i,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,_A)})}removeHandler(t,e,i){const r=this._events.get(t);if(!r)return;const o=r.get(e);o&&(o.delete(i),0===o.size&&r.delete(e),0===r.size&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,_A)))}}const yE={enterDuration:225,exitDuration:150},_0=wp({passive:!0,capture:!0}),v0=["mousedown","touchstart"],bE=["mouseup","mouseleave","touchend","touchcancel"];class xf{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=yd(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...yE,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const l=i.radius||function bA(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),u=t-r.left,p=e-r.top,v=o.enterDuration,x=document.createElement("div");x.classList.add("mat-ripple-element"),x.style.left=u-l+"px",x.style.top=p-l+"px",x.style.height=2*l+"px",x.style.width=2*l+"px",null!=i.color&&(x.style.backgroundColor=i.color),x.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(x);const D=window.getComputedStyle(x),F=D.transitionDuration,H="none"===D.transitionProperty||"0s"===F||"0s, 0s"===F||0===r.width&&0===r.height,Y=new gA(this,x,i,H);x.style.transform="scale3d(1, 1, 1)",Y.state=0,i.persistent||(this._mostRecentTransientRipple=Y);let te=null;return!H&&(v||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Ve=()=>this._finishRippleTransition(Y),Ke=()=>this._destroyRipple(Y);x.addEventListener("transitionend",Ve),x.addEventListener("transitioncancel",Ke),te={onTransitionEnd:Ve,onTransitionCancel:Ke}}),this._activeRipples.set(Y,te),(H||!v)&&this._finishRippleTransition(Y),Y}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...yE,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=yd(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,v0.forEach(i=>{xf._eventManager.addHandler(this._ngZone,i,e,this)}))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{bE.forEach(e=>{this._triggerElement.addEventListener(e,this,_0)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=u0(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!oE(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const t=this._triggerElement;t&&(v0.forEach(e=>xf._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&bE.forEach(e=>t.removeEventListener(e,this,_0)))}}xf._eventManager=new vA;const Cf=new c.OlP("mat-ripple-global-options");let Ef=(()=>{class n{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,i,r,o,l){this._elementRef=e,this._animationMode=l,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new xf(this,i,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Hi),c.Y36(Cf,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),lv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,wn]}),n})(),If=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn]}),n})(),wE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[lv,Qn,wn,If]}),n})();const Gp=[[["caption"]],[["colgroup"],["col"]]],MA=["caption","colgroup, col"];let Sf=(()=>{class n extends pf{constructor(){super(...arguments),this.stickyCssClass="mat-mdc-table-sticky",this.needsPositionStickyOnElement=!1}ngOnInit(){super.ngOnInit(),this._isNativeHtmlTable&&this._elementRef.nativeElement.querySelector("tbody").classList.add("mdc-data-table__content")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mdc-table-fixed-layout",i.fixedLayout)},exportAs:["matTable"],features:[c._Bn([{provide:pf,useExisting:n},{provide:wa,useExisting:n},{provide:z_,useClass:Zb},{provide:Mu,useClass:mC},{provide:W_,useValue:null}]),c.qOj],ngContentSelectors:MA,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,i){1&e&&(c.F$t(Gp),c.Hsn(0),c.Hsn(1,1),c.GkF(2,0)(3,1)(4,2)(5,3))},dependencies:[Mp,Ap,q_,kp],styles:[".mdc-data-table{border-radius:var(--mdc-shape-medium, 4px);border-width:1px;border-style:solid}.mdc-data-table .mdc-data-table__header-cell:first-child{border-top-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:first-child,.mdc-data-table .mdc-data-table__header-cell:first-child[dir=rtl]{border-top-right-radius:var(--mdc-shape-medium, 4px);border-top-left-radius:0}.mdc-data-table .mdc-data-table__header-cell:last-child{border-top-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table .mdc-data-table__header-cell:last-child,.mdc-data-table .mdc-data-table__header-cell:last-child[dir=rtl]{border-top-left-radius:var(--mdc-shape-medium, 4px);border-top-right-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child{border-bottom-left-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:first-child[dir=rtl]{border-bottom-right-radius:var(--mdc-shape-medium, 4px);border-bottom-left-radius:0}.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child{border-bottom-right-radius:var(--mdc-shape-medium, 4px)}[dir=rtl] .mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child,.mdc-data-table.mdc-data-table--without-footer .mdc-data-table__row:last-child .mdc-data-table__cell:last-child[dir=rtl]{border-bottom-left-radius:var(--mdc-shape-medium, 4px);border-bottom-right-radius:0}.mdc-data-table__cell,.mdc-data-table__header-cell{border-bottom-width:1px;border-bottom-style:solid}.mdc-data-table__pagination{border-top-width:1px;border-top-style:solid}.mdc-data-table__row:last-child .mdc-data-table__cell{border-bottom:none}.mdc-data-table__row{height:52px}.mdc-data-table__pagination{min-height:52px}.mdc-data-table__header-row{height:56px}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px 0 16px}.mdc-data-table__header-cell--checkbox,.mdc-data-table__cell--checkbox{padding-left:4px;padding-right:0}[dir=rtl] .mdc-data-table__header-cell--checkbox,[dir=rtl] .mdc-data-table__cell--checkbox,.mdc-data-table__header-cell--checkbox[dir=rtl],.mdc-data-table__cell--checkbox[dir=rtl]{padding-left:0;padding-right:4px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table--sticky-header .mdc-data-table__header-cell{position:sticky;top:0;z-index:1}.mdc-data-table{-webkit-overflow-scrolling:touch;display:inline-flex;flex-direction:column;box-sizing:border-box;position:relative}.mdc-data-table__table-container{-webkit-overflow-scrolling:touch;overflow-x:auto;width:100%}.mdc-data-table__table{min-width:100%;border:0;white-space:nowrap;border-spacing:0;table-layout:fixed}.mdc-data-table__header-cell{box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mdc-data-table__header-cell,.mdc-data-table__header-cell[dir=rtl]{text-align:right}.mdc-data-table__header-cell--checkbox{width:1px}.mdc-data-table__header-cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__header-cell--numeric,.mdc-data-table__header-cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__sort-icon-button{width:28px;height:28px;padding:2px;transform:rotate(0.0001deg);margin-left:4px;margin-right:0;opacity:0}.mdc-data-table__sort-icon-button .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:28px;height:28px;margin-top:0px;margin-bottom:0px;margin-right:0px;margin-left:0px}.mdc-data-table__sort-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:28px;max-width:28px}.mdc-data-table__sort-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:28px;left:50%;width:28px;transform:translate(-50%, -50%)}[dir=rtl] .mdc-data-table__sort-icon-button,.mdc-data-table__sort-icon-button[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--numeric .mdc-data-table__sort-icon-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__header-cell--sorted-descending .mdc-data-table__sort-icon-button{transform:rotate(-180deg)}.mdc-data-table__sort-icon-button:focus,.mdc-data-table__header-cell:hover .mdc-data-table__sort-icon-button,.mdc-data-table__header-cell--sorted .mdc-data-table__sort-icon-button{opacity:1}.mdc-data-table__header-cell-wrapper{align-items:center;display:inline-flex;vertical-align:middle}.mdc-data-table__header-cell--with-sort{cursor:pointer}.mdc-data-table__sort-status-label{clip:rect(1px, 1px, 1px, 1px);height:1px;overflow:hidden;position:absolute;white-space:nowrap;width:1px}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell,.mdc-data-table__cell[dir=rtl]{text-align:right}.mdc-data-table__cell--numeric{text-align:right}[dir=rtl] .mdc-data-table__cell--numeric,.mdc-data-table__cell--numeric[dir=rtl]{text-align:left}.mdc-data-table__cell--checkbox{width:1px}.mdc-data-table__pagination{box-sizing:border-box;display:flex;justify-content:flex-end}.mdc-data-table__pagination-trailing{margin-left:4px;margin-right:0;align-items:center;display:flex;flex-wrap:wrap;justify-content:flex-end}[dir=rtl] .mdc-data-table__pagination-trailing,.mdc-data-table__pagination-trailing[dir=rtl]{margin-left:0;margin-right:4px}.mdc-data-table__pagination-navigation{align-items:center;display:flex}.mdc-data-table__pagination-button{margin-left:0;margin-right:4px}[dir=rtl] .mdc-data-table__pagination-button .mdc-button__icon,.mdc-data-table__pagination-button .mdc-button__icon[dir=rtl]{transform:rotate(180deg)}[dir=rtl] .mdc-data-table__pagination-button,.mdc-data-table__pagination-button[dir=rtl]{margin-left:4px;margin-right:0}.mdc-data-table__pagination-total{margin-left:14px;margin-right:36px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-total,.mdc-data-table__pagination-total[dir=rtl]{margin-left:36px;margin-right:14px}.mdc-data-table__pagination-rows-per-page{margin-left:0;margin-right:22px;align-items:center;display:inline-flex}[dir=rtl] .mdc-data-table__pagination-rows-per-page,.mdc-data-table__pagination-rows-per-page[dir=rtl]{margin-left:22px;margin-right:0}.mdc-data-table__pagination-rows-per-page-label{margin-left:0;margin-right:12px;white-space:nowrap}[dir=rtl] .mdc-data-table__pagination-rows-per-page-label,.mdc-data-table__pagination-rows-per-page-label[dir=rtl]{margin-left:12px;margin-right:0}.mdc-data-table__pagination-rows-per-page-select{min-width:var(--mdc-menu-min-width, 80px);margin:8px 0}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{width:100%;min-width:80px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor{height:36px}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-floating-label--float-above{font-size:.75rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-data-table__pagination-rows-per-page-select .mdc-select__anchor .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-data-table__pagination-rows-per-page-select .mdc-select__dropdown-icon{width:20px;height:20px}.mdc-data-table__pagination-rows-per-page-select.mdc-select--outlined .mdc-select__anchor :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 56px)}.mdc-data-table__pagination-rows-per-page-select .mdc-list-item.mdc-list-item--with-one-line{height:36px}.mdc-data-table__progress-indicator{display:none;position:absolute;width:100%}.mdc-data-table--in-progress .mdc-data-table__progress-indicator{display:block}.mdc-data-table__scrim{background-color:var(--mdc-theme-surface, #fff);height:100%;opacity:.32;position:absolute;top:0;width:100%}mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table-sticky{position:sticky !important}.mat-mdc-table{table-layout:auto;white-space:normal}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table .mat-mdc-row:hover,.mat-mdc-table .mat-mdc-footer-row:hover{background-color:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}"],encapsulation:2}),n})(),Bu=(()=>{class n extends xa{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matCellDef",""]],features:[c._Bn([{provide:xa,useExisting:n}]),c.qOj]}),n})(),b0=(()=>{class n extends Ca{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderCellDef",""]],features:[c._Bn([{provide:Ca,useExisting:n}]),c.qOj]}),n})(),w0=(()=>{class n extends Uo{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[c._Bn([{provide:Uo,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),c.qOj]}),n})(),Df=(()=>{class n extends U_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-mdc-header-cell","mdc-data-table__header-cell"],features:[c.qOj]}),n})(),x0=(()=>{class n extends H_{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[c.qOj]}),n})(),xE=(()=>{class n extends uf{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[c._Bn([{provide:uf,useExisting:n}]),c.qOj]}),n})(),C0=(()=>{class n extends hf{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[c._Bn([{provide:hf,useExisting:n}]),c.qOj]}),n})(),dv=(()=>{class n extends ff{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-mdc-header-row","mdc-data-table__header-row"],exportAs:["matHeaderRow"],features:[c._Bn([{provide:ff,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},dependencies:[cc],encapsulation:2}),n})(),uv=(()=>{class n extends Dp{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[c._Bn([{provide:Dp,useExisting:n}]),c.qOj],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,i){1&e&&c.GkF(0,0)},dependencies:[cc],encapsulation:2}),n})(),I0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,RC,wn]}),n})();var ci=V(4976);function hv(){return(0,li.e)((n,t)=>{let e,i=!1;n.subscribe((0,Hn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}var it,Ar=V(2011),S0=(V(2644),V(3942)),xe=V(5861),Ls=V(6881),hc=V(4859),Bs=V(1877),N=V(2090),PA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Vs={},kr=kr||{},Vt=PA||self;function fv(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function $p(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var DE="closure_uid_"+(1e9*Math.random()>>>0),TE=0;function D0(n,t,e){return n.call.apply(n.bind,arguments)}function Wp(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Yr(n,t,e){return(Yr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?D0:Wp).apply(null,arguments)}function Tf(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function wr(n,t){function e(){}e.prototype=t.prototype,n.$=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.ac=function(i,r,o){for(var l=Array(arguments.length-2),u=2;u<arguments.length;u++)l[u-2]=arguments[u];return t.prototype[r].apply(i,l)}}function fc(){this.s=this.s,this.o=this.o}fc.prototype.s=!1,fc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function IL(n){Object.prototype.hasOwnProperty.call(n,DE)&&n[DE]||(n[DE]=++TE)}(this)},fc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ME=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1};function T0(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function mv(n,t){for(let e=1;e<arguments.length;e++){const i=arguments[e];if(fv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let l=0;l<o;l++)n[r+l]=i[l]}else n.push(i)}}function Rr(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Rr.prototype.h=function(){this.defaultPrevented=!0};var AE=function(){if(!Vt.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Vt.addEventListener("test",()=>{},t),Vt.removeEventListener("test",()=>{},t)}catch{}return n}();function Cd(n){return/^[\s\xa0]*$/.test(n)}function Mf(){var n=Vt.navigator;return n&&(n=n.userAgent)?n:""}function mc(n){return-1!=Mf().indexOf(n)}function pv(n){return pv[" "](n),n}pv[" "]=function(){};var PE,n,kE=mc("Opera"),Ea=mc("Trident")||mc("MSIE"),RE=mc("Edge"),gv=RE||Ea,_v=mc("Gecko")&&!(-1!=Mf().toLowerCase().indexOf("webkit")&&!mc("Edge"))&&!(mc("Trident")||mc("MSIE"))&&!mc("Edge"),SL=-1!=Mf().toLowerCase().indexOf("webkit")&&!mc("Edge");function OE(){var n=Vt.document;return n?n.documentMode:void 0}e:{var M0="",A0=(n=Mf(),_v?/rv:([^\);]+)(\)|;)/.exec(n):RE?/Edge\/([\d\.]+)/.exec(n):Ea?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):SL?/WebKit\/(\S+)/.exec(n):kE?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(A0&&(M0=A0?A0[1]:""),Ea){var k0=OE();if(null!=k0&&k0>parseFloat(M0)){PE=String(k0);break e}}PE=M0}var LA=Vt.document&&Ea&&(OE()||parseInt(PE,10))||void 0;function Af(n,t){if(Rr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(_v){e:{try{pv(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:FE[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Af.$.h.call(this)}}wr(Af,Rr);var FE={2:"touch",3:"pen",4:"mouse"};Af.prototype.h=function(){Af.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var qp="closure_listenable_"+(1e6*Math.random()|0),BA=0;function NE(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.la=r,this.key=++BA,this.fa=this.ia=!1}function yv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function bv(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function O0(n){const t={};for(const e in n)t[e]=n[e];return t}const P0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function BE(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<P0.length;o++)e=P0[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function wv(n){this.src=n,this.g={},this.h=0}function VE(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=ME(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(yv(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function xv(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==t&&o.capture==!!e&&o.la==i)return r}return-1}wv.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var l=xv(n,t,i,r);return-1<l?(t=n[l],e||(t.ia=!1)):((t=new NE(t,this.src,o,!!i,r)).ia=e,n.push(t)),t};var UE="closure_lm_"+(1e6*Math.random()|0),HE={};function VA(n,t,e,i,r){if(i&&i.once)return HA(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)VA(n,t[o],e,i,r);return null}return e=Ev(e),n&&n[qp]?n.O(t,e,$p(i)?!!i.capture:!!i,r):UA(n,t,e,!1,i,r)}function UA(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var l=$p(r)?!!r.capture:!!r,u=Cv(n);if(u||(n[UE]=u=new wv(n)),(e=u.add(t,e,i,l,o)).proxy)return e;if(i=function DL(){const t=TL;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)AE||(r=l),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(Yp(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function HA(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)HA(n,t[o],e,i,r);return null}return e=Ev(e),n&&n[qp]?n.P(t,e,$p(i)?!!i.capture:!!i,r):UA(n,t,e,!0,i,r)}function zA(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)zA(n,t[o],e,i,r);else i=$p(i)?!!i.capture:!!i,e=Ev(e),n&&n[qp]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=xv(o=n.g[t],e,i,r))&&(yv(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=Cv(n))&&(t=n.g[t.toString()],n=-1,t&&(n=xv(t,e,i,r)),(e=-1<n?t[n]:null)&&zE(e))}function zE(n){if("number"!=typeof n&&n&&!n.fa){var t=n.src;if(t&&t[qp])VE(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(Yp(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=Cv(t))?(VE(e,n),0==e.h&&(e.src=null,t[UE]=null)):yv(n)}}}function Yp(n){return n in HE?HE[n]:HE[n]="on"+n}function TL(n,t){if(n.fa)n=!0;else{t=new Af(t,this);var e=n.listener,i=n.la||n.src;n.ia&&zE(n),n=e.call(i,t)}return n}function Cv(n){return(n=n[UE])instanceof wv?n:null}var kf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ev(n){return"function"==typeof n?n:(n[kf]||(n[kf]=function(t){return n.handleEvent(t)}),n[kf])}function ar(){fc.call(this),this.i=new wv(this),this.S=this,this.J=null}function Kr(n,t){var e,i=n.J;if(i)for(e=[];i;i=i.J)e.push(i);if(n=n.S,i=t.type||t,"string"==typeof t)t=new Rr(t,n);else if(t instanceof Rr)t.target=t.target||n;else{var r=t;BE(t=new Rr(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var l=t.g=e[o];r=Rf(l,i,!0,t)&&r}if(r=Rf(l=t.g=n,i,!0,t)&&r,r=Rf(l,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=Rf(l=t.g=e[o],i,!1,t)&&r}function Rf(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var l=t[o];if(l&&!l.fa&&l.capture==e){var u=l.listener,p=l.la||l.src;l.ia&&VE(n.i,l),r=!1!==u.call(p,i)&&r}}return r&&!i.defaultPrevented}wr(ar,fc),ar.prototype[qp]=!0,ar.prototype.removeEventListener=function(n,t,e,i){zA(this,n,t,e,i)},ar.prototype.N=function(){if(ar.$.N.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)yv(e[i]);delete n.g[t],n.h--}}this.J=null},ar.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},ar.prototype.P=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var Iv=Vt.JSON.stringify;function ML(){var n=GE;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var jE=new class jA{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new $A,n=>n.reset());class $A{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Sv(n){var t=1;n=n.split(":");const e=[];for(;0<t&&n.length;)e.push(n.shift()),t--;return n.length&&e.push(n.join(":")),e}function WA(n){Vt.setTimeout(()=>{throw n},0)}let Dv,Tv=!1,GE=new class GA{constructor(){this.h=this.g=null}add(t,e){const i=jE.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}},$E=()=>{const n=Vt.Promise.resolve(void 0);Dv=()=>{n.then(qA)}};var qA=()=>{for(var n;n=ML();){try{n.h.call(n.g)}catch(e){WA(e)}var t=jE;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Tv=!1};function Mv(n,t){ar.call(this),this.h=n||1,this.g=t||Vt,this.j=Yr(this.qb,this),this.l=Date.now()}function WE(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function F0(n,t,e){if("function"==typeof n)e&&(n=Yr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Yr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Vt.setTimeout(n,t||0)}function N0(n){n.g=F0(()=>{n.g=null,n.i&&(n.i=!1,N0(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}wr(Mv,ar),(it=Mv.prototype).ga=!1,it.T=null,it.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Kr(this,"tick"),this.ga&&(WE(this),this.start()))}},it.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},it.N=function(){Mv.$.N.call(this),WE(this),delete this.g};class qE extends fc{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:N0(this)}N(){super.N(),this.g&&(Vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Av(n){fc.call(this),this.h=n,this.g={}}wr(Av,fc);var Us=[];function YE(n,t,e,i){Array.isArray(e)||(e&&(Us[0]=e.toString()),e=Us);for(var r=0;r<e.length;r++){var o=VA(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function kv(n){bv(n.g,function(t,e){this.g.hasOwnProperty(e)&&zE(t)},n),n.g={}}function Rv(){this.g=!0}function Of(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function YA(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var l=1;l<r.length;l++)r[l]=""}}}return Iv(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Av.prototype.N=function(){Av.$.N.call(this),kv(this)},Av.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Rv.prototype.Ea=function(){this.g=!1},Rv.prototype.info=function(){};var Vu={},Ov=null;function Kp(){return Ov=Ov||new ar}function B0(n){Rr.call(this,Vu.Ta,n)}function Zp(n){const t=Kp();Kr(t,new B0(t))}function V0(n,t){Rr.call(this,Vu.STAT_EVENT,n),this.stat=t}function Zr(n){const t=Kp();Kr(t,new V0(t,n))}function KE(n,t){Rr.call(this,Vu.Ua,n),this.size=t}function Pf(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Vt.setTimeout(function(){n()},t)}Vu.Ta="serverreachability",wr(B0,Rr),Vu.STAT_EVENT="statevent",wr(V0,Rr),Vu.Ua="timingevent",wr(KE,Rr);var Pv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Fv={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ia(){}function U0(){}Ia.prototype.h=null;var ZE,Uu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Nv(){Rr.call(this,"d")}function H0(){Rr.call(this,"c")}function Lv(){}function Qp(n,t,e,i){this.l=n,this.j=t,this.m=e,this.W=i||1,this.U=new Av(this),this.P=KA,this.V=new Mv(n=gv?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QE}function QE(){this.i=null,this.g="",this.h=!1}wr(Nv,Rr),wr(H0,Rr),wr(Lv,Ia),Lv.prototype.g=function(){return new XMLHttpRequest},Lv.prototype.i=function(){return{}},ZE=new Lv;var KA=45e3,Bv={},z0={};function Vv(n,t,e){n.L=1,n.v=W0(Id(t)),n.s=e,n.S=!0,XE(n,null)}function XE(n,t){n.G=Date.now(),Ff(n),n.A=Id(n.v);var e=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),Wv(e.i,"t",i),n.C=0,e=n.l.J,n.h=new QE,n.g=_t(n.l,e?t:null,!n.s),0<n.O&&(n.M=new qE(Yr(n.Pa,n,n.g),n.O)),YE(n.U,n.g,"readystatechange",n.nb),t=n.I?O0(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Zp(),function AL(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var l="",u=o.split("&"),p=0;p<u.length;p++){var v=u[p].split("=");if(1<v.length){var x=v[0];v=v[1];var D=x.split("_");l=2<=D.length&&"type"==D[1]?l+(x+"=")+v+"&":l+(x+"=redacted&")}}else l=null;else l=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function j0(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function ZA(n,t,e){let r,i=!0;for(;!n.J&&n.C<e.length;){if(r=G0(n,e),r==z0){4==t&&(n.o=4,Zr(14),i=!1),Of(n.j,n.m,null,"[Incomplete Response]");break}if(r==Bv){n.o=4,Zr(15),Of(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Of(n.j,n.m,r,null),Lf(n,r)}j0(n)&&r!=z0&&r!=Bv&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Zr(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.ba&&(n.ba=!0,(t=n.l).g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+e.length),k(t),t.M=!0,Zr(11))):(Of(n.j,n.m,e,"[Invalid Chunked Response]"),Ed(n),Nf(n))}function G0(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?z0:(e=Number(t.substring(e,i)),isNaN(e)?Bv:(i+=1)+e>t.length?z0:(t=t.slice(i,i+e),n.C=i+e,t))}function Ff(n){n.Y=Date.now()+n.P,$0(n,n.P)}function $0(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Pf(Yr(n.lb,n),t)}function Xp(n){n.B&&(Vt.clearTimeout(n.B),n.B=null)}function Nf(n){0==n.l.H||n.J||K(n.l,n)}function Ed(n){Xp(n);var t=n.M;t&&"function"==typeof t.sa&&t.sa(),n.M=null,WE(n.V),kv(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function Lf(n,t){try{var e=n.l;if(0!=e.H&&(e.g==n||iI(e.i,n)))if(!n.K&&iI(e.i,n)&&3==e.H){try{var i=e.Ja.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.G+3e3<n.G))break e;U(e),s(e)}S(e),Zr(18)}}else e.Fa=r[1],0<e.Fa-e.V&&37500>r[2]&&e.G&&0==e.A&&!e.v&&(e.v=Pf(Yr(e.ib,e),6e3));if(1>=nk(e.i)&&e.oa){try{e.oa()}catch{}e.oa=void 0}}else be(e,11)}else if((n.K||e.g==n)&&U(e),!Cd(t))for(r=e.Ja.g.parse(t),t=0;t<r.length;t++){let v=r[t];if(e.V=v[0],v=v[1],2==e.H)if("c"==v[0]){e.K=v[1],e.pa=v[2];const x=v[3];null!=x&&(e.ra=x,e.l.info("VER="+e.ra));const D=v[4];null!=D&&(e.Ga=D,e.l.info("SVER="+e.Ga));const R=v[5];null!=R&&"number"==typeof R&&0<R&&(e.L=i=1.5*R,e.l.info("backChannelRequestTimeoutMs_="+i)),i=e;const F=n.g;if(F){const H=F.g?F.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(H){var o=i.i;o.g||-1==H.indexOf("spdy")&&-1==H.indexOf("quic")&&-1==H.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(qv(o,o.h),o.h=null))}if(i.F){const Y=F.g?F.g.getResponseHeader("X-HTTP-Session-Id"):null;Y&&(i.Da=Y,ni(i.I,i.F,Y))}}e.H=3,e.h&&e.h.Ba(),e.ca&&(e.S=Date.now()-n.G,e.l.info("Handshake RTT: "+e.S+"ms"));var l=n;if((i=e).wa=Je(i,i.J?i.pa:null,i.Y),l.K){rI(i.i,l);var u=l,p=i.L;p&&u.setTimeout(p),u.B&&(Xp(u),Ff(u)),i.g=l}else E(i);0<e.j.length&&d(e)}else"stop"!=v[0]&&"close"!=v[0]||be(e,7);else 3==e.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?be(e,7):fI(e):"noop"!=v[0]&&e.h&&e.h.Aa(v),e.A=0)}Zp()}catch{}}function eI(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(fv(n)||"string"==typeof n)Array.prototype.forEach.call(n,t,void 0);else for(var e=function JE(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(fv(n)||"string"==typeof n){var t=[];n=n.length;for(var e=0;e<n;e++)t.push(e);return t}t=[],e=0;for(const i in n)t[e++]=i;return t}}}(n),i=function Uv(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(fv(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length,o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}(it=Qp.prototype).setTimeout=function(n){this.P=n},it.nb=function(n){n=n.target;const t=this.M;t&&3==gc(n)?t.l():this.Pa(n)},it.Pa=function(n){try{if(n==this.g)e:{const x=gc(this.g);var t=this.g.Ia();if(this.g.da(),!(3>x)&&(3!=x||gv||this.g&&(this.h.h||this.g.ja()||uI(this.g)))){this.J||4!=x||7==t||Zp(),Xp(this);var e=this.g.da();this.ca=e;t:if(j0(this)){var i=uI(this.g);n="";var r=i.length,o=4==gc(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Ed(this),Nf(this);var l="";break t}this.h.i=new Vt.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==e,function Hs(n,t,e,i,r,o,l){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+l})}(this.j,this.u,this.A,this.m,this.W,x,e),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,p=this.g;if((u=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Cd(u)){var v=u;break t}}v=null}if(!(e=v)){this.i=!1,this.o=3,Zr(12),Ed(this),Nf(this);break e}Of(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Lf(this,e)}this.S?(ZA(this,x,l),gv&&this.i&&3==x&&(YE(this.U,this.V,"tick",this.mb),this.V.start())):(Of(this.j,this.m,l,null),Lf(this,l)),4==x&&Ed(this),this.i&&!this.J&&(4==x?K(this.l,this):(this.i=!1,Ff(this)))}else(function NL(n){const t={};n=(n.g&&2<=gc(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if(Cd(n[i]))continue;var e=Sv(n[i]);const r=e[0];if("string"!=typeof(e=e[1]))continue;e=e.trim();const o=t[r]||[];t[r]=o,o.push(e)}!function LE(n,t){for(const e in n)t.call(void 0,n[e],e,n)}(t,function(i){return i.join(", ")})})(this.g),400==e&&0<l.indexOf("Unknown SID")?(this.o=3,Zr(12)):(this.o=0,Zr(13)),Ed(this),Nf(this)}}}catch{}},it.mb=function(){if(this.g){var n=gc(this.g),t=this.g.ja();this.C<t.length&&(Xp(this),ZA(this,n,t),this.i&&4!=n&&Ff(this))}},it.cancel=function(){this.J=!0,Ed(this)},it.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function L0(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Zp(),Zr(17)),Ed(this),this.o=2,Nf(this)):$0(this,this.Y-n)};var tI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bf(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Bf){this.h=n.h,Jp(this,n.j),this.s=n.s,this.g=n.g,Hv(this,n.m),this.l=n.l;var t=n.i,e=new Vf;e.i=t.i,t.g&&(e.g=new Map(t.g),e.h=t.h),nI(this,e),this.o=n.o}else n&&(t=String(n).match(tI))?(this.h=!1,Jp(this,t[1]||"",!0),this.s=zv(t[2]||""),this.g=zv(t[3]||"",!0),Hv(this,t[4]),this.l=zv(t[5]||"",!0),nI(this,t[6]||"",!0),this.o=zv(t[7]||"")):(this.h=!1,this.i=new Vf(null,this.h))}function Id(n){return new Bf(n)}function Jp(n,t,e){n.j=e?zv(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function Hv(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function nI(n,t,e){t instanceof Vf?(n.i=t,function Y0(n,t){t&&!n.j&&(Ho(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(q0(this,i),Wv(this,r,e))},n)),n.j=t}(n.i,n.h)):(e||(t=jv(t,JA)),n.i=new Vf(t,n.h))}function ni(n,t,e){n.i.set(t,e)}function W0(n){return ni(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function zv(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function jv(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,RL),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function RL(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Bf.prototype.toString=function(){var n=[],t=this.j;t&&n.push(jv(t,QA,!0),":");var e=this.g;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(jv(t,QA,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.g&&"/"!=e.charAt(0)&&n.push("/"),n.push(jv(e,"/"==e.charAt(0)?Gv:XA,!0))),(e=this.i.toString())&&n.push("?",e),(e=this.o)&&n.push("#",jv(e,ek)),n.join("")};var QA=/[#\/\?@]/g,XA=/[#\?:]/g,Gv=/[#\?]/g,JA=/[#\?@]/g,ek=/#/g;function Vf(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ho(n){n.g||(n.g=new Map,n.h=0,n.i&&function kL(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function q0(n,t){Ho(n),t=Uf(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function $v(n,t){return Ho(n),t=Uf(n,t),n.g.has(t)}function Wv(n,t,e){q0(n,t),0<e.length&&(n.i=null,n.g.set(Uf(n,t),T0(e)),n.h+=e.length)}function Uf(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function eg(n){this.l=n||OL,n=Vt.PerformanceNavigationTiming?0<(n=Vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Vt.g&&Vt.g.Ka&&Vt.g.Ka()&&Vt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(it=Vf.prototype).add=function(n,t){Ho(this),this.i=null,n=Uf(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},it.forEach=function(n,t){Ho(this),this.g.forEach(function(e,i){e.forEach(function(r){n.call(t,r,i,this)},this)},this)},it.ta=function(){Ho(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),e=[];for(let i=0;i<t.length;i++){const r=n[i];for(let o=0;o<r.length;o++)e.push(t[i])}return e},it.Z=function(n){Ho(this);let t=[];if("string"==typeof n)$v(this,n)&&(t=t.concat(this.g.get(Uf(this,n))));else{n=Array.from(this.g.values());for(let e=0;e<n.length;e++)t=t.concat(n[e])}return t},it.set=function(n,t){return Ho(this),this.i=null,$v(this,n=Uf(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},it.get=function(n,t){return n&&0<(n=this.Z(n)).length?String(n[0]):t},it.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var e=0;e<t.length;e++){var i=t[e];const o=encodeURIComponent(String(i)),l=this.Z(i);for(i=0;i<l.length;i++){var r=o;""!==l[i]&&(r+="="+encodeURIComponent(String(l[i]))),n.push(r)}}return this.i=n.join("&")};var OL=10;function tk(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nk(n){return n.h?1:n.g?n.g.size:0}function iI(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function qv(n,t){n.g?n.g.add(t):n.h=t}function rI(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function oI(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.F);return t}return T0(n.i)}eg.prototype.cancel=function(){if(this.i=oI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var ik=class{stringify(n){return Vt.JSON.stringify(n,void 0)}parse(n){return Vt.JSON.parse(n,void 0)}};function rk(){this.g=new ik}function sI(n,t,e){const i=e||"";try{eI(n,function(r,o){let l=r;$p(r)&&(l=Iv(r)),t.push(i+o+"="+encodeURIComponent(l))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function tg(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function ng(n){this.l=n.fc||null,this.j=n.ob||!1}function Yv(n,t){ar.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=Kv,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wr(ng,Ia),ng.prototype.g=function(){return new Yv(this.l,this.j)},ng.prototype.i=function(n){return function(){return n}}({}),wr(Yv,ar);var Kv=0;function Zv(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Qv(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Hf(n)}function Hf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(it=Yv.prototype).open=function(n,t){if(this.readyState!=Kv)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Hf(this)},it.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Vt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},it.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qv(this)),this.readyState=Kv},it.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Hf(this)),this.g&&(this.readyState=3,Hf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Zv(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},it.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Qv(this):Hf(this),3==this.readyState&&Zv(this)}},it.Za=function(n){this.g&&(this.response=this.responseText=n,Qv(this))},it.Ya=function(n){this.g&&(this.response=n,Qv(this))},it.ka=function(){this.g&&Qv(this)},it.setRequestHeader=function(n,t){this.v.append(n,t)},it.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},it.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(Yv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Z0=Vt.JSON.parse;function Mi(n){ar.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=lI,this.L=this.M=!1}wr(Mi,ar);var lI="",PL=/^https?$/i,FL=["POST","PUT"];function cI(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,dI(n),Q0(n)}function dI(n){n.F||(n.F=!0,Kr(n,"complete"),Kr(n,"error"))}function sk(n){if(n.h&&typeof kr<"u"&&(!n.C[1]||4!=gc(n)||2!=n.da()))if(n.v&&4==gc(n))F0(n.La,0,n);else if(Kr(n,"readystatechange"),4==gc(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===l){var r=String(n.I).match(tI)[1]||null;!r&&Vt.self&&Vt.self.location&&(r=Vt.self.location.protocol.slice(0,-1)),i=!PL.test(r?r.toLowerCase():"")}e=i}if(e)Kr(n,"complete"),Kr(n,"success");else{n.m=6;try{var o=2<gc(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",dI(n)}}finally{Q0(n)}}}function Q0(n,t){if(n.g){ak(n);const e=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||Kr(n,"ready");try{e.onreadystatechange=i}catch{}}}function ak(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Vt.clearTimeout(n.A),n.A=null)}function gc(n){return n.g?n.g.readyState:0}function uI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case lI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function lk(n){let t="";return bv(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}function hI(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=lk(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ni(n,t,e))}function Xv(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function ck(n){this.Ga=0,this.j=[],this.l=new Rv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Xv("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Xv("baseRetryDelayMs",5e3,n),this.hb=Xv("retryDelaySeedMs",1e4,n),this.eb=Xv("forwardChannelMaxRetries",2,n),this.xa=Xv("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new eg(n&&n.concurrentRequestLimit),this.Ja=new rk,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function fI(n){if(a(n),3==n.H){var t=n.W++,e=Id(n.I);if(ni(e,"SID",n.K),ni(e,"RID",t),ni(e,"TYPE","terminate"),_(n,e),(t=new Qp(n,n.l,t)).L=2,t.v=W0(Id(e)),e=!1,Vt.navigator&&Vt.navigator.sendBeacon)try{e=Vt.navigator.sendBeacon(t.v.toString(),"")}catch{}!e&&Vt.Image&&((new Image).src=t.v,e=!0),e||(t.g=_t(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ff(t)}ze(n)}function s(n){n.g&&(k(n),n.g.cancel(),n.g=null)}function a(n){s(n),n.u&&(Vt.clearTimeout(n.u),n.u=null),U(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Vt.clearTimeout(n.m),n.m=null)}function d(n){if(!tk(n.i)&&!n.m){n.m=!0;var t=n.Na;Dv||$E(),Tv||(Dv(),Tv=!0),GE.add(t,n),n.C=0}}function f(n,t){var e;e=t?t.m:n.W++;const i=Id(n.I);ni(i,"SID",n.K),ni(i,"RID",e),ni(i,"AID",n.V),_(n,i),n.o&&n.s&&hI(i,n.o,n.s),e=new Qp(n,n.l,e,n.C+1),null===n.o&&(e.I=n.s),t&&(n.j=t.F.concat(n.j)),t=b(n,e,1e3),e.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),qv(n.i,e),Vv(e,i,t)}function _(n,t){n.na&&bv(n.na,function(e,i){ni(t,i,e)}),n.h&&eI({},function(e,i){ni(t,i,e)})}function b(n,t,e){e=Math.min(n.j.length,e);var i=n.h?Yr(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const l=["count="+e];-1==o?0<e?(o=r[0].g,l.push("ofs="+o)):o=0:l.push("ofs="+o);let u=!0;for(let p=0;p<e;p++){let v=r[p].g;const x=r[p].map;if(v-=o,0>v)o=Math.max(0,r[p].g-100),u=!1;else try{sI(x,l,"req"+v+"_")}catch{i&&i(x)}}if(u){i=l.join("&");break e}}}return n=n.j.splice(0,e),t.F=n,i}function E(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Dv||$E(),Tv||(Dv(),Tv=!0),GE.add(t,n),n.A=0}}function S(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Pf(Yr(n.Ma,n),ie(n,n.A)),n.A++,0))}function k(n){null!=n.B&&(Vt.clearTimeout(n.B),n.B=null)}function P(n){n.g=new Qp(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var t=Id(n.wa);ni(t,"RID","rpc"),ni(t,"SID",n.K),ni(t,"AID",n.V),ni(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&ni(t,"TO",n.qa),ni(t,"TYPE","xmlhttp"),_(n,t),n.o&&n.s&&hI(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var e=n.g;n=n.pa,e.L=1,e.v=W0(Id(t)),e.s=null,e.S=!0,XE(e,n)}function U(n){null!=n.v&&(Vt.clearTimeout(n.v),n.v=null)}function K(n,t){var e=null;if(n.g==t){U(n),k(n),n.g=null;var i=2}else{if(!iI(n.i,t))return;e=t.F,rI(n.i,t),i=1}if(0!=n.H)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.G;var r=n.C;Kr(i=Kp(),new KE(i,e)),d(n)}else E(n);else if(3==(r=t.o)||0==r&&0<t.ca||!(1==i&&function h(n,t){return!(nk(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=t.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Pf(Yr(n.Na,n,t),ie(n,n.C)),n.C++,0)))}(n,t)||2==i&&S(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:be(n,5);break;case 4:be(n,10);break;case 3:be(n,6);break;default:be(n,2)}}function ie(n,t){let e=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(e*=2),e*t}function be(n,t){if(n.l.info("Error code "+t),2==t){var e=null;n.h&&(e=null);var i=Yr(n.pb,n);e||(e=new Bf("//www.google.com/images/cleardot.gif"),Vt.location&&"http"==Vt.location.protocol||Jp(e,"https"),W0(e)),function aI(n,t){const e=new Rv;if(Vt.Image){const i=new Image;i.onload=Tf(tg,e,i,"TestLoadImage: loaded",!0,t),i.onerror=Tf(tg,e,i,"TestLoadImage: error",!1,t),i.onabort=Tf(tg,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=Tf(tg,e,i,"TestLoadImage: timeout",!1,t),Vt.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Zr(2);n.H=0,n.h&&n.h.za(t),ze(n),a(n)}function ze(n){if(n.H=0,n.ma=[],n.h){const t=oI(n.i);(0!=t.length||0!=n.j.length)&&(mv(n.ma,t),mv(n.ma,n.j),n.i.i.length=0,T0(n.j),n.j.length=0),n.h.ya()}}function Je(n,t,e){var i=e instanceof Bf?Id(e):new Bf(e);if(""!=i.g)t&&(i.g=t+"."+i.g),Hv(i,i.m);else{var r=Vt.location;i=r.protocol,t=t?t+"."+r.hostname:r.hostname,r=+r.port;var o=new Bf(null);i&&Jp(o,i),t&&(o.g=t),r&&Hv(o,r),e&&(o.l=e),i=o}return t=n.Da,(e=n.F)&&t&&ni(i,e,t),ni(i,"VER",n.ra),_(n,i),i}function _t(n,t,e){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new Mi(e&&n.Ha&&!n.va?new ng({ob:!0}):n.va)).Oa(n.J),t}function Rt(){}function Oe(){if(Ea&&!(10<=Number(LA)))throw Error("Environmental error: no available transport.")}function St(n,t){ar.call(this),this.g=new ck(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Cd(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Cd(t)&&(this.g.F=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new ig(this)}function ii(n){Nv.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function Ai(){H0.call(this),this.status=1}function ig(n){this.g=n}function _c(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function dk(n,t,e){e||(e=0);var i=Array(16);if("string"==typeof t)for(var r=0;16>r;++r)i[r]=t.charCodeAt(e++)|t.charCodeAt(e++)<<8|t.charCodeAt(e++)<<16|t.charCodeAt(e++)<<24;else for(r=0;16>r;++r)i[r]=t[e++]|t[e++]<<8|t[e++]<<16|t[e++]<<24;var o=n.g[3],l=(t=n.g[0])+(o^(e=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;l=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=(e=(r=(o=(t=e+(l<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=t+(o^e&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=o+(r^t&(e^r))+i[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=r+(e^o&(t^e))+i[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=e+(t^r&(o^t))+i[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=t+(r^o&(e^r))+i[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=t+(r^o&(e^r))+i[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=o+(e^r&(t^e))+i[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=r+(t^e&(o^t))+i[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=e+(o^t&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=t+(e^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=t+(e^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=o+(t^e^r)+i[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=r+(o^t^e)+i[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=e+(r^o^t)+i[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=t+(r^(e|~o))+i[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~o))+i[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=t+(r^(e|~o))+i[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=r+(t^(o|~e))+i[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=e+(o^(r|~t))+i[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((o=(t=e+((l=t+(r^(e|~o))+i[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=o+(e^(t|~r))+i[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((r=o+((l=r+(t^(o|~e))+i[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~t))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(r+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function Gn(n,t){this.h=t;for(var e=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==t||(e[r]=o,i=!1)}this.g=e}(it=Mi.prototype).Oa=function(n){this.M=n},it.ha=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ZE.g(),this.C=function pc(n){return n.h||(n.h=n.i())}(this.u?this.u:ZE),this.g.onreadystatechange=Yr(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(o){return void cI(this,o)}if(n=e||"",e=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)e.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())e.set(o,i.get(o))}i=Array.from(e.keys()).find(o=>"content-type"==o.toLowerCase()),r=Vt.FormData&&n instanceof Vt.FormData,!(0<=ME(FL,t))||i||r||e.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,l]of e)this.g.setRequestHeader(o,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{ak(this),0<this.B&&((this.L=function ok(n){return Ea&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yr(this.ua,this)):this.A=F0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){cI(this,o)}},it.ua=function(){typeof kr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Kr(this,"timeout"),this.abort(8))},it.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Kr(this,"complete"),Kr(this,"abort"),Q0(this))},it.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Q0(this,!0)),Mi.$.N.call(this)},it.La=function(){this.s||(this.G||this.v||this.l?sk(this):this.kb())},it.kb=function(){sk(this)},it.isActive=function(){return!!this.g},it.da=function(){try{return 2<gc(this)?this.g.status:-1}catch{return-1}},it.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},it.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Z0(t)}},it.Ia=function(){return this.m},it.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(it=ck.prototype).ra=8,it.H=1,it.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Qp(this,this.l,n);let o=this.s;if(this.U&&(o?(o=O0(o),BE(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var t=0,e=0;e<this.j.length;e++){var i=this.j[e];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.j.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=b(this,r,t),ni(e=Id(this.I),"RID",n),ni(e,"CVER",22),this.F&&ni(e,"X-HTTP-Session-Id",this.F),_(this,e),o&&(this.O?t="headers="+encodeURIComponent(String(lk(o)))+"&"+t:this.o&&hI(e,this.o,o)),qv(this.i,r),this.bb&&ni(e,"TYPE","init"),this.P?(ni(e,"$req",t),ni(e,"SID","null"),r.aa=!0,Vv(r,e,null)):Vv(r,e,t),this.H=2}}else 3==this.H&&(n?f(this,n):0==this.j.length||tk(this.i)||f(this))},it.Ma=function(){if(this.u=null,P(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Pf(Yr(this.jb,this),n)}},it.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Zr(10),s(this),P(this))},it.ib=function(){null!=this.v&&(this.v=null,s(this),S(this),Zr(19))},it.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Zr(2)):(this.l.info("Failed to ping google.com"),Zr(1))},it.isActive=function(){return!!this.h&&this.h.isActive(this)},(it=Rt.prototype).Ba=function(){},it.Aa=function(){},it.za=function(){},it.ya=function(){},it.isActive=function(){return!0},it.Va=function(){},Oe.prototype.g=function(n,t){return new St(n,t)},wr(St,ar),St.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,e=this.h||void 0;Zr(0),n.Y=t,n.na=e||{},n.G=n.aa,n.I=Je(n,null,n.Y),d(n)},St.prototype.close=function(){fI(this.g)},St.prototype.u=function(n){var t=this.g;if("string"==typeof n){var e={};e.__data__=n,n=e}else this.v&&((e={}).__data__=Iv(n),n=e);t.j.push(new class{constructor(n,t){this.g=n,this.map=t}}(t.fb++,n)),3==t.H&&d(t)},St.prototype.N=function(){this.g.h=null,delete this.j,fI(this.g),delete this.g,St.$.N.call(this)},wr(ii,Nv),wr(Ai,H0),wr(ig,Rt),ig.prototype.Ba=function(){Kr(this.g,"a")},ig.prototype.Aa=function(n){Kr(this.g,new ii(n))},ig.prototype.za=function(n){Kr(this.g,new Ai)},ig.prototype.ya=function(){Kr(this.g,"b")},wr(_c,function y6(){this.blockSize=-1}),_c.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},_c.prototype.j=function(n,t){void 0===t&&(t=n.length);for(var e=t-this.blockSize,i=this.m,r=this.h,o=0;o<t;){if(0==r)for(;o<=e;)dk(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<t;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){dk(this,i),r=0;break}}else for(;o<t;)if(i[r++]=n[o++],r==this.blockSize){dk(this,i),r=0;break}}this.h=r,this.i+=t},_c.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var e=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=255&e,e/=256;for(this.j(n),n=Array(16),t=e=0;4>t;++t)for(var i=0;32>i;i+=8)n[e++]=this.g[t]>>>i&255;return n};var b6={};function uk(n){return-128<=n&&128>n?function NA(n,t){var e=b6;return Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=t(n)}(n,function(t){return new Gn([0|t],0>t?-1:0)}):new Gn([0|n],0>n?-1:0)}function Sd(n){if(isNaN(n)||!isFinite(n))return Jv;if(0>n)return yo(Sd(-n));for(var t=[],e=1,i=0;n>=e;i++)t[i]=n/e|0,e*=hk;return new Gn(t,0)}var hk=4294967296,Jv=uk(0),fk=uk(1),BL=uk(16777216);function Hu(n){if(0!=n.h)return!1;for(var t=0;t<n.g.length;t++)if(0!=n.g[t])return!1;return!0}function sl(n){return-1==n.h}function yo(n){for(var t=n.g.length,e=[],i=0;i<t;i++)e[i]=~n.g[i];return new Gn(e,~n.h).add(fk)}function mI(n,t){return n.add(yo(t))}function pI(n,t){for(;(65535&n[t])!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function X0(n,t){this.g=n,this.h=t}function gI(n,t){if(Hu(t))throw Error("division by zero");if(Hu(n))return new X0(Jv,Jv);if(sl(n))return t=gI(yo(n),t),new X0(yo(t.g),yo(t.h));if(sl(t))return t=gI(n,yo(t)),new X0(yo(t.g),t.h);if(30<n.g.length){if(sl(n)||sl(t))throw Error("slowDivide_ only works with positive integers.");for(var e=fk,i=t;0>=i.X(n);)e=VL(e),i=VL(i);var r=ey(e,1),o=ey(i,1);for(i=ey(i,2),e=ey(e,2);!Hu(i);){var l=o.add(i);0>=l.X(n)&&(r=r.add(e),o=l),i=ey(i,1),e=ey(e,1)}return t=mI(n,r.R(t)),new X0(r,t)}for(r=Jv;0<=n.X(t);){for(e=Math.max(1,Math.floor(n.ea()/t.ea())),i=48>=(i=Math.ceil(Math.log(e)/Math.LN2))?1:Math.pow(2,i-48),l=(o=Sd(e)).R(t);sl(l)||0<l.X(n);)l=(o=Sd(e-=i)).R(t);Hu(o)&&(o=fk),r=r.add(o),n=mI(n,l)}return new X0(r,n)}function VL(n){for(var t=n.g.length+1,e=[],i=0;i<t;i++)e[i]=n.D(i)<<1|n.D(i-1)>>>31;return new Gn(e,n.h)}function ey(n,t){var e=t>>5;t%=32;for(var i=n.g.length-e,r=[],o=0;o<i;o++)r[o]=0<t?n.D(o+e)>>>t|n.D(o+e+1)<<32-t:n.D(o+e);return new Gn(r,n.h)}(it=Gn.prototype).ea=function(){if(sl(this))return-yo(this).ea();for(var n=0,t=1,e=0;e<this.g.length;e++){var i=this.D(e);n+=(0<=i?i:hk+i)*t,t*=hk}return n},it.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Hu(this))return"0";if(sl(this))return"-"+yo(this).toString(n);for(var t=Sd(Math.pow(n,6)),e=this,i="";;){var r=gI(e,t).g,o=((0<(e=mI(e,r.R(t))).g.length?e.g[0]:e.h)>>>0).toString(n);if(Hu(e=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},it.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},it.X=function(n){return sl(n=mI(this,n))?-1:Hu(n)?0:1},it.abs=function(){return sl(this)?yo(this):this},it.add=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0,r=0;r<=t;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),l=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=l>>>16,e[r]=(l&=65535)<<16|(o&=65535)}return new Gn(e,-2147483648&e[e.length-1]?-1:0)},it.R=function(n){if(Hu(this)||Hu(n))return Jv;if(sl(this))return sl(n)?yo(this).R(yo(n)):yo(yo(this).R(n));if(sl(n))return yo(this.R(yo(n)));if(0>this.X(BL)&&0>n.X(BL))return Sd(this.ea()*n.ea());for(var t=this.g.length+n.g.length,e=[],i=0;i<2*t;i++)e[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,l=65535&this.D(i),u=n.D(r)>>>16,p=65535&n.D(r);e[2*i+2*r]+=l*p,pI(e,2*i+2*r),e[2*i+2*r+1]+=o*p,pI(e,2*i+2*r+1),e[2*i+2*r+1]+=l*u,pI(e,2*i+2*r+1),e[2*i+2*r+2]+=o*u,pI(e,2*i+2*r+2)}for(i=0;i<t;i++)e[i]=e[2*i+1]<<16|e[2*i];for(i=t;i<2*t;i++)e[i]=0;return new Gn(e,0)},it.gb=function(n){return gI(this,n).h},it.and=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)&n.D(i);return new Gn(e,this.h&n.h)},it.or=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)|n.D(i);return new Gn(e,this.h|n.h)},it.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),e=[],i=0;i<t;i++)e[i]=this.D(i)^n.D(i);return new Gn(e,this.h^n.h)},Oe.prototype.createWebChannel=Oe.prototype.g,St.prototype.send=St.prototype.u,St.prototype.open=St.prototype.m,St.prototype.close=St.prototype.close,Pv.NO_ERROR=0,Pv.TIMEOUT=8,Pv.HTTP_ERROR=6,Fv.COMPLETE="complete",U0.EventType=Uu,Uu.OPEN="a",Uu.CLOSE="b",Uu.ERROR="c",Uu.MESSAGE="d",ar.prototype.listen=ar.prototype.O,Mi.prototype.listenOnce=Mi.prototype.P,Mi.prototype.getLastError=Mi.prototype.Sa,Mi.prototype.getLastErrorCode=Mi.prototype.Ia,Mi.prototype.getStatus=Mi.prototype.da,Mi.prototype.getResponseJson=Mi.prototype.Wa,Mi.prototype.getResponseText=Mi.prototype.ja,Mi.prototype.send=Mi.prototype.ha,Mi.prototype.setWithCredentials=Mi.prototype.Oa,_c.prototype.digest=_c.prototype.l,_c.prototype.reset=_c.prototype.reset,_c.prototype.update=_c.prototype.j,Gn.prototype.add=Gn.prototype.add,Gn.prototype.multiply=Gn.prototype.R,Gn.prototype.modulo=Gn.prototype.gb,Gn.prototype.compare=Gn.prototype.X,Gn.prototype.toNumber=Gn.prototype.ea,Gn.prototype.toString=Gn.prototype.toString,Gn.prototype.getBits=Gn.prototype.D,Gn.fromNumber=Sd,Gn.fromString=function LL(n,t){if(0==n.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==n.charAt(0))return yo(LL(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var e=Sd(Math.pow(t,8)),i=Jv,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),l=parseInt(n.substring(r,r+o),t);8>o?(o=Sd(Math.pow(t,o)),i=i.R(o).add(Sd(l))):i=(i=i.R(e)).add(Sd(l))}return i};var w6=Vs.createWebChannelTransport=function(){return new Oe},x6=Vs.getStatEventTarget=function(){return Kp()},mk=Vs.ErrorCode=Pv,C6=Vs.EventType=Fv,E6=Vs.Event=Vu,UL=Vs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},I6=Vs.FetchXmlHttpFactory=ng,_I=Vs.WebChannel=U0,S6=Vs.XhrIo=Mi,D6=Vs.Md5=_c,ty=Vs.Integer=Gn;const HL="@firebase/firestore";class Qr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Qr.UNAUTHENTICATED=new Qr(null),Qr.GOOGLE_CREDENTIALS=new Qr("google-credentials-uid"),Qr.FIRST_PARTY=new Qr("first-party-uid"),Qr.MOCK_USER=new Qr("mock-user");let ny="9.23.0";const zf=new Bs.Yd("@firebase/firestore");function pk(){return zf.logLevel}function He(n,...t){if(zf.logLevel<=Bs.in.DEBUG){const e=t.map(gk);zf.debug(`Firestore (${ny}): ${n}`,...e)}}function lr(n,...t){if(zf.logLevel<=Bs.in.ERROR){const e=t.map(gk);zf.error(`Firestore (${ny}): ${n}`,...e)}}function al(n,...t){if(zf.logLevel<=Bs.in.WARN){const e=t.map(gk);zf.warn(`Firestore (${ny}): ${n}`,...e)}}function gk(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function mt(n="Unexpected state"){const t=`FIRESTORE (${ny}) INTERNAL ASSERTION FAILED: `+n;throw lr(t),new Error(t)}function Et(n,t){n||mt()}function rt(n,t){return n}const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends N.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class zL{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class A6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Qr.UNAUTHENTICATED))}shutdown(){}}class k6{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class R6{constructor(t){this.t=t,this.currentUser=Qr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=v=>this.i!==r?(r=this.i,e(v)):Promise.resolve();let l=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Or,t.enqueueRetryable(()=>o(this.currentUser))};const u=()=>{const v=l;t.enqueueRetryable((0,xe.Z)(function*(){yield v.promise,yield o(i.currentUser)}))},p=v=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),u()};this.t.onInit(v=>p(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?p(v):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Or)}},0),u()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Et("string"==typeof i.accessToken),new zL(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Et(null===t||"string"==typeof t),new Qr(t)}}class O6{constructor(t,e,i){this.h=t,this.l=e,this.m=i,this.type="FirstParty",this.user=Qr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class P6{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new O6(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Qr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jL{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F6{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,e){const i=o=>{null!=o.error&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.T;return this.T=o.token,He("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?r(o):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Et("string"==typeof e.token),this.T=e.token,new jL(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function N6(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class GL{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=N6(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function Yt(n,t){return n<t?-1:n>t?1:0}function iy(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function $L(n){return n+"\0"}class ki{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ke(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ke(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ke(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ke(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ki.fromMillis(Date.now())}static fromDate(t){return ki.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ki(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Yt(this.nanoseconds,t.nanoseconds):Yt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Dt(t)}static min(){return new Dt(new ki(0,0))}static max(){return new Dt(new ki(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class J0{constructor(t,e,i){void 0===e?e=0:e>t.length&&mt(),void 0===i?i=t.length-e:i>t.length-e&&mt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===J0.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof J0?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),l=e.get(r);if(o<l)return-1;if(o>l)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class xn extends J0{construct(t,e,i){return new xn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ke(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new xn(e)}static emptyPath(){return new xn([])}}const L6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends J0{construct(t,e,i){return new Zi(t,e,i)}static isValidIdentifier(t){return L6.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new ke(fe.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if("\\"===u){if(r+1===t.length)throw new ke(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[r+1];if("\\"!==p&&"."!==p&&"`"!==p)throw new ke(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=p,r+=2}else"`"===u?(l=!l,r++):"."!==u||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new ke(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zi(e)}static emptyPath(){return new Zi([])}}class tt{constructor(t){this.path=t}static fromPath(t){return new tt(xn.fromString(t))}static fromName(t){return new tt(xn.fromString(t).popFirst(5))}static empty(){return new tt(xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===xn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return xn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new tt(new xn(t.slice()))}}class vI{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function _k(n){return n.fields.find(t=>2===t.kind)}function rg(n){return n.fields.filter(t=>2!==t.kind)}vI.UNKNOWN_ID=-1;class yI{constructor(t,e){this.fieldPath=t,this.kind=e}}class ew{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new ew(0,Sa.min())}}function WL(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Dt.fromTimestamp(1e9===i?new ki(e+1,0):new ki(e,i));return new Sa(r,tt.empty(),t)}function qL(n){return new Sa(n.readTime,n.key,-1)}class Sa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Sa(Dt.min(),tt.empty(),-1)}static max(){return new Sa(Dt.max(),tt.empty(),-1)}}function vk(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=tt.comparator(n.documentKey,t.documentKey),0!==e?e:Yt(n.largestBatchId,t.largestBatchId))}const YL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function jf(n){return yk.apply(this,arguments)}function yk(){return yk=(0,xe.Z)(function*(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==YL)throw n;He("LocalStore","Unexpectedly lost primary lease")}),yk.apply(this,arguments)}class ae{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&mt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ae((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof ae?e:ae.resolve(e)}catch(e){return ae.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):ae.reject(e)}static resolve(t){return new ae((e,i)=>{e(t)})}static reject(t){return new ae((e,i)=>{i(t)})}static waitFor(t){return new ae((e,i)=>{let r=0,o=0,l=!1;t.forEach(u=>{++r,u.next(()=>{++o,l&&o===r&&e()},p=>i(p))}),l=!0,o===r&&e()})}static or(t){let e=ae.resolve(!1);for(const i of t)e=e.next(r=>r?ae.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new ae((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let p=0;p<o;p++){const v=p;e(t[v]).next(x=>{l[v]=x,++u,u===o&&i(l)},x=>r(x))}})}static doWhile(t,e){return new ae((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class bI{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.v=new Or,this.transaction.oncomplete=()=>{this.v.resolve()},this.transaction.onabort=()=>{e.error?this.v.reject(new tw(t,e.error)):this.v.resolve()},this.transaction.onerror=i=>{const r=bk(i.target.error);this.v.reject(new tw(t,r))}}static open(t,e,i,r){try{return new bI(e,t.transaction(r,i))}catch(o){throw new tw(e,o)}}get R(){return this.v.promise}abort(t){t&&this.v.reject(t),this.aborted||(He("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new H6(e)}}class vc{constructor(t,e,i){this.name=t,this.version=e,this.V=i,12.2===vc.S((0,N.z$)())&&lr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return He("SimpleDb","Removing database:",t),og(window.indexedDB.deleteDatabase(t)).toPromise()}static D(){if(!(0,N.hl)())return!1;if(vc.C())return!0;const t=(0,N.z$)(),e=vc.S(t),i=0<e&&e<10,r=vc.N(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static C(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.k)}static M(t,e){return t.store(e)}static S(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static N(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}$(t){var e=this;return(0,xe.Z)(function*(){return e.db||(He("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=l=>{i(l.target.result)},o.onblocked=()=>{r(new tw(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=l=>{const u=l.target.error;r("VersionError"===u.name?new ke(fe.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===u.name?new ke(fe.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+u):new tw(t,u))},o.onupgradeneeded=l=>{He("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',l.oldVersion),e.V.O(l.target.result,o.transaction,l.oldVersion,e.version).next(()=>{He("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.F&&(e.db.onversionchange=i=>e.F(i)),e.db})()}B(t){this.F=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,xe.Z)(function*(){const l="readonly"===e;let u=0;for(;;){++u;try{o.db=yield o.$(t);const p=bI.open(o.db,t,l?"readonly":"readwrite",i),v=r(p).next(x=>(p.P(),x)).catch(x=>(p.abort(x),ae.reject(x))).toPromise();return v.catch(()=>{}),yield p.R,v}catch(p){const v=p,x="FirebaseError"!==v.name&&u<3;if(He("SimpleDb","Transaction failed with error:",v.message,"Retrying:",x),o.close(),!x)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class U6{constructor(t){this.L=t,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(t){this.L=t}done(){this.q=!0}G(t){this.U=t}delete(){return og(this.L.delete())}}class tw extends ke{constructor(t,e){super(fe.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Gf(n){return"IndexedDbTransactionError"===n.name}class H6{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(He("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(He("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),og(i)}add(t){return He("SimpleDb","ADD",this.store.name,t,t),og(this.store.add(t))}get(t){return og(this.store.get(t)).next(e=>(void 0===e&&(e=null),He("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return He("SimpleDb","DELETE",this.store.name,t),og(this.store.delete(t))}count(){return He("SimpleDb","COUNT",this.store.name),og(this.store.count())}j(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.W(r,(l,u)=>{o.push(u)}).next(()=>o)}{const r=this.store.getAll(i.range);return new ae((o,l)=>{r.onerror=u=>{l(u.target.error)},r.onsuccess=u=>{o(u.target.result)}})}}H(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new ae((r,o)=>{i.onerror=l=>{o(l.target.error)},i.onsuccess=l=>{r(l.target.result)}})}J(t,e){He("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.Y=!1;const r=this.cursor(i);return this.W(r,(o,l,u)=>u.delete())}X(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.W(r,e)}Z(t){const e=this.cursor({});return new ae((i,r)=>{e.onerror=o=>{const l=bk(o.target.error);r(l)},e.onsuccess=o=>{const l=o.target.result;l?t(l.primaryKey,l.value).next(u=>{u?l.continue():i()}):i()}})}W(t,e){const i=[];return new ae((r,o)=>{t.onerror=l=>{o(l.target.error)},t.onsuccess=l=>{const u=l.target.result;if(!u)return void r();const p=new U6(u),v=e(u.primaryKey,u.value,p);if(v instanceof ae){const x=v.catch(D=>(p.done(),ae.reject(D)));i.push(x)}p.isDone?r():null===p.K?u.continue():u.continue(p.K)}}).next(()=>ae.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.Y?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function og(n){return new ae((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=bk(i.target.error);e(r)}})}let ZL=!1;function bk(n){const t=vc.S((0,N.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new ke("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ZL||(ZL=!0,setTimeout(()=>{throw i},0)),i}}return n}class z6{constructor(t,e){this.asyncQueue=t,this.tt=e,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(t){var e=this;He("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,xe.Z)(function*(){e.task=null;try{He("IndexBackiller",`Documents written: ${yield e.tt.nt()}`)}catch(i){Gf(i)?He("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield jf(i)}yield e.et(6e4)}))}}class j6{constructor(t,e){this.localStore=t,this.persistence=e}nt(t=50){var e=this;return(0,xe.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.st(i,t))})()}st(t,e){const i=new Set;let r=e,o=!0;return ae.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(l=>{if(null!==l&&!i.has(l))return He("IndexBackiller",`Processing collection: ${l}`),this.it(t,l,r).next(u=>{r-=u,i.add(l)});o=!1})).next(()=>e-r)}it(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const l=o.changes;return this.localStore.indexManager.updateIndexEntries(t,l).next(()=>this.rt(r,o)).next(u=>(He("IndexBackiller",`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(t,e,u))).next(()=>l.size)}))}rt(t,e){let i=t;return e.changes.forEach((r,o)=>{const l=qL(o);vk(l,i)>0&&(i=l)}),new Sa(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}let Da=(()=>{class n{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>i.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}return n.ct=-1,n})();function nw(n){return null==n}function iw(n){return 0===n&&1/n==-1/0}function QL(n){return"number"==typeof n&&Number.isInteger(n)&&!iw(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function zo(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=XL(t)),t=G6(n.get(e),t);return XL(t)}function G6(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function XL(n){return n+"\x01\x01"}function Dd(n){const t=n.length;if(Et(t>=2),2===t)return Et("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),xn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const l=n.indexOf("\x01",o);switch((l<0||l>e)&&mt(),n.charAt(l+1)){case"\x01":const u=n.substring(o,l);let p;0===r.length?p=u:(r+=u,p=r,r=""),i.push(p);break;case"\x10":r+=n.substring(o,l),r+="\0";break;case"\x11":r+=n.substring(o,l+1);break;default:mt()}o=l+2}return new xn(i)}const JL=["userId","batchId"];function wI(n,t){return[n,zo(t)]}function e2(n,t,e){return[n,zo(t),e]}const $6={},W6=["prefixPath","collectionGroup","readTime","documentId"],q6=["prefixPath","collectionGroup","documentId"],Y6=["collectionGroup","readTime","prefixPath","documentId"],K6=["canonicalId","targetId"],Z6=["targetId","path"],Q6=["path","targetId"],X6=["collectionId","parent"],J6=["indexId","uid"],eG=["uid","sequenceNumber"],tG=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],nG=["indexId","uid","orderedDocumentKey"],iG=["userId","collectionPath","documentId"],rG=["userId","collectionPath","largestBatchId"],oG=["userId","collectionGroup","largestBatchId"],t2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],sG=[...t2,"documentOverlays"],n2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],r2=n2,aG=[...r2,"indexConfiguration","indexState","indexEntries"];class wk extends KL{constructor(t,e){super(),this.ht=t,this.currentSequenceNumber=e}}function Xr(n,t){const e=rt(n);return vc.M(e.ht,t)}function o2(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function $f(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function s2(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class di{constructor(t,e){this.comparator=t,this.root=e||bo.EMPTY}insert(t,e){return new di(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,bo.BLACK,null,null))}remove(t){return new di(this.comparator,this.root.remove(t,this.comparator).copy(null,null,bo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xI(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xI(this.root,t,this.comparator,!1)}getReverseIterator(){return new xI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xI(this.root,t,this.comparator,!0)}}class xI{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class bo{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??bo.RED,this.left=r??bo.EMPTY,this.right=o??bo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new bo(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return bo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return bo.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,bo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,bo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw mt();const t=this.left.check();if(t!==this.right.check())throw mt();return t+(this.isRed()?0:1)}}bo.EMPTY=null,bo.RED=!0,bo.BLACK=!1,bo.EMPTY=new class{constructor(){this.size=0}get key(){throw mt()}get value(){throw mt()}get color(){throw mt()}get left(){throw mt()}get right(){throw mt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new bo(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class vi{constructor(t){this.comparator=t,this.data=new di(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new a2(this.data.getIterator())}getIteratorFrom(t){return new a2(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof vi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new vi(this.comparator);return e.data=t,e}}class a2{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ry(n){return n.hasNext()?n.getNext():void 0}class zs{constructor(t){this.fields=t,t.sort(Zi.comparator)}static empty(){return new zs([])}unionWith(t){let e=new vi(Zi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new zs(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return iy(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class l2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Pr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(i){try{return atob(i)}catch(r){throw typeof DOMException<"u"&&r instanceof DOMException?new l2("Invalid base64 string: "+r):r}}(t);return new Pr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new Pr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Yt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Pr.EMPTY_BYTE_STRING=new Pr("");const cG=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wf(n){if(Et(!!n),"string"==typeof n){let t=0;const e=cG.exec(n);if(Et(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Qi(n.seconds),nanos:Qi(n.nanos)}}function Qi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function zu(n){return"string"==typeof n?Pr.fromBase64String(n):Pr.fromUint8Array(n)}function CI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function EI(n){const t=n.mapValue.fields.__previous_value__;return CI(t)?EI(t):t}function rw(n){const t=Wf(n.mapValue.fields.__local_write_time__.timestampValue);return new ki(t.seconds,t.nanos)}class dG{constructor(t,e,i,r,o,l,u,p,v){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=p,this.useFetchStreams=v}}class qf{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new qf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof qf&&t.projectId===this.projectId&&t.database===this.database}}const Yf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},II={nullValue:"NULL_VALUE"};function Kf(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?CI(n)?4:h2(n)?9007199254740991:10:mt()}function Td(n,t){if(n===t)return!0;const e=Kf(n);if(e!==Kf(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return rw(n).isEqual(rw(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=Wf(i.timestampValue),l=Wf(r.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,zu(n.bytesValue).isEqual(zu(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Qi(i.geoPointValue.latitude)===Qi(r.geoPointValue.latitude)&&Qi(i.geoPointValue.longitude)===Qi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Qi(i.integerValue)===Qi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Qi(i.doubleValue),l=Qi(r.doubleValue);return o===l?iw(o)===iw(l):isNaN(o)&&isNaN(l)}return!1}(n,t);case 9:return iy(n.arrayValue.values||[],t.arrayValue.values||[],Td);case 10:return function(i,r){const o=i.mapValue.fields||{},l=r.mapValue.fields||{};if(o2(o)!==o2(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(void 0===l[u]||!Td(o[u],l[u])))return!1;return!0}(n,t);default:return mt()}var r}function ow(n,t){return void 0!==(n.values||[]).find(e=>Td(e,t))}function Zf(n,t){if(n===t)return 0;const e=Kf(n),i=Kf(t);if(e!==i)return Yt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Yt(n.booleanValue,t.booleanValue);case 2:return function(r,o){const l=Qi(r.integerValue||r.doubleValue),u=Qi(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(n,t);case 3:return c2(n.timestampValue,t.timestampValue);case 4:return c2(rw(n),rw(t));case 5:return Yt(n.stringValue,t.stringValue);case 6:return function(r,o){const l=zu(r),u=zu(o);return l.compareTo(u)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const l=r.split("/"),u=o.split("/");for(let p=0;p<l.length&&p<u.length;p++){const v=Yt(l[p],u[p]);if(0!==v)return v}return Yt(l.length,u.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const l=Yt(Qi(r.latitude),Qi(o.latitude));return 0!==l?l:Yt(Qi(r.longitude),Qi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const l=r.values||[],u=o.values||[];for(let p=0;p<l.length&&p<u.length;++p){const v=Zf(l[p],u[p]);if(v)return v}return Yt(l.length,u.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===Yf.mapValue&&o===Yf.mapValue)return 0;if(r===Yf.mapValue)return 1;if(o===Yf.mapValue)return-1;const l=r.fields||{},u=Object.keys(l),p=o.fields||{},v=Object.keys(p);u.sort(),v.sort();for(let x=0;x<u.length&&x<v.length;++x){const D=Yt(u[x],v[x]);if(0!==D)return D;const R=Zf(l[u[x]],p[v[x]]);if(0!==R)return R}return Yt(u.length,v.length)}(n.mapValue,t.mapValue);default:throw mt()}}function c2(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Yt(n,t);const e=Wf(n),i=Wf(t),r=Yt(e.seconds,i.seconds);return 0!==r?r:Yt(e.nanos,i.nanos)}function oy(n){return xk(n)}function xk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=Wf(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?zu(n.bytesValue).toBase64():"referenceValue"in n?tt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const l of i.values||[])o?o=!1:r+=",",r+=xk(l);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",l=!0;for(const u of r)l?l=!1:o+=",",o+=`${u}:${xk(i.fields[u])}`;return o+"}"}(n.mapValue):mt();var t}function sg(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ck(n){return!!n&&"integerValue"in n}function sw(n){return!!n&&"arrayValue"in n}function d2(n){return!!n&&"nullValue"in n}function u2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function DI(n){return!!n&&"mapValue"in n}function aw(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return $f(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=aw(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=aw(n.arrayValue.values[e]);return t}return Object.assign({},n)}function h2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function uG(n){return"nullValue"in n?II:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?sg(qf.empty(),tt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:mt()}function hG(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?sg(qf.empty(),tt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Yf:mt()}function f2(n,t){const e=Zf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function m2(n,t){const e=Zf(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class wo{constructor(t){this.value=t}static empty(){return new wo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!DI(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=aw(e)}setAll(t){let e=Zi.emptyPath(),i={},r=[];t.forEach((l,u)=>{if(!e.isImmediateParentOf(u)){const p=this.getFieldsMap(e);this.applyChanges(p,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=aw(l):r.push(u.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());DI(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Td(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];DI(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){$f(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new wo(aw(this.value))}}function p2(n){const t=[];return $f(n.fields,(e,i)=>{const r=new Zi([e]);if(DI(i)){const o=p2(i.mapValue).fields;if(0===o.length)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)}),new zs(t)}class yi{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new yi(t,0,Dt.min(),Dt.min(),Dt.min(),wo.empty(),0)}static newFoundDocument(t,e,i,r){return new yi(t,1,e,Dt.min(),i,r,0)}static newNoDocument(t,e){return new yi(t,2,e,Dt.min(),Dt.min(),wo.empty(),0)}static newUnknownDocument(t,e){return new yi(t,3,e,Dt.min(),Dt.min(),wo.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Dt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Dt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qf{constructor(t,e){this.position=t,this.inclusive=e}}function g2(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(i=o.field.isKeyField()?tt.comparator(tt.fromName(l.referenceValue),e.key):Zf(l,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function _2(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Td(n.position[e],t.position[e]))return!1;return!0}class sy{constructor(t,e="asc"){this.field=t,this.dir=e}}function fG(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class v2{}class gn extends v2{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,i):new mG(t,e,i):"array-contains"===e?new _G(t,i):"in"===e?new E2(t,i):"not-in"===e?new vG(t,i):"array-contains-any"===e?new yG(t,i):new gn(t,e,i)}static createKeyFieldInFilter(t,e,i){return"in"===e?new pG(t,i):new gG(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(Zf(e,this.value)):null!==e&&Kf(this.value)===Kf(e)&&this.matchesComparison(Zf(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return mt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class $n extends v2{constructor(t,e){super(),this.filters=t,this.op=e,this.lt=null}static create(t,e){return new $n(t,e)}matches(t){return ay(this)?void 0===this.filters.find(e=>!e.matches(t)):void 0!==this.filters.find(e=>e.matches(t))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(e=>e.isInequality());return null!==t?t.field:null}ft(t){for(const e of this.getFlattenedFilters())if(t(e))return e;return null}}function ay(n){return"and"===n.op}function Ek(n){return"or"===n.op}function Ik(n){return y2(n)&&ay(n)}function y2(n){for(const t of n.filters)if(t instanceof $n)return!1;return!0}function Sk(n){if(n instanceof gn)return n.field.canonicalString()+n.op.toString()+oy(n.value);if(Ik(n))return n.filters.map(t=>Sk(t)).join(",");{const t=n.filters.map(e=>Sk(e)).join(",");return`${n.op}(${t})`}}function b2(n,t){return n instanceof gn?(e=n,(i=t)instanceof gn&&e.op===i.op&&e.field.isEqual(i.field)&&Td(e.value,i.value)):n instanceof $n?function(e,i){return i instanceof $n&&e.op===i.op&&e.filters.length===i.filters.length&&e.filters.reduce((r,o,l)=>r&&b2(o,i.filters[l]),!0)}(n,t):void mt();var e,i}function w2(n,t){const e=n.filters.concat(t);return $n.create(e,n.op)}function x2(n){return n instanceof gn?`${(t=n).field.canonicalString()} ${t.op} ${oy(t.value)}`:n instanceof $n?function(t){return t.op.toString()+" {"+t.getFilters().map(x2).join(" ,")+"}"}(n):"Filter";var t}class mG extends gn{constructor(t,e,i){super(t,e,i),this.key=tt.fromName(i.referenceValue)}matches(t){const e=tt.comparator(t.key,this.key);return this.matchesComparison(e)}}class pG extends gn{constructor(t,e){super(t,"in",e),this.keys=C2(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class gG extends gn{constructor(t,e){super(t,"not-in",e),this.keys=C2(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function C2(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>tt.fromName(i.referenceValue))}class _G extends gn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return sw(e)&&ow(e.arrayValue,this.value)}}class E2 extends gn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&ow(this.value.arrayValue,e)}}class vG extends gn{constructor(t,e){super(t,"not-in",e)}matches(t){if(ow(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!ow(this.value.arrayValue,e)}}class yG extends gn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!sw(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>ow(this.value.arrayValue,i))}}class bG{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.dt=null}}function Dk(n,t=null,e=[],i=[],r=null,o=null,l=null){return new bG(n,t,e,i,r,o,l)}function ag(n){const t=rt(n);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>Sk(i)).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),nw(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>oy(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>oy(i)).join(",")),t.dt=e}return t.dt}function lw(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!fG(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!b2(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!_2(n.startAt,t.startAt)&&_2(n.endAt,t.endAt)}function TI(n){return tt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function MI(n,t){return n.filters.filter(e=>e instanceof gn&&e.field.isEqual(t))}function I2(n,t,e){let i=II,r=!0;for(const o of MI(n,t)){let l=II,u=!0;switch(o.op){case"<":case"<=":l=uG(o.value);break;case"==":case"in":case">=":l=o.value;break;case">":l=o.value,u=!1;break;case"!=":case"not-in":l=II}f2({value:i,inclusive:r},{value:l,inclusive:u})<0&&(i=l,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const l=e.position[o];f2({value:i,inclusive:r},{value:l,inclusive:e.inclusive})<0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}function S2(n,t,e){let i=Yf,r=!0;for(const o of MI(n,t)){let l=Yf,u=!0;switch(o.op){case">=":case">":l=hG(o.value),u=!1;break;case"==":case"in":case"<=":l=o.value;break;case"<":l=o.value,u=!1;break;case"!=":case"not-in":l=Yf}m2({value:i,inclusive:r},{value:l,inclusive:u})>0&&(i=l,r=u)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const l=e.position[o];m2({value:i,inclusive:r},{value:l,inclusive:e.inclusive})>0&&(i=l,r=e.inclusive);break}return{value:i,inclusive:r}}class ju{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,p=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=p,this.wt=null,this._t=null}}function D2(n,t,e,i,r,o,l,u){return new ju(n,t,e,i,r,o,l,u)}function ly(n){return new ju(n)}function T2(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Tk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function AI(n){for(const t of n.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Mk(n){return null!==n.collectionGroup}function lg(n){const t=rt(n);if(null===t.wt){t.wt=[];const e=AI(t),i=Tk(t);if(null!==e&&null===i)e.isKeyField()||t.wt.push(new sy(e)),t.wt.push(new sy(Zi.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.wt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new sy(Zi.keyField(),o))}}}return t.wt}function hs(n){const t=rt(n);if(!t._t)if("F"===t.limitType)t._t=Dk(t.path,t.collectionGroup,lg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of lg(t))e.push(new sy(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new Qf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Qf(t.startAt.position,t.startAt.inclusive):null;t._t=Dk(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t._t}function Ak(n,t){t.getFirstInequalityField(),AI(n);const e=n.filters.concat([t]);return new ju(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function kI(n,t,e){return new ju(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function cw(n,t){return lw(hs(n),hs(t))&&n.limitType===t.limitType}function M2(n){return`${ag(hs(n))}|lt:${n.limitType}`}function kk(n){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(i=>x2(i)).join(", ")}]`),nw(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(i=>{return`${(r=i).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>oy(i)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>oy(i)).join(",")),`Target(${e})`}(hs(n))}; limitType=${n.limitType})`}function dw(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):tt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of lg(e))if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,l){const u=g2(r,o,l);return r.inclusive?u<=0:u<0}(e.startAt,lg(e),i)||e.endAt&&!function(r,o,l){const u=g2(r,o,l);return r.inclusive?u>=0:u>0}(e.endAt,lg(e),i)));var e,i}function A2(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function k2(n){return(t,e)=>{let i=!1;for(const r of lg(n)){const o=wG(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function wG(n,t,e){const i=n.field.isKeyField()?tt.comparator(t.key,e.key):function(r,o,l){const u=o.data.field(r),p=l.data.field(r);return null!==u&&null!==p?Zf(u,p):mt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return mt()}}class Gu{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){$f(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return s2(this.inner)}size(){return this.innerSize}}const xG=new di(tt.comparator);function js(){return xG}const R2=new di(tt.comparator);function uw(...n){let t=R2;for(const e of n)t=t.insert(e.key,e);return t}function O2(n){let t=R2;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Md(){return hw()}function P2(){return hw()}function hw(){return new Gu(n=>n.toString(),(n,t)=>n.isEqual(t))}const CG=new di(tt.comparator),EG=new vi(tt.comparator);function rn(...n){let t=EG;for(const e of n)t=t.add(e);return t}const IG=new vi(Yt);function Rk(){return IG}function F2(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:iw(t)?"-0":t}}function N2(n){return{integerValue:""+n}}function L2(n,t){return QL(t)?N2(t):F2(n,t)}class RI{constructor(){this._=void 0}}function SG(n,t,e){return n instanceof cy?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&CI(r)&&(r=EI(r)),r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof cg?V2(n,t):n instanceof dg?U2(n,t):function(i,r){const o=B2(i,r),l=H2(o)+H2(i.gt);return Ck(o)&&Ck(i.gt)?N2(l):F2(i.serializer,l)}(n,t)}function DG(n,t,e){return n instanceof cg?V2(n,t):n instanceof dg?U2(n,t):e}function B2(n,t){return n instanceof dy?Ck(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class cy extends RI{}class cg extends RI{constructor(t){super(),this.elements=t}}function V2(n,t){const e=z2(t);for(const i of n.elements)e.some(r=>Td(r,i))||e.push(i);return{arrayValue:{values:e}}}class dg extends RI{constructor(t){super(),this.elements=t}}function U2(n,t){let e=z2(t);for(const i of n.elements)e=e.filter(r=>!Td(r,i));return{arrayValue:{values:e}}}class dy extends RI{constructor(t,e){super(),this.serializer=t,this.gt=e}}function H2(n){return Qi(n.integerValue||n.doubleValue)}function z2(n){return sw(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class fw{constructor(t,e){this.field=t,this.transform=e}}class MG{constructor(t,e){this.version=t,this.transformResults=e}}class Ri{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ri}static exists(t){return new Ri(void 0,t)}static updateTime(t){return new Ri(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function OI(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class PI{}function j2(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new hy(n.key,Ri.none()):new uy(n.key,n.data,Ri.none());{const e=n.data,i=wo.empty();let r=new vi(Zi.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);null===l&&o.length>1&&(o=o.popLast(),l=e.field(o)),null===l?i.delete(o):i.set(o,l),r=r.add(o)}return new $u(n.key,i,new zs(r.toArray()),Ri.none())}}function AG(n,t,e){n instanceof uy?function(i,r,o){const l=i.value.clone(),u=W2(i.fieldTransforms,r,o.transformResults);l.setAll(u),r.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(n,t,e):n instanceof $u?function(i,r,o){if(!OI(i.precondition,r))return void r.convertToUnknownDocument(o.version);const l=W2(i.fieldTransforms,r,o.transformResults),u=r.data;u.setAll($2(i)),u.setAll(l),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function mw(n,t,e,i){return n instanceof uy?function(r,o,l,u){if(!OI(r.precondition,o))return l;const p=r.value.clone(),v=q2(r.fieldTransforms,u,o);return p.setAll(v),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),null}(n,t,e,i):n instanceof $u?function(r,o,l,u){if(!OI(r.precondition,o))return l;const p=q2(r.fieldTransforms,u,o),v=o.data;return v.setAll($2(r)),v.setAll(p),o.convertToFoundDocument(o.version,v).setHasLocalMutations(),null===l?null:l.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(x=>x.field))}(n,t,e,i):(l=e,OI(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l);var o,l}function kG(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=B2(i.transform,r||null);null!=o&&(null===e&&(e=wo.empty()),e.set(i.field,o))}return e||null}function G2(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&iy(e,i,(r,o)=>function TG(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof cg&&i instanceof cg||e instanceof dg&&i instanceof dg?iy(e.elements,i.elements,Td):e instanceof dy&&i instanceof dy?Td(e.gt,i.gt):e instanceof cy&&i instanceof cy);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class uy extends PI{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $u extends PI{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $2(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function W2(n,t,e){const i=new Map;Et(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,DG(l,u,e[r]))}return i}function q2(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,SG(o,l,t))}return i}class hy extends PI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Ok extends PI{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Pk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&AG(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=mw(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=mw(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=P2();return this.mutations.forEach(r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const p=j2(l,u);null!==p&&i.set(r.key,p),l.isValidDocument()||l.convertToNoDocument(Dt.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),rn())}isEqual(t){return this.batchId===t.batchId&&iy(this.mutations,t.mutations,(e,i)=>G2(e,i))&&iy(this.baseMutations,t.baseMutations,(e,i)=>G2(e,i))}}class Fk{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){Et(t.mutations.length===i.length);let r=CG;const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new Fk(t,e,i,r)}}class Nk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class OG{constructor(t,e){this.count=t,this.unchangedNames=e}}var xr,Cn;function Y2(n){switch(n){default:return mt();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function K2(n){if(void 0===n)return lr("GRPC error has no .code"),fe.UNKNOWN;switch(n){case xr.OK:return fe.OK;case xr.CANCELLED:return fe.CANCELLED;case xr.UNKNOWN:return fe.UNKNOWN;case xr.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case xr.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case xr.INTERNAL:return fe.INTERNAL;case xr.UNAVAILABLE:return fe.UNAVAILABLE;case xr.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case xr.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case xr.NOT_FOUND:return fe.NOT_FOUND;case xr.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case xr.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case xr.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case xr.ABORTED:return fe.ABORTED;case xr.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case xr.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case xr.DATA_LOSS:return fe.DATA_LOSS;default:return mt()}}(Cn=xr||(xr={}))[Cn.OK=0]="OK",Cn[Cn.CANCELLED=1]="CANCELLED",Cn[Cn.UNKNOWN=2]="UNKNOWN",Cn[Cn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cn[Cn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cn[Cn.NOT_FOUND=5]="NOT_FOUND",Cn[Cn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cn[Cn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cn[Cn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cn[Cn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cn[Cn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cn[Cn.ABORTED=10]="ABORTED",Cn[Cn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cn[Cn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cn[Cn.INTERNAL=13]="INTERNAL",Cn[Cn.UNAVAILABLE=14]="UNAVAILABLE",Cn[Cn.DATA_LOSS=15]="DATA_LOSS";class Lk{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return FI}static getOrCreateInstance(){return null===FI&&(FI=new Lk),FI}onExistenceFilterMismatch(t){const e=Symbol();return this.onExistenceFilterMismatchCallbacks.set(e,t),()=>this.onExistenceFilterMismatchCallbacks.delete(e)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(e=>e(t))}}let FI=null;function Z2(){return new TextEncoder}const PG=new ty([4294967295,4294967295],0);function Q2(n){const t=Z2().encode(n),e=new D6;return e.update(t),new Uint8Array(e.digest())}function X2(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ty([e,i],0),new ty([r,o],0)]}class Bk{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new pw(`Invalid padding: ${e}`);if(i<0)throw new pw(`Invalid hash count: ${i}`);if(t.length>0&&0===this.hashCount)throw new pw(`Invalid hash count: ${i}`);if(0===t.length&&0!==e)throw new pw(`Invalid padding when bitmap length is 0: ${e}`);this.It=8*t.length-e,this.Tt=ty.fromNumber(this.It)}Et(t,e,i){let r=t.add(e.multiply(ty.fromNumber(i)));return 1===r.compare(PG)&&(r=new ty([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}vt(t){if(0===this.It)return!1;const e=Q2(t),[i,r]=X2(e);for(let o=0;o<this.hashCount;o++){const l=this.Et(i,r,o);if(!this.At(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new Bk(o,r,e);return i.forEach(u=>l.insert(u)),l}insert(t){if(0===this.It)return;const e=Q2(t),[i,r]=X2(e);for(let o=0;o<this.hashCount;o++){const l=this.Et(i,r,o);this.Rt(l)}}Rt(t){const e=Math.floor(t/8);this.bitmap[e]|=1<<t%8}}class pw extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gw{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,_w.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new gw(Dt.min(),r,new di(Yt),js(),rn())}}class _w{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new _w(i,e,rn(),rn(),rn())}}class NI{constructor(t,e,i,r){this.Pt=t,this.removedTargetIds=e,this.key=i,this.bt=r}}class J2{constructor(t,e){this.targetId=t,this.Vt=e}}class eB{constructor(t,e,i=Pr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class tB{constructor(){this.St=0,this.Dt=iB(),this.Ct=Pr.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=rn(),e=rn(),i=rn();return this.Dt.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:mt()}}),new _w(this.Ct,this.xt,t,e,i)}Ft(){this.Nt=!1,this.Dt=iB()}Bt(t,e){this.Nt=!0,this.Dt=this.Dt.insert(t,e)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class FG{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=js(),this.zt=nB(),this.Wt=new di(Yt)}Ht(t){for(const e of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(e,t.bt):this.Yt(e,t.key,t.bt);for(const e of t.removedTargetIds)this.Yt(e,t.key,t.bt)}Xt(t){this.forEachTarget(t,e=>{const i=this.Zt(e);switch(t.state){case 0:this.te(e)&&i.$t(t.resumeToken);break;case 1:i.Ut(),i.kt||i.Ft(),i.$t(t.resumeToken);break;case 2:i.Ut(),i.kt||this.removeTarget(e);break;case 3:this.te(e)&&(i.Kt(),i.$t(t.resumeToken));break;case 4:this.te(e)&&(this.ee(e),i.$t(t.resumeToken));break;default:mt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Qt.forEach((i,r)=>{this.te(r)&&e(r)})}ne(t){var e;const i=t.targetId,r=t.Vt.count,o=this.se(i);if(o){const l=o.target;if(TI(l))if(0===r){const u=new tt(l.path);this.Yt(i,u,yi.newNoDocument(u,Dt.min()))}else Et(1===r);else{const u=this.ie(i);if(u!==r){const p=this.re(t,u);0!==p&&(this.ee(i),this.Wt=this.Wt.insert(i,2===p?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(e=Lk.instance)||void 0===e||e.notifyOnExistenceFilterMismatch(function(v,x,D){var R,F,H,Y,te,Ve;const Ke={localCacheCount:x,existenceFilterCount:D.count},Xe=D.unchangedNames;return Xe&&(Ke.bloomFilter={applied:0===v,hashCount:null!==(R=Xe?.hashCount)&&void 0!==R?R:0,bitmapLength:null!==(Y=null===(H=null===(F=Xe?.bits)||void 0===F?void 0:F.bitmap)||void 0===H?void 0:H.length)&&void 0!==Y?Y:0,padding:null!==(Ve=null===(te=Xe?.bits)||void 0===te?void 0:te.padding)&&void 0!==Ve?Ve:0}),Ke}(p,u,t.Vt))}}}}re(t,e){const{unchangedNames:i,count:r}=t.Vt;if(!i||!i.bits)return 1;const{bits:{bitmap:o="",padding:l=0},hashCount:u=0}=i;let p,v;try{p=zu(o).toUint8Array()}catch(x){if(x instanceof l2)return al("Decoding the base64 bloom filter in existence filter failed ("+x.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw x}try{v=new Bk(p,l,u)}catch(x){return al(x instanceof pw?"BloomFilter error: ":"Applying bloom filter failed: ",x),1}return 0===v.It?1:r!==e-this.oe(t.targetId,v)?2:0}oe(t,e){const i=this.Gt.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const l=this.Gt.ue(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.vt(u)||(this.Yt(t,o,null),r++)}),r}ce(t){const e=new Map;this.Qt.forEach((o,l)=>{const u=this.se(l);if(u){if(o.current&&TI(u.target)){const p=new tt(u.target.path);null!==this.jt.get(p)||this.ae(l,p)||this.Yt(l,p,yi.newNoDocument(p,t))}o.Mt&&(e.set(l,o.Ot()),o.Ft())}});let i=rn();this.zt.forEach((o,l)=>{let u=!0;l.forEachWhile(p=>{const v=this.se(p);return!v||"TargetPurposeLimboResolution"===v.purpose||(u=!1,!1)}),u&&(i=i.add(o))}),this.jt.forEach((o,l)=>l.setReadTime(t));const r=new gw(t,e,this.Wt,this.jt,i);return this.jt=js(),this.zt=nB(),this.Wt=new di(Yt),r}Jt(t,e){if(!this.te(t))return;const i=this.ae(t,e.key)?2:0;this.Zt(t).Bt(e.key,i),this.jt=this.jt.insert(e.key,e),this.zt=this.zt.insert(e.key,this.he(e.key).add(t))}Yt(t,e,i){if(!this.te(t))return;const r=this.Zt(t);this.ae(t,e)?r.Bt(e,1):r.Lt(e),this.zt=this.zt.insert(e,this.he(e).delete(t)),i&&(this.jt=this.jt.insert(e,i))}removeTarget(t){this.Qt.delete(t)}ie(t){const e=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let e=this.Qt.get(t);return e||(e=new tB,this.Qt.set(t,e)),e}he(t){let e=this.zt.get(t);return e||(e=new vi(Yt),this.zt=this.zt.insert(t,e)),e}te(t){const e=null!==this.se(t);return e||He("WatchChangeAggregator","Detected inactive target",t),e}se(t){const e=this.Qt.get(t);return e&&e.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new tB),this.Gt.getRemoteKeysForTarget(t).forEach(e=>{this.Yt(t,e,null)})}ae(t,e){return this.Gt.getRemoteKeysForTarget(t).has(e)}}function nB(){return new di(tt.comparator)}function iB(){return new di(tt.comparator)}const NG={asc:"ASCENDING",desc:"DESCENDING"},LG={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BG={and:"AND",or:"OR"};class VG{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Vk(n,t){return n.useProto3Json||nw(t)?t:{value:t}}function fy(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function rB(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function UG(n,t){return fy(n,t.toTimestamp())}function cr(n){return Et(!!n),Dt.fromTimestamp(function(t){const e=Wf(t);return new ki(e.seconds,e.nanos)}(n))}function Uk(n,t){return(e=n,new xn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function oB(n){const t=xn.fromString(n);return Et(mB(t)),t}function vw(n,t){return Uk(n.databaseId,t.path)}function Ad(n,t){const e=oB(t);if(e.get(1)!==n.databaseId.projectId)throw new ke(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ke(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new tt(aB(e))}function Hk(n,t){return Uk(n.databaseId,t)}function sB(n){const t=oB(n);return 4===t.length?xn.emptyPath():aB(t)}function yw(n){return new xn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function aB(n){return Et(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function lB(n,t,e){return{name:vw(n,t),fields:e.value.mapValue.fields}}function cB(n,t,e){const i=Ad(n,t.name),r=cr(t.updateTime),o=t.createTime?cr(t.createTime):Dt.min(),l=new wo({mapValue:{fields:t.fields}}),u=yi.newFoundDocument(i,r,o,l);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function bw(n,t){let e;if(t instanceof uy)e={update:lB(n,t.key,t.value)};else if(t instanceof hy)e={delete:vw(n,t.key)};else if(t instanceof $u)e={update:lB(n,t.key,t.data),updateMask:YG(t.fieldMask)};else{if(!(t instanceof Ok))return mt();e={verify:vw(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const l=o.transform;if(l instanceof cy)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof cg)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof dg)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof dy)return{fieldPath:o.field.canonicalString(),increment:l.gt};throw mt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:UG(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:mt()),e;var r}function zk(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ri.updateTime(cr(r.updateTime)):void 0!==r.exists?Ri.exists(r.exists):Ri.none():Ri.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,l){let u=null;"setToServerValue"in l?(Et("REQUEST_TIME"===l.setToServerValue),u=new cy):"appendMissingElements"in l?u=new cg(l.appendMissingElements.values||[]):"removeAllFromArray"in l?u=new dg(l.removeAllFromArray.values||[]):"increment"in l?u=new dy(o,l.increment):mt();const p=Zi.fromServerFormat(l.fieldPath);return new fw(p,u)}(n,r)):[];var r;if(t.update){const r=Ad(n,t.update.name),o=new wo({mapValue:{fields:t.update.fields}});if(t.updateMask){const l=new zs((t.updateMask.fieldPaths||[]).map(v=>Zi.fromServerFormat(v)));return new $u(r,o,l,e,i)}return new uy(r,o,e,i)}if(t.delete){const r=Ad(n,t.delete);return new hy(r,e)}if(t.verify){const r=Ad(n,t.verify);return new Ok(r,e)}return mt()}function dB(n,t){return{documents:[Hk(n,t.path)]}}function jk(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=Hk(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=Hk(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(p){if(0!==p.length)return fB($n.create(p,"and"))}(t.filters);r&&(e.structuredQuery.where=r);const o=function(p){if(0!==p.length)return p.map(v=>{return{field:Xf((x=v).field),direction:$G(x.dir)};var x})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const l=Vk(n,t.limit);var u,p;return null!==l&&(e.structuredQuery.limit=l),t.startAt&&(e.structuredQuery.startAt={before:(u=t.startAt).inclusive,values:u.position}),t.endAt&&(e.structuredQuery.endAt={before:!(p=t.endAt).inclusive,values:p.position}),e}function uB(n){let t=sB(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){Et(1===i);const x=e.from[0];x.allDescendants?r=x.collectionId:t=t.child(x.collectionId)}let o=[];e.where&&(o=function(x){const D=hB(x);return D instanceof $n&&Ik(D)?D.getFilters():[D]}(e.where));let l=[];e.orderBy&&(l=e.orderBy.map(x=>{return new sy(my((D=x).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction));var D}));let u=null;e.limit&&(u=function(x){let D;return D="object"==typeof x?x.value:x,nw(D)?null:D}(e.limit));let p=null;var x;e.startAt&&(p=new Qf((x=e.startAt).values||[],!!x.before));let v=null;return e.endAt&&(v=function(x){return new Qf(x.values||[],!x.before)}(e.endAt)),D2(t,r,l,o,u,"F",p,v)}function hB(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=my(t.unaryFilter.field);return gn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const i=my(t.unaryFilter.field);return gn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=my(t.unaryFilter.field);return gn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=my(t.unaryFilter.field);return gn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return mt()}}(n):void 0!==n.fieldFilter?gn.create(my((t=n).fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return mt()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return $n.create(t.compositeFilter.filters.map(e=>hB(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mt()}}(t.compositeFilter.op))}(n):mt();var t}function $G(n){return NG[n]}function WG(n){return LG[n]}function qG(n){return BG[n]}function Xf(n){return{fieldPath:n.canonicalString()}}function my(n){return Zi.fromServerFormat(n.fieldPath)}function fB(n){return n instanceof gn?function(t){if("=="===t.op){if(u2(t.value))return{unaryFilter:{field:Xf(t.field),op:"IS_NAN"}};if(d2(t.value))return{unaryFilter:{field:Xf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(u2(t.value))return{unaryFilter:{field:Xf(t.field),op:"IS_NOT_NAN"}};if(d2(t.value))return{unaryFilter:{field:Xf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xf(t.field),op:WG(t.op),value:t.value}}}(n):n instanceof $n?function(t){const e=t.getFilters().map(i=>fB(i));return 1===e.length?e[0]:{compositeFilter:{op:qG(t.op),filters:e}}}(n):mt()}function YG(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function mB(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Wu{constructor(t,e,i,r,o=Dt.min(),l=Dt.min(),u=Pr.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=p}withSequenceNumber(t){return new Wu(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class pB{constructor(t){this.fe=t}}function gB(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:LI(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:vw(r=n.fe,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:fy(r,o.version.toTimestamp()),createTime:fy(r,o.createTime.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:ug(t.version)};else{if(!t.isUnknownDocument())return mt();i.unknownDocument={path:e.path.toArray(),version:ug(t.version)}}var r,o;return i}function LI(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function ug(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function hg(n){const t=new ki(n.seconds,n.nanoseconds);return Dt.fromTimestamp(t)}function fg(n,t){const e=(t.baseMutations||[]).map(o=>zk(n.fe,o));for(let o=0;o<t.mutations.length-1;++o)o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(t.mutations[o].updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o);const i=t.mutations.map(o=>zk(n.fe,o)),r=ki.fromMillis(t.localWriteTimeMs);return new Pk(t.batchId,r,e,i)}function ww(n){const t=hg(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?hg(n.lastLimboFreeSnapshotVersion):Dt.min();let i;var r;return void 0!==n.query.documents?(Et(1===(r=n.query).documents.length),i=hs(ly(sB(r.documents[0])))):i=hs(uB(n.query)),new Wu(i,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,t,e,Pr.fromBase64String(n.resumeToken))}function _B(n,t){const e=ug(t.snapshotVersion),i=ug(t.lastLimboFreeSnapshotVersion);let r;r=TI(t.target)?dB(n.fe,t.target):jk(n.fe,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ag(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function Gk(n){const t=uB({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kI(t,t.limit,"L"):t}function $k(n,t){return new Nk(t.largestBatchId,zk(n.fe,t.overlayMutation))}function vB(n,t){const e=t.path.lastSegment();return[n,zo(t.path.popLast()),e]}function yB(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:ug(i.readTime),documentKey:zo(i.documentKey.path),largestBatchId:i.largestBatchId}}class ZG{getBundleMetadata(t,e){return bB(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:hg(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return bB(t).put({bundleId:(i=e).id,createTime:ug(cr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return wB(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:Gk(r.bundledQuery),readTime:hg(r.readTime)};var r})}saveNamedQuery(t,e){return wB(t).put({name:(i=e).name,readTime:ug(cr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function bB(n){return Xr(n,"bundles")}function wB(n){return Xr(n,"namedQueries")}class BI{constructor(t,e){this.serializer=t,this.userId=e}static de(t,e){return new BI(t,e.uid||"")}getOverlay(t,e){return xw(t).get(vB(this.userId,e)).next(i=>i?$k(this.serializer,i):null)}getOverlays(t,e){const i=Md();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,l)=>{const u=new Nk(e,l);r.push(this.we(t,u))}),ae.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(l=>r.add(zo(l.getCollectionPath())));const o=[];return r.forEach(l=>{const u=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,i+1],!1,!0);o.push(xw(t).J("collectionPathOverlayIndex",u))}),ae.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Md(),o=zo(e),l=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return xw(t).j("collectionPathOverlayIndex",l).next(u=>{for(const p of u){const v=$k(this.serializer,p);r.set(v.getKey(),v)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Md();let l;const u=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return xw(t).X({index:"collectionGroupOverlayIndex",range:u},(p,v,x)=>{const D=$k(this.serializer,v);o.size()<r||D.largestBatchId===l?(o.set(D.getKey(),D),l=D.largestBatchId):x.done()}).next(()=>o)}we(t,e){return xw(t).put(function(i,r,o){const[l,u,p]=vB(r,o.mutation.key);return{userId:r,collectionPath:u,documentId:p,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:bw(i.fe,o.mutation)}}(this.serializer,this.userId,e))}}function xw(n){return Xr(n,"documentOverlays")}class mg{constructor(){}_e(t,e){this.me(t,e),e.ge()}me(t,e){if("nullValue"in t)this.ye(e,5);else if("booleanValue"in t)this.ye(e,10),e.pe(t.booleanValue?1:0);else if("integerValue"in t)this.ye(e,15),e.pe(Qi(t.integerValue));else if("doubleValue"in t){const i=Qi(t.doubleValue);isNaN(i)?this.ye(e,13):(this.ye(e,15),iw(i)?e.pe(0):e.pe(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ye(e,20),"string"==typeof i?e.Ie(i):(e.Ie(`${i.seconds||""}`),e.pe(i.nanos||0))}else if("stringValue"in t)this.Te(t.stringValue,e),this.Ee(e);else if("bytesValue"in t)this.ye(e,30),e.Ae(zu(t.bytesValue)),this.Ee(e);else if("referenceValue"in t)this.ve(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ye(e,45),e.pe(i.latitude||0),e.pe(i.longitude||0)}else"mapValue"in t?h2(t)?this.ye(e,Number.MAX_SAFE_INTEGER):(this.Re(t.mapValue,e),this.Ee(e)):"arrayValue"in t?(this.Pe(t.arrayValue,e),this.Ee(e)):mt()}Te(t,e){this.ye(e,25),this.be(t,e)}be(t,e){e.Ie(t)}Re(t,e){const i=t.fields||{};this.ye(e,55);for(const r of Object.keys(i))this.Te(r,e),this.me(i[r],e)}Pe(t,e){const i=t.values||[];this.ye(e,50);for(const r of i)this.me(r,e)}ve(t,e){this.ye(e,37),tt.fromName(t).path.forEach(i=>{this.ye(e,60),this.be(i,e)})}ye(t,e){t.pe(e)}Ee(t){t.pe(2)}}function QG(n){if(0===n)return 8;let t=0;return!(n>>4)&&(t+=4,n<<=4),!(n>>6)&&(t+=2,n<<=2),!(n>>7)&&(t+=1),t}function xB(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=QG(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}mg.Ve=new mg;class XG{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Se(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.De(i.value),i=e.next();this.Ce()}xe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ne(i.value),i=e.next();this.ke()}Me(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.De(i);else if(i<2048)this.De(960|i>>>6),this.De(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.De(480|i>>>12),this.De(128|63&i>>>6),this.De(128|63&i);else{const r=e.codePointAt(0);this.De(240|r>>>18),this.De(128|63&r>>>12),this.De(128|63&r>>>6),this.De(128|63&r)}}this.Ce()}$e(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ne(i);else if(i<2048)this.Ne(960|i>>>6),this.Ne(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ne(480|i>>>12),this.Ne(128|63&i>>>6),this.Ne(128|63&i);else{const r=e.codePointAt(0);this.Ne(240|r>>>18),this.Ne(128|63&r>>>12),this.Ne(128|63&r>>>6),this.Ne(128|63&r)}}this.ke()}Oe(t){const e=this.Fe(t),i=xB(e);this.Be(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}Le(t){const e=this.Fe(t),i=xB(e);this.Be(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}qe(){this.Ue(255),this.Ue(255)}Ke(){this.Ge(255),this.Ge(255)}reset(){this.position=0}seed(t){this.Be(t.length),this.buffer.set(t,this.position),this.position+=t.length}Qe(){return this.buffer.slice(0,this.position)}Fe(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}De(t){const e=255&t;0===e?(this.Ue(0),this.Ue(255)):255===e?(this.Ue(255),this.Ue(0)):this.Ue(e)}Ne(t){const e=255&t;0===e?(this.Ge(0),this.Ge(255)):255===e?(this.Ge(255),this.Ge(0)):this.Ge(t)}Ce(){this.Ue(0),this.Ue(1)}ke(){this.Ge(0),this.Ge(1)}Ue(t){this.Be(1),this.buffer[this.position++]=t}Ge(t){this.Be(1),this.buffer[this.position++]=~t}Be(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class JG{constructor(t){this.je=t}Ae(t){this.je.Se(t)}Ie(t){this.je.Me(t)}pe(t){this.je.Oe(t)}ge(){this.je.qe()}}class e${constructor(t){this.je=t}Ae(t){this.je.xe(t)}Ie(t){this.je.$e(t)}pe(t){this.je.Le(t)}ge(){this.je.Ke()}}class Cw{constructor(){this.je=new XG,this.ze=new JG(this.je),this.We=new e$(this.je)}seed(t){this.je.seed(t)}He(t){return 0===t?this.ze:this.We}Qe(){return this.je.Qe()}reset(){this.je.reset()}}class pg{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Je(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new pg(this.indexId,this.documentKey,this.arrayValue,i)}}function Jf(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=CB(n.arrayValue,t.arrayValue),0!==e?e:(e=CB(n.directionalValue,t.directionalValue),0!==e?e:tt.comparator(n.documentKey,t.documentKey)))}function CB(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class t${constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ye=t.orderBy,this.Xe=[];for(const e of t.filters){const i=e;i.isInequality()?this.Ze=i:this.Xe.push(i)}}tn(t){Et(t.collectionGroup===this.collectionId);const e=_k(t);if(void 0!==e&&!this.en(e))return!1;const i=rg(t);let r=new Set,o=0,l=0;for(;o<i.length&&this.en(i[o]);++o)r=r.add(i[o].fieldPath.canonicalString());if(o===i.length)return!0;if(void 0!==this.Ze){if(!r.has(this.Ze.field.canonicalString())){const u=i[o];if(!this.nn(this.Ze,u)||!this.sn(this.Ye[l++],u))return!1}++o}for(;o<i.length;++o)if(l>=this.Ye.length||!this.sn(this.Ye[l++],i[o]))return!1;return!0}en(t){for(const e of this.Xe)if(this.nn(e,t))return!0;return!1}nn(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}sn(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}function EB(n){var t,e;if(Et(n instanceof gn||n instanceof $n),n instanceof gn){if(n instanceof E2){const r=(null===(e=null===(t=n.value.arrayValue)||void 0===t?void 0:t.values)||void 0===e?void 0:e.map(o=>gn.create(n.field,"==",o)))||[];return $n.create(r,"or")}return n}const i=n.filters.map(r=>EB(r));return $n.create(i,n.op)}function n$(n){if(0===n.getFilters().length)return[];const t=Yk(EB(n));return Et(IB(t)),Wk(t)||qk(t)?[t]:t.getFilters()}function Wk(n){return n instanceof gn}function qk(n){return n instanceof $n&&Ik(n)}function IB(n){return Wk(n)||qk(n)||function(t){if(t instanceof $n&&Ek(t)){for(const e of t.getFilters())if(!Wk(e)&&!qk(e))return!1;return!0}return!1}(n)}function Yk(n){if(Et(n instanceof gn||n instanceof $n),n instanceof gn)return n;if(1===n.filters.length)return Yk(n.filters[0]);const t=n.filters.map(i=>Yk(i));let e=$n.create(t,n.op);return e=VI(e),IB(e)?e:(Et(e instanceof $n),Et(ay(e)),Et(e.filters.length>1),e.filters.reduce((i,r)=>Kk(i,r)))}function Kk(n,t){let e;return Et(n instanceof gn||n instanceof $n),Et(t instanceof gn||t instanceof $n),e=n instanceof gn?t instanceof gn?$n.create([n,t],"and"):SB(n,t):t instanceof gn?SB(t,n):function(i,r){if(Et(i.filters.length>0&&r.filters.length>0),ay(i)&&ay(r))return w2(i,r.getFilters());const o=Ek(i)?i:r,l=Ek(i)?r:i,u=o.filters.map(p=>Kk(p,l));return $n.create(u,"or")}(n,t),VI(e)}function SB(n,t){if(ay(t))return w2(t,n.getFilters());{const e=t.filters.map(i=>Kk(n,i));return $n.create(e,"or")}}function VI(n){if(Et(n instanceof gn||n instanceof $n),n instanceof gn)return n;const t=n.getFilters();if(1===t.length)return VI(t[0]);if(y2(n))return n;const e=t.map(r=>VI(r)),i=[];return e.forEach(r=>{r instanceof gn?i.push(r):r instanceof $n&&(r.op===n.op?i.push(...r.filters):i.push(r))}),1===i.length?i[0]:$n.create(i,n.op)}class i${constructor(){this.rn=new Zk}addToCollectionParentIndex(t,e){return this.rn.add(e),ae.resolve()}getCollectionParents(t,e){return ae.resolve(this.rn.getEntries(e))}addFieldIndex(t,e){return ae.resolve()}deleteFieldIndex(t,e){return ae.resolve()}getDocumentsMatchingTarget(t,e){return ae.resolve(null)}getIndexType(t,e){return ae.resolve(0)}getFieldIndexes(t,e){return ae.resolve([])}getNextCollectionGroupToUpdate(t){return ae.resolve(null)}getMinOffset(t,e){return ae.resolve(Sa.min())}getMinOffsetFromCollectionGroup(t,e){return ae.resolve(Sa.min())}updateCollectionGroup(t,e,i){return ae.resolve()}updateIndexEntries(t,e){return ae.resolve()}}class Zk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new vi(xn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new vi(xn.comparator)).toArray()}}const UI=new Uint8Array(0);class r${constructor(t,e){this.user=t,this.databaseId=e,this.on=new Zk,this.un=new Gu(i=>ag(i),(i,r)=>lw(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.on.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.on.add(e)});const o={collectionId:i,parent:zo(r)};return DB(t).put(o)}return ae.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[$L(e),""],!1,!0);return DB(t).j(r).next(o=>{for(const l of o){if(l.collectionId!==e)break;i.push(Dd(l.parent))}return i})}addFieldIndex(t,e){const i=HI(t),r={indexId:(l=e).indexId,collectionGroup:l.collectionGroup,fields:l.fields.map(u=>[u.fieldPath.canonicalString(),u.kind])};var l;delete r.indexId;const o=i.add(r);if(e.indexState){const l=Iw(t);return o.next(u=>{l.put(yB(u,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=HI(t),r=Iw(t),o=Ew(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Ew(t);let r=!0;const o=new Map;return ae.forEach(this.cn(e),l=>this.an(t,l).next(u=>{r&&(r=!!u),o.set(l,u)})).next(()=>{if(r){let l=rn();const u=[];return ae.forEach(o,(p,v)=>{var x;He("IndexedDbIndexManager",`Using index ${x=p,`id=${x.indexId}|cg=${x.collectionGroup}|f=${x.fields.map(Xe=>`${Xe.fieldPath}:${Xe.kind}`).join(",")}`} to execute ${ag(e)}`);const D=function(Xe,dt){const zt=_k(dt);if(void 0===zt)return null;for(const Kt of MI(Xe,zt.fieldPath))switch(Kt.op){case"array-contains-any":return Kt.value.arrayValue.values||[];case"array-contains":return[Kt.value]}return null}(v,p),R=function(Xe,dt){const zt=new Map;for(const Kt of rg(dt))for(const An of MI(Xe,Kt.fieldPath))switch(An.op){case"==":case"in":zt.set(Kt.fieldPath.canonicalString(),An.value);break;case"not-in":case"!=":return zt.set(Kt.fieldPath.canonicalString(),An.value),Array.from(zt.values())}return null}(v,p),F=function(Xe,dt){const zt=[];let Kt=!0;for(const An of rg(dt)){const So=0===An.kind?I2(Xe,An.fieldPath,Xe.startAt):S2(Xe,An.fieldPath,Xe.startAt);zt.push(So.value),Kt&&(Kt=So.inclusive)}return new Qf(zt,Kt)}(v,p),H=function(Xe,dt){const zt=[];let Kt=!0;for(const An of rg(dt)){const So=0===An.kind?S2(Xe,An.fieldPath,Xe.endAt):I2(Xe,An.fieldPath,Xe.endAt);zt.push(So.value),Kt&&(Kt=So.inclusive)}return new Qf(zt,Kt)}(v,p),Y=this.hn(p,v,F),te=this.hn(p,v,H),Ve=this.ln(p,v,R),Ke=this.fn(p.indexId,D,Y,F.inclusive,te,H.inclusive,Ve);return ae.forEach(Ke,Xe=>i.H(Xe,e.limit).next(dt=>{dt.forEach(zt=>{const Kt=tt.fromSegments(zt.documentKey);l.has(Kt)||(l=l.add(Kt),u.push(Kt))})}))}).next(()=>u)}return ae.resolve(null)})}cn(t){let e=this.un.get(t);return e||(e=0===t.filters.length?[t]:n$($n.create(t.filters,"and")).map(i=>Dk(t.path,t.collectionGroup,t.orderBy,i.getFilters(),t.limit,t.startAt,t.endAt)),this.un.set(t,e),e)}fn(t,e,i,r,o,l,u){const p=(null!=e?e.length:1)*Math.max(i.length,o.length),v=p/(null!=e?e.length:1),x=[];for(let D=0;D<p;++D){const R=e?this.dn(e[D/v]):UI,F=this.wn(t,R,i[D%v],r),H=this._n(t,R,o[D%v],l),Y=u.map(te=>this.wn(t,R,te,!0));x.push(...this.createRange(F,H,Y))}return x}wn(t,e,i,r){const o=new pg(t,tt.empty(),e,i);return r?o:o.Je()}_n(t,e,i,r){const o=new pg(t,tt.empty(),e,i);return r?o.Je():o}an(t,e){const i=new t$(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let l=null;for(const u of o)i.tn(u)&&(!l||u.fields.length>l.fields.length)&&(l=u);return l})}getIndexType(t,e){let i=2;const r=this.cn(e);return ae.forEach(r,o=>this.an(t,o).next(l=>{l?0!==i&&l.fields.length<function(u){let p=new vi(Zi.comparator),v=!1;for(const x of u.filters)for(const D of x.getFlattenedFilters())D.field.isKeyField()||("array-contains"===D.op||"array-contains-any"===D.op?v=!0:p=p.add(D.field));for(const x of u.orderBy)x.field.isKeyField()||(p=p.add(x.field));return p.size+(v?1:0)}(o)&&(i=1):i=0})).next(()=>null!==e.limit&&r.length>1&&2===i?1:i)}mn(t,e){const i=new Cw;for(const r of rg(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const l=i.He(r.kind);mg.Ve._e(o,l)}return i.Qe()}dn(t){const e=new Cw;return mg.Ve._e(t,e.He(0)),e.Qe()}gn(t,e){const i=new Cw;return mg.Ve._e(sg(this.databaseId,e),i.He(function(r){const o=rg(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Qe()}ln(t,e,i){if(null===i)return[];let r=[];r.push(new Cw);let o=0;for(const l of rg(t)){const u=i[o++];for(const p of r)if(this.yn(e,l.fieldPath)&&sw(u))r=this.pn(r,l,u);else{const v=p.He(l.kind);mg.Ve._e(u,v)}}return this.In(r)}hn(t,e,i){return this.ln(t,e,i.position)}In(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Qe();return e}pn(t,e,i){const r=[...t],o=[];for(const l of i.arrayValue.values||[])for(const u of r){const p=new Cw;p.seed(u.Qe()),mg.Ve._e(l,p.He(e.kind)),o.push(p)}return o}yn(t,e){return!!t.filters.find(i=>i instanceof gn&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=HI(t),r=Iw(t);return(e?i.j("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.j()).next(o=>{const l=[];return ae.forEach(o,u=>r.get([u.indexId,this.uid]).next(p=>{l.push(function(v,x){const D=x?new ew(x.sequenceNumber,new Sa(hg(x.readTime),new tt(Dd(x.documentKey)),x.largestBatchId)):ew.empty(),R=v.fields.map(([F,H])=>new yI(Zi.fromServerFormat(F),H));return new vI(v.indexId,v.collectionGroup,R,D)}(u,p))})).next(()=>l)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:Yt(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=HI(t),o=Iw(t);return this.Tn(t).next(l=>r.j("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(u=>ae.forEach(u,p=>o.put(yB(p.indexId,this.user,l,i)))))}updateIndexEntries(t,e){const i=new Map;return ae.forEach(e,(r,o)=>{const l=i.get(r.collectionGroup);return(l?ae.resolve(l):this.getFieldIndexes(t,r.collectionGroup)).next(u=>(i.set(r.collectionGroup,u),ae.forEach(u,p=>this.En(t,r,p).next(v=>{const x=this.An(o,p);return v.isEqual(x)?ae.resolve():this.vn(t,o,p,v,x)}))))})}Rn(t,e,i,r){return Ew(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.gn(i,e.key),documentKey:e.key.path.toArray()})}Pn(t,e,i,r){return Ew(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.gn(i,e.key),e.key.path.toArray()])}En(t,e,i){const r=Ew(t);let o=new vi(Jf);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.gn(i,e)])},(l,u)=>{o=o.add(new pg(i.indexId,e,u.arrayValue,u.directionalValue))}).next(()=>o)}An(t,e){let i=new vi(Jf);const r=this.mn(e,t);if(null==r)return i;const o=_k(e);if(null!=o){const l=t.data.field(o.fieldPath);if(sw(l))for(const u of l.arrayValue.values||[])i=i.add(new pg(e.indexId,t.key,this.dn(u),r))}else i=i.add(new pg(e.indexId,t.key,UI,r));return i}vn(t,e,i,r,o){He("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const l=[];return function(u,p,v,x,D){const R=u.getIterator(),F=p.getIterator();let H=ry(R),Y=ry(F);for(;H||Y;){let te=!1,Ve=!1;if(H&&Y){const Ke=v(H,Y);Ke<0?Ve=!0:Ke>0&&(te=!0)}else null!=H?Ve=!0:te=!0;te?(x(Y),Y=ry(F)):Ve?(D(H),H=ry(R)):(H=ry(R),Y=ry(F))}}(r,o,Jf,u=>{l.push(this.Rn(t,e,i,u))},u=>{l.push(this.Pn(t,e,i,u))}),ae.waitFor(l)}Tn(t){let e=1;return Iw(t).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((l,u)=>Jf(l,u)).filter((l,u,p)=>!u||0!==Jf(l,p[u-1]));const r=[];r.push(t);for(const l of i){const u=Jf(l,t),p=Jf(l,e);if(0===u)r[0]=t.Je();else if(u>0&&p<0)r.push(l),r.push(l.Je());else if(p>0)break}r.push(e);const o=[];for(let l=0;l<r.length;l+=2){if(this.bn(r[l],r[l+1]))return[];o.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,UI,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,UI,[]]))}return o}bn(t,e){return Jf(t,e)>0}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(TB)}getMinOffset(t,e){return ae.mapArray(this.cn(e),i=>this.an(t,i).next(r=>r||mt())).next(TB)}}function DB(n){return Xr(n,"collectionParents")}function Ew(n){return Xr(n,"indexEntries")}function HI(n){return Xr(n,"indexConfiguration")}function Iw(n){return Xr(n,"indexState")}function TB(n){Et(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;vk(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Sa(t.readTime,t.documentKey,e)}const MB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class jo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new jo(t,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function AB(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],l=IDBKeyRange.only(e.batchId);let u=0;const p=i.X({range:l},(x,D,R)=>(u++,R.delete()));o.push(p.next(()=>{Et(1===u)}));const v=[];for(const x of e.mutations){const D=e2(t,x.key.path,e.batchId);o.push(r.delete(D)),v.push(x.key)}return ae.waitFor(o).next(()=>v)}function zI(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw mt();t=n.noDocument}return JSON.stringify(t).length}jo.DEFAULT_COLLECTION_PERCENTILE=10,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jo.DEFAULT=new jo(41943040,jo.DEFAULT_COLLECTION_PERCENTILE,jo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jo.DISABLED=new jo(-1,0,0);class jI{constructor(t,e,i,r){this.userId=t,this.serializer=e,this.indexManager=i,this.referenceDelegate=r,this.Vn={}}static de(t,e,i,r){Et(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new jI(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return em(t).X({index:"userMutationsIndex",range:i},(r,o,l)=>{e=!1,l.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=py(t),l=em(t);return l.add({}).next(u=>{Et("number"==typeof u);const p=new Pk(u,e,i,r),v=function(R,F,H){const Y=H.baseMutations.map(Ve=>bw(R.fe,Ve)),te=H.mutations.map(Ve=>bw(R.fe,Ve));return{userId:F,batchId:H.batchId,localWriteTimeMs:H.localWriteTime.toMillis(),baseMutations:Y,mutations:te}}(this.serializer,this.userId,p),x=[];let D=new vi((R,F)=>Yt(R.canonicalString(),F.canonicalString()));for(const R of r){const F=e2(this.userId,R.key.path,u);D=D.add(R.key.path.popLast()),x.push(l.put(v)),x.push(o.put(F,$6))}return D.forEach(R=>{x.push(this.indexManager.addToCollectionParentIndex(t,R))}),t.addOnCommittedListener(()=>{this.Vn[u]=p.keys()}),ae.waitFor(x).next(()=>p)})}lookupMutationBatch(t,e){return em(t).get(e).next(i=>i?(Et(i.userId===this.userId),fg(this.serializer,i)):null)}Sn(t,e){return this.Vn[e]?ae.resolve(this.Vn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.Vn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return em(t).X({index:"userMutationsIndex",range:r},(l,u,p)=>{u.userId===this.userId&&(Et(u.batchId>=i),o=fg(this.serializer,u)),p.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return em(t).X({index:"userMutationsIndex",range:e,reverse:!0},(r,o,l)=>{i=o.batchId,l.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return em(t).j("userMutationsIndex",e).next(i=>i.map(r=>fg(this.serializer,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=wI(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return py(t).X({range:r},(l,u,p)=>{const[v,x,D]=l,R=Dd(x);if(v===this.userId&&e.path.isEqual(R))return em(t).get(D).next(F=>{if(!F)throw mt();Et(F.userId===this.userId),o.push(fg(this.serializer,F))});p.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new vi(Yt);const r=[];return e.forEach(o=>{const l=wI(this.userId,o.path),u=IDBKeyRange.lowerBound(l),p=py(t).X({range:u},(v,x,D)=>{const[R,F,H]=v,Y=Dd(F);R===this.userId&&o.path.isEqual(Y)?i=i.add(H):D.done()});r.push(p)}),ae.waitFor(r).next(()=>this.Dn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=wI(this.userId,i),l=IDBKeyRange.lowerBound(o);let u=new vi(Yt);return py(t).X({range:l},(p,v,x)=>{const[D,R,F]=p,H=Dd(R);D===this.userId&&i.isPrefixOf(H)?H.length===r&&(u=u.add(F)):x.done()}).next(()=>this.Dn(t,u))}Dn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(em(t).get(o).next(l=>{if(null===l)throw mt();Et(l.userId===this.userId),i.push(fg(this.serializer,l))}))}),ae.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return AB(t.ht,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.Cn(e.batchId)}),ae.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}Cn(t){delete this.Vn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return ae.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return py(t).X({range:i},(o,l,u)=>{if(o[0]===this.userId){const p=Dd(o[1]);r.push(p)}else u.done()}).next(()=>{Et(0===r.length)})})}containsKey(t,e){return kB(t,this.userId,e)}xn(t){return RB(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kB(n,t,e){const i=wI(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let l=!1;return py(n).X({range:o,Y:!0},(u,p,v)=>{const[x,D,R]=u;x===t&&D===r&&(l=!0),v.done()}).next(()=>l)}function em(n){return Xr(n,"mutations")}function py(n){return Xr(n,"documentMutations")}function RB(n){return Xr(n,"mutationQueues")}class gg{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new gg(0)}static Mn(){return new gg(-1)}}class o${constructor(t,e){this.referenceDelegate=t,this.serializer=e}allocateTargetId(t){return this.$n(t).next(e=>{const i=new gg(e.highestTargetId);return e.highestTargetId=i.next(),this.On(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.$n(t).next(e=>Dt.fromTimestamp(new ki(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.$n(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.$n(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.On(t,r)))}addTargetData(t,e){return this.Fn(t,e).next(()=>this.$n(t).next(i=>(i.targetCount+=1,this.Bn(e,i),this.On(t,i))))}updateTargetData(t,e){return this.Fn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>gy(t).delete(e.targetId)).next(()=>this.$n(t)).next(i=>(Et(i.targetCount>0),i.targetCount-=1,this.On(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return gy(t).X((l,u)=>{const p=ww(u);p.sequenceNumber<=e&&null===i.get(p.targetId)&&(r++,o.push(this.removeTargetData(t,p)))}).next(()=>ae.waitFor(o)).next(()=>r)}forEachTarget(t,e){return gy(t).X((i,r)=>{const o=ww(r);e(o)})}$n(t){return OB(t).get("targetGlobalKey").next(e=>(Et(null!==e),e))}On(t,e){return OB(t).put("targetGlobalKey",e)}Fn(t,e){return gy(t).put(_B(this.serializer,e))}Bn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.$n(t).next(e=>e.targetCount)}getTargetData(t,e){const i=ag(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return gy(t).X({range:r,index:"queryTargetsIndex"},(l,u,p)=>{const v=ww(u);lw(e,v.target)&&(o=v,p.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=tm(t);return e.forEach(l=>{const u=zo(l.path);r.push(o.put({targetId:i,path:u})),r.push(this.referenceDelegate.addReference(t,i,l))}),ae.waitFor(r)}removeMatchingKeys(t,e,i){const r=tm(t);return ae.forEach(e,o=>{const l=zo(o.path);return ae.waitFor([r.delete([i,l]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=tm(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=tm(t);let o=rn();return r.X({range:i,Y:!0},(l,u,p)=>{const v=Dd(l[1]),x=new tt(v);o=o.add(x)}).next(()=>o)}containsKey(t,e){const i=zo(e.path),r=IDBKeyRange.bound([i],[$L(i)],!1,!0);let o=0;return tm(t).X({index:"documentTargetsIndex",Y:!0,range:r},([l,u],p,v)=>{0!==l&&(o++,v.done())}).next(()=>o>0)}le(t,e){return gy(t).get(e).next(i=>i?ww(i):null)}}function gy(n){return Xr(n,"targets")}function OB(n){return Xr(n,"targetGlobal")}function tm(n){return Xr(n,"targetDocuments")}function PB([n,t],[e,i]){const r=Yt(n,e);return 0===r?Yt(t,i):r}class s${constructor(t){this.Ln=t,this.buffer=new vi(PB),this.qn=0}Un(){return++this.qn}Kn(t){const e=[t,this.Un()];if(this.buffer.size<this.Ln)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();PB(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class FB{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Qn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}Qn(t){var e=this;He("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,xe.Z)(function*(){e.Gn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){Gf(i)?He("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield jf(i)}yield e.Qn(3e5)}))}}class a${constructor(t,e){this.jn=t,this.params=e}calculateTargetCount(t,e){return this.jn.zn(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return ae.resolve(Da.ct);const i=new s$(e);return this.jn.forEachTarget(t,r=>i.Kn(r.sequenceNumber)).next(()=>this.jn.Wn(t,r=>i.Kn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.jn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.jn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector","Garbage collection skipped; disabled"),ae.resolve(MB)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MB):this.Hn(t,e))}getCacheSize(t){return this.jn.getCacheSize(t)}Hn(t,e){let i,r,o,l,u,p,v;const x=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(D=>(D>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${D}`),r=this.params.maximumSequenceNumbersToCollect):r=D,l=Date.now(),this.nthSequenceNumber(t,r))).next(D=>(i=D,u=Date.now(),this.removeTargets(t,i,e))).next(D=>(o=D,p=Date.now(),this.removeOrphanedDocuments(t,i))).next(D=>(v=Date.now(),pk()<=Bs.in.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${l-x}ms\n\tDetermined least recently used ${r} in `+(u-l)+`ms\n\tRemoved ${o} targets in `+(p-u)+`ms\n\tRemoved ${D} documents in `+(v-p)+`ms\nTotal Duration: ${v-x}ms`),ae.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:D})))}}class l${constructor(t,e){this.db=t,this.garbageCollector=function NB(n,t){return new a$(n,t)}(this,e)}zn(t){const e=this.Jn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Jn(t){let e=0;return this.Wn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Wn(t,e){return this.Yn(t,(i,r)=>e(r))}addReference(t,e,i){return GI(t,i)}removeReference(t,e,i){return GI(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return GI(t,e)}Xn(t,e){return function(i,r){let o=!1;return RB(i).Z(l=>kB(i,l,r).next(u=>(u&&(o=!0),ae.resolve(!u)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Yn(t,(l,u)=>{if(u<=e){const p=this.Xn(t,l).next(v=>{if(!v)return o++,i.getEntry(t,l).next(()=>(i.removeEntry(l,Dt.min()),tm(t).delete([0,zo(l.path)])))});r.push(p)}}).next(()=>ae.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return GI(t,e)}Yn(t,e){const i=tm(t);let r,o=Da.ct;return i.X({index:"documentTargetsIndex"},([l,u],{path:p,sequenceNumber:v})=>{0===l?(o!==Da.ct&&e(new tt(Dd(r)),o),o=v,r=p):o=Da.ct}).next(()=>{o!==Da.ct&&e(new tt(Dd(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function GI(n,t){return tm(n).put((i=n.currentSequenceNumber,{targetId:0,path:zo(t.path),sequenceNumber:i}));var i}class LB{constructor(){this.changes=new Gu(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,yi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?ae.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class c${constructor(t){this.serializer=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return _g(t).put(i)}removeEntry(t,e,i){return _g(t).delete(function(r,o){const l=r.path.toArray();return[l.slice(0,l.length-2),l[l.length-2],LI(o),l[l.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.Zn(t,i)))}getEntry(t,e){let i=yi.newInvalidDocument(e);return _g(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Sw(e))},(r,o)=>{i=this.ts(e,o)}).next(()=>i)}es(t,e){let i={size:0,document:yi.newInvalidDocument(e)};return _g(t).X({index:"documentKeyIndex",range:IDBKeyRange.only(Sw(e))},(r,o)=>{i={document:this.ts(e,o),size:zI(o)}}).next(()=>i)}getEntries(t,e){let i=js();return this.ns(t,e,(r,o)=>{const l=this.ts(r,o);i=i.insert(r,l)}).next(()=>i)}ss(t,e){let i=js(),r=new di(tt.comparator);return this.ns(t,e,(o,l)=>{const u=this.ts(o,l);i=i.insert(o,u),r=r.insert(o,zI(l))}).next(()=>({documents:i,rs:r}))}ns(t,e,i){if(e.isEmpty())return ae.resolve();let r=new vi(HB);e.forEach(p=>r=r.add(p));const o=IDBKeyRange.bound(Sw(r.first()),Sw(r.last())),l=r.getIterator();let u=l.getNext();return _g(t).X({index:"documentKeyIndex",range:o},(p,v,x)=>{const D=tt.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;u&&HB(u,D)<0;)i(u,null),u=l.getNext();u&&u.isEqual(D)&&(i(u,v),u=l.hasNext()?l.getNext():null),u?x.G(Sw(u)):x.done()}).next(()=>{for(;u;)i(u,null),u=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(t,e,i,r){const o=e.path,l=[o.popLast().toArray(),o.lastSegment(),LI(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],u=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return _g(t).j(IDBKeyRange.bound(l,u,!0)).next(p=>{let v=js();for(const x of p){const D=this.ts(tt.fromSegments(x.prefixPath.concat(x.collectionGroup,x.documentId)),x);D.isFoundDocument()&&(dw(e,D)||r.has(D.key))&&(v=v.insert(D.key,D))}return v})}getAllFromCollectionGroup(t,e,i,r){let o=js();const l=UB(e,i),u=UB(e,Sa.max());return _g(t).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(l,u,!0)},(p,v,x)=>{const D=this.ts(tt.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);o=o.insert(D.key,D),o.size===r&&x.done()}).next(()=>o)}newChangeBuffer(t){return new d$(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return VB(t).get("remoteDocumentGlobalKey").next(e=>(Et(!!e),e))}Zn(t,e){return VB(t).put("remoteDocumentGlobalKey",e)}ts(t,e){if(e){const i=function KG(n,t){let e;if(t.document)e=cB(n.fe,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=tt.fromSegments(t.noDocument.path),r=hg(t.noDocument.readTime);e=yi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return mt();{const i=tt.fromSegments(t.unknownDocument.path),r=hg(t.unknownDocument.version);e=yi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ki(i[0],i[1]);return Dt.fromTimestamp(r)}(t.readTime)),e}(this.serializer,e);if(!i.isNoDocument()||!i.version.isEqual(Dt.min()))return i}return yi.newInvalidDocument(t)}}function BB(n){return new c$(n)}class d$ extends LB{constructor(t,e){super(),this.os=t,this.trackRemovals=e,this.us=new Gu(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new vi((o,l)=>Yt(o.canonicalString(),l.canonicalString()));return this.changes.forEach((o,l)=>{const u=this.us.get(o);if(e.push(this.os.removeEntry(t,o,u.readTime)),l.isValidDocument()){const p=gB(this.os.serializer,l);r=r.add(o.path.popLast());const v=zI(p);i+=v-u.size,e.push(this.os.addEntry(t,o,p))}else if(i-=u.size,this.trackRemovals){const p=gB(this.os.serializer,l.convertToNoDocument(Dt.min()));e.push(this.os.addEntry(t,o,p))}}),r.forEach(o=>{e.push(this.os.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.os.updateMetadata(t,i)),ae.waitFor(e)}getFromCache(t,e){return this.os.es(t,e).next(i=>(this.us.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.os.ss(t,e).next(({documents:i,rs:r})=>(r.forEach((o,l)=>{this.us.set(o,{size:l,readTime:i.get(o).readTime})}),i))}}function VB(n){return Xr(n,"remoteDocumentGlobal")}function _g(n){return Xr(n,"remoteDocumentsV14")}function Sw(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function UB(n,t){const e=t.documentKey.path.toArray();return[n,LI(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function HB(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=Yt(e[o],i[o]),r)return r;return r=Yt(e.length,i.length),r||(r=Yt(e[e.length-2],i[i.length-2]),r||Yt(e[e.length-1],i[i.length-1]))}class u${constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class zB{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(null!==i&&mw(i.mutation,r,zs.empty(),ki.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,rn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=rn()){const r=Md();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let l=uw();return o.forEach((u,p)=>{l=l.insert(u,p.overlayedDocument)}),l}))}getOverlayedDocuments(t,e){const i=Md();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,rn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((l,u)=>{e.set(l,u)})})}computeViews(t,e,i,r){let o=js();const l=hw(),u=hw();return e.forEach((p,v)=>{const x=i.get(v.key);r.has(v.key)&&(void 0===x||x.mutation instanceof $u)?o=o.insert(v.key,v):void 0!==x?(l.set(v.key,x.mutation.getFieldMask()),mw(x.mutation,v,x.mutation.getFieldMask(),ki.now())):l.set(v.key,zs.empty())}),this.recalculateAndSaveOverlays(t,o).next(p=>(p.forEach((v,x)=>l.set(v,x)),e.forEach((v,x)=>{var D;return u.set(v,new u$(x,null!==(D=l.get(v))&&void 0!==D?D:null))}),u))}recalculateAndSaveOverlays(t,e){const i=hw();let r=new di((l,u)=>l-u),o=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(l=>{for(const u of l)u.keys().forEach(p=>{const v=e.get(p);if(null===v)return;let x=i.get(p)||zs.empty();x=u.applyToLocalView(v,x),i.set(p,x);const D=(r.get(u.batchId)||rn()).add(p);r=r.insert(u.batchId,D)})}).next(()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const p=u.getNext(),v=p.key,x=p.value,D=P2();x.forEach(R=>{if(!o.has(R)){const F=j2(e.get(R),i.get(R));null!==F&&D.set(R,F),o=o.add(R)}}),l.push(this.documentOverlayCache.saveOverlays(t,v,D))}return ae.waitFor(l)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return tt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):Mk(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ae.resolve(Md());let u=-1,p=o;return l.next(v=>ae.forEach(v,(x,D)=>(u<D.largestBatchId&&(u=D.largestBatchId),o.get(x)?ae.resolve():this.remoteDocumentCache.getEntry(t,x).next(R=>{p=p.insert(x,R)}))).next(()=>this.populateOverlays(t,v,o)).next(()=>this.computeViews(t,p,v,rn())).next(x=>({batchId:u,changes:O2(x)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new tt(e)).next(i=>{let r=uw();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=uw();return this.indexManager.getCollectionParents(t,r).next(l=>ae.forEach(l,u=>{const p=(v=e,x=u.child(r),new ju(x,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,x;return this.getDocumentsMatchingCollectionQuery(t,p,i).next(v=>{v.forEach((x,D)=>{o=o.insert(x,D)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next(o=>(r=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,r))).next(o=>{r.forEach((u,p)=>{const v=p.getKey();null===o.get(v)&&(o=o.insert(v,yi.newInvalidDocument(v)))});let l=uw();return o.forEach((u,p)=>{const v=r.get(u);void 0!==v&&mw(v.mutation,p,zs.empty(),ki.now()),dw(e,p)&&(l=l.insert(u,p))}),l})}}class h${constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,e){return ae.resolve(this.cs.get(e))}saveBundleMetadata(t,e){var i;return this.cs.set(e.id,{id:(i=e).id,version:i.version,createTime:cr(i.createTime)}),ae.resolve()}getNamedQuery(t,e){return ae.resolve(this.hs.get(e))}saveNamedQuery(t,e){return this.hs.set(e.name,{name:(i=e).name,query:Gk(i.bundledQuery),readTime:cr(i.readTime)}),ae.resolve();var i}}class f${constructor(){this.overlays=new di(tt.comparator),this.ls=new Map}getOverlay(t,e){return ae.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Md();return ae.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.we(t,e,o)}),ae.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.ls.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.ls.delete(i)),ae.resolve()}getOverlaysForCollection(t,e,i){const r=Md(),o=e.length+1,l=new tt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const p=u.getNext().value,v=p.getKey();if(!e.isPrefixOf(v.path))break;v.path.length===o&&p.largestBatchId>i&&r.set(p.getKey(),p)}return ae.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new di((v,x)=>v-x);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===e&&v.largestBatchId>i){let x=o.get(v.largestBatchId);null===x&&(x=Md(),o=o.insert(v.largestBatchId,x)),x.set(v.getKey(),v)}}const u=Md(),p=o.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,x)=>u.set(v,x)),!(u.size()>=r)););return ae.resolve(u)}we(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const l=this.ls.get(r.largestBatchId).delete(i.key);this.ls.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new Nk(e,i));let o=this.ls.get(e);void 0===o&&(o=rn(),this.ls.set(e,o)),this.ls.set(e,o.add(i.key))}}class Qk{constructor(){this.fs=new vi(Jr.ds),this.ws=new vi(Jr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,e){const i=new Jr(t,e);this.fs=this.fs.add(i),this.ws=this.ws.add(i)}gs(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.ys(new Jr(t,e))}ps(t,e){t.forEach(i=>this.removeReference(i,e))}Is(t){const e=new tt(new xn([])),i=new Jr(e,t),r=new Jr(e,t+1),o=[];return this.ws.forEachInRange([i,r],l=>{this.ys(l),o.push(l.key)}),o}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const e=new tt(new xn([])),i=new Jr(e,t),r=new Jr(e,t+1);let o=rn();return this.ws.forEachInRange([i,r],l=>{o=o.add(l.key)}),o}containsKey(t){const e=new Jr(t,0),i=this.fs.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Jr{constructor(t,e){this.key=t,this.As=e}static ds(t,e){return tt.comparator(t.key,e.key)||Yt(t.As,e.As)}static _s(t,e){return Yt(t.As,e.As)||tt.comparator(t.key,e.key)}}class m${constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.vs=1,this.Rs=new vi(Jr.ds)}checkEmpty(t){return ae.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.vs;this.vs++;const l=new Pk(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Rs=this.Rs.add(new Jr(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ae.resolve(l)}lookupMutationBatch(t,e){return ae.resolve(this.Ps(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.bs(e+1),o=r<0?0:r;return ae.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(t){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Jr(e,0),r=new Jr(e,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([i,r],l=>{const u=this.Ps(l.As);o.push(u)}),ae.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new vi(Yt);return e.forEach(r=>{const o=new Jr(r,0),l=new Jr(r,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,l],u=>{i=i.add(u.As)})}),ae.resolve(this.Vs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;tt.isDocumentKey(o)||(o=o.child(""));const l=new Jr(new tt(o),0);let u=new vi(Yt);return this.Rs.forEachWhile(p=>{const v=p.key.path;return!!i.isPrefixOf(v)&&(v.length===r&&(u=u.add(p.As)),!0)},l),ae.resolve(this.Vs(u))}Vs(t){const e=[];return t.forEach(i=>{const r=this.Ps(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){Et(0===this.Ss(e.batchId,"removed")),this.mutationQueue.shift();let i=this.Rs;return ae.forEach(e.mutations,r=>{const o=new Jr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.Rs=i})}Cn(t){}containsKey(t,e){const i=new Jr(e,0),r=this.Rs.firstAfterOrEqual(i);return ae.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return ae.resolve()}Ss(t,e){return this.bs(t)}bs(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Ps(t){const e=this.bs(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class p${constructor(t){this.Ds=t,this.docs=new di(tt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.Ds(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ae.resolve(i?i.document.mutableCopy():yi.newInvalidDocument(e))}getEntries(t,e){let i=js();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():yi.newInvalidDocument(r))}),ae.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=js();const l=e.path,u=new tt(l.child("")),p=this.docs.getIteratorFrom(u);for(;p.hasNext();){const{key:v,value:{document:x}}=p.getNext();if(!l.isPrefixOf(v.path))break;v.path.length>l.length+1||vk(qL(x),i)<=0||(r.has(x.key)||dw(e,x))&&(o=o.insert(x.key,x.mutableCopy()))}return ae.resolve(o)}getAllFromCollectionGroup(t,e,i,r){mt()}Cs(t,e){return ae.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new g$(this)}getSize(t){return ae.resolve(this.size)}}class g$ extends LB{constructor(t){super(),this.os=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.os.addEntry(t,r)):this.os.removeEntry(i)}),ae.waitFor(e)}getFromCache(t,e){return this.os.getEntry(t,e)}getAllFromCache(t,e){return this.os.getEntries(t,e)}}class _${constructor(t){this.persistence=t,this.xs=new Gu(e=>ag(e),lw),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new Qk,this.targetCount=0,this.Ms=gg.kn()}forEachTarget(t,e){return this.xs.forEach((i,r)=>e(r)),ae.resolve()}getLastRemoteSnapshotVersion(t){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ae.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Ns&&(this.Ns=e),ae.resolve()}Fn(t){this.xs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Ms=new gg(e),this.highestTargetId=e),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,e){return this.Fn(e),this.targetCount+=1,ae.resolve()}updateTargetData(t,e){return this.Fn(e),ae.resolve()}removeTargetData(t,e){return this.xs.delete(e.target),this.ks.Is(e.targetId),this.targetCount-=1,ae.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.xs.forEach((l,u)=>{u.sequenceNumber<=e&&null===i.get(u.targetId)&&(this.xs.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)}),ae.waitFor(o).next(()=>r)}getTargetCount(t){return ae.resolve(this.targetCount)}getTargetData(t,e){const i=this.xs.get(e)||null;return ae.resolve(i)}addMatchingKeys(t,e,i){return this.ks.gs(e,i),ae.resolve()}removeMatchingKeys(t,e,i){this.ks.ps(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(l=>{o.push(r.markPotentiallyOrphaned(t,l))}),ae.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.ks.Is(e),ae.resolve()}getMatchingKeysForTargetId(t,e){const i=this.ks.Es(e);return ae.resolve(i)}containsKey(t,e){return ae.resolve(this.ks.containsKey(e))}}class Xk{constructor(t,e){this.$s={},this.overlays={},this.Os=new Da(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new _$(this),this.indexManager=new i$,this.remoteDocumentCache=new p$(i=>this.referenceDelegate.Ls(i)),this.serializer=new pB(e),this.qs=new h$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new f$,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.$s[t.toKey()];return i||(i=new m$(e,this.referenceDelegate),this.$s[t.toKey()]=i),i}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,e,i){He("MemoryPersistence","Starting transaction:",t);const r=new v$(this.Os.next());return this.referenceDelegate.Us(),i(r).next(o=>this.referenceDelegate.Ks(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Gs(t,e){return ae.or(Object.values(this.$s).map(i=>()=>i.containsKey(t,e)))}}class v$ extends KL{constructor(t){super(),this.currentSequenceNumber=t}}class $I{constructor(t){this.persistence=t,this.Qs=new Qk,this.js=null}static zs(t){return new $I(t)}get Ws(){if(this.js)return this.js;throw mt()}addReference(t,e,i){return this.Qs.addReference(i,e),this.Ws.delete(i.toString()),ae.resolve()}removeReference(t,e,i){return this.Qs.removeReference(i,e),this.Ws.add(i.toString()),ae.resolve()}markPotentiallyOrphaned(t,e){return this.Ws.add(e.toString()),ae.resolve()}removeTarget(t,e){this.Qs.Is(e.targetId).forEach(r=>this.Ws.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Ws.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Us(){this.js=new Set}Ks(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Ws,i=>{const r=tt.fromPath(i);return this.Hs(t,r).next(o=>{o||e.removeEntry(r,Dt.min())})}).next(()=>(this.js=null,e.apply(t)))}updateLimboDocument(t,e){return this.Hs(t,e).next(i=>{i?this.Ws.delete(e.toString()):this.Ws.add(e.toString())})}Ls(t){return 0}Hs(t,e){return ae.or([()=>ae.resolve(this.Qs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gs(t,e)])}}class y${constructor(t){this.serializer=t}O(t,e,i,r){const o=new bI("createOrUpgrade",e);var u;i<1&&r>=1&&(t.createObjectStore("owner"),(u=t).createObjectStore("mutationQueues",{keyPath:"userId"}),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JL,{unique:!0}),u.createObjectStore("documentMutations"),jB(t),function(u){u.createObjectStore("remoteDocuments")}(t));let l=ae.resolve();return i<3&&r>=3&&(0!==i&&(function(u){u.deleteObjectStore("targetDocuments"),u.deleteObjectStore("targets"),u.deleteObjectStore("targetGlobal")}(t),jB(t)),l=l.next(()=>function(u){const p=u.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Dt.min().toTimestamp(),targetCount:0};return p.put("targetGlobalKey",v)}(o))),i<4&&r>=4&&(0!==i&&(l=l.next(()=>function(u,p){return p.store("mutations").j().next(v=>{u.deleteObjectStore("mutations"),u.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",JL,{unique:!0});const x=p.store("mutations"),D=v.map(R=>x.put(R));return ae.waitFor(D)})}(t,o))),l=l.next(()=>{!function(u){u.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(l=l.next(()=>this.Ys(o))),i<6&&r>=6&&(l=l.next(()=>(function(u){u.createObjectStore("remoteDocumentGlobal")}(t),this.Xs(o)))),i<7&&r>=7&&(l=l.next(()=>this.Zs(o))),i<8&&r>=8&&(l=l.next(()=>this.ti(t,o))),i<9&&r>=9&&(l=l.next(()=>{!function(u){u.objectStoreNames.contains("remoteDocumentChanges")&&u.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(l=l.next(()=>this.ei(o))),i<11&&r>=11&&(l=l.next(()=>{(function(u){u.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(u){u.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(l=l.next(()=>{!function(u){const p=u.createObjectStore("documentOverlays",{keyPath:iG});p.createIndex("collectionPathOverlayIndex",rG,{unique:!1}),p.createIndex("collectionGroupOverlayIndex",oG,{unique:!1})}(t)})),i<13&&r>=13&&(l=l.next(()=>function(u){const p=u.createObjectStore("remoteDocumentsV14",{keyPath:W6});p.createIndex("documentKeyIndex",q6),p.createIndex("collectionGroupIndex",Y6)}(t)).next(()=>this.ni(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(l=l.next(()=>this.si(t,o))),i<15&&r>=15&&(l=l.next(()=>function(u){u.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),u.createObjectStore("indexState",{keyPath:J6}).createIndex("sequenceNumberIndex",eG,{unique:!1}),u.createObjectStore("indexEntries",{keyPath:tG}).createIndex("documentKeyIndex",nG,{unique:!1})}(t))),l}Xs(t){let e=0;return t.store("remoteDocuments").X((i,r)=>{e+=zI(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Ys(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.j().next(r=>ae.forEach(r,o=>{const l=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.j("userMutationsIndex",l).next(u=>ae.forEach(u,p=>{Et(p.userId===o.userId);const v=fg(this.serializer,p);return AB(t,o.userId,v).next(()=>{})}))}))}Zs(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.X((l,u)=>{const p=new xn(l),v=[0,zo(p)];o.push(e.get(v).next(x=>x?ae.resolve():e.put({targetId:0,path:zo(p),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>ae.waitFor(o))})}ti(t,e){t.createObjectStore("collectionParents",{keyPath:X6});const i=e.store("collectionParents"),r=new Zk,o=l=>{if(r.add(l)){const u=l.lastSegment(),p=l.popLast();return i.put({collectionId:u,parent:zo(p)})}};return e.store("remoteDocuments").X({Y:!0},(l,u)=>{const p=new xn(l);return o(p.popLast())}).next(()=>e.store("documentMutations").X({Y:!0},([l,u,p],v)=>{const x=Dd(u);return o(x.popLast())}))}ei(t){const e=t.store("targets");return e.X((i,r)=>{const o=ww(r),l=_B(this.serializer,o);return e.put(l)})}ni(t,e){const i=e.store("remoteDocuments"),r=[];return i.X((o,l)=>{const u=e.store("remoteDocumentsV14"),p=(v=l,v.document?new tt(xn.fromString(v.document.name).popFirst(5)):v.noDocument?tt.fromSegments(v.noDocument.path):v.unknownDocument?tt.fromSegments(v.unknownDocument.path):mt()).path.toArray();var v;const x={prefixPath:p.slice(0,p.length-2),collectionGroup:p[p.length-2],documentId:p[p.length-1],readTime:l.readTime||[0,0],unknownDocument:l.unknownDocument,noDocument:l.noDocument,document:l.document,hasCommittedMutations:!!l.hasCommittedMutations};r.push(u.put(x))}).next(()=>ae.waitFor(r))}si(t,e){const i=e.store("mutations"),r=BB(this.serializer),o=new Xk($I.zs,this.serializer.fe);return i.j().next(l=>{const u=new Map;return l.forEach(p=>{var v;let x=null!==(v=u.get(p.userId))&&void 0!==v?v:rn();fg(this.serializer,p).keys().forEach(D=>x=x.add(D)),u.set(p.userId,x)}),ae.forEach(u,(p,v)=>{const x=new Qr(v),D=BI.de(this.serializer,x),R=o.getIndexManager(x),F=jI.de(x,this.serializer,R,o.referenceDelegate);return new zB(r,F,D,R).recalculateAndSaveOverlaysForDocumentKeys(new wk(e,Da.ct),p).next()})})}}function jB(n){n.createObjectStore("targetDocuments",{keyPath:Z6}).createIndex("documentTargetsIndex",Q6,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",K6,{unique:!0}),n.createObjectStore("targetGlobal")}const Jk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class eR{constructor(t,e,i,r,o,l,u,p,v,x,D=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.ii=o,this.window=l,this.document=u,this.ri=v,this.oi=x,this.ui=D,this.Os=null,this.Fs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.ai=null,this.hi=null,this.li=Number.NEGATIVE_INFINITY,this.fi=R=>Promise.resolve(),!eR.D())throw new ke(fe.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new l$(this,r),this.di=e+"main",this.serializer=new pB(p),this.wi=new vc(this.di,this.ui,new y$(this.serializer)),this.Bs=new o$(this.referenceDelegate,this.serializer),this.remoteDocumentCache=BB(this.serializer),this.qs=new ZG,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===x&&lr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ke(fe.FAILED_PRECONDITION,Jk);return this.gi(),this.yi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Bs.getHighestSequenceNumber(t))}).then(t=>{this.Os=new Da(t,this.ri)}).then(()=>{this.Fs=!0}).catch(t=>(this.wi&&this.wi.close(),Promise.reject(t)))}Ii(t){var e=this;return this.fi=function(){var i=(0,xe.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.wi.B(function(){var e=(0,xe.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.ii.enqueueAndForget((0,xe.Z)(function*(){e.started&&(yield e.mi())})))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>qI(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ti(t).next(e=>{e||(this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)))})}).next(()=>this.Ei(t)).next(e=>this.isPrimary&&!e?this.Ai(t).next(()=>!1):!!e&&this.vi(t).next(()=>!0))).catch(t=>{if(Gf(t))return He("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return He("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.ii.enqueueRetryable(()=>this.fi(t)),this.isPrimary=t})}Ti(t){return Dw(t).get("owner").next(e=>ae.resolve(this.Ri(e)))}Pi(t){return qI(t).delete(this.clientId)}bi(){var t=this;return(0,xe.Z)(function*(){if(t.isPrimary&&!t.Vi(t.li,18e5)){t.li=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Xr(i,"clientMetadata");return r.j().next(o=>{const l=t.Si(o,18e5),u=o.filter(p=>-1===l.indexOf(p));return ae.forEach(u,p=>r.delete(p.clientId)).next(()=>u)})}).catch(()=>[]);if(t._i)for(const i of e)t._i.removeItem(t.Di(i.clientId))}})()}pi(){this.hi=this.ii.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.bi()).then(()=>this.pi()))}Ri(t){return!!t&&t.ownerId===this.clientId}Ei(t){return this.oi?ae.resolve(!0):Dw(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)){if(this.Ri(e)&&this.networkEnabled)return!0;if(!this.Ri(e)){if(!e.allowTabSynchronization)throw new ke(fe.FAILED_PRECONDITION,Jk);return!1}}return!(!this.networkEnabled||!this.inForeground)||qI(t).j().next(i=>void 0===this.Si(i,5e3).find(r=>!(this.clientId===r.clientId||!(!this.networkEnabled&&r.networkEnabled||!this.inForeground&&r.inForeground&&this.networkEnabled===r.networkEnabled))))}).next(e=>(this.isPrimary!==e&&He("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,xe.Z)(function*(){t.Fs=!1,t.xi(),t.hi&&(t.hi.cancel(),t.hi=null),t.Ni(),t.ki(),yield t.wi.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new wk(e,Da.ct);return t.Ai(i).next(()=>t.Pi(i))}),t.wi.close(),t.Mi()})()}Si(t,e){return t.filter(i=>this.Vi(i.updateTimeMs,e)&&!this.Ci(i.clientId))}$i(){return this.runTransaction("getActiveClients","readonly",t=>qI(t).j().next(e=>this.Si(e,18e5).map(i=>i.clientId)))}get started(){return this.Fs}getMutationQueue(t,e){return jI.de(t,this.serializer,e,this.referenceDelegate)}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new r$(t,this.serializer.fe.databaseId)}getDocumentOverlayCache(t){return BI.de(this.serializer,t)}getBundleCache(){return this.qs}runTransaction(t,e,i){He("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(l=this.ui)?aG:14===l?r2:13===l?n2:12===l?sG:11===l?t2:void mt();var l;let u;return this.wi.runTransaction(t,r,o,p=>(u=new wk(p,this.Os?this.Os.next():Da.ct),"readwrite-primary"===e?this.Ti(u).next(v=>!!v||this.Ei(u)).next(v=>{if(!v)throw lr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.ii.enqueueRetryable(()=>this.fi(!1)),new ke(fe.FAILED_PRECONDITION,YL);return i(u)}).next(v=>this.vi(u).next(()=>v)):this.Oi(u).next(()=>i(u)))).then(p=>(u.raiseOnCommittedEvent(),p))}Oi(t){return Dw(t).get("owner").next(e=>{if(null!==e&&this.Vi(e.leaseTimestampMs,5e3)&&!this.Ci(e.ownerId)&&!this.Ri(e)&&!(this.oi||this.allowTabSynchronization&&e.allowTabSynchronization))throw new ke(fe.FAILED_PRECONDITION,Jk)})}vi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Dw(t).put("owner",e)}static D(){return vc.D()}Ai(t){const e=Dw(t);return e.get("owner").next(i=>this.Ri(i)?(He("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):ae.resolve())}Vi(t,e){const i=Date.now();return!(t<i-e||t>i&&(lr(`Detected an update time that is in the future: ${t} > ${i}`),1))}gi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ai=()=>{this.ii.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.mi()))},this.document.addEventListener("visibilitychange",this.ai),this.inForeground="visible"===this.document.visibilityState)}Ni(){this.ai&&(this.document.removeEventListener("visibilitychange",this.ai),this.ai=null)}yi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;(0,N.G6)()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.ii.enterRestrictedMode(!0),this.ii.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}ki(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Ci(t){var e;try{const i=null!==(null===(e=this._i)||void 0===e?void 0:e.getItem(this.Di(t)));return He("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return lr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}xi(){if(this._i)try{this._i.setItem(this.Di(this.clientId),String(Date.now()))}catch(t){lr("Failed to set zombie client id.",t)}}Mi(){if(this._i)try{this._i.removeItem(this.Di(this.clientId))}catch{}}Di(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Dw(n){return Xr(n,"owner")}function qI(n){return Xr(n,"clientMetadata")}function tR(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class nR{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Fi=i,this.Bi=r}static Li(t,e){let i=rn(),r=rn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new nR(t,e.fromCache,i,r)}}class GB{constructor(){this.qi=!1}initialize(t,e){this.Ui=t,this.indexManager=e,this.qi=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ki(t,e).next(o=>o||this.Gi(t,e,r,i)).next(o=>o||this.Qi(t,e))}Ki(t,e){if(T2(e))return ae.resolve(null);let i=hs(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=kI(e,null,"F"),i=hs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const l=rn(...o);return this.Ui.getDocuments(t,l).next(u=>this.indexManager.getMinOffset(t,i).next(p=>{const v=this.ji(e,u);return this.zi(e,v,l,p.readTime)?this.Ki(t,kI(e,null,"F")):this.Wi(t,v,e,p)}))})))}Gi(t,e,i,r){return T2(e)||r.isEqual(Dt.min())?this.Qi(t,e):this.Ui.getDocuments(t,i).next(o=>{const l=this.ji(e,o);return this.zi(e,l,i,r)?this.Qi(t,e):(pk()<=Bs.in.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),kk(e)),this.Wi(t,l,e,WL(r,-1)))})}ji(t,e){let i=new vi(k2(t));return e.forEach((r,o)=>{dw(t,o)&&(i=i.add(o))}),i}zi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Qi(t,e){return pk()<=Bs.in.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",kk(e)),this.Ui.getDocumentsMatchingQuery(t,e,Sa.min())}Wi(t,e,i,r){return this.Ui.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(l=>{o=o.insert(l.key,l)}),o))}}class b${constructor(t,e,i,r){this.persistence=t,this.Hi=e,this.serializer=r,this.Ji=new di(Yt),this.Yi=new Gu(o=>ag(o),lw),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(i)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new zB(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Ji))}}function $B(n,t,e,i){return new b$(n,t,e,i)}function WB(n,t){return iR.apply(this,arguments)}function iR(){return iR=(0,xe.Z)(function*(n,t){const e=rt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.tr(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const l=[],u=[];let p=rn();for(const v of r){l.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}for(const v of o){u.push(v.batchId);for(const x of v.mutations)p=p.add(x.key)}return e.localDocuments.getDocuments(i,p).next(v=>({er:v,removedBatchIds:l,addedBatchIds:u}))})})}),iR.apply(this,arguments)}function qB(n){const t=rt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function YB(n,t,e){let i=rn(),r=rn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let l=js();return e.forEach((u,p)=>{const v=o.get(u);p.isFoundDocument()!==v.isFoundDocument()&&(r=r.add(u)),p.isNoDocument()&&p.version.isEqual(Dt.min())?(t.removeEntry(u,p.readTime),l=l.insert(u,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||0===p.version.compareTo(v.version)&&v.hasPendingWrites?(t.addEntry(p),l=l.insert(u,p)):He("LocalStore","Ignoring outdated watch update for ",u,". Current version:",v.version," Watch version:",p.version)}),{nr:l,sr:r}})}function C$(n,t){const e=rt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function _y(n,t){const e=rt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Bs.getTargetData(i,t).next(o=>o?(r=o,ae.resolve(r)):e.Bs.allocateTargetId(i).next(l=>(r=new Wu(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Bs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.Ji.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ji=e.Ji.insert(i.targetId,i),e.Yi.set(t,i.targetId)),i})}function vy(n,t,e){return rR.apply(this,arguments)}function rR(){return rR=(0,xe.Z)(function*(n,t,e){const i=rt(n),r=i.Ji.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Gf(l))throw l;He("LocalStore",`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ji=i.Ji.remove(t),i.Yi.delete(r.target)}),rR.apply(this,arguments)}function YI(n,t,e){const i=rt(n);let r=Dt.min(),o=rn();return i.persistence.runTransaction("Execute query","readonly",l=>function(u,p,v){const x=rt(u),D=x.Yi.get(v);return void 0!==D?ae.resolve(x.Ji.get(D)):x.Bs.getTargetData(p,v)}(i,l,hs(t)).next(u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Bs.getMatchingKeysForTargetId(l,u.targetId).next(p=>{o=p})}).next(()=>i.Hi.getDocumentsMatchingQuery(l,t,e?r:Dt.min(),e?o:rn())).next(u=>(QB(i,A2(t),u),{documents:u,ir:o})))}function KB(n,t){const e=rt(n),i=rt(e.Bs),r=e.Ji.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.le(o,t).next(l=>l?l.target:null))}function ZB(n,t){const e=rt(n),i=e.Xi.get(t)||Dt.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Zi.getAllFromCollectionGroup(r,t,WL(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(QB(e,t,r),r))}function QB(n,t,e){let i=n.Xi.get(t)||Dt.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Xi.set(t,i)}function oR(){return oR=(0,xe.Z)(function*(n,t,e,i){const r=rt(n);let o=rn(),l=js();for(const v of e){const x=t.rr(v.metadata.name);v.document&&(o=o.add(x));const D=t.ur(v);D.setReadTime(t.cr(v.metadata.readTime)),l=l.insert(x,D)}const u=r.Zi.newChangeBuffer({trackRemovals:!0}),p=yield _y(r,(v=i,hs(ly(xn.fromString(`__bundle__/docs/${v}`)))));var v;return r.persistence.runTransaction("Apply bundle documents","readwrite",v=>YB(v,u,l).next(x=>(u.apply(v),x)).next(x=>r.Bs.removeMatchingKeysForTargetId(v,p.targetId).next(()=>r.Bs.addMatchingKeys(v,o,p.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(v,x.nr,x.sr)).next(()=>x.nr)))}),oR.apply(this,arguments)}function I$(n,t){return sR.apply(this,arguments)}function sR(){return sR=(0,xe.Z)(function*(n,t,e=rn()){const i=yield _y(n,hs(Gk(t.bundledQuery))),r=rt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const l=cr(t.readTime);if(i.snapshotVersion.compareTo(l)>=0)return r.qs.saveNamedQuery(o,t);const u=i.withResumeToken(Pr.EMPTY_BYTE_STRING,l);return r.Ji=r.Ji.insert(u.targetId,u),r.Bs.updateTargetData(o,u).next(()=>r.Bs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Bs.addMatchingKeys(o,e,i.targetId)).next(()=>r.qs.saveNamedQuery(o,t))})}),sR.apply(this,arguments)}function XB(n,t){return`firestore_clients_${n}_${t}`}function JB(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function aR(n,t){return`firestore_targets_${n}_${t}`}class KI{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static ar(t,e,i){const r=JSON.parse(i);let o,l="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(o=new ke(r.error.code,r.error.message))),l?new KI(t,e,r.state,o):(lr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Tw{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static ar(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new ke(i.error.code,i.error.message))),o?new Tw(t,i.state,r):(lr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}hr(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ZI{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static ar(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=Rk();for(let l=0;r&&l<i.activeTargetIds.length;++l)r=QL(i.activeTargetIds[l]),o=o.add(i.activeTargetIds[l]);return r?new ZI(t,o):(lr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class lR{constructor(t,e){this.clientId=t,this.onlineState=e}static ar(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new lR(e.clientId,e.onlineState):(lr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class cR{constructor(){this.activeTargetIds=Rk()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dR{constructor(t,e,i,r,o){this.window=t,this.ii=e,this.persistenceKey=i,this.wr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.mr.bind(this),this.gr=new di(Yt),this.started=!1,this.yr=[];const l=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.pr=XB(this.persistenceKey,this.wr),this.Ir=`firestore_sequence_number_${this.persistenceKey}`,this.gr=this.gr.insert(this.wr,new cR),this.Tr=new RegExp(`^firestore_clients_${l}_([^_]*)$`),this.Er=new RegExp(`^firestore_mutations_${l}_(\\d+)(?:_(.*))?$`),this.Ar=new RegExp(`^firestore_targets_${l}_(\\d+)$`),this.vr=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(u){return`firestore_bundle_loaded_v2_${u}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,xe.Z)(function*(){const e=yield t.syncEngine.$i();for(const r of e){if(r===t.wr)continue;const o=t.getItem(XB(t.persistenceKey,r));if(o){const l=ZI.ar(r,o);l&&(t.gr=t.gr.insert(l.clientId,l))}}t.Pr();const i=t.storage.getItem(t.vr);if(i){const r=t.br(i);r&&t.Vr(r)}for(const r of t.yr)t.mr(r);t.yr=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Ir,JSON.stringify(t))}getAllActiveQueryTargets(){return this.Sr(this.gr)}isActiveQueryTarget(t){let e=!1;return this.gr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.Dr(t,"pending")}updateMutationState(t,e,i){this.Dr(t,e,i),this.Cr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(aR(this.persistenceKey,t));if(i){const r=Tw.ar(t,i);r&&(e=r.state)}}return this.Nr.lr(t),this.Pr(),e}removeLocalQueryTarget(t){this.Nr.dr(t),this.Pr()}isLocalQueryTarget(t){return this.Nr.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(aR(this.persistenceKey,t))}updateQueryState(t,e,i){this.kr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.Cr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Mr(t)}notifyBundleLoaded(t){this.$r(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.pr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return He("SharedClientState","READ",t,e),e}setItem(t,e){He("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){He("SharedClientState","REMOVE",t),this.storage.removeItem(t)}mr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(He("SharedClientState","EVENT",i.key,i.newValue),i.key===this.pr)return void lr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ii.enqueueRetryable((0,xe.Z)(function*(){if(e.started){if(null!==i.key)if(e.Tr.test(i.key)){if(null==i.newValue){const r=e.Or(i.key);return e.Fr(r,null)}{const r=e.Br(i.key,i.newValue);if(r)return e.Fr(r.clientId,r)}}else if(e.Er.test(i.key)){if(null!==i.newValue){const r=e.Lr(i.key,i.newValue);if(r)return e.qr(r)}}else if(e.Ar.test(i.key)){if(null!==i.newValue){const r=e.Ur(i.key,i.newValue);if(r)return e.Kr(r)}}else if(i.key===e.vr){if(null!==i.newValue){const r=e.br(i.newValue);if(r)return e.Vr(r)}}else if(i.key===e.Ir){const r=function(o){let l=Da.ct;if(null!=o)try{const u=JSON.parse(o);Et("number"==typeof u),l=u}catch(u){lr("SharedClientState","Failed to read sequence number from WebStorage",u)}return l}(i.newValue);r!==Da.ct&&e.sequenceNumberHandler(r)}else if(i.key===e.Rr){const r=e.Gr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Qr(o)))}}else e.yr.push(i)}))}}get Nr(){return this.gr.get(this.wr)}Pr(){this.setItem(this.pr,this.Nr.hr())}Dr(t,e,i){const r=new KI(this.currentUser,t,e,i),o=JB(this.persistenceKey,this.currentUser,t);this.setItem(o,r.hr())}Cr(t){const e=JB(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Mr(t){this.storage.setItem(this.vr,JSON.stringify({clientId:this.wr,onlineState:t}))}kr(t,e,i){const r=aR(this.persistenceKey,t),o=new Tw(t,e,i);this.setItem(r,o.hr())}$r(t){const e=JSON.stringify(Array.from(t));this.setItem(this.Rr,e)}Or(t){const e=this.Tr.exec(t);return e?e[1]:null}Br(t,e){const i=this.Or(t);return ZI.ar(i,e)}Lr(t,e){const i=this.Er.exec(t),r=Number(i[1]);return KI.ar(new Qr(void 0!==i[2]?i[2]:null),r,e)}Ur(t,e){const i=this.Ar.exec(t),r=Number(i[1]);return Tw.ar(r,e)}br(t){return lR.ar(t)}Gr(t){return JSON.parse(t)}qr(t){var e=this;return(0,xe.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.jr(t.batchId,t.state,t.error);He("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Kr(t){return this.syncEngine.zr(t.targetId,t.state,t.error)}Fr(t,e){const i=e?this.gr.insert(t,e):this.gr.remove(t),r=this.Sr(this.gr),o=this.Sr(i),l=[],u=[];return o.forEach(p=>{r.has(p)||l.push(p)}),r.forEach(p=>{o.has(p)||u.push(p)}),this.syncEngine.Wr(l,u).then(()=>{this.gr=i})}Vr(t){this.gr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}Sr(t){let e=Rk();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class eV{constructor(){this.Hr=new cR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,e,i){this.Jr[t]=e}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new cR,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class S${Yr(t){}shutdown(){}}class tV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let QI=null;function uR(){return null===QI?QI=268435456+Math.round(2147483648*Math.random()):QI++,"0x"+QI.toString(16)}const D$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class T${constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}const Go="WebChannelConnection";class M$ extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.mo=(t.ssl?"https":"http")+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,e,i,r,o){const l=uR(),u=this.To(t,e);He("RestConnection",`Sending RPC '${t}' ${l}:`,u,i);const p={};return this.Eo(p,r,o),this.Ao(t,u,p,i).then(v=>(He("RestConnection",`Received RPC '${t}' ${l}: `,v),v),v=>{throw al("RestConnection",`RPC '${t}' ${l} failed with error: `,v,"url: ",u,"request:",i),v})}vo(t,e,i,r,o,l){return this.Io(t,e,i,r,o)}Eo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+ny,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}To(t,e){return`${this.mo}/v1/${e}:${D$[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,e,i,r){const o=uR();return new Promise((l,u)=>{const p=new S6;p.setWithCredentials(!0),p.listenOnce(C6.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case mk.NO_ERROR:const x=p.getResponseJson();He(Go,`XHR for RPC '${t}' ${o} received:`,JSON.stringify(x)),l(x);break;case mk.TIMEOUT:He(Go,`RPC '${t}' ${o} timed out`),u(new ke(fe.DEADLINE_EXCEEDED,"Request time out"));break;case mk.HTTP_ERROR:const D=p.getStatus();if(He(Go,`RPC '${t}' ${o} failed with status:`,D,"response text:",p.getResponseText()),D>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const F=R?.error;if(F&&F.status&&F.message){const H=function(Y){const te=Y.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(te)>=0?te:fe.UNKNOWN}(F.status);u(new ke(H,F.message))}else u(new ke(fe.UNKNOWN,"Server responded with status "+p.getStatus()))}else u(new ke(fe.UNAVAILABLE,"Connection failed."));break;default:mt()}}finally{He(Go,`RPC '${t}' ${o} completed.`)}});const v=JSON.stringify(r);He(Go,`RPC '${t}' ${o} sending request:`,r),p.send(e,"POST",v,i,15)})}Ro(t,e,i){const r=uR(),o=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=w6(),u=x6(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.xmlHttpFactory=new I6({})),this.Eo(p.initMessageHeaders,e,i),p.encodeInitMessageHeaders=!0;const x=o.join("");He(Go,`Creating RPC '${t}' stream ${r}: ${x}`,p);const D=l.createWebChannel(x,p);let R=!1,F=!1;const H=new T$({ro:te=>{F?He(Go,`Not sending because RPC '${t}' stream ${r} is closed:`,te):(R||(He(Go,`Opening RPC '${t}' stream ${r} transport.`),D.open(),R=!0),He(Go,`RPC '${t}' stream ${r} sending:`,te),D.send(te))},oo:()=>D.close()}),Y=(te,Ve,Ke)=>{te.listen(Ve,Xe=>{try{Ke(Xe)}catch(dt){setTimeout(()=>{throw dt},0)}})};return Y(D,_I.EventType.OPEN,()=>{F||He(Go,`RPC '${t}' stream ${r} transport opened.`)}),Y(D,_I.EventType.CLOSE,()=>{F||(F=!0,He(Go,`RPC '${t}' stream ${r} transport closed`),H.wo())}),Y(D,_I.EventType.ERROR,te=>{F||(F=!0,al(Go,`RPC '${t}' stream ${r} transport errored:`,te),H.wo(new ke(fe.UNAVAILABLE,"The operation could not be completed")))}),Y(D,_I.EventType.MESSAGE,te=>{var Ve;if(!F){const Ke=te.data[0];Et(!!Ke);const dt=Ke.error||(null===(Ve=Ke[0])||void 0===Ve?void 0:Ve.error);if(dt){He(Go,`RPC '${t}' stream ${r} received error:`,dt);const zt=dt.status;let Kt=function(So){const gl=xr[So];if(void 0!==gl)return K2(gl)}(zt),An=dt.message;void 0===Kt&&(Kt=fe.INTERNAL,An="Unknown error status: "+zt+" with message "+dt.message),F=!0,H.wo(new ke(Kt,An)),D.close()}else He(Go,`RPC '${t}' stream ${r} received:`,Ke),H._o(Ke)}}),Y(u,E6.STAT_EVENT,te=>{te.stat===UL.PROXY?He(Go,`RPC '${t}' stream ${r} detected buffering proxy`):te.stat===UL.NOPROXY&&He(Go,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{H.fo()},0),H}}function nV(){return typeof window<"u"?window:null}function XI(){return typeof document<"u"?document:null}function Mw(n){return new VG(n,!0)}class hR{constructor(t,e,i=1e3,r=1.5,o=6e4){this.ii=t,this.timerId=e,this.Po=i,this.bo=r,this.Vo=o,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const e=Math.floor(this.So+this.ko()),i=Math.max(0,Date.now()-this.Co),r=Math.max(0,e-i);r>0&&He("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.So} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class iV{constructor(t,e,i,r,o,l,u,p){this.ii=t,this.$o=i,this.Oo=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=p,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new hR(t,e)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var t=this;return(0,xe.Z)(function*(){t.Uo()&&(yield t.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}zo(){var t=this;return(0,xe.Z)(function*(){if(t.Ko())return t.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(t,e){var i=this;return(0,xe.Z)(function*(){i.Ho(),i.Jo(),i.qo.cancel(),i.Fo++,4!==t?i.qo.reset():e&&e.code===fe.RESOURCE_EXHAUSTED?(lr(e.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),i.qo.xo()):e&&e.code===fe.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Yo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.ao(e)})()}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),e=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Fo===e&&this.Zo(i,r)},i=>{t(()=>{const r=new ke(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.tu(r)})})}Zo(t,e){const i=this.Xo(this.Fo);this.stream=this.eu(t,e),this.stream.uo(()=>{i(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(r=>{i(()=>this.tu(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Go(){var t=this;this.state=5,this.qo.No((0,xe.Z)(function*(){t.state=0,t.start()}))}tu(t){return He("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return e=>{this.ii.enqueueAndForget(()=>this.Fo===t?e():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A$ extends iV{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}eu(t,e){return this.connection.Ro("Listen",t,e)}onMessage(t){this.qo.reset();const e=function zG(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(p=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===p?1:"REMOVE"===p?2:"CURRENT"===p?3:"RESET"===p?4:mt(),r=t.targetChange.targetIds||[],o=function(p,v){return p.useProto3Json?(Et(void 0===v||"string"==typeof v),Pr.fromBase64String(v||"")):(Et(void 0===v||v instanceof Uint8Array),Pr.fromUint8Array(v||new Uint8Array))}(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&function(p){const v=void 0===p.code?fe.UNKNOWN:K2(p.code);return new ke(v,p.message||"")}(l);e=new eB(i,r,o,u||null)}else if("documentChange"in t){const i=t.documentChange,r=Ad(n,i.document.name),o=cr(i.document.updateTime),l=i.document.createTime?cr(i.document.createTime):Dt.min(),u=new wo({mapValue:{fields:i.document.fields}}),p=yi.newFoundDocument(r,o,l,u);e=new NI(i.targetIds||[],i.removedTargetIds||[],p.key,p)}else if("documentDelete"in t){const i=t.documentDelete,r=Ad(n,i.document),o=i.readTime?cr(i.readTime):Dt.min(),l=yi.newNoDocument(r,o);e=new NI([],i.removedTargetIds||[],l.key,l)}else if("documentRemove"in t){const i=t.documentRemove,r=Ad(n,i.document);e=new NI([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return mt();{const i=t.filter,{count:r=0,unchangedNames:o}=i,l=new OG(r,o);e=new J2(i.targetId,l)}}var p;return e}(this.serializer,t),i=function(r){if(!("targetChange"in r))return Dt.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?Dt.min():o.readTime?cr(o.readTime):Dt.min()}(t);return this.listener.nu(e,i)}su(t){const e={};e.database=yw(this.serializer),e.addTarget=function(r,o){let l;const u=o.target;if(l=TI(u)?{documents:dB(r,u)}:{query:jk(r,u)},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=rB(r,o.resumeToken);const p=Vk(r,o.expectedCount);null!==p&&(l.expectedCount=p)}else if(o.snapshotVersion.compareTo(Dt.min())>0){l.readTime=fy(r,o.snapshotVersion.toTimestamp());const p=Vk(r,o.expectedCount);null!==p&&(l.expectedCount=p)}return l}(this.serializer,t);const i=function GG(n,t){const e=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mt()}}(t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Wo(e)}iu(t){const e={};e.database=yw(this.serializer),e.removeTarget=t,this.Wo(e)}}class k$ extends iV{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,e){return this.connection.Ro("Write",t,e)}onMessage(t){if(Et(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const e=function jG(n,t){return n&&n.length>0?(Et(void 0!==t),n.map(e=>function(i,r){let o=cr(i.updateTime?i.updateTime:r);return o.isEqual(Dt.min())&&(o=cr(r)),new MG(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=cr(t.commitTime);return this.listener.cu(i,e)}return Et(!t.writeResults||0===t.writeResults.length),this.ru=!0,this.listener.au()}hu(){const t={};t.database=yw(this.serializer),this.Wo(t)}uu(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>bw(this.serializer,i))};this.Wo(e)}}class R$ extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new ke(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,e,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.Io(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new ke(fe.UNKNOWN,r.toString())})}vo(t,e,i,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.vo(t,e,i,o,l,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(fe.UNKNOWN,o.toString())})}terminate(){this.lu=!0}}class P${constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,"Online"===t&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(lr(e),this.mu=!1):He("OnlineStateTracker",e)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class F${constructor(t,e,i,r,o){var l=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=o,this.Pu.Yr(u=>{i.enqueueAndForget((0,xe.Z)(function*(){var p;nm(l)&&(He("RemoteStore","Restarting streams for network reachability change."),yield(p=(0,xe.Z)(function*(v){const x=rt(v);x.vu.add(4),yield yy(x),x.bu.set("Unknown"),x.vu.delete(4),yield Aw(x)}),function(v){return p.apply(this,arguments)})(l))}))}),this.bu=new P$(i,r)}}function Aw(n){return mR.apply(this,arguments)}function mR(){return mR=(0,xe.Z)(function*(n){if(nm(n))for(const t of n.Ru)yield t(!0)}),mR.apply(this,arguments)}function yy(n){return pR.apply(this,arguments)}function pR(){return pR=(0,xe.Z)(function*(n){for(const t of n.Ru)yield t(!1)}),pR.apply(this,arguments)}function JI(n,t){const e=rt(n);e.Au.has(t.targetId)||(e.Au.set(t.targetId,t),vR(e)?_R(e):wy(e).Ko()&&gR(e,t))}function kw(n,t){const e=rt(n),i=wy(e);e.Au.delete(t),i.Ko()&&rV(e,t),0===e.Au.size&&(i.Ko()?i.jo():nm(e)&&e.bu.set("Unknown"))}function gR(n,t){if(n.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Dt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}wy(n).su(t)}function rV(n,t){n.Vu.qt(t),wy(n).iu(t)}function _R(n){n.Vu=new FG({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),le:t=>n.Au.get(t)||null,ue:()=>n.datastore.serializer.databaseId}),wy(n).start(),n.bu.gu()}function vR(n){return nm(n)&&!wy(n).Uo()&&n.Au.size>0}function nm(n){return 0===rt(n).vu.size}function oV(n){n.Vu=void 0}function N$(n){return yR.apply(this,arguments)}function yR(){return yR=(0,xe.Z)(function*(n){n.Au.forEach((t,e)=>{gR(n,t)})}),yR.apply(this,arguments)}function L$(n,t){return bR.apply(this,arguments)}function bR(){return bR=(0,xe.Z)(function*(n,t){oV(n),vR(n)?(n.bu.Iu(t),_R(n)):n.bu.set("Unknown")}),bR.apply(this,arguments)}function B$(n,t,e){return wR.apply(this,arguments)}function wR(){return wR=(0,xe.Z)(function*(n,t,e){if(n.bu.set("Online"),t instanceof eB&&2===t.state&&t.cause)try{yield(i=(0,xe.Z)(function*(r,o){const l=o.cause;for(const u of o.targetIds)r.Au.has(u)&&(yield r.remoteSyncer.rejectListen(u,l),r.Au.delete(u),r.Vu.removeTarget(u))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){He("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield eS(n,i)}else if(t instanceof NI?n.Vu.Ht(t):t instanceof J2?n.Vu.ne(t):n.Vu.Xt(t),!e.isEqual(Dt.min()))try{const i=yield qB(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const l=r.Vu.ce(o);return l.targetChanges.forEach((u,p)=>{if(u.resumeToken.approximateByteSize()>0){const v=r.Au.get(p);v&&r.Au.set(p,v.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,p)=>{const v=r.Au.get(u);if(!v)return;r.Au.set(u,v.withResumeToken(Pr.EMPTY_BYTE_STRING,v.snapshotVersion)),rV(r,u);const x=new Wu(v.target,u,p,v.sequenceNumber);gR(r,x)}),r.remoteSyncer.applyRemoteEvent(l)}(n,e))}catch(i){He("RemoteStore","Failed to raise snapshot:",i),yield eS(n,i)}var i}),wR.apply(this,arguments)}function eS(n,t,e){return xR.apply(this,arguments)}function xR(){return xR=(0,xe.Z)(function*(n,t,e){if(!Gf(t))throw t;n.vu.add(1),yield yy(n),n.bu.set("Offline"),e||(e=()=>qB(n.localStore)),n.asyncQueue.enqueueRetryable((0,xe.Z)(function*(){He("RemoteStore","Retrying IndexedDB access"),yield e(),n.vu.delete(1),yield Aw(n)}))}),xR.apply(this,arguments)}function sV(n,t){return t().catch(e=>eS(n,e,t))}function by(n){return CR.apply(this,arguments)}function CR(){return CR=(0,xe.Z)(function*(n){const t=rt(n),e=im(t);let i=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;V$(t);)try{const r=yield C$(t.localStore,i);if(null===r){0===t.Eu.length&&e.jo();break}i=r.batchId,U$(t,r)}catch(r){yield eS(t,r)}aV(t)&&lV(t)}),CR.apply(this,arguments)}function V$(n){return nm(n)&&n.Eu.length<10}function U$(n,t){n.Eu.push(t);const e=im(n);e.Ko()&&e.ou&&e.uu(t.mutations)}function aV(n){return nm(n)&&!im(n).Uo()&&n.Eu.length>0}function lV(n){im(n).start()}function H$(n){return ER.apply(this,arguments)}function ER(){return ER=(0,xe.Z)(function*(n){im(n).hu()}),ER.apply(this,arguments)}function z$(n){return IR.apply(this,arguments)}function IR(){return IR=(0,xe.Z)(function*(n){const t=im(n);for(const e of n.Eu)t.uu(e.mutations)}),IR.apply(this,arguments)}function j$(n,t,e){return SR.apply(this,arguments)}function SR(){return SR=(0,xe.Z)(function*(n,t,e){const i=n.Eu.shift(),r=Fk.from(i,t,e);yield sV(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield by(n)}),SR.apply(this,arguments)}function G$(n,t){return DR.apply(this,arguments)}function DR(){return DR=(0,xe.Z)(function*(n,t){var e;t&&im(n).ou&&(yield(e=(0,xe.Z)(function*(i,r){if(Y2(o=r.code)&&o!==fe.ABORTED){const l=i.Eu.shift();im(i).Qo(),yield sV(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,r)),yield by(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),aV(n)&&lV(n)}),DR.apply(this,arguments)}function cV(n,t){return TR.apply(this,arguments)}function TR(){return TR=(0,xe.Z)(function*(n,t){const e=rt(n);e.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const i=nm(e);e.vu.add(3),yield yy(e),i&&e.bu.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.vu.delete(3),yield Aw(e)}),TR.apply(this,arguments)}function MR(n,t){return AR.apply(this,arguments)}function AR(){return AR=(0,xe.Z)(function*(n,t){const e=rt(n);t?(e.vu.delete(2),yield Aw(e)):t||(e.vu.add(2),yield yy(e),e.bu.set("Unknown"))}),AR.apply(this,arguments)}function wy(n){return n.Su||(n.Su=function(t,e,i){const r=rt(t);return r.fu(),new A$(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:N$.bind(null,n),ao:L$.bind(null,n),nu:B$.bind(null,n)}),n.Ru.push(function(){var t=(0,xe.Z)(function*(e){e?(n.Su.Qo(),vR(n)?_R(n):n.bu.set("Unknown")):(yield n.Su.stop(),oV(n))});return function(e){return t.apply(this,arguments)}}())),n.Su}function im(n){return n.Du||(n.Du=function(t,e,i){const r=rt(t);return r.fu(),new k$(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,i)}(n.datastore,n.asyncQueue,{uo:H$.bind(null,n),ao:G$.bind(null,n),au:z$.bind(null,n),cu:j$.bind(null,n)}),n.Ru.push(function(){var t=(0,xe.Z)(function*(e){e?(n.Du.Qo(),yield by(n)):(yield n.Du.stop(),n.Eu.length>0&&(He("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(e){return t.apply(this,arguments)}}())),n.Du}class kR{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new kR(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ke(fe.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xy(n,t){if(lr("AsyncQueue",`${t}: ${n}`),Gf(n))return new ke(fe.UNAVAILABLE,`${t}: ${n}`);throw n}class Cy{constructor(t){this.comparator=t?(e,i)=>t(e,i)||tt.comparator(e.key,i.key):(e,i)=>tt.comparator(e.key,i.key),this.keyedMap=uw(),this.sortedSet=new di(this.comparator)}static emptySet(t){return new Cy(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Cy)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new Cy;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class dV{constructor(){this.Cu=new di(tt.comparator)}track(t){const e=t.doc.key,i=this.Cu.get(e);i?0!==t.type&&3===i.type?this.Cu=this.Cu.insert(e,t):3===t.type&&1!==i.type?this.Cu=this.Cu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.Cu=this.Cu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.Cu=this.Cu.remove(e):1===t.type&&2===i.type?this.Cu=this.Cu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.Cu=this.Cu.insert(e,{type:2,doc:t.doc}):mt():this.Cu=this.Cu.insert(e,t)}xu(){const t=[];return this.Cu.inorderTraversal((e,i)=>{t.push(i)}),t}}class Ey{constructor(t,e,i,r,o,l,u,p,v){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach(u=>{l.push({type:0,doc:u})}),new Ey(t,e,Cy.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class $${constructor(){this.Nu=void 0,this.listeners=[]}}class W${constructor(){this.queries=new Gu(t=>M2(t),cw),this.onlineState="Unknown",this.ku=new Set}}function RR(n,t){return OR.apply(this,arguments)}function OR(){return OR=(0,xe.Z)(function*(n,t){const e=rt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new $$),r)try{o.Nu=yield e.onListen(i)}catch(l){const u=xy(l,`Initialization of query '${kk(t.query)}' failed`);return void t.onError(u)}e.queries.set(i,o),o.listeners.push(t),t.Mu(e.onlineState),o.Nu&&t.$u(o.Nu)&&NR(e)}),OR.apply(this,arguments)}function PR(n,t){return FR.apply(this,arguments)}function FR(){return FR=(0,xe.Z)(function*(n,t){const e=rt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const l=o.listeners.indexOf(t);l>=0&&(o.listeners.splice(l,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),FR.apply(this,arguments)}function q$(n,t){const e=rt(n);let i=!1;for(const r of t){const l=e.queries.get(r.query);if(l){for(const u of l.listeners)u.$u(r)&&(i=!0);l.Nu=r}}i&&NR(e)}function Y$(n,t,e){const i=rt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function NR(n){n.ku.forEach(t=>{t.next()})}class LR{constructor(t,e,i){this.query=t,this.Ou=e,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=i||{}}$u(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new Ey(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),e=!0):this.qu(t,this.onlineState)&&(this.Uu(t),e=!0),this.Bu=t,e}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let e=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),e=!0),e}qu(t,e){return!t.fromCache||(!this.options.Ku||!("Offline"!==e))&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Lu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(t){t=Ey.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}class K${constructor(t,e){this.Gu=t,this.byteLength=e}Qu(){return"metadata"in this.Gu}}class uV{constructor(t){this.serializer=t}rr(t){return Ad(this.serializer,t)}ur(t){return t.metadata.exists?cB(this.serializer,t.document,!1):yi.newNoDocument(this.rr(t.metadata.name),this.cr(t.metadata.readTime))}cr(t){return cr(t)}}class Z${constructor(t,e,i){this.ju=t,this.localStore=e,this.serializer=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hV(t)}zu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.Gu.namedQuery)this.queries.push(t.Gu.namedQuery);else if(t.Gu.documentMetadata){this.documents.push({metadata:t.Gu.documentMetadata}),t.Gu.documentMetadata.exists||++e;const i=xn.fromString(t.Gu.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.Gu.document&&(this.documents[this.documents.length-1].document=t.Gu.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}Wu(t){const e=new Map,i=new uV(this.serializer);for(const r of t)if(r.metadata.queries){const o=i.rr(r.metadata.name);for(const l of r.metadata.queries){const u=(e.get(l)||rn()).add(o);e.set(l,u)}}return e}complete(){var t=this;return(0,xe.Z)(function*(){const e=yield function E$(n,t,e,i){return oR.apply(this,arguments)}(t.localStore,new uV(t.serializer),t.documents,t.ju.id),i=t.Wu(t.documents);for(const r of t.queries)yield I$(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Hu:t.collectionGroups,Ju:e}})()}}function hV(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class fV{constructor(t){this.key=t}}class mV{constructor(t){this.key=t}}class pV{constructor(t,e){this.query=t,this.Yu=e,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=rn(),this.mutatedKeys=rn(),this.tc=k2(t),this.ec=new Cy(this.tc)}get nc(){return this.Yu}sc(t,e){const i=e?e.ic:new dV,r=e?e.ec:this.ec;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const p="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,v="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((x,D)=>{const R=r.get(x),F=dw(this.query,D)?D:null,H=!!R&&this.mutatedKeys.has(R.key),Y=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let te=!1;R&&F?R.data.isEqual(F.data)?H!==Y&&(i.track({type:3,doc:F}),te=!0):this.rc(R,F)||(i.track({type:2,doc:F}),te=!0,(p&&this.tc(F,p)>0||v&&this.tc(F,v)<0)&&(u=!0)):!R&&F?(i.track({type:0,doc:F}),te=!0):R&&!F&&(i.track({type:1,doc:R}),te=!0,(p||v)&&(u=!0)),te&&(F?(l=l.add(F),o=Y?o.add(x):o.delete(x)):(l=l.delete(x),o=o.delete(x)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const x="F"===this.query.limitType?l.last():l.first();l=l.delete(x.key),o=o.delete(x.key),i.track({type:1,doc:x})}return{ec:l,ic:i,zi:u,mutatedKeys:o}}rc(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const o=t.ic.xu();o.sort((v,x)=>function(D,R){const F=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mt()}};return F(D)-F(R)}(v.type,x.type)||this.tc(v.doc,x.doc)),this.oc(i);const l=e?this.uc():[],u=0===this.Zu.size&&this.current?1:0,p=u!==this.Xu;return this.Xu=u,0!==o.length||p?{snapshot:new Ey(this.query,t.ec,r,o,t.mutatedKeys,0===u,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),cc:l}:{cc:l}}Mu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({ec:this.ec,ic:new dV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=rn(),this.ec.forEach(i=>{this.ac(i.key)&&(this.Zu=this.Zu.add(i.key))});const e=[];return t.forEach(i=>{this.Zu.has(i)||e.push(new mV(i))}),this.Zu.forEach(i=>{t.has(i)||e.push(new fV(i))}),e}hc(t){this.Yu=t.ir,this.Zu=rn();const e=this.sc(t.documents);return this.applyChanges(e,!0)}lc(){return Ey.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Q${constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class X${constructor(t){this.key=t,this.fc=!1}}class J${constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.dc={},this.wc=new Gu(u=>M2(u),cw),this._c=new Map,this.mc=new Set,this.gc=new di(tt.comparator),this.yc=new Map,this.Ic=new Qk,this.Tc={},this.Ec=new Map,this.Ac=gg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function e5(n,t){return BR.apply(this,arguments)}function BR(){return BR=(0,xe.Z)(function*(n,t){const e=l1(n);let i,r;const o=e.wc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.lc();else{const l=yield _y(e.localStore,hs(t)),u=e.sharedClientState.addLocalQueryTarget(l.targetId);i=l.targetId,r=yield VR(e,t,i,"current"===u,l.resumeToken),e.isPrimaryClient&&JI(e.remoteStore,l)}return r}),BR.apply(this,arguments)}function VR(n,t,e,i,r){return UR.apply(this,arguments)}function UR(){return UR=(0,xe.Z)(function*(n,t,e,i,r){n.Rc=(D,R,F)=>{return(H=(0,xe.Z)(function*(Y,te,Ve,Ke){let Xe=te.view.sc(Ve);Xe.zi&&(Xe=yield YI(Y.localStore,te.query,!1).then(({documents:Kt})=>te.view.sc(Kt,Xe)));const dt=Ke&&Ke.targetChanges.get(te.targetId),zt=te.view.applyChanges(Xe,Y.isPrimaryClient,dt);return ZR(Y,te.targetId,zt.cc),zt.snapshot}),function(Y,te,Ve,Ke){return H.apply(this,arguments)})(n,D,R,F);var H};const o=yield YI(n.localStore,t,!0),l=new pV(t,o.ir),u=l.sc(o.documents),p=_w.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState,r),v=l.applyChanges(u,n.isPrimaryClient,p);ZR(n,e,v.cc);const x=new Q$(t,e,l);return n.wc.set(t,x),n._c.has(e)?n._c.get(e).push(t):n._c.set(e,[t]),v.snapshot}),UR.apply(this,arguments)}function t5(n,t){return HR.apply(this,arguments)}function HR(){return HR=(0,xe.Z)(function*(n,t){const e=rt(n),i=e.wc.get(t),r=e._c.get(i.targetId);if(r.length>1)return e._c.set(i.targetId,r.filter(o=>!cw(o,t))),void e.wc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield vy(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),kw(e.remoteStore,i.targetId),Iy(e,i.targetId)}).catch(jf))):(Iy(e,i.targetId),yield vy(e.localStore,i.targetId,!0))}),HR.apply(this,arguments)}function zR(){return zR=(0,xe.Z)(function*(n,t,e){const i=c1(n);try{const r=yield function(o,l){const u=rt(o),p=ki.now(),v=l.reduce((R,F)=>R.add(F.key),rn());let x,D;return u.persistence.runTransaction("Locally write mutations","readwrite",R=>{let F=js(),H=rn();return u.Zi.getEntries(R,v).next(Y=>{F=Y,F.forEach((te,Ve)=>{Ve.isValidDocument()||(H=H.add(te))})}).next(()=>u.localDocuments.getOverlayedDocuments(R,F)).next(Y=>{x=Y;const te=[];for(const Ve of l){const Ke=kG(Ve,x.get(Ve.key).overlayedDocument);null!=Ke&&te.push(new $u(Ve.key,Ke,p2(Ke.value.mapValue),Ri.exists(!0)))}return u.mutationQueue.addMutationBatch(R,p,te,l)}).next(Y=>{D=Y;const te=Y.applyToLocalDocumentSet(x,H);return u.documentOverlayCache.saveOverlays(R,Y.batchId,te)})}).then(()=>({batchId:D.batchId,changes:O2(x)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,l,u){let p=o.Tc[o.currentUser.toKey()];p||(p=new di(Yt)),p=p.insert(l,u),o.Tc[o.currentUser.toKey()]=p}(i,r.batchId,e),yield qu(i,r.changes),yield by(i.remoteStore)}catch(r){const o=xy(r,"Failed to persist write");e.reject(o)}}),zR.apply(this,arguments)}function gV(n,t){return jR.apply(this,arguments)}function jR(){return jR=(0,xe.Z)(function*(n,t){const e=rt(n);try{const i=yield function x$(n,t){const e=rt(n),i=t.snapshotVersion;let r=e.Ji;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=e.Zi.newChangeBuffer({trackRemovals:!0});r=e.Ji;const u=[];t.targetChanges.forEach((x,D)=>{const R=r.get(D);if(!R)return;u.push(e.Bs.removeMatchingKeys(o,x.removedDocuments,D).next(()=>e.Bs.addMatchingKeys(o,x.addedDocuments,D)));let F=R.withSequenceNumber(o.currentSequenceNumber);var H,Y,te;null!==t.targetMismatches.get(D)?F=F.withResumeToken(Pr.EMPTY_BYTE_STRING,Dt.min()).withLastLimboFreeSnapshotVersion(Dt.min()):x.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(x.resumeToken,i)),r=r.insert(D,F),Y=F,te=x,(0===(H=R).resumeToken.approximateByteSize()||Y.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=3e8||te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0)&&u.push(e.Bs.updateTargetData(o,F))});let p=js(),v=rn();if(t.documentUpdates.forEach(x=>{t.resolvedLimboDocuments.has(x)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,x))}),u.push(YB(o,l,t.documentUpdates).next(x=>{p=x.nr,v=x.sr})),!i.isEqual(Dt.min())){const x=e.Bs.getLastRemoteSnapshotVersion(o).next(D=>e.Bs.setTargetsMetadata(o,o.currentSequenceNumber,i));u.push(x)}return ae.waitFor(u).next(()=>l.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,p,v)).next(()=>p)}).then(o=>(e.Ji=r,o))}(e.localStore,t);t.targetChanges.forEach((r,o)=>{const l=e.yc.get(o);l&&(Et(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?l.fc=!0:r.modifiedDocuments.size>0?Et(l.fc):r.removedDocuments.size>0&&(Et(l.fc),l.fc=!1))}),yield qu(e,i,t)}catch(i){yield jf(i)}}),jR.apply(this,arguments)}function _V(n,t,e){const i=rt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.wc.forEach((o,l)=>{const u=l.view.Mu(t);u.snapshot&&r.push(u.snapshot)}),function(o,l){const u=rt(o);u.onlineState=l;let p=!1;u.queries.forEach((v,x)=>{for(const D of x.listeners)D.Mu(l)&&(p=!0)}),p&&NR(u)}(i.eventManager,t),r.length&&i.dc.nu(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function r5(n,t,e){return GR.apply(this,arguments)}function GR(){return GR=(0,xe.Z)(function*(n,t,e){const i=rt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.yc.get(t),o=r&&r.key;if(o){let l=new di(tt.comparator);l=l.insert(o,yi.newNoDocument(o,Dt.min()));const u=rn().add(o),p=new gw(Dt.min(),new Map,new di(Yt),l,u);yield gV(i,p),i.gc=i.gc.remove(o),i.yc.delete(t),QR(i)}else yield vy(i.localStore,t,!1).then(()=>Iy(i,t,e)).catch(jf)}),GR.apply(this,arguments)}function o5(n,t){return $R.apply(this,arguments)}function $R(){return $R=(0,xe.Z)(function*(n,t){const e=rt(n),i=t.batch.batchId;try{const r=yield function w$(n,t){const e=rt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Zi.newChangeBuffer({trackRemovals:!0});return function(l,u,p,v){const x=p.batch,D=x.keys();let R=ae.resolve();return D.forEach(F=>{R=R.next(()=>v.getEntry(u,F)).next(H=>{const Y=p.docVersions.get(F);Et(null!==Y),H.version.compareTo(Y)<0&&(x.applyToRemoteDocument(H,p),H.isValidDocument()&&(H.setReadTime(p.commitVersion),v.addEntry(H)))})}),R.next(()=>l.mutationQueue.removeMutationBatch(u,x))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(l){let u=rn();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(u=u.add(l.batch.mutations[p].key));return u}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}(e.localStore,t);KR(e,i,null),YR(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield qu(e,r)}catch(r){yield jf(r)}}),$R.apply(this,arguments)}function s5(n,t,e){return WR.apply(this,arguments)}function WR(){return WR=(0,xe.Z)(function*(n,t,e){const i=rt(n);try{const r=yield function(o,l){const u=rt(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return u.mutationQueue.lookupMutationBatch(p,l).next(x=>(Et(null!==x),v=x.keys(),u.mutationQueue.removeMutationBatch(p,x))).next(()=>u.mutationQueue.performConsistencyCheck(p)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(p,v,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>u.localDocuments.getDocuments(p,v))})}(i.localStore,t);KR(i,t,e),YR(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield qu(i,r)}catch(r){yield jf(r)}}),WR.apply(this,arguments)}function qR(){return qR=(0,xe.Z)(function*(n,t){const e=rt(n);nm(e.remoteStore)||He("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const l=rt(o);return l.persistence.runTransaction("Get highest unacknowledged batch id","readonly",u=>l.mutationQueue.getHighestUnacknowledgedBatchId(u))}(e.localStore);if(-1===i)return void t.resolve();const r=e.Ec.get(i)||[];r.push(t),e.Ec.set(i,r)}catch(i){const r=xy(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),qR.apply(this,arguments)}function YR(n,t){(n.Ec.get(t)||[]).forEach(e=>{e.resolve()}),n.Ec.delete(t)}function KR(n,t,e){const i=rt(n);let r=i.Tc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Tc[i.currentUser.toKey()]=r}}function Iy(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n._c.get(t))n.wc.delete(i),e&&n.dc.Pc(i,e);n._c.delete(t),n.isPrimaryClient&&n.Ic.Is(t).forEach(i=>{n.Ic.containsKey(i)||vV(n,i)})}function vV(n,t){n.mc.delete(t.path.canonicalString());const e=n.gc.get(t);null!==e&&(kw(n.remoteStore,e),n.gc=n.gc.remove(t),n.yc.delete(e),QR(n))}function ZR(n,t,e){for(const i of e)i instanceof fV?(n.Ic.addReference(i.key,t),l5(n,i)):i instanceof mV?(He("SyncEngine","Document no longer in limbo: "+i.key),n.Ic.removeReference(i.key,t),n.Ic.containsKey(i.key)||vV(n,i.key)):mt()}function l5(n,t){const e=t.key,i=e.path.canonicalString();n.gc.get(e)||n.mc.has(i)||(He("SyncEngine","New document in limbo: "+e),n.mc.add(i),QR(n))}function QR(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const t=n.mc.values().next().value;n.mc.delete(t);const e=new tt(xn.fromString(t)),i=n.Ac.next();n.yc.set(i,new X$(e)),n.gc=n.gc.insert(e,i),JI(n.remoteStore,new Wu(hs(ly(e.path)),i,"TargetPurposeLimboResolution",Da.ct))}}function qu(n,t,e){return XR.apply(this,arguments)}function XR(){return XR=(0,xe.Z)(function*(n,t,e){const i=rt(n),r=[],o=[],l=[];var u;i.wc.isEmpty()||(i.wc.forEach((u,p)=>{l.push(i.Rc(p,t,e).then(v=>{if((v||e)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(p.targetId,v?.fromCache?"not-current":"current"),v){r.push(v);const x=nR.Li(p.targetId,v);o.push(x)}}))}),yield Promise.all(l),i.dc.nu(r),yield(u=(0,xe.Z)(function*(p,v){const x=rt(p);try{yield x.persistence.runTransaction("notifyLocalViewChanges","readwrite",D=>ae.forEach(v,R=>ae.forEach(R.Fi,F=>x.persistence.referenceDelegate.addReference(D,R.targetId,F)).next(()=>ae.forEach(R.Bi,F=>x.persistence.referenceDelegate.removeReference(D,R.targetId,F)))))}catch(D){if(!Gf(D))throw D;He("LocalStore","Failed to update sequence numbers: "+D)}for(const D of v){const R=D.targetId;if(!D.fromCache){const F=x.Ji.get(R),Y=F.withLastLimboFreeSnapshotVersion(F.snapshotVersion);x.Ji=x.Ji.insert(R,Y)}}}),function(p,v){return u.apply(this,arguments)})(i.localStore,o))}),XR.apply(this,arguments)}function c5(n,t){return JR.apply(this,arguments)}function JR(){return JR=(0,xe.Z)(function*(n,t){const e=rt(n);if(!e.currentUser.isEqual(t)){He("SyncEngine","User change. New user:",t.toKey());const i=yield WB(e.localStore,t);e.currentUser=t,(r=e).Ec.forEach(l=>{l.forEach(u=>{u.reject(new ke(fe.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Ec.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield qu(e,i.er)}var r}),JR.apply(this,arguments)}function d5(n,t){const e=rt(n),i=e.yc.get(t);if(i&&i.fc)return rn().add(i.key);{let r=rn();const o=e._c.get(t);if(!o)return r;for(const l of o){const u=e.wc.get(l);r=r.unionWith(u.view.nc)}return r}}function u5(n,t){return e1.apply(this,arguments)}function e1(){return e1=(0,xe.Z)(function*(n,t){const e=rt(n),i=yield YI(e.localStore,t.query,!0),r=t.view.hc(i);return e.isPrimaryClient&&ZR(e,t.targetId,r.cc),r}),e1.apply(this,arguments)}function h5(n,t){return t1.apply(this,arguments)}function t1(){return t1=(0,xe.Z)(function*(n,t){const e=rt(n);return ZB(e.localStore,t).then(i=>qu(e,i))}),t1.apply(this,arguments)}function f5(n,t,e,i){return n1.apply(this,arguments)}function n1(){return n1=(0,xe.Z)(function*(n,t,e,i){const r=rt(n),o=yield function(l,u){const p=rt(l),v=rt(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",x=>v.Sn(x,u).next(D=>D?p.localDocuments.getDocuments(x,D):ae.resolve(null)))}(r.localStore,t);var u;null!==o?("pending"===e?yield by(r.remoteStore):"acknowledged"===e||"rejected"===e?(KR(r,t,i||null),YR(r,t),u=t,rt(rt(r.localStore).mutationQueue).Cn(u)):mt(),yield qu(r,o)):He("SyncEngine","Cannot apply mutation batch with id: "+t)}),n1.apply(this,arguments)}function r1(){return r1=(0,xe.Z)(function*(n,t){const e=rt(n);if(l1(e),c1(e),!0===t&&!0!==e.vc){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield yV(e,i.toArray());e.vc=!0,yield MR(e.remoteStore,!0);for(const o of r)JI(e.remoteStore,o)}else if(!1===t&&!1!==e.vc){const i=[];let r=Promise.resolve();e._c.forEach((o,l)=>{e.sharedClientState.isLocalQueryTarget(l)?i.push(l):r=r.then(()=>(Iy(e,l),vy(e.localStore,l,!0))),kw(e.remoteStore,l)}),yield r,yield yV(e,i),function(o){const l=rt(o);l.yc.forEach((u,p)=>{kw(l.remoteStore,p)}),l.Ic.Ts(),l.yc=new Map,l.gc=new di(tt.comparator)}(e),e.vc=!1,yield MR(e.remoteStore,!1)}}),r1.apply(this,arguments)}function yV(n,t,e){return o1.apply(this,arguments)}function o1(){return o1=(0,xe.Z)(function*(n,t,e){const i=rt(n),r=[],o=[];for(const l of t){let u;const p=i._c.get(l);if(p&&0!==p.length){u=yield _y(i.localStore,hs(p[0]));for(const v of p){const x=i.wc.get(v),D=yield u5(i,x);D.snapshot&&o.push(D.snapshot)}}else{const v=yield KB(i.localStore,l);u=yield _y(i.localStore,v),yield VR(i,bV(v),l,!1,u.resumeToken)}r.push(u)}return i.dc.nu(o),r}),o1.apply(this,arguments)}function bV(n){return D2(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function p5(n){const t=rt(n);return rt(rt(t.localStore).persistence).$i()}function g5(n,t,e,i){return s1.apply(this,arguments)}function s1(){return s1=(0,xe.Z)(function*(n,t,e,i){const r=rt(n);if(r.vc)return void He("SyncEngine","Ignoring unexpected query state notification.");const o=r._c.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const l=yield ZB(r.localStore,A2(o[0])),u=gw.createSynthesizedRemoteEventForCurrentChange(t,"current"===e,Pr.EMPTY_BYTE_STRING);yield qu(r,l,u);break}case"rejected":yield vy(r.localStore,t,!0),Iy(r,t,i);break;default:mt()}}),s1.apply(this,arguments)}function _5(n,t,e){return a1.apply(this,arguments)}function a1(){return a1=(0,xe.Z)(function*(n,t,e){const i=l1(n);if(i.vc){for(const r of t){if(i._c.has(r)){He("SyncEngine","Adding an already active target "+r);continue}const o=yield KB(i.localStore,r),l=yield _y(i.localStore,o);yield VR(i,bV(o),l.targetId,!1,l.resumeToken),JI(i.remoteStore,l)}for(const r of e)i._c.has(r)&&(yield vy(i.localStore,r,!1).then(()=>{kw(i.remoteStore,r),Iy(i,r)}).catch(jf))}}),a1.apply(this,arguments)}function l1(n){const t=rt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=gV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=d5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=r5.bind(null,t),t.dc.nu=q$.bind(null,t.eventManager),t.dc.Pc=Y$.bind(null,t.eventManager),t}function c1(n){const t=rt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=o5.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=s5.bind(null,t),t}class Rw{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,xe.Z)(function*(){e.serializer=Mw(t.databaseInfo.databaseId),e.sharedClientState=e.createSharedClientState(t),e.persistence=e.createPersistence(t),yield e.persistence.start(),e.localStore=e.createLocalStore(t),e.gcScheduler=e.createGarbageCollectionScheduler(t,e.localStore),e.indexBackfillerScheduler=e.createIndexBackfillerScheduler(t,e.localStore)})()}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return $B(this.persistence,new GB,t.initialUser,this.serializer)}createPersistence(t){return new Xk($I.zs,this.serializer)}createSharedClientState(t){return new eV}terminate(){var t=this;return(0,xe.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class d1 extends Rw{constructor(t,e,i){super(),this.Vc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield e().call(i,t),yield i.Vc.initialize(i,t),yield c1(i.Vc.syncEngine),yield by(i.Vc.remoteStore),yield i.persistence.Ii(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(t){return $B(this.persistence,new GB,t.initialUser,this.serializer)}createGarbageCollectionScheduler(t,e){return new FB(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}createIndexBackfillerScheduler(t,e){const i=new j6(e,this.persistence);return new z6(t.asyncQueue,i)}createPersistence(t){const e=tR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?jo.withCacheSize(this.cacheSizeBytes):jo.DEFAULT;return new eR(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,nV(),XI(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(t){return new eV}}class wV extends d1{constructor(t,e){super(t,e,!1),this.Vc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,xe.Z)(function*(){yield e().call(i,t);const r=i.Vc.syncEngine;i.sharedClientState instanceof dR&&(i.sharedClientState.syncEngine={jr:f5.bind(null,r),zr:g5.bind(null,r),Wr:_5.bind(null,r),$i:p5.bind(null,r),Qr:h5.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.Ii(function(){var o=(0,xe.Z)(function*(l){yield function m5(n,t){return r1.apply(this,arguments)}(i.Vc.syncEngine,l),i.gcScheduler&&(l&&!i.gcScheduler.started?i.gcScheduler.start():l||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(l&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():l||i.indexBackfillerScheduler.stop())});return function(l){return o.apply(this,arguments)}}())})()}createSharedClientState(t){const e=nV();if(!dR.D(e))throw new ke(fe.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=tR(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new dR(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class Sy{initialize(t,e){var i=this;return(0,xe.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>_V(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=c5.bind(null,i.syncEngine),yield MR(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new W$}createDatastore(t){const e=Mw(t.databaseInfo.databaseId),i=new M$(t.databaseInfo);return new R$(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=u=>_V(this.syncEngine,u,0),l=tV.D()?new tV:new S$,new F$(e,i,r,o,l);var e,i,r,o,l}createSyncEngine(t,e){return function(i,r,o,l,u,p,v){const x=new J$(i,r,o,l,u,p);return v&&(x.vc=!0),x}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,xe.Z)(function*(e){const i=rt(e);He("RemoteStore","RemoteStore shutting down."),i.vu.add(5),yield yy(i),i.Pu.shutdown(),i.bu.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function xV(n,t=10240){let e=0;return{read:()=>(0,xe.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,xe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class tS{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):lr("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class b5{constructor(t,e){this.Cc=t,this.serializer=e,this.metadata=new Or,this.buffer=new Uint8Array,this.xc=new TextDecoder("utf-8"),this.Nc().then(i=>{i&&i.Qu()?this.metadata.resolve(i.Gu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.Gu)}`))},i=>this.metadata.reject(i))}close(){return this.Cc.cancel()}getMetadata(){var t=this;return(0,xe.Z)(function*(){return t.metadata.promise})()}bc(){var t=this;return(0,xe.Z)(function*(){return yield t.getMetadata(),t.Nc()})()}Nc(){var t=this;return(0,xe.Z)(function*(){const e=yield t.kc();if(null===e)return null;const i=t.xc.decode(e),r=Number(i);isNaN(r)&&t.Mc(`length string (${i}) is not valid number`);const o=yield t.$c(r);return new K$(JSON.parse(o),e.length+r)})()}Oc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}kc(){var t=this;return(0,xe.Z)(function*(){for(;t.Oc()<0&&!(yield t.Fc()););if(0===t.buffer.length)return null;const e=t.Oc();e<0&&t.Mc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}$c(t){var e=this;return(0,xe.Z)(function*(){for(;e.buffer.length<t;)(yield e.Fc())&&e.Mc("Reached the end of bundle when more is expected.");const i=e.xc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Mc(t){throw this.Cc.cancel(),new Error(`Invalid bundle format: ${t}`)}Fc(){var t=this;return(0,xe.Z)(function*(){const e=yield t.Cc.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class w5{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,xe.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ke(fe.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,xe.Z)(function*(o,l){const u=rt(o),p=yw(u.serializer)+"/documents",v={documents:l.map(F=>vw(u.serializer,F))},x=yield u.vo("BatchGetDocuments",p,v,l.length),D=new Map;x.forEach(F=>{const H=function HG(n,t){return"found"in t?function(e,i){Et(!!i.found);const r=Ad(e,i.found.name),o=cr(i.found.updateTime),l=i.found.createTime?cr(i.found.createTime):Dt.min(),u=new wo({mapValue:{fields:i.found.fields}});return yi.newFoundDocument(r,o,l,u)}(n,t):"missing"in t?function(e,i){Et(!!i.missing),Et(!!i.readTime);const r=Ad(e,i.missing),o=cr(i.readTime);return yi.newNoDocument(r,o)}(n,t):mt()}(u.serializer,F);D.set(H.key.toString(),H)});const R=[];return l.forEach(F=>{const H=D.get(F.toString());Et(!!H),R.push(H)}),R}),function(o,l){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new hy(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,xe.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=tt.fromPath(r);t.mutations.push(new Ok(o,t.precondition(o)))}),yield(i=(0,xe.Z)(function*(r,o){const l=rt(r),u=yw(l.serializer)+"/documents",p={writes:o.map(v=>bw(l.serializer,v))};yield l.Io("Commit",u,p)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw mt();e=Dt.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new ke(fe.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?e.isEqual(Dt.min())?Ri.exists(!1):Ri.updateTime(e):Ri.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Dt.min()))throw new ke(fe.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ri.updateTime(e)}return Ri.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class x5{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Bc=i.maxAttempts,this.qo=new hR(this.asyncQueue,"transaction_retry")}run(){this.Bc-=1,this.Lc()}Lc(){var t=this;this.qo.No((0,xe.Z)(function*(){const e=new w5(t.datastore),i=t.qc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Uc(o)}))}).catch(r=>{t.Uc(r)})}))}qc(t){try{const e=this.updateFunction(t);return!nw(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Uc(t){this.Bc>0&&this.Kc(t)?(this.Bc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Lc(),Promise.resolve()))):this.deferred.reject(t)}Kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||"already-exists"===e||!Y2(e)}return!1}}class C5{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Qr.UNAUTHENTICATED,this.clientId=GL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var l=(0,xe.Z)(function*(u){He("FirestoreClient","Received user=",u.uid),yield o.authCredentialListener(u),o.user=u});return function(u){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(i,l=>(He("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var t=this;return(0,xe.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ke(fe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{t._onlineComponents&&(yield t._onlineComponents.terminate()),t._offlineComponents&&(yield t._offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=xy(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function nS(n,t){return u1.apply(this,arguments)}function u1(){return u1=(0,xe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,xe.Z)(function*(o){i.isEqual(o)||(yield WB(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}),u1.apply(this,arguments)}function h1(n,t){return f1.apply(this,arguments)}function f1(){return f1=(0,xe.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield m1(n);He("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>cV(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>cV(t.remoteStore,o)),n._onlineComponents=t}),f1.apply(this,arguments)}function CV(n){return"FirebaseError"===n.name?n.code===fe.FAILED_PRECONDITION||n.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function m1(n){return p1.apply(this,arguments)}function p1(){return p1=(0,xe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nS(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!CV(e))throw e;al("Error using user provided cache. Falling back to memory cache: "+e),yield nS(n,new Rw)}}else He("FirestoreClient","Using default OfflineComponentProvider"),yield nS(n,new Rw);return n._offlineComponents}),p1.apply(this,arguments)}function iS(n){return g1.apply(this,arguments)}function g1(){return g1=(0,xe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),yield h1(n,n._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),yield h1(n,new Sy))),n._onlineComponents}),g1.apply(this,arguments)}function EV(n){return m1(n).then(t=>t.persistence)}function rS(n){return m1(n).then(t=>t.localStore)}function IV(n){return iS(n).then(t=>t.remoteStore)}function _1(n){return iS(n).then(t=>t.syncEngine)}function Dy(n){return v1.apply(this,arguments)}function v1(){return v1=(0,xe.Z)(function*(n){const t=yield iS(n),e=t.eventManager;return e.onListen=e5.bind(null,t.syncEngine),e.onUnlisten=t5.bind(null,t.syncEngine),e}),v1.apply(this,arguments)}function DV(n,t,e={}){const i=new Or;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,o,l,u,p){const v=new tS({next:D=>{o.enqueueAndForget(()=>PR(r,x));const R=D.docs.has(l);!R&&D.fromCache?p.reject(new ke(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&D.fromCache&&u&&"server"===u.source?p.reject(new ke(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(D)},error:D=>p.reject(D)}),x=new LR(ly(l.path),v,{includeMetadataChanges:!0,Ku:!0});return RR(r,x)}(yield Dy(n),n.asyncQueue,t,e,i)})),i.promise}function TV(n,t,e={}){const i=new Or;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(r,o,l,u,p){const v=new tS({next:D=>{o.enqueueAndForget(()=>PR(r,x)),D.fromCache&&"server"===u.source?p.reject(new ke(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(D)},error:D=>p.reject(D)}),x=new LR(l,v,{includeMetadataChanges:!0,Ku:!0});return RR(r,x)}(yield Dy(n),n.asyncQueue,t,e,i)})),i.promise}function MV(n){const t={};return void 0!==n.timeoutSeconds&&(t.timeoutSeconds=n.timeoutSeconds),t}const AV=new Map;function y1(n,t,e){if(!e)throw new ke(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function kV(n,t,e,i){if(!0===t&&!0===i)throw new ke(fe.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function RV(n){if(!tt.isDocumentKey(n))throw new ke(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OV(n){if(tt.isDocumentKey(n))throw new ke(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":mt()}function _n(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ke(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=oS(n);throw new ke(fe.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function PV(n,t){if(t<=0)throw new ke(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class FV{constructor(t){var e,i;if(void 0===t.host){if(void 0!==t.ssl)throw new ke(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ke(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kV("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==t.experimentalAutoDetectLongPolling&&!t.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=MV(null!==(i=t.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(r){if(void 0!==r.timeoutSeconds){if(isNaN(r.timeoutSeconds))throw new ke(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ke(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ke(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===t.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ow{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FV({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ke(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ke(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FV(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new A6;switch(e.type){case"firstParty":return new P6(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ke(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=AV.get(t);e&&(He("ComponentProvider","Removing Datastore"),AV.delete(t),e.terminate())}(this),Promise.resolve()}}class bi{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kd(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new bi(this.firestore,t,this._key)}}class xo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new xo(this.firestore,t,this._query)}}class kd extends xo{constructor(t,e,i){super(t,e,ly(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new bi(this.firestore,null,new tt(t))}withConverter(t){return new kd(this.firestore,t,this._path)}}function LV(n,t,...e){if(n=(0,N.m9)(n),y1("collection","path",t),n instanceof Ow){const i=xn.fromString(t,...e);return OV(i),new kd(n,null,i)}{if(!(n instanceof bi||n instanceof kd))throw new ke(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(t,...e));return OV(i),new kd(n.firestore,null,i)}}function sS(n,t,...e){if(n=(0,N.m9)(n),1===arguments.length&&(t=GL.A()),y1("doc","path",t),n instanceof Ow){const i=xn.fromString(t,...e);return RV(i),new bi(n,null,new tt(i))}{if(!(n instanceof bi||n instanceof kd))throw new ke(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(xn.fromString(t,...e));return RV(i),new bi(n.firestore,n instanceof kd?n.converter:null,new tt(i))}}function BV(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),(n instanceof bi||n instanceof kd)&&(t instanceof bi||t instanceof kd)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function b1(n,t){return n=(0,N.m9)(n),t=(0,N.m9)(t),n instanceof xo&&t instanceof xo&&n.firestore===t.firestore&&cw(n._query,t._query)&&n.converter===t.converter}class O5{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new hR(this,"async_queue_retry"),this.Xc=()=>{const e=XI();e&&He("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const t=XI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const e=XI();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const e=new Or;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}ea(){var t=this;return(0,xe.Z)(function*(){if(0!==t.Qc.length){try{yield t.Qc[0](),t.Qc.shift(),t.qo.reset()}catch(e){if(!Gf(e))throw e;He("AsyncQueue","Operation failed with retryable error: "+e)}t.Qc.length>0&&t.qo.No(()=>t.ea())}})()}ta(t){const e=this.Gc.then(()=>(this.Hc=!0,t().catch(i=>{throw this.Wc=i,this.Hc=!1,lr("INTERNAL UNHANDLED ERROR: ",function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),l}(i)),i}).then(i=>(this.Hc=!1,i))));return this.Gc=e,e}enqueueAfterDelay(t,e,i){this.Zc(),this.Yc.indexOf(t)>-1&&(e=0);const r=kR.createAndSchedule(this,t,e,i,o=>this.na(o));return this.zc.push(r),r}Zc(){this.Wc&&mt()}verifyOperationInProgress(){}sa(){var t=this;return(0,xe.Z)(function*(){let e;do{e=t.Gc,yield e}while(e!==t.Gc)})()}ia(t){for(const e of this.zc)if(e.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.zc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const e=this.zc.indexOf(t);this.zc.splice(e,1)}}function w1(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class P5{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class wi extends Ow{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new O5,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||VV(this),this._firestoreClient.terminate()}}function dr(n){return n._firestoreClient||VV(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function VV(n){var t,e,i;const r=n._freezeSettings(),o=(u=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new dG(n._databaseId,u,n._persistenceKey,(v=r).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,MV(v.experimentalLongPollingOptions),v.useFetchStreams));var u,v;n._firestoreClient=new C5(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(e=r.cache)&&void 0!==e&&e._offlineComponentProvider&&null!==(i=r.cache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.cache.kind,_offline:r.cache._offlineComponentProvider,_online:r.cache._onlineComponentProvider})}function UV(n,t,e){const i=new Or;return n.asyncQueue.enqueue((0,xe.Z)(function*(){try{yield nS(n,e),yield h1(n,t),i.resolve()}catch(r){const o=r;if(!CV(o))throw o;al("Error enabling indexeddb cache. Falling back to memory cache: "+o),i.reject(o)}})).then(()=>i.promise)}function HV(n){if(n._initialized||n._terminated)throw new ke(fe.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Rd{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Rd(Pr.fromBase64String(t))}catch(e){throw new ke(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Rd(Pr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Yu{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ke(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class vg{constructor(t){this._methodName=t}}class aS{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ke(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ke(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Yt(this._lat,t._lat)||Yt(this._long,t._long)}}const $5=/^__.*__$/;class W5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new $u(t,this.data,this.fieldMask,e,this.fieldTransforms):new uy(t,this.data,e,this.fieldTransforms)}}class zV{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new $u(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function jV(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mt()}}class lS{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.ua(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new lS(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.fa(t),r}da(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.aa({path:i,la:!1});return r.ua(),r}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return uS(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(0===t.length)throw this._a("Document fields must not be empty");if(jV(this.ca)&&$5.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class q5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Mw(t)}ya(t,e,i,r=!1){return new lS({ca:t,methodName:e,ga:i,path:Zi.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yg(n){const t=n._freezeSettings(),e=Mw(n._databaseId);return new q5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function cS(n,t,e,i,r,o={}){const l=n.ya(o.merge||o.mergeFields?2:0,t,e,r);I1("Data must be an object, but it was:",l,i);const u=WV(i,l);let p,v;if(o.merge)p=new zs(l.fieldMask),v=l.fieldTransforms;else if(o.mergeFields){const x=[];for(const D of o.mergeFields){const R=Nw(t,D,e);if(!l.contains(R))throw new ke(fe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);YV(x,R)||x.push(R)}p=new zs(x),v=l.fieldTransforms.filter(D=>p.covers(D.field))}else p=null,v=l.fieldTransforms;return new W5(new wo(u),p,v)}class Fw extends vg{_toFieldTransform(t){if(2!==t.ca)throw t._a(1===t.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Fw}}function GV(n,t,e){return new lS({ca:3,ga:t.settings.ga,methodName:n._methodName,la:e},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class x1 extends vg{_toFieldTransform(t){return new fw(t.path,new cy)}isEqual(t){return t instanceof x1}}class Y5 extends vg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=GV(this,t,!0),i=this.pa.map(o=>bg(o,e)),r=new cg(i);return new fw(t.path,r)}isEqual(t){return this===t}}class K5 extends vg{constructor(t,e){super(t),this.pa=e}_toFieldTransform(t){const e=GV(this,t,!0),i=this.pa.map(o=>bg(o,e)),r=new dg(i);return new fw(t.path,r)}isEqual(t){return this===t}}class Z5 extends vg{constructor(t,e){super(t),this.Ia=e}_toFieldTransform(t){const e=new dy(t.serializer,L2(t.serializer,this.Ia));return new fw(t.path,e)}isEqual(t){return this===t}}function C1(n,t,e,i){const r=n.ya(1,t,e);I1("Data must be an object, but it was:",r,i);const o=[],l=wo.empty();$f(i,(p,v)=>{const x=dS(t,p,e);v=(0,N.m9)(v);const D=r.da(x);if(v instanceof Fw)o.push(x);else{const R=bg(v,D);null!=R&&(o.push(x),l.set(x,R))}});const u=new zs(o);return new zV(l,u,r.fieldTransforms)}function E1(n,t,e,i,r,o){const l=n.ya(1,t,e),u=[Nw(t,i,e)],p=[r];if(o.length%2!=0)throw new ke(fe.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<o.length;R+=2)u.push(Nw(t,o[R])),p.push(o[R+1]);const v=[],x=wo.empty();for(let R=u.length-1;R>=0;--R)if(!YV(v,u[R])){const F=u[R];let H=p[R];H=(0,N.m9)(H);const Y=l.da(F);if(H instanceof Fw)v.push(F);else{const te=bg(H,Y);null!=te&&(v.push(F),x.set(F,te))}}const D=new zs(v);return new zV(x,D,l.fieldTransforms)}function $V(n,t,e,i=!1){return bg(e,n.ya(i?4:3,t))}function bg(n,t){if(qV(n=(0,N.m9)(n)))return I1("Unsupported field value:",t,n),WV(n,t);if(n instanceof vg)return function(e,i){if(!jV(i.ca))throw i._a(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i._a(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const l of e){let u=bg(l,i.wa(o));null==u&&(u={nullValue:"NULL_VALUE"}),r.push(u),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,N.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return L2(i.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ki.fromDate(e);return{timestampValue:fy(i.serializer,r)}}if(e instanceof ki){const r=new ki(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:fy(i.serializer,r)}}if(e instanceof aS)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Rd)return{bytesValue:rB(i.serializer,e._byteString)};if(e instanceof bi){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:Uk(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i._a(`Unsupported field value: ${oS(e)}`)}(n,t)}function WV(n,t){const e={};return s2(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):$f(n,(i,r)=>{const o=bg(r,t.ha(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function qV(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ki||n instanceof aS||n instanceof Rd||n instanceof bi||n instanceof vg)}function I1(n,t,e){if(!qV(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=oS(e);throw t._a("an object"===i?n+" a custom object":n+" "+i)}var i}function Nw(n,t,e){if((t=(0,N.m9)(t))instanceof Yu)return t._internalPath;if("string"==typeof t)return dS(n,t);throw uS("Field path arguments must be of type string or ",n,!1,void 0,e)}const Q5=new RegExp("[~\\*/\\[\\]]");function dS(n,t,e){if(t.search(Q5)>=0)throw uS(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Yu(...t.split("."))._internalPath}catch{throw uS(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function uS(n,t,e,i,r){const o=i&&!i.isEmpty(),l=void 0!==r;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let p="";return(o||l)&&(p+=" (found",o&&(p+=` in field ${i}`),l&&(p+=` in document ${r}`),p+=")"),new ke(fe.INVALID_ARGUMENT,u+n+p)}function YV(n,t){return n.some(e=>e.isEqual(t))}class Lw{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new bi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new X5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(hS("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class X5 extends Lw{data(){return super.data()}}function hS(n,t){return"string"==typeof t?dS(n,t):t instanceof Yu?t._internalPath:t._delegate._internalPath}function KV(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ke(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S1{}class Bw extends S1{}function rm(n,t,...e){let i=[];t instanceof S1&&i.push(t),i=i.concat(e),function(r){const o=r.filter(u=>u instanceof Ty).length,l=r.filter(u=>u instanceof Vw).length;if(o>1||o>0&&l>0)throw new ke(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)n=r._apply(n);return n}class Vw extends Bw{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Vw(t,e,i)}_apply(t){const e=this._parse(t);return JV(t._query,e),new xo(t.firestore,t.converter,Ak(t._query,e))}_parse(t){const e=yg(t.firestore);return function(r,o,l,u,p,v,x){let D;if(p.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new ke(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){XV(x,v);const R=[];for(const F of x)R.push(QV(u,r,F));D={arrayValue:{values:R}}}else D=QV(u,r,x)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||XV(x,v),D=$V(l,"where",x,"in"===v||"not-in"===v);return gn.create(p,v,D)}(t._query,0,e,t.firestore._databaseId,this._field,this._op,this._value)}}class Ty extends S1{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Ty(t,e)}_parse(t){const e=this._queryConstraints.map(i=>i._parse(t)).filter(i=>i.getFilters().length>0);return 1===e.length?e[0]:$n.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(i,r){let o=i;const l=r.getFlattenedFilters();for(const u of l)JV(o,u),o=Ak(o,u)}(t._query,e),new xo(t.firestore,t.converter,Ak(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class D1 extends Bw{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new D1(t,e)}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const l=new sy(r,o);return function(u,p){if(null===Tk(u)){const v=AI(u);null!==v&&eU(0,v,p.field)}}(i,l),l}(t._query,this._field,this._direction);return new xo(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new ju(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class fS extends Bw{constructor(t,e,i){super(),this.type=t,this._limit=e,this._limitType=i}static _create(t,e,i){return new fS(t,e,i)}_apply(t){return new xo(t.firestore,t.converter,kI(t._query,this._limit,this._limitType))}}class mS extends Bw{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new mS(t,e,i)}_apply(t){const e=ZV(t,this.type,this._docOrFields,this._inclusive);return new xo(t.firestore,t.converter,(r=e,new ju((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class pS extends Bw{constructor(t,e,i){super(),this.type=t,this._docOrFields=e,this._inclusive=i}static _create(t,e,i){return new pS(t,e,i)}_apply(t){const e=ZV(t,this.type,this._docOrFields,this._inclusive);return new xo(t.firestore,t.converter,(r=e,new ju((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function ZV(n,t,e,i){if(e[0]=(0,N.m9)(e[0]),e[0]instanceof Lw)return function(r,o,l,u,p){if(!u)throw new ke(fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${l}().`);const v=[];for(const x of lg(r))if(x.field.isKeyField())v.push(sg(o,u.key));else{const D=u.data.field(x.field);if(CI(D))throw new ke(fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+x.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===D){const R=x.field.canonicalString();throw new ke(fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}v.push(D)}return new Qf(v,p)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=yg(n.firestore);return function(o,l,u,p,v,x){const D=o.explicitOrderBy;if(v.length>D.length)throw new ke(fe.INVALID_ARGUMENT,`Too many arguments provided to ${p}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let F=0;F<v.length;F++){const H=v[F];if(D[F].field.isKeyField()){if("string"!=typeof H)throw new ke(fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${p}(), but got a ${typeof H}`);if(!Mk(o)&&-1!==H.indexOf("/"))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${p}() must be a plain document ID, but '${H}' contains a slash.`);const Y=o.path.child(xn.fromString(H));if(!tt.isDocumentKey(Y))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${p}() must result in a valid document path, but '${Y}' is not because it contains an odd number of segments.`);const te=new tt(Y);R.push(sg(l,te))}else{const Y=$V(u,p,H);R.push(Y)}}return new Qf(R,x)}(n._query,n.firestore._databaseId,r,t,e,i)}}function QV(n,t,e){if("string"==typeof(e=(0,N.m9)(e))){if(""===e)throw new ke(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Mk(t)&&-1!==e.indexOf("/"))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(xn.fromString(e));if(!tt.isDocumentKey(i))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return sg(n,new tt(i))}if(e instanceof bi)return sg(n,e._key);throw new ke(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oS(e)}.`)}function XV(n,t){if(!Array.isArray(n)||0===n.length)throw new ke(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function JV(n,t){if(t.isInequality()){const i=AI(n),r=t.field;if(null!==i&&!i.isEqual(r))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${i.toString()}' and '${r.toString()}'`);const o=Tk(n);null!==o&&eU(0,r,o)}const e=function(i,r){for(const o of i)for(const l of o.getFlattenedFilters())if(r.indexOf(l.op)>=0)return l.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==e)throw new ke(fe.INVALID_ARGUMENT,e===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}function eU(n,t,e){if(!e.isEqual(t))throw new ke(fe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class T1{convertValue(t,e="none"){switch(Kf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(zu(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw mt()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return $f(t,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new aS(Qi(t.latitude),Qi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=EI(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(rw(t));default:return null}}convertTimestamp(t){const e=Wf(t);return new ki(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=xn.fromString(t);Et(mB(i));const r=new qf(i.get(1),i.get(3)),o=new tt(i.popFirst(5));return r.isEqual(e)||lr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function gS(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class l8 extends T1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}class wg{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ku extends Lw{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Uw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(hS("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class Uw extends Ku{data(t={}){return super.data(t)}}class om{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new wg(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new Uw(this._firestore,this._userDataWriter,i.key,i,new wg(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ke(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(l=>({type:"added",doc:new Uw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>r||3!==l.type).map(l=>{const u=new Uw(i._firestore,i._userDataWriter,l.doc.key,l.doc,new wg(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return 0!==l.type&&(p=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),1!==l.type&&(o=o.add(l.doc),v=o.indexOf(l.doc.key)),{type:d8(l.type),doc:u,oldIndex:p,newIndex:v}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function d8(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mt()}}function nU(n,t){return n instanceof Ku&&t instanceof Ku?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof om&&t instanceof om&&n._firestore===t._firestore&&b1(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}class sm extends T1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Rd(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new bi(this.firestore,null,e)}}function iU(n,t,e){n=_n(n,bi);const i=_n(n.firestore,wi),r=gS(n.converter,t,e);return My(i,[cS(yg(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ri.none())])}function rU(n,t,e,...i){n=_n(n,bi);const r=_n(n.firestore,wi),o=yg(r);let l;return l="string"==typeof(t=(0,N.m9)(t))||t instanceof Yu?E1(o,"updateDoc",n._key,t,e,i):C1(o,"updateDoc",n._key,t),My(r,[l.toMutation(n._key,Ri.exists(!0))])}function oU(n,...t){var e,i,r;n=(0,N.m9)(n);let o={includeMetadataChanges:!1},l=0;"object"!=typeof t[l]||w1(t[l])||(o=t[l],l++);const u={includeMetadataChanges:o.includeMetadataChanges};if(w1(t[l])){const D=t[l];t[l]=null===(e=D.next)||void 0===e?void 0:e.bind(D),t[l+1]=null===(i=D.error)||void 0===i?void 0:i.bind(D),t[l+2]=null===(r=D.complete)||void 0===r?void 0:r.bind(D)}let p,v,x;if(n instanceof bi)v=_n(n.firestore,wi),x=ly(n._key.path),p={next:D=>{t[l]&&t[l](M1(v,n,D))},error:t[l+1],complete:t[l+2]};else{const D=_n(n,xo);v=_n(D.firestore,wi),x=D._query;const R=new sm(v);p={next:F=>{t[l]&&t[l](new om(v,R,D,F))},error:t[l+1],complete:t[l+2]},KV(n._query)}return function(D,R,F,H){const Y=new tS(H),te=new LR(R,Y,F);return D.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return RR(yield Dy(D),te)})),()=>{Y.Dc(),D.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return PR(yield Dy(D),te)}))}}(dr(v),x,u,p)}function My(n,t){return function(e,i){const r=new Or;return e.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function n5(n,t,e){return zR.apply(this,arguments)}(yield _1(e),i,r)})),r.promise}(dr(n),t)}function M1(n,t,e){const i=e.docs.get(t._key),r=new sm(n);return new Ku(n,r,t._key,i,new wg(e.hasPendingWrites,e.fromCache),t.converter)}const T8={maxAttempts:5};class sU{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=yg(t)}set(t,e,i){this._verifyNotCommitted();const r=am(t,this._firestore),o=gS(r.converter,e,i),l=cS(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(l.toMutation(r._key,Ri.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=am(t,this._firestore);let l;return l="string"==typeof(e=(0,N.m9)(e))||e instanceof Yu?E1(this._dataReader,"WriteBatch.update",o._key,e,i,r):C1(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(l.toMutation(o._key,Ri.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=am(t,this._firestore);return this._mutations=this._mutations.concat(new hy(e._key,Ri.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function am(n,t){if((n=(0,N.m9)(n)).firestore!==t)throw new ke(fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class M8 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=yg(t)}get(t){const e=am(t,this._firestore),i=new l8(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return mt();const o=r[0];if(o.isFoundDocument())return new Lw(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new Lw(this._firestore,i,e._key,null,e.converter);throw mt()})}set(t,e,i){const r=am(t,this._firestore),o=gS(r.converter,e,i),l=cS(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,l),this}update(t,e,i,...r){const o=am(t,this._firestore);let l;return l="string"==typeof(e=(0,N.m9)(e))||e instanceof Yu?E1(this._dataReader,"Transaction.update",o._key,e,i,r):C1(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,l),this}delete(t){const e=am(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=am(t,this._firestore),i=new sm(this._firestore);return super.get(t).then(r=>new Ku(this._firestore,i,e._key,r._document,new wg(!1,!1),e.converter))}}!function(n,t=!0){ny=Ls.SDK_VERSION,(0,Ls._registerComponent)(new hc.wA("firestore",(e,{instanceIdentifier:i,options:r})=>{const o=e.getProvider("app").getImmediate(),l=new wi(new R6(e.getProvider("auth-internal")),new F6(e.getProvider("app-check-internal")),function(u,p){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ke(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qf(u.options.projectId,p)}(o,i),o);return r=Object.assign({useFetchStreams:t},r),l._setSettings(r),l},"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)(HL,"3.13.0",n),(0,Ls.registerVersion)(HL,"3.13.0","esm2017")}();function A1(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ke("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function lU(){if(typeof Uint8Array>"u")throw new ke("unimplemented","Uint8Arrays are not available in this environment.")}function cU(){if(!function lG(){return typeof atob<"u"}())throw new ke("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Hw{constructor(t){this._delegate=t}static fromBase64String(t){return cU(),new Hw(Rd.fromBase64String(t))}static fromUint8Array(t){return lU(),new Hw(Rd.fromUint8Array(t))}toBase64(){return cU(),this._delegate.toBase64()}toUint8Array(){return lU(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function k1(n){return function B8(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class V8{enableIndexedDbPersistence(t,e){return function N5(n,t){HV(n=_n(n,wi));const e=dr(n);if(e._uninitializedComponentsProvider)throw new ke(fe.FAILED_PRECONDITION,"SDK cache is already specified.");al("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const i=n._freezeSettings(),r=new Sy;return UV(e,r,new d1(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function L5(n){HV(n=_n(n,wi));const t=dr(n);if(t._uninitializedComponentsProvider)throw new ke(fe.FAILED_PRECONDITION,"SDK cache is already specified.");al("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=n._freezeSettings(),i=new Sy;return UV(t,i,new wV(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function B5(n){if(n._initialized&&!n._terminated)throw new ke(fe.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{yield(e=(0,xe.Z)(function*(i){if(!vc.D())return Promise.resolve();const r=i+"main";yield vc.delete(r)}),function(i){return e.apply(this,arguments)})(tR(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class dU{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof qf||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&al("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function NV(n,t,e,i={}){var r;const o=(n=_n(n,Ow))._getSettings(),l=`${t}:${e}`;if("firestore.googleapis.com"!==o.host&&o.host!==l&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:l,ssl:!1})),i.mockUserToken){let u,p;if("string"==typeof i.mockUserToken)u=i.mockUserToken,p=Qr.MOCK_USER;else{u=(0,N.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new ke(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Qr(v)}n._authCredentials=new k6(new zL(u,p))}}(this._delegate,t,e,i)}enableNetwork(){return function U5(n){return function E5(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const t=yield EV(n),e=yield IV(n);return t.setNetworkEnabled(!0),function(i){const r=rt(i);return r.vu.delete(0),Aw(r)}(e)}))}(dr(n=_n(n,wi)))}(this._delegate)}disableNetwork(){return function H5(n){return function I5(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const t=yield EV(n),e=yield IV(n);return t.setNetworkEnabled(!1),(i=(0,xe.Z)(function*(r){const o=rt(r);o.vu.add(0),yield yy(o),o.bu.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(dr(n=_n(n,wi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,kV("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function V5(n){return function(t){const e=new Or;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function a5(n,t){return qR.apply(this,arguments)}(yield _1(t),e)})),e.promise}(dr(n=_n(n,wi)))}(this._delegate)}onSnapshotsInSync(t){return function y8(n,t){return function T5(n,t){const e=new tS(t);return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield Dy(n),r=e,rt(i).ku.add(r),void r.next();var i,r})),()=>{e.Dc(),n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return i=yield Dy(n),r=e,void rt(i).ku.delete(r);var i,r}))}}(dr(n=_n(n,wi)),w1(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ke("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new Ay(this,LV(this._delegate,t))}catch(e){throw fs(e,"collection()","Firestore.collection()")}}doc(t){try{return new ll(this,sS(this._delegate,t))}catch(e){throw fs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new ms(this,function R5(n,t){if(n=_n(n,Ow),y1("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ke(fe.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new xo(n,null,(e=t,new ju(xn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw fs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function A8(n,t,e){n=_n(n,wi);const i=Object.assign(Object.assign({},T8),e);return function(r){if(r.maxAttempts<1)throw new ke(fe.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function(r,o,l){const u=new Or;return r.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){const p=yield function SV(n){return iS(n).then(t=>t.datastore)}(r);new x5(r.asyncQueue,p,l,o,u).run()})),u.promise}(dr(n),r=>t(new M8(n,r)),i)}(this._delegate,e=>t(new uU(this,e)))}batch(){return dr(this._delegate),new hU(new sU(this._delegate,t=>My(this._delegate,t)))}loadBundle(t){return function z5(n,t){const e=dr(n=_n(n,wi)),i=new P5;return function M5(n,t,e,i){const r=function(o,l){let u;return u="string"==typeof o?Z2().encode(o):o,p=function(p,v){if(p instanceof Uint8Array)return xV(p,v);if(p instanceof ArrayBuffer)return xV(new Uint8Array(p),v);if(p instanceof ReadableStream)return p.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(u),new b5(p,l);var p}(e,Mw(t));n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){!function v5(n,t,e){const i=rt(n);var r;(r=(0,xe.Z)(function*(o,l,u){try{const p=yield l.getMetadata();if(yield function(R,F){const H=rt(R),Y=cr(F.createTime);return H.persistence.runTransaction("hasNewerBundle","readonly",te=>H.qs.getBundleMetadata(te,F.id)).then(te=>!!te&&te.createTime.compareTo(Y)>=0)}(o.localStore,p))return yield l.close(),u._completeWith({taskState:"Success",documentsLoaded:(R=p).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);u._updateProgress(hV(p));const v=new Z$(p,o.localStore,l.serializer);let x=yield l.bc();for(;x;){const R=yield v.zu(x);R&&u._updateProgress(R),x=yield l.bc()}const D=yield v.complete();return yield qu(o,D.Ju,void 0),yield function(R,F){const H=rt(R);return H.persistence.runTransaction("Save bundle","readwrite",Y=>H.qs.saveBundleMetadata(Y,F))}(o.localStore,p),u._completeWith(D.progress),Promise.resolve(D.Hu)}catch(p){return al("SyncEngine",`Loading bundle failed with ${p}`),u._failWith(p),Promise.resolve(new Set)}var R}),function(o,l,u){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield _1(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function j5(n,t){return function A5(n,t){return n.asyncQueue.enqueue((0,xe.Z)(function*(){return function(e,i){const r=rt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.qs.getNamedQuery(o,i))}(yield rS(n),t)}))}(dr(n=_n(n,wi)),t).then(e=>e?new xo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new ms(this,e):null)}}class _S extends T1{constructor(t){super(),this.firestore=t}convertBytes(t){return new Hw(new Rd(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return ll.forKey(e,this.firestore,null)}}class uU{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new _S(t)}get(t){const e=Cg(t);return this._delegate.get(e).then(i=>new zw(this._firestore,new Ku(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Cg(t);return i?(A1("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Cg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Cg(t);return this._delegate.delete(e),this}}class hU{constructor(t){this._delegate=t}set(t,e,i){const r=Cg(t);return i?(A1("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Cg(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Cg(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class xg{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new Uw(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new jw(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=xg.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new xg(t,new _S(t),e),r.set(e,o)),o}}xg.INSTANCES=new WeakMap;class ll{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _S(t)}static forPath(t,e,i){if(t.length%2!=0)throw new ke("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new ll(e,new bi(e._delegate,i,new tt(t)))}static forKey(t,e,i){return new ll(e,new bi(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new Ay(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new Ay(this.firestore,LV(this._delegate,t))}catch(e){throw fs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,N.m9)(t))instanceof bi&&BV(this._delegate,t)}set(t,e){e=A1("DocumentReference.set",e);try{return e?iU(this._delegate,t,e):iU(this._delegate,t)}catch(i){throw fs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?rU(this._delegate,t):rU(this._delegate,t,e,...i)}catch(r){throw fs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function _8(n){return My(_n(n.firestore,wi),[new hy(n._key,Ri.none())])}(this._delegate)}onSnapshot(...t){const e=fU(t),i=mU(t,r=>new zw(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return oU(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function h8(n){n=_n(n,bi);const t=_n(n.firestore,wi),e=dr(t),i=new sm(t);return function S5(n,t){const e=new Or;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,o,l){try{const u=yield function(p,v){const x=rt(p);return x.persistence.runTransaction("read document","readonly",D=>x.localDocuments.getDocument(D,v))}(r,o);u.isFoundDocument()?l.resolve(u):u.isNoDocument()?l.resolve(null):l.reject(new ke(fe.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(u){const p=xy(u,`Failed to get document '${o} from cache`);l.reject(p)}}),function(r,o,l){return i.apply(this,arguments)})(yield rS(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Ku(t,i,n._key,r,new wg(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function f8(n){n=_n(n,bi);const t=_n(n.firestore,wi);return DV(dr(t),n._key,{source:"server"}).then(e=>M1(t,n,e))}(this._delegate):function u8(n){n=_n(n,bi);const t=_n(n.firestore,wi);return DV(dr(t),n._key).then(e=>M1(t,n,e))}(this._delegate),e.then(i=>new zw(this.firestore,new Ku(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new ll(this.firestore,this._delegate.withConverter(t?xg.getInstance(this.firestore,t):null))}}function fs(n,t,e){return n.message=n.message.replace(t,e),n}function fU(n){for(const t of n)if("object"==typeof t&&!k1(t))return t;return{}}function mU(n,t){var e,i;let r;return r=k1(n[0])?n[0]:k1(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class zw{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new ll(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return nU(this._delegate,t._delegate)}}class jw extends zw{data(t){const e=this._delegate.data(t);return function M6(n,t){n||mt()}(void 0!==e),e}}class ms{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new _S(t)}where(t,e,i){try{return new ms(this.firestore,rm(this._delegate,function J5(n,t,e){const i=t,r=hS("where",n);return Vw._create(r,i,e)}(t,e,i)))}catch(r){throw fs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new ms(this.firestore,rm(this._delegate,function e8(n,t="asc"){const e=t,i=hS("orderBy",n);return D1._create(i,e)}(t,e)))}catch(i){throw fs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new ms(this.firestore,rm(this._delegate,function t8(n){return PV("limit",n),fS._create("limit",n,"F")}(t)))}catch(e){throw fs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new ms(this.firestore,rm(this._delegate,function n8(n){return PV("limitToLast",n),fS._create("limitToLast",n,"L")}(t)))}catch(e){throw fs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new ms(this.firestore,rm(this._delegate,function r8(...n){return mS._create("startAt",n,!0)}(...t)))}catch(e){throw fs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new ms(this.firestore,rm(this._delegate,function o8(...n){return mS._create("startAfter",n,!1)}(...t)))}catch(e){throw fs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new ms(this.firestore,rm(this._delegate,function s8(...n){return pS._create("endBefore",n,!1)}(...t)))}catch(e){throw fs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new ms(this.firestore,rm(this._delegate,function a8(...n){return pS._create("endAt",n,!0)}(...t)))}catch(e){throw fs(e,"endAt()","Query.endAt()")}}isEqual(t){return b1(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function p8(n){n=_n(n,xo);const t=_n(n.firestore,wi),e=dr(t),i=new sm(t);return function D5(n,t){const e=new Or;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(i=(0,xe.Z)(function*(r,o,l){try{const u=yield YI(r,o,!0),p=new pV(o,u.ir),v=p.sc(u.documents),x=p.applyChanges(v,!1);l.resolve(x.snapshot)}catch(u){const p=xy(u,`Failed to execute query '${o} against cache`);l.reject(p)}}),function(r,o,l){return i.apply(this,arguments)})(yield rS(n),t,e);var i})),e.promise}(e,n._query).then(r=>new om(t,i,n,r))}(this._delegate):"server"===t?.source?function g8(n){n=_n(n,xo);const t=_n(n.firestore,wi),e=dr(t),i=new sm(t);return TV(e,n._query,{source:"server"}).then(r=>new om(t,i,n,r))}(this._delegate):function m8(n){n=_n(n,xo);const t=_n(n.firestore,wi),e=dr(t),i=new sm(t);return KV(n._query),TV(e,n._query).then(r=>new om(t,i,n,r))}(this._delegate),e.then(i=>new R1(this.firestore,new om(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=fU(t),i=mU(t,r=>new R1(this.firestore,new om(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return oU(this._delegate,e,i)}withConverter(t){return new ms(this.firestore,this._delegate.withConverter(t?xg.getInstance(this.firestore,t):null))}}class H8{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new jw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class R1{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new ms(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new jw(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new H8(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new jw(this._firestore,i))})}isEqual(t){return nU(this._delegate,t._delegate)}}class Ay extends ms{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new ll(this.firestore,t):null}doc(t){try{return new ll(this.firestore,void 0===t?sS(this._delegate):sS(this._delegate,t))}catch(e){throw fs(e,"doc()","CollectionReference.doc()")}}add(t){return function v8(n,t){const e=_n(n.firestore,wi),i=sS(n),r=gS(n.converter,t);return My(e,[cS(yg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ri.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new ll(this.firestore,e))}isEqual(t){return BV(this._delegate,t._delegate)}withConverter(t){return new Ay(this.firestore,this._delegate.withConverter(t?xg.getInstance(this.firestore,t):null))}}function Cg(n){return _n(n,bi)}class O1{constructor(...t){this._delegate=new Yu(...t)}static documentId(){return new O1(Zi.keyField().canonicalString())}isEqual(t){return(t=(0,N.m9)(t))instanceof Yu&&this._delegate._internalPath.isEqual(t._internalPath)}}class Eg{constructor(t){this._delegate=t}static serverTimestamp(){const t=function R8(){return new x1("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Eg(t)}static delete(){const t=function k8(){return new Fw("deleteField")}();return t._methodName="FieldValue.delete",new Eg(t)}static arrayUnion(...t){const e=function O8(...n){return new Y5("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Eg(e)}static arrayRemove(...t){const e=function P8(...n){return new K5("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Eg(e)}static increment(t){const e=function F8(n){return new Z5("increment",n)}(t);return e._methodName="FieldValue.increment",new Eg(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const z8={Firestore:dU,GeoPoint:aS,Timestamp:ki,Blob:Hw,Transaction:uU,WriteBatch:hU,DocumentReference:ll,DocumentSnapshot:zw,Query:ms,QueryDocumentSnapshot:jw,QuerySnapshot:R1,CollectionReference:Ay,FieldPath:O1,FieldValue:Eg,setLogLevel:function U8(n){!function T6(n){zf.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function G8(n){(function j8(n,t){n.INTERNAL.registerComponent(new hc.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},z8)))})(n,(t,e)=>new dU(t,e,new V8)),n.registerVersion("@firebase/firestore-compat","0.3.12")}(S0.Z);var Zu=V(6451),vS=V(5363),$8=V(6063);class W8 extends Tt.x{constructor(t=1/0,e=1/0,i=$8.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:l}=this;e||(i.push(t),!r&&i.push(o.now()+l)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let l=0;l<o.length&&!t.closed;l+=i?1:2)t.next(o[l]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const l=e.now();let u=0;for(let p=1;p<i.length&&i[p]<=l;p+=2)u=p;u&&i.splice(0,u+1)}}}var P1=V(3099);function F1(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,P1.B)({connector:()=>new W8(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function pU(n,t){return(0,br.m)(t)?Jn(()=>n,t):Jn(()=>n)}var N1=V(9468);V(259);const B1=new Map,_U={activated:!1,tokenObservers:[]},Q8={initialized:!1,enabled:!1};function Xi(n){return B1.get(n)||Object.assign({},_U)}function bS(){return Q8}const V1="https://content-firebaseappcheck.googleapis.com/v1",tW="exchangeDebugToken",vU={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class iW{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,xe.Z)(function*(){e.stop();try{e.pending=new N.BH,yield function rW(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new N.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Co=new N.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function U1(n){if(!Xi(n).activated)throw Co.create("use-before-activation",{appName:n.name})}function CS(n,t){return z1.apply(this,arguments)}function z1(){return z1=(0,xe.Z)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},r=e.getImmediate({optional:!0});if(r){const D=yield r.getHeartbeatsHeader();D&&(i["X-Firebase-Client"]=D)}const o={method:"POST",body:JSON.stringify(t),headers:i};let l,u;try{l=yield fetch(n,o)}catch(D){throw Co.create("fetch-network-error",{originalErrorMessage:D?.message})}if(200!==l.status)throw Co.create("fetch-status-error",{httpStatus:l.status});try{u=yield l.json()}catch(D){throw Co.create("fetch-parse-error",{originalErrorMessage:D?.message})}const p=u.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw Co.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});const v=1e3*Number(p[1]),x=Date.now();return{token:u.token,expireTimeMillis:x+v,issuedAtTimeMillis:x}}),z1.apply(this,arguments)}function yU(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`${V1}/projects/${e}/apps/${i}:${tW}?key=${r}`,body:{debug_token:t}}}const lW="firebase-app-check-database",cW=1,Gw="firebase-app-check-store";let ES=null;function j1(){return j1=(0,xe.Z)(function*(n,t){const i=(yield function wU(){return ES||(ES=new Promise((n,t)=>{try{const e=indexedDB.open(lW,cW);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var r;t(Co.create("storage-open",{originalErrorMessage:null===(r=i.target.error)||void 0===r?void 0:r.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(Gw,{keyPath:"compositeKey"})}}catch(e){t(Co.create("storage-open",{originalErrorMessage:e?.message}))}}),ES)}()).transaction(Gw,"readwrite"),o=i.objectStore(Gw).put({compositeKey:n,value:t});return new Promise((l,u)=>{o.onsuccess=p=>{l()},i.onerror=p=>{var v;u(Co.create("storage-set",{originalErrorMessage:null===(v=p.target.error)||void 0===v?void 0:v.message}))}})}),j1.apply(this,arguments)}const $w=new Bs.Yd("@firebase/app-check");function W1(n,t){return(0,N.hl)()?function uW(n,t){return function xU(n,t){return j1.apply(this,arguments)}(function EU(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{$w.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function Y1(){return bS().enabled}function K1(){return Z1.apply(this,arguments)}function Z1(){return Z1=(0,xe.Z)(function*(){const n=bS();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),Z1.apply(this,arguments)}const _W={error:"UNKNOWN_ERROR"};function vW(n){return N.US.encodeString(JSON.stringify(n),!1)}function IS(n){return Q1.apply(this,arguments)}function Q1(){return Q1=(0,xe.Z)(function*(n,t=!1){const e=n.app;U1(e);const i=Xi(e);let o,r=i.token;if(r&&!ky(r)&&(i.token=void 0,r=void 0),!r){const p=yield i.cachedTokenPromise;p&&(ky(p)?r=p:yield W1(e,void 0))}if(!t&&r&&ky(r))return{token:r.token};let u,l=!1;if(Y1()){i.exchangeTokenPromise||(i.exchangeTokenPromise=CS(yU(e,yield K1()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),l=!0);const p=yield i.exchangeTokenPromise;return yield W1(e,p),i.token=p,{token:p.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),l=!0),r=yield Xi(e).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?$w.warn(p.message):$w.error(p),o=p}return r?o?u=ky(r)?{token:r.token,internalError:o}:TU(o):(u={token:r.token},i.token=r,yield W1(e,r)):u=TU(o),l&&function DU(n,t){const e=Xi(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,u),u}),Q1.apply(this,arguments)}function X1(){return X1=(0,xe.Z)(function*(n){const t=n.app;U1(t);const{provider:e}=Xi(t);if(Y1()){const i=yield K1(),{token:r}=yield CS(yU(t,i),n.heartbeatServiceProvider);return{token:r}}{const{token:i}=yield e.getToken();return{token:i}}}),X1.apply(this,arguments)}function eO(n,t){const e=Xi(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function SU(n){const{app:t}=n,e=Xi(t);let i=e.tokenRefresher;i||(i=function yW(n){const{app:t}=n;return new iW((0,xe.Z)(function*(){let i;if(i=Xi(t).token?yield IS(n,!0):yield IS(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=Xi(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},vU.RETRIAL_MIN_WAIT,vU.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function ky(n){return n.expireTimeMillis-Date.now()>0}function TU(n){return{token:vW(_W),error:n}}class bW{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Xi(this.app);for(const e of t)eO(this.app,e.next);return Promise.resolve()}}const NU="app-check-internal";!function PW(){(0,Ls._registerComponent)(new hc.wA("app-check",n=>function wW(n,t){return new bW(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(NU).initialize()})),(0,Ls._registerComponent)(new hc.wA(NU,n=>function xW(n){return{getToken:t=>IS(n,t),getLimitedUseToken:()=>function IU(n){return X1.apply(this,arguments)}(n),addTokenListener:t=>function J1(n,t,e,i){const{app:r}=n,o=Xi(r);if(o.tokenObservers=[...o.tokenObservers,{next:e,error:i,type:t}],o.token&&ky(o.token)){const u=o.token;Promise.resolve().then(()=>{e({token:u.token}),SU(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>SU(n))}(n,"INTERNAL",t),removeTokenListener:t=>eO(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ls.registerVersion)("@firebase/app-check","0.8.0")}();class DS{constructor(){return(0,ci.vb)("app-check")}}typeof window<"u"&&window;var VW=V(9260);const oO=new c.OlP("angularfire2.auth.use-emulator"),sO=new c.OlP("angularfire2.auth.settings"),aO=new c.OlP("angularfire2.auth.tenant-id"),lO=new c.OlP("angularfire2.auth.langugage-code"),cO=new c.OlP("angularfire2.auth.use-device-language"),dO=new c.OlP("angularfire.auth.persistence"),uO=(n,t,e,i,r,o,l,u)=>(0,Ar.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const p=t.runOutsideAngular(()=>n.auth());if(e&&p.useEmulator(...e),i&&(p.tenantId=i),p.languageCode=r,o&&p.useDeviceLanguage(),l)for(const[v,x]of Object.entries(l))p.settings[v]=x;return u&&p.setPersistence(u),p},[e,i,r,o,l,u]);let hO=(()=>{class n{constructor(e,i,r,o,l,u,p,v,x,D,R,F){const H=new Tt.x,Y=et(void 0).pipe((0,vS.Q)(l.outsideAngular),Jn(()=>o.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,2644)))),(0,nt.U)(()=>(0,Ar.on)(e,o,i)),(0,nt.U)(te=>uO(te,o,u,v,x,D,p,R)),F1({bufferSize:1,refCount:!1}));if(Xo(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=et(null);else{Y.pipe(fo()).subscribe();const Ve=Y.pipe(Jn(dt=>dt.getRedirectResult().then(zt=>zt,()=>null)),ci.iC,F1({bufferSize:1,refCount:!1})),Ke=Y.pipe(Jn(dt=>new Xn.y(zt=>({unsubscribe:o.runOutsideAngular(()=>dt.onAuthStateChanged(Kt=>zt.next(Kt),Kt=>zt.error(Kt),()=>zt.complete()))})))),Xe=Y.pipe(Jn(dt=>new Xn.y(zt=>({unsubscribe:o.runOutsideAngular(()=>dt.onIdTokenChanged(Kt=>zt.next(Kt),Kt=>zt.error(Kt),()=>zt.complete()))}))));this.authState=Ve.pipe(pU(Ke),(0,N1.R)(l.outsideAngular),(0,vS.Q)(l.insideAngular)),this.user=Ve.pipe(pU(Xe),(0,N1.R)(l.outsideAngular),(0,vS.Q)(l.insideAngular)),this.idToken=this.user.pipe(Jn(dt=>dt?(0,pn.D)(dt.getIdToken()):et(null))),this.idTokenResult=this.user.pipe(Jn(dt=>dt?(0,pn.D)(dt.getIdTokenResult()):et(null))),this.credential=(0,Zu.T)(Ve,H,this.authState.pipe(Nn(dt=>!dt))).pipe((0,nt.U)(dt=>dt?.user?dt:null),(0,N1.R)(l.outsideAngular),(0,vS.Q)(l.insideAngular))}return(0,Ar.pX)(this,Y,o,{spy:{apply:(te,Ve,Ke)=>{(te.startsWith("signIn")||te.startsWith("createUser"))&&Ke.then(Xe=>H.next(Xe))}}})}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ar.Dh),c.LFG(Ar.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ci.HU),c.LFG(oO,8),c.LFG(sO,8),c.LFG(aO,8),c.LFG(lO,8),c.LFG(cO,8),c.LFG(dO,8),c.LFG(DS,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function BU(n,t){return function HW(n,t=Sp.z){return new Xn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function fO(n,t){return BU(n,t).pipe((0,nt.U)(e=>({payload:e,type:"query"})))}function TS(n,t){return fO(n,t).pipe(rr(void 0),hv(),(0,nt.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(l=>({type:l.type,payload:l}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((l,u)=>{const p=r.find(x=>x.doc.ref.isEqual(l.ref)),v=e?.payload.docs.find(x=>x.ref.isEqual(l.ref));p&&JSON.stringify(p.doc.metadata)===JSON.stringify(l.metadata)||!p&&v&&JSON.stringify(v.metadata)===JSON.stringify(l.metadata)||o.push({type:"modified",payload:{oldIndex:u,newIndex:u,type:"modified",doc:l}})}),o}))}function VU(n,t,e){return TS(n,e).pipe(Xa((i,r)=>function jW(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function GW(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return mO(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return mO(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return mO(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Lp(),(0,nt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function mO(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function UU(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class HU{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=TS(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,nt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(rr(void 0),hv(),Nn(([i,r])=>r.length>0||!i),(0,nt.U)(([i,r])=>r),ci.iC)}auditTrail(t){return this.stateChanges(t).pipe(Xa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=UU(t);return VU(this.query,e,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(t={}){return fO(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),ci.iC)}get(t){return(0,pn.D)(this.query.get(t)).pipe(ci.iC)}add(t){return this.ref.add(t)}doc(t){return new zU(this.ref.doc(t),this.afs)}}class zU{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=jU(i,e);return new HU(r,o,this.afs)}snapshotChanges(){return function zW(n,t){return BU(n,t).pipe(rr(void 0),hv(),(0,nt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,nt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,pn.D)(this.ref.get(t)).pipe(ci.iC)}}class $W{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?TS(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Nn(e=>e.length>0),ci.iC):TS(this.query,this.afs.schedulers.outsideAngular).pipe(ci.iC)}auditTrail(t){return this.stateChanges(t).pipe(Xa((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=UU(t);return VU(this.query,e,this.afs.schedulers.outsideAngular).pipe(ci.iC)}valueChanges(t={}){return fO(this.query,this.afs.schedulers.outsideAngular).pipe((0,nt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),ci.iC)}get(t){return(0,pn.D)(this.query.get(t)).pipe(ci.iC)}}const WW=new c.OlP("angularfire2.enableFirestorePersistence"),qW=new c.OlP("angularfire2.firestore.persistenceSettings"),YW=new c.OlP("angularfire2.firestore.settings"),KW=new c.OlP("angularfire2.firestore.use-emulator");function jU(n,t=(e=>e)){return{query:t(n),ref:n}}let GU=(()=>{class n{constructor(e,i,r,o,l,u,p,v,x,D,R,F,H,Y,te,Ve,Ke){this.schedulers=p;const Xe=(0,Ar.on)(e,u,i),dt=x;D&&uO(Xe,u,R,H,Y,te,F,Ve),[this.firestore,this.persistenceEnabled$]=(0,Ar.cc)(`${Xe.name}.firestore`,"AngularFirestore",Xe.name,()=>{const zt=u.runOutsideAngular(()=>Xe.firestore());if(o&&zt.settings(o),dt&&zt.useEmulator(...dt),r&&!Xo(l)){const Kt=()=>{try{return(0,pn.D)(zt.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(An){return typeof console<"u"&&console.warn(An),et(!1)}};return[zt,u.runOutsideAngular(Kt)]}return[zt,et(!1)]},[o,dt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:l}=jU(r,i),u=this.schedulers.ngZone.run(()=>o);return new HU(u,l,this)}collectionGroup(e,i){const r=i||(l=>l),o=this.firestore.collectionGroup(e);return new $W(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new zU(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ar.Dh),c.LFG(Ar.xv,8),c.LFG(WW,8),c.LFG(YW,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ci.HU),c.LFG(qW,8),c.LFG(KW,8),c.LFG(hO,8),c.LFG(oO,8),c.LFG(sO,8),c.LFG(aO,8),c.LFG(lO,8),c.LFG(cO,8),c.LFG(dO,8),c.LFG(DS,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZW=(()=>{class n{constructor(e){this.firestore=e,this.dbPath="/Holidays",this.collection=e.collection(this.dbPath)}getAll(){return this.collection.valueChanges()}create(e){return this.collection.add({...e})}update(e,i){return this.collection.doc(e).update(i)}delete(e){return this.collection.doc(e).delete()}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(GU))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),QW=(()=>{class n{constructor(e){this.firestore=e,this.dbPath="/TeamMembers",this.collection=e.collection(this.dbPath)}getAll(){return this.collection.valueChanges()}create(e){return this.collection.add({...e})}update(e,i){return this.collection.doc(e).update(i)}delete(e){return this.collection.doc(e).delete()}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(GU))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const XW=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];let JW=(()=>{class n{constructor(e,i){this.holidayService=e,this.teamMemberService=i,this.monthsData=[],this.holidays=[],this.teamMembers=[],this.selectedMemberColor="transparent",this.holidayService.getAll().subscribe(r=>{this.holidays=r}),this.teamMemberService.getAll().subscribe(r=>{this.teamMembers=r}),this.generateTable(),setTimeout(()=>this.fillTable(),800)}selectMember(e){this.selectedMember=e,this.selectedMemberId=e?.code,this.fillTable()}generateTable(){this.monthsData?.splice(0);var e=this.getPropertyNames();this.selectedYear??=(new Date).getFullYear();for(var o,i=new Date(this.selectedYear,0,1),r=new Date(this.selectedYear,11,31),l=0,u=i;u<=r;u.setDate(u.getDate()+1)){1==u.getDate()&&(o={id:u.getMonth(),month:XW[u.getMonth()],sun1:void 0,mon1:void 0,tue1:void 0,wed1:void 0,thu1:void 0,fri1:void 0,sat1:void 0,sun2:void 0,mon2:void 0,tue2:void 0,wed2:void 0,thu2:void 0,fri2:void 0,sat2:void 0,sun3:void 0,mon3:void 0,tue3:void 0,wed3:void 0,thu3:void 0,fri3:void 0,sat3:void 0,sun4:void 0,mon4:void 0,tue4:void 0,wed4:void 0,thu4:void 0,fri4:void 0,sat4:void 0,sun5:void 0,mon5:void 0,tue5:void 0,wed5:void 0,thu5:void 0,fri5:void 0,sat5:void 0,sun6:void 0,mon6:void 0},l=e.indexOf(this.getPropFromDayOfWeek(u)));var p=e[l++];if(o){var v={date:new Date(u),displayText:u.getDate().toString(),holiday:void 0,vacationingMembers:void 0};o[p]=v,this.isLastDayOfMonth(u)&&this.monthsData.push(o)}}}fillTable(){this.getPropertyNames().forEach(i=>{this.monthsData.forEach(r=>{var o=r[i];if("object"==typeof o){var l=this.getHoliday(o.date);r[i].holiday=l,r[i].vacationingMembers=this.getVacationingTeamMembers(o.date,this.selectedMember)}})})}getVacationingTeamMembers(e,i){return this.teamMembers?.filter(r=>(!i||r.code==i?.code)&&r.vacations?.filter(o=>this.areDatesEqual(o.toDate(),e)).length>0)}toggleVacation(e,i,r){var o=r.vacations.filter(l=>this.areDatesEqual(l,i));0==o.length?r.vacations.push(i):r.vacations.splice(r.vacations.indexOf(o[0]),1),this.teamMemberService.update(e,r)}getHoliday(e){var i=this.holidays.filter(r=>this.areDatesEqual(r.date,e));return i.length>0?" \u263c "+i[0].description:void 0}isLastDayOfMonth(e){var i=new Date(e.getFullYear(),e.getMonth()+1,0).getDate();return e.getDate()==i}getPropertyNames(){return Object.getOwnPropertyNames({id:0,month:"",sun1:void 0,mon1:void 0,tue1:void 0,wed1:void 0,thu1:void 0,fri1:void 0,sat1:void 0,sun2:void 0,mon2:void 0,tue2:void 0,wed2:void 0,thu2:void 0,fri2:void 0,sat2:void 0,sun3:void 0,mon3:void 0,tue3:void 0,wed3:void 0,thu3:void 0,fri3:void 0,sat3:void 0,sun4:void 0,mon4:void 0,tue4:void 0,wed4:void 0,thu4:void 0,fri4:void 0,sat4:void 0,sun5:void 0,mon5:void 0,tue5:void 0,wed5:void 0,thu5:void 0,fri5:void 0,sat5:void 0,sun6:void 0,mon6:void 0})}getPropFromDayOfWeek(e){return["sun1","mon1","tue1","wed1","thu1","fri1","sat1"][e.getDay()]}areDatesEqual(e,i){try{return e?.getFullYear()==i?.getFullYear()&&e?.getMonth()==i?.getMonth()&&e?.getDate()==i?.getDate()}catch{return e?.toDate()?.getFullYear()==i?.getFullYear()&&e?.toDate()?.getMonth()==i?.getMonth()&&e?.toDate()?.getDate()==i?.getDate()}}static#e=this.\u0275fac=function(i){return new(i||n)(c.LFG(ZW),c.LFG(QW))};static#t=this.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const $U=["*"];class tq{constructor(){this.columnIndex=0,this.rowIndex=0}get rowCount(){return this.rowIndex+1}get rowspan(){const t=Math.max(...this.tracker);return t>1?this.rowCount+t-1:this.rowCount}update(t,e){this.columnIndex=0,this.rowIndex=0,this.tracker=new Array(t),this.tracker.fill(0,0,this.tracker.length),this.positions=e.map(i=>this._trackTile(i))}_trackTile(t){const e=this._findMatchingGap(t.colspan);return this._markTilePosition(e,t),this.columnIndex=e+t.colspan,new nq(this.rowIndex,e)}_findMatchingGap(t){let e=-1,i=-1;do{this.columnIndex+t>this.tracker.length?(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)):(e=this.tracker.indexOf(0,this.columnIndex),-1!=e?(i=this._findGapEndIndex(e),this.columnIndex=e+1):(this._nextRow(),e=this.tracker.indexOf(0,this.columnIndex),i=this._findGapEndIndex(e)))}while(i-e<t||0==i);return Math.max(e,0)}_nextRow(){this.columnIndex=0,this.rowIndex++;for(let t=0;t<this.tracker.length;t++)this.tracker[t]=Math.max(0,this.tracker[t]-1)}_findGapEndIndex(t){for(let e=t+1;e<this.tracker.length;e++)if(0!=this.tracker[e])return e;return this.tracker.length}_markTilePosition(t,e){for(let i=0;i<e.colspan;i++)this.tracker[t+i]=e.rowspan}}class nq{constructor(t,e){this.row=t,this.col=e}}const WU=new c.OlP("MAT_GRID_LIST");let qU=(()=>{class n{constructor(e,i){this._element=e,this._gridList=i,this._rowspan=1,this._colspan=1}get rowspan(){return this._rowspan}set rowspan(e){this._rowspan=Math.round(ba(e))}get colspan(){return this._colspan}set colspan(e){this._colspan=Math.round(ba(e))}_setStyle(e,i){this._element.nativeElement.style[e]=i}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(WU,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-grid-tile"]],hostAttrs:[1,"mat-grid-tile"],hostVars:2,hostBindings:function(e,i){2&e&&c.uIk("rowspan",i.rowspan)("colspan",i.colspan)},inputs:{rowspan:"rowspan",colspan:"colspan"},exportAs:["matGridTile"],ngContentSelectors:$U,decls:2,vars:0,consts:[[1,"mat-grid-tile-content"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})();const iq=/^-?\d+((\.\d+)?[A-Za-z%$]?)+$/;class pO{constructor(){this._rows=0,this._rowspan=0}init(t,e,i,r){this._gutterSize=YU(t),this._rows=e.rowCount,this._rowspan=e.rowspan,this._cols=i,this._direction=r}getBaseTileSize(t,e){return`(${t}% - (${this._gutterSize} * ${e}))`}getTilePosition(t,e){return 0===e?"0":Ig(`(${t} + ${this._gutterSize}) * ${e}`)}getTileSize(t,e){return`(${t} * ${e}) + (${e-1} * ${this._gutterSize})`}setStyle(t,e,i){let r=100/this._cols,o=(this._cols-1)/this._cols;this.setColStyles(t,i,r,o),this.setRowStyles(t,e,r,o)}setColStyles(t,e,i,r){let o=this.getBaseTileSize(i,r);t._setStyle("rtl"===this._direction?"right":"left",this.getTilePosition(o,e)),t._setStyle("width",Ig(this.getTileSize(o,t.colspan)))}getGutterSpan(){return`${this._gutterSize} * (${this._rowspan} - 1)`}getTileSpan(t){return`${this._rowspan} * ${this.getTileSize(t,1)}`}getComputedHeight(){return null}}class rq extends pO{constructor(t){super(),this.fixedRowHeight=t}init(t,e,i,r){super.init(t,e,i,r),this.fixedRowHeight=YU(this.fixedRowHeight),iq.test(this.fixedRowHeight)}setRowStyles(t,e){t._setStyle("top",this.getTilePosition(this.fixedRowHeight,e)),t._setStyle("height",Ig(this.getTileSize(this.fixedRowHeight,t.rowspan)))}getComputedHeight(){return["height",Ig(`${this.getTileSpan(this.fixedRowHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["height",null]),t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}class oq extends pO{constructor(t){super(),this._parseRatio(t)}setRowStyles(t,e,i,r){this.baseTileHeight=this.getBaseTileSize(i/this.rowHeightRatio,r),t._setStyle("marginTop",this.getTilePosition(this.baseTileHeight,e)),t._setStyle("paddingTop",Ig(this.getTileSize(this.baseTileHeight,t.rowspan)))}getComputedHeight(){return["paddingBottom",Ig(`${this.getTileSpan(this.baseTileHeight)} + ${this.getGutterSpan()}`)]}reset(t){t._setListStyle(["paddingBottom",null]),t._tiles.forEach(e=>{e._setStyle("marginTop",null),e._setStyle("paddingTop",null)})}_parseRatio(t){const e=t.split(":");this.rowHeightRatio=parseFloat(e[0])/parseFloat(e[1])}}class sq extends pO{setRowStyles(t,e){let o=this.getBaseTileSize(100/this._rowspan,(this._rows-1)/this._rows);t._setStyle("top",this.getTilePosition(o,e)),t._setStyle("height",Ig(this.getTileSize(o,t.rowspan)))}reset(t){t._tiles&&t._tiles.forEach(e=>{e._setStyle("top",null),e._setStyle("height",null)})}}function Ig(n){return`calc(${n})`}function YU(n){return n.match(/([A-Za-z%]+)$/)?n:`${n}px`}let lq=(()=>{class n{constructor(e,i){this._element=e,this._dir=i,this._gutter="1px"}get cols(){return this._cols}set cols(e){this._cols=Math.max(1,Math.round(ba(e)))}get gutterSize(){return this._gutter}set gutterSize(e){this._gutter=`${e??""}`}get rowHeight(){return this._rowHeight}set rowHeight(e){const i=`${e??""}`;i!==this._rowHeight&&(this._rowHeight=i,this._setTileStyler(this._rowHeight))}ngOnInit(){this._checkCols(),this._checkRowHeight()}ngAfterContentChecked(){this._layoutTiles()}_checkCols(){}_checkRowHeight(){this._rowHeight||this._setTileStyler("1:1")}_setTileStyler(e){this._tileStyler&&this._tileStyler.reset(this),this._tileStyler="fit"===e?new sq:e&&e.indexOf(":")>-1?new oq(e):new rq(e)}_layoutTiles(){this._tileCoordinator||(this._tileCoordinator=new tq);const e=this._tileCoordinator,i=this._tiles.filter(o=>!o._gridList||o._gridList===this),r=this._dir?this._dir.value:"ltr";this._tileCoordinator.update(this.cols,i),this._tileStyler.init(this.gutterSize,e,this.cols,r),i.forEach((o,l)=>{const u=e.positions[l];this._tileStyler.setStyle(o,u.row,u.col)}),this._setListStyle(this._tileStyler.getComputedHeight())}_setListStyle(e){e&&(this._element.nativeElement.style[e[0]]=e[1])}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(ya,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-grid-list"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,qU,5),2&e){let o;c.iGM(o=c.CRH())&&(i._tiles=o)}},hostAttrs:[1,"mat-grid-list"],hostVars:1,hostBindings:function(e,i){2&e&&c.uIk("cols",i.cols)},inputs:{cols:"cols",gutterSize:"gutterSize",rowHeight:"rowHeight"},exportAs:["matGridList"],features:[c._Bn([{provide:WU,useExisting:n}])],ngContentSelectors:$U,decls:2,vars:0,template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div"),c.Hsn(1),c.qZA())},styles:[".mat-grid-list{display:block;position:relative}.mat-grid-tile{display:block;position:absolute;overflow:hidden}.mat-grid-tile .mat-grid-tile-header,.mat-grid-tile .mat-grid-tile-footer{display:flex;align-items:center;height:48px;color:#fff;background:rgba(0,0,0,.38);overflow:hidden;padding:0 16px;position:absolute;left:0;right:0}.mat-grid-tile .mat-grid-tile-header>*,.mat-grid-tile .mat-grid-tile-footer>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-tile-header.mat-2-line,.mat-grid-tile .mat-grid-tile-footer.mat-2-line{height:68px}.mat-grid-tile .mat-grid-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden}.mat-grid-tile .mat-grid-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-grid-tile .mat-grid-list-text:empty{display:none}.mat-grid-tile .mat-grid-tile-header{top:0}.mat-grid-tile .mat-grid-tile-footer{bottom:0}.mat-grid-tile .mat-grid-avatar{padding-right:16px}[dir=rtl] .mat-grid-tile .mat-grid-avatar{padding-right:0;padding-left:16px}.mat-grid-tile .mat-grid-avatar:empty{display:none}.mat-grid-tile-content{top:0;left:0;right:0;bottom:0;position:absolute;display:flex;align-items:center;justify-content:center;height:100%;padding:0;margin:0}"],encapsulation:2,changeDetection:0}),n})(),cq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[vE,wn,vE,wn]}),n})();class gO{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class KU extends gO{constructor(t,e,i,r,o){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class dq extends gO{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class uq extends gO{constructor(t){super(),this.element=t instanceof c.SBq?t.nativeElement:t}}class hq{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof KU?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof dq?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof uq?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class fq extends hq{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=l=>{const u=l.element,p=this._document.createComment("dom-portal");u.parentNode.insertBefore(p,u),this.outletElement.appendChild(u),this._attachedPortal=l,super.setDisposeFn(()=>{p.parentNode&&p.parentNode.replaceChild(u,p)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector,t.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||c.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let mq=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const ZU=gC();class pq{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Ki(-this._previousScrollPosition.left),t.style.top=Ki(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",l=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),ZU&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),ZU&&(i.scrollBehavior=o,r.scrollBehavior=l)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class gq{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0).pipe(Nn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QU{enable(){}disable(){}attach(){}}function _O(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function XU(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class _q{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();_O(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vq=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new QU,this.close=l=>new gq(this._scrollDispatcher,this._ngZone,this._viewportRuler,l),this.block=()=>new pq(this._viewportRuler,this._document),this.reposition=l=>new _q(this._scrollDispatcher,this._viewportRuler,this._ngZone,l),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ru),c.LFG(af),c.LFG(c.R0b),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yq{constructor(t){if(this.scrollStrategy=new QU,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class bq{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let JU=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wq=(()=>{class n extends JU{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let l=o.length-1;l>-1;l--)if(o[l]._keydownEvents.observers.length>0){const u=o[l]._keydownEvents;this._ngZone?this._ngZone.run(()=>u.next(r)):u.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xq=(()=>{class n extends JU{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=sc(o)},this._clickListener=o=>{const l=sc(o),u="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:l;this._pointerDownEventTarget=null;const p=this._attachedOverlays.slice();for(let v=p.length-1;v>-1;v--){const x=p[v];if(x._outsidePointerEvents.observers.length<1||!x.hasAttached())continue;if(x.overlayElement.contains(l)||x.overlayElement.contains(u))break;const D=x._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>D.next(o)):D.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(Hi),c.LFG(c.R0b,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),eH=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Hb()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Hb()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(Hi))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Cq{constructor(t,e,i,r,o,l,u,p,v,x=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=l,this._document=u,this._location=p,this._outsideClickDispatcher=v,this._animationsDisabled=x,this._backdropElement=null,this._backdropClick=new Tt.x,this._attachments=new Tt.x,this._detachments=new Tt.x,this._locationChanges=Gr.w0.EMPTY,this._backdropClickHandler=D=>this._backdropClick.next(D),this._backdropTransitionendHandler=D=>{this._disposeBackdrop(D.target)},this._keydownEvents=new Tt.x,this._outsidePointerEvents=new Tt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Bi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Ki(this._config.width),t.height=Ki(this._config.height),t.minWidth=Ki(this._config.minWidth),t.minHeight=Ki(this._config.minHeight),t.maxWidth=Ki(this._config.maxWidth),t.maxHeight=Ki(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=T_(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Jt((0,Zu.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const tH="cdk-overlay-connected-position-bounding-box",Eq=/([A-Za-z%]+)$/;class Iq{get positions(){return this._preferredPositions}constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Tt.x,this._resizeSubscription=Gr.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}attach(t){this._validatePositions(),t.hostElement.classList.add(tH),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let l;for(let u of this._preferredPositions){let p=this._getOriginPoint(t,r,u),v=this._getOverlayPoint(p,e,u),x=this._getOverlayFit(v,e,i,u);if(x.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,p);this._canFitWithFlexibleDimensions(x,v,i)?o.push({position:u,origin:p,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(p,u)}):(!l||l.overlayFit.visibleArea<x.visibleArea)&&(l={overlayFit:x,overlayPoint:v,originPoint:p,position:u,overlayRect:e})}if(o.length){let u=null,p=-1;for(const v of o){const x=v.boundingBoxRect.width*v.boundingBoxRect.height*(v.position.weight||1);x>p&&(p=x,u=v)}return this._isPushed=!1,void this._applyPosition(u.position,u.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(l.position,l.originPoint);this._applyPosition(l.position,l.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Sg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(tH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const l=this._isRtl()?t.right:t.left,u=this._isRtl()?t.left:t.right;r="start"==i.originX?l:u}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=iH(e);let{x:l,y:u}=t,p=this._getOffset(r,"x"),v=this._getOffset(r,"y");p&&(l+=p),v&&(u+=v);let R=0-u,F=u+o.height-i.height,H=this._subtractOverflows(o.width,0-l,l+o.width-i.width),Y=this._subtractOverflows(o.height,R,F),te=H*Y;return{visibleArea:te,isCompletelyWithinViewport:o.width*o.height===te,fitsInViewportVertically:Y===o.height,fitsInViewportHorizontally:H==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,l=nH(this._overlayRef.getConfig().minHeight),u=nH(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=l&&l<=r)&&(t.fitsInViewportHorizontally||null!=u&&u<=o)}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=iH(e),o=this._viewportRect,l=Math.max(t.x+r.width-o.width,0),u=Math.max(t.y+r.height-o.height,0),p=Math.max(o.top-i.top-t.y,0),v=Math.max(o.left-i.left-t.x,0);let x=0,D=0;return x=r.width<=o.width?v||-l:t.x<this._viewportMargin?o.left-i.left-t.x:0,D=r.height<=o.height?p||-u:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x,y:D},{x:t.x+x,y:t.y+D}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new bq(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,l,u,x,D,R;if("top"===e.overlayY)l=t.y,o=i.height-l+this._viewportMargin;else if("bottom"===e.overlayY)u=i.height-t.y+2*this._viewportMargin,o=i.height-u+this._viewportMargin;else{const F=Math.min(i.bottom-t.y+i.top,t.y),H=this._lastBoundingBoxSize.height;o=2*F,l=t.y-F,o>H&&!this._isInitialRender&&!this._growAfterOpen&&(l=t.y-H/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)R=i.width-t.x+this._viewportMargin,x=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)D=t.x,x=i.right-t.x;else{const F=Math.min(i.right-t.x+i.left,t.x),H=this._lastBoundingBoxSize.width;x=2*F,D=t.x-F,x>H&&!this._isInitialRender&&!this._growAfterOpen&&(D=t.x-H/2)}return{top:l,left:D,bottom:u,right:R,width:x,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,l=this._overlayRef.getConfig().maxWidth;r.height=Ki(i.height),r.top=Ki(i.top),r.bottom=Ki(i.bottom),r.width=Ki(i.width),r.left=Ki(i.left),r.right=Ki(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Ki(o)),l&&(r.maxWidth=Ki(l))}this._lastBoundingBoxSize=i,Sg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Sg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Sg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,l=this._overlayRef.getConfig();if(r){const x=this._viewportRuler.getViewportScrollPosition();Sg(i,this._getExactOverlayY(e,t,x)),Sg(i,this._getExactOverlayX(e,t,x))}else i.position="static";let u="",p=this._getOffset(e,"x"),v=this._getOffset(e,"y");p&&(u+=`translateX(${p}px) `),v&&(u+=`translateY(${v}px)`),i.transform=u.trim(),l.maxHeight&&(r?i.maxHeight=Ki(l.maxHeight):o&&(i.maxHeight="")),l.maxWidth&&(r?i.maxWidth=Ki(l.maxWidth):o&&(i.maxWidth="")),Sg(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Ki(o.y),r}_getExactOverlayX(t,e,i){let l,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),l=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===l?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Ki(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:XU(t,i),isOriginOutsideView:_O(t,i),isOverlayClipped:XU(e,i),isOverlayOutsideView:_O(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&T_(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof c.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Sg(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function nH(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Eq);return e&&"px"!==e?null:parseFloat(t)}return n||null}function iH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const rH="cdk-global-overlay-wrapper";class Sq{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(rH),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:l,maxHeight:u}=i,p=!("100%"!==r&&"100vw"!==r||l&&"100%"!==l&&"100vw"!==l),v=!("100%"!==o&&"100vh"!==o||u&&"100%"!==u&&"100vh"!==u),x=this._xPosition,D=this._xOffset,R="rtl"===this._overlayRef.getConfig().direction;let F="",H="",Y="";p?Y="flex-start":"center"===x?(Y="center",R?H=D:F=D):R?"left"===x||"end"===x?(Y="flex-end",F=D):("right"===x||"start"===x)&&(Y="flex-start",H=D):"left"===x||"start"===x?(Y="flex-start",F=D):("right"===x||"end"===x)&&(Y="flex-end",H=D),t.position=this._cssPosition,t.marginLeft=p?"0":F,t.marginTop=v?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=p?"0":H,e.justifyContent=Y,e.alignItems=v?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(rH),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Dq=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Sq}flexibleConnectedTo(e){return new Iq(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(af),c.LFG(J),c.LFG(Hi),c.LFG(eH))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tq=0,Ww=(()=>{class n{constructor(e,i,r,o,l,u,p,v,x,D,R,F){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=l,this._injector=u,this._ngZone=p,this._document=v,this._directionality=x,this._location=D,this._outsideClickDispatcher=R,this._animationsModuleType=F}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),l=new yq(e);return l.direction=l.direction||this._directionality.value,new Cq(o,i,r,l,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Tq++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(c.z2F)),new fq(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(vq),c.LFG(eH),c.LFG(c._Vd),c.LFG(Dq),c.LFG(wq),c.LFG(c.zs3),c.LFG(c.R0b),c.LFG(J),c.LFG(ya),c.LFG(je),c.LFG(xq),c.LFG(c.QbO,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kq={provide:new c.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Ww],useFactory:function Aq(n){return()=>n.scrollStrategies.reposition()}};let oH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Ww,kq],imports:[Tu,mq,Pu,Pu]}),n})();class sH{}class Rq{}const Qu="*";function yc(n,t){return{type:7,name:n,definitions:t,options:{}}}function $o(n,t=null){return{type:4,styles:t,timings:n}}function aH(n,t=null){return{type:2,steps:n,options:t}}function Rn(n){return{type:6,styles:n,offset:null}}function eo(n,t,e){return{type:0,name:n,styles:t,options:e}}function to(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function dH(n){Promise.resolve().then(n)}class qw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){dH(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class uH{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?dH(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++e==o&&this._onFinish()}),l.onDestroy(()=>{++i==o&&this._onDestroy()}),l.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((l,u)=>Math.max(l,u.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const vO="!",Oq=["tooltip"],hH=new c.OlP("mat-tooltip-scroll-strategy"),Nq={provide:hH,deps:[Ww],useFactory:function Fq(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Bq=new c.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Lq(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),fH="tooltip-panel",mH=wp({passive:!0});let Gq=(()=>{class n{get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(e){this._positionAtOrigin=Qt(e),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(e){this._disabled=Qt(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ba(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ba(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(e,i,r,o,l,u,p,v,x,D,R,F){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=l,this._platform=u,this._ariaDescriber=p,this._focusMonitor=v,this._dir=D,this._defaultOptions=R,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Tt.x,this._scrollStrategy=x,this._document=F,R&&(R.position&&(this.position=R.position),R.positionAtOrigin&&(this.positionAtOrigin=R.positionAtOrigin),R.touchGestures&&(this.touchGestures=R.touchGestures)),D.change.pipe(Jt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Jt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,mH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new KU(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(Jt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(e)}hide(e=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(e):(i._cancelPendingAnimations(),this._detach()))}toggle(e){this._isTooltipVisible()?this.hide():this.show(void 0,e)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(e){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!e)&&o._origin instanceof c.SBq)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&e||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(Jt(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${fH}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Jt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Jt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Jt(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!Lu(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:l}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:l}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:l}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:l}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Bi(1),Jt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let l;if(l="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",l!==this._currentPosition){const u=this._overlayRef;if(u){const p=`${this._cssClassPrefix}-${fH}-`;u.removePanelClass(p+this._currentPosition),u.addPanelClass(p+l)}this._currentPosition=l}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",e=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==e.x&&void 0!==e.y&&(i=e),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",e=>{const i=e.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,mH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){c.$Z()},n.\u0275dir=c.lG2({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),$q=(()=>{class n extends Gq{constructor(e,i,r,o,l,u,p,v,x,D,R,F){super(e,i,r,o,l,u,p,v,x,D,R,F),this._tooltipComponent=qq,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(e){const r=!this._dir||"ltr"==this._dir.value;return"top"===e.originY?e.offsetY=-8:"bottom"===e.originY?e.offsetY=8:"start"===e.originX?e.offsetX=r?-8:8:"end"===e.originX&&(e.offsetX=r?8:-8),e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Ww),c.Y36(c.SBq),c.Y36(Ru),c.Y36(c.s_b),c.Y36(c.R0b),c.Y36(Hi),c.Y36(JC),c.Y36(zp),c.Y36(hH),c.Y36(ya,8),c.Y36(Bq,8),c.Y36(J))},n.\u0275dir=c.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],exportAs:["matTooltip"],features:[c.qOj]}),n})(),Wq=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Tt.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_cancelPendingAnimations(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const l=getComputedStyle(i);("0s"===l.getPropertyValue("animation-duration")||"none"===l.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n}),n})(),qq=(()=>{class n extends Wq{constructor(e,i,r){super(e,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const e=this._elementRef.nativeElement.getBoundingClientRect();return e.height>24&&e.width>=200}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&c.Gf(Oq,7),2&e){let r;c.iGM(r=c.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&c.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&c.Udp("zoom",i.isVisible()?1:null)},features:[c.qOj],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(e,i){1&e&&(c.TgZ(0,"div",0,1),c.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),c.TgZ(2,"div",2),c._uU(3),c.qZA()()),2&e&&(c.ekj("mdc-tooltip--multiline",i._isMultiline),c.Q6J("ngClass",i.tooltipClass),c.xp6(3),c.Oqu(i.message))},dependencies:[Ut],styles:['.mdc-tooltip__surface{word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color, #fff)}.mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape, var(--mdc-shape-small, 4px))}.mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color, #000)}.mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font, inherit);font-size:var(--mdc-plain-tooltip-supporting-text-size, inherit);font-weight:var(--mdc-plain-tooltip-supporting-text-weight, inherit);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking, inherit)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0}),n})(),pH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[Nq],imports:[nA,Qn,oH,wn,wn,vo]}),n})();const cl=new c.OlP("NgValueAccessor");let s7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,Qn,s0,wn]}),n})();function a7(n,t){1&n&&(c.TgZ(0,"span",8),c.Hsn(1,1),c.qZA())}function l7(n,t){1&n&&(c.TgZ(0,"span",9),c.Hsn(1,2),c.qZA())}const bz=["*",[["mat-chip-avatar"],["","matChipAvatar",""]],[["mat-chip-trailing-icon"],["","matChipRemove",""],["","matChipTrailingIcon",""]]],wz=["*","mat-chip-avatar, [matChipAvatar]","mat-chip-trailing-icon,[matChipRemove],[matChipTrailingIcon]"];function c7(n,t){1&n&&(c.TgZ(0,"span",9),c.Hsn(1,1),c.TgZ(2,"span",10),c.O4$(),c.TgZ(3,"svg",11),c._UZ(4,"path",12),c.qZA()()())}function d7(n,t){1&n&&(c.TgZ(0,"span",13),c.Hsn(1,2),c.qZA())}const VO=["*"],HS=new c.OlP("mat-chips-default-options"),UO=new c.OlP("MatChipAvatar"),HO=new c.OlP("MatChipTrailingIcon"),zO=new c.OlP("MatChipRemove"),zS=new c.OlP("MatChip");class b7{}const w7=av(b7,-1);let Oy=(()=>{class n extends w7{get disabled(){return this._disabled||this._parentChip.disabled}set disabled(e){this._disabled=Qt(e)}_getDisabledAttribute(){return this.disabled&&!this._allowFocusWhenDisabled?"":null}_getTabindex(){return this.disabled&&!this._allowFocusWhenDisabled||!this.isInteractive?null:this.tabIndex.toString()}constructor(e,i){super(),this._elementRef=e,this._parentChip=i,this.isInteractive=!0,this._isPrimary=!0,this._disabled=!1,this._allowFocusWhenDisabled=!1,"BUTTON"===e.nativeElement.nodeName&&e.nativeElement.setAttribute("type","button")}focus(){this._elementRef.nativeElement.focus()}_handleClick(e){!this.disabled&&this.isInteractive&&this._isPrimary&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}_handleKeydown(e){(13===e.keyCode||32===e.keyCode)&&!this.disabled&&this.isInteractive&&this._isPrimary&&!this._parentChip._isEditing&&(e.preventDefault(),this._parentChip._handlePrimaryActionInteraction())}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(zS))},n.\u0275dir=c.lG2({type:n,selectors:[["","matChipAction",""]],hostAttrs:[1,"mdc-evolution-chip__action","mat-mdc-chip-action"],hostVars:9,hostBindings:function(e,i){1&e&&c.NdJ("click",function(o){return i._handleClick(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&(c.uIk("tabindex",i._getTabindex())("disabled",i._getDisabledAttribute())("aria-disabled",i.disabled),c.ekj("mdc-evolution-chip__action--primary",i._isPrimary)("mdc-evolution-chip__action--presentational",!i.isInteractive)("mdc-evolution-chip__action--trailing",!i._isPrimary))},inputs:{disabled:"disabled",tabIndex:"tabIndex",isInteractive:"isInteractive",_allowFocusWhenDisabled:"_allowFocusWhenDisabled"},features:[c.qOj]}),n})(),Ez=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-chip-avatar"],["","matChipAvatar",""]],hostAttrs:["role","img",1,"mat-mdc-chip-avatar","mdc-evolution-chip__icon","mdc-evolution-chip__icon--primary"],features:[c._Bn([{provide:UO,useExisting:n}])]}),n})(),E7=0;const I7=av(sv(lA(p0(class{constructor(n){this._elementRef=n}})),"primary"),-1);let Mg=(()=>{class n extends I7{_hasFocus(){return this._hasFocusInternal}get value(){return void 0!==this._value?this._value:this._textElement.textContent.trim()}set value(e){this._value=e}get removable(){return this._removable}set removable(e){this._removable=Qt(e)}get highlighted(){return this._highlighted}set highlighted(e){this._highlighted=Qt(e)}constructor(e,i,r,o,l,u,p,v){super(i),this._changeDetectorRef=e,this._ngZone=r,this._focusMonitor=o,this._globalRippleOptions=p,this._isRippleCentered=!1,this._onFocus=new Tt.x,this._onBlur=new Tt.x,this.role=null,this._hasFocusInternal=!1,this.id="mat-mdc-chip-"+E7++,this.ariaLabel=null,this.ariaDescription=null,this._ariaDescriptionId=`${this.id}-aria-description`,this._removable=!0,this._highlighted=!1,this.removed=new c.vpe,this.destroyed=new c.vpe,this.basicChipAttrName="mat-basic-chip",this._document=l,this._animationsDisabled="NoopAnimations"===u,null!=v&&(this.tabIndex=parseInt(v)??this.defaultTabIndex),this._monitorFocus()}ngOnInit(){const e=this._elementRef.nativeElement;this._isBasicChip=e.hasAttribute(this.basicChipAttrName)||e.tagName.toLowerCase()===this.basicChipAttrName}ngAfterViewInit(){this._textElement=this._elementRef.nativeElement.querySelector(".mat-mdc-chip-action-label"),this._pendingFocus&&(this._pendingFocus=!1,this.focus())}ngAfterContentInit(){this._actionChanges=(0,Zu.T)(this._allLeadingIcons.changes,this._allTrailingIcons.changes,this._allRemoveIcons.changes).subscribe(()=>this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._actionChanges?.unsubscribe(),this.destroyed.emit({chip:this}),this.destroyed.complete()}remove(){this.removable&&this.removed.emit({chip:this})}_isRippleDisabled(){return this.disabled||this.disableRipple||this._animationsDisabled||this._isBasicChip||!!this._globalRippleOptions?.disabled}_hasTrailingIcon(){return!(!this.trailingIcon&&!this.removeIcon)}_handleKeydown(e){(8===e.keyCode||46===e.keyCode)&&(e.preventDefault(),this.remove())}focus(){this.disabled||(this.primaryAction?this.primaryAction.focus():this._pendingFocus=!0)}_getSourceAction(e){return this._getActions().find(i=>{const r=i._elementRef.nativeElement;return r===e||r.contains(e)})}_getActions(){const e=[];return this.primaryAction&&e.push(this.primaryAction),this.removeIcon&&e.push(this.removeIcon),this.trailingIcon&&e.push(this.trailingIcon),e}_handlePrimaryActionInteraction(){}_monitorFocus(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(e=>{const i=null!==e;i!==this._hasFocusInternal&&(this._hasFocusInternal=i,i?this._onFocus.next({chip:this}):this._ngZone.onStable.pipe(Bi(1)).subscribe(()=>this._ngZone.run(()=>this._onBlur.next({chip:this}))))})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(zp),c.Y36(J),c.Y36(c.QbO,8),c.Y36(Cf,8),c.$8M("tabindex"))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-basic-chip"],["","mat-basic-chip",""],["mat-chip"],["","mat-chip",""]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,UO,5),c.Suo(r,HO,5),c.Suo(r,zO,5),c.Suo(r,UO,5),c.Suo(r,HO,5),c.Suo(r,zO,5)),2&e){let o;c.iGM(o=c.CRH())&&(i.leadingIcon=o.first),c.iGM(o=c.CRH())&&(i.trailingIcon=o.first),c.iGM(o=c.CRH())&&(i.removeIcon=o.first),c.iGM(o=c.CRH())&&(i._allLeadingIcons=o),c.iGM(o=c.CRH())&&(i._allTrailingIcons=o),c.iGM(o=c.CRH())&&(i._allRemoveIcons=o)}},viewQuery:function(e,i){if(1&e&&(c.Gf(Ef,5),c.Gf(Oy,5)),2&e){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first),c.iGM(r=c.CRH())&&(i.primaryAction=r.first)}},hostAttrs:[1,"mat-mdc-chip"],hostVars:30,hostBindings:function(e,i){1&e&&c.NdJ("keydown",function(o){return i._handleKeydown(o)}),2&e&&(c.Ikx("id",i.id),c.uIk("role",i.role)("tabindex",i.role?i.tabIndex:null)("aria-label",i.ariaLabel),c.ekj("mdc-evolution-chip",!i._isBasicChip)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-graphic",i.leadingIcon)("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-basic-chip",i._isBasicChip)("mat-mdc-standard-chip",!i._isBasicChip)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon())("_mat-animation-noopable",i._animationsDisabled))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",role:"role",id:"id",ariaLabel:["aria-label","ariaLabel"],ariaDescription:["aria-description","ariaDescription"],value:"value",removable:"removable",highlighted:"highlighted"},outputs:{removed:"removed",destroyed:"destroyed"},exportAs:["matChip"],features:[c._Bn([{provide:zS,useExisting:n}]),c.qOj],ngContentSelectors:wz,decls:9,vars:6,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","",3,"isInteractive"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,i){1&e&&(c.F$t(bz),c._UZ(0,"span",0)(1,"span",1),c.TgZ(2,"span",2)(3,"span",3),c.YNc(4,a7,2,0,"span",4),c.TgZ(5,"span",5),c.Hsn(6),c._UZ(7,"span",6),c.qZA()()(),c.YNc(8,l7,2,0,"span",7)),2&e&&(c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i._isRippleCentered)("matRippleTrigger",i._elementRef.nativeElement),c.xp6(3),c.Q6J("isInteractive",!1),c.xp6(1),c.Q6J("ngIf",i.leadingIcon),c.xp6(4),c.Q6J("ngIf",i._hasTrailingIcon()))},dependencies:[mr,Ef,Oy],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__graphic{height:24px;width:24px;font-size:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__icon--primary{height:24px;width:24px;font-size:24px}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 14px 14px 14px 14px)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size, 28px);width:var(--mdc-chip-with-avatar-avatar-size, 28px);font-size:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width, 1px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-outline-width, 1px)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--selected) .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-unselected-outline-width, 1px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size, 18px);width:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, currentColor)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})(),Iz=(()=>{class n extends Mg{constructor(){super(...arguments),this._defaultOptions=(0,c.f3M)(HS,{optional:!0}),this.chipListSelectable=!0,this._chipListMultiple=!1,this._chipListHideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this._selectable=!0,this._selected=!1,this.basicChipAttrName="mat-basic-chip-option",this.selectionChange=new c.vpe}get selectable(){return this._selectable&&this.chipListSelectable}set selectable(e){this._selectable=Qt(e),this._changeDetectorRef.markForCheck()}get selected(){return this._selected}set selected(e){this._setSelectedState(Qt(e),!1,!0)}get ariaSelected(){return this.selectable?this.selected.toString():null}ngOnInit(){super.ngOnInit(),this.role="presentation"}select(){this._setSelectedState(!0,!1,!0)}deselect(){this._setSelectedState(!1,!1,!0)}selectViaInteraction(){this._setSelectedState(!0,!0,!0)}toggleSelected(e=!1){return this._setSelectedState(!this.selected,e,!0),this.selected}_handlePrimaryActionInteraction(){this.selectable&&!this.disabled&&this.toggleSelected(!0)}_hasLeadingGraphic(){return!!this.leadingIcon||!this._chipListHideSingleSelectionIndicator||this._chipListMultiple}_setSelectedState(e,i,r){e!==this.selected&&(this._selected=e,r&&this.selectionChange.emit({source:this,isUserInput:i,selected:this.selected}),this._changeDetectorRef.markForCheck())}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-basic-chip-option"],["","mat-basic-chip-option",""],["mat-chip-option"],["","mat-chip-option",""]],hostAttrs:[1,"mat-mdc-chip","mat-mdc-chip-option"],hostVars:37,hostBindings:function(e,i){2&e&&(c.Ikx("id",i.id),c.uIk("tabindex",null)("aria-label",null)("aria-description",null)("role",i.role),c.ekj("mdc-evolution-chip",!i._isBasicChip)("mdc-evolution-chip--filter",!i._isBasicChip)("mdc-evolution-chip--selectable",!i._isBasicChip)("mat-mdc-chip-selected",i.selected)("mat-mdc-chip-multiple",i._chipListMultiple)("mat-mdc-chip-disabled",i.disabled)("mat-mdc-chip-with-avatar",i.leadingIcon)("mdc-evolution-chip--disabled",i.disabled)("mdc-evolution-chip--selected",i.selected)("mdc-evolution-chip--selecting",!i._animationsDisabled)("mdc-evolution-chip--with-trailing-action",i._hasTrailingIcon())("mdc-evolution-chip--with-primary-icon",i.leadingIcon)("mdc-evolution-chip--with-primary-graphic",i._hasLeadingGraphic())("mdc-evolution-chip--with-avatar",i.leadingIcon)("mat-mdc-chip-highlighted",i.highlighted)("mat-mdc-chip-with-trailing-icon",i._hasTrailingIcon()))},inputs:{color:"color",disabled:"disabled",disableRipple:"disableRipple",tabIndex:"tabIndex",selectable:"selectable",selected:"selected"},outputs:{selectionChange:"selectionChange"},features:[c._Bn([{provide:Mg,useExisting:n},{provide:zS,useExisting:n}]),c.qOj],ngContentSelectors:wz,decls:11,vars:12,consts:[["matRipple","",1,"mat-mdc-chip-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-chip-focus-overlay"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--primary"],["matChipAction","","role","option",3,"tabIndex","_allowFocusWhenDisabled"],["class","mdc-evolution-chip__graphic mat-mdc-chip-graphic",4,"ngIf"],[1,"mdc-evolution-chip__text-label","mat-mdc-chip-action-label"],[1,"mat-mdc-chip-primary-focus-indicator","mat-mdc-focus-indicator"],["class","mdc-evolution-chip__cell mdc-evolution-chip__cell--trailing",4,"ngIf"],[1,"cdk-visually-hidden",3,"id"],[1,"mdc-evolution-chip__graphic","mat-mdc-chip-graphic"],[1,"mdc-evolution-chip__checkmark"],["viewBox","-2 -3 30 30","focusable","false",1,"mdc-evolution-chip__checkmark-svg"],["fill","none","stroke","currentColor","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-evolution-chip__checkmark-path"],[1,"mdc-evolution-chip__cell","mdc-evolution-chip__cell--trailing"]],template:function(e,i){1&e&&(c.F$t(bz),c._UZ(0,"span",0)(1,"span",1),c.TgZ(2,"span",2)(3,"button",3),c.YNc(4,c7,5,0,"span",4),c.TgZ(5,"span",5),c.Hsn(6),c._UZ(7,"span",6),c.qZA()()(),c.YNc(8,d7,2,0,"span",7),c.TgZ(9,"span",8),c._uU(10),c.qZA()),2&e&&(c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i._isRippleCentered)("matRippleTrigger",i._elementRef.nativeElement),c.xp6(3),c.Q6J("tabIndex",i.tabIndex)("_allowFocusWhenDisabled",!0),c.uIk("aria-selected",i.ariaSelected)("aria-label",i.ariaLabel)("aria-describedby",i._ariaDescriptionId),c.xp6(1),c.Q6J("ngIf",i._hasLeadingGraphic()),c.xp6(4),c.Q6J("ngIf",i._hasTrailingIcon()),c.xp6(1),c.Q6J("id",i._ariaDescriptionId),c.xp6(1),c.Oqu(i.ariaDescription))},dependencies:[mr,Ef,Oy],styles:['.mdc-evolution-chip,.mdc-evolution-chip__cell,.mdc-evolution-chip__action{display:inline-flex;align-items:center}.mdc-evolution-chip{position:relative;max-width:100%}.mdc-evolution-chip .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-evolution-chip__cell,.mdc-evolution-chip__action{height:100%}.mdc-evolution-chip__cell--primary{overflow-x:hidden}.mdc-evolution-chip__cell--trailing{flex:1 0 auto}.mdc-evolution-chip__action{align-items:center;background:none;border:none;box-sizing:content-box;cursor:pointer;display:inline-flex;justify-content:center;outline:none;padding:0;text-decoration:none;color:inherit}.mdc-evolution-chip__action--presentational{cursor:auto}.mdc-evolution-chip--disabled,.mdc-evolution-chip__action:disabled{pointer-events:none}.mdc-evolution-chip__action--primary{overflow-x:hidden}.mdc-evolution-chip__action--trailing{position:relative;overflow:visible}.mdc-evolution-chip__action--primary:before{box-sizing:border-box;content:"";height:100%;left:0;position:absolute;pointer-events:none;top:0;width:100%;z-index:1}.mdc-evolution-chip--touch{margin-top:8px;margin-bottom:8px}.mdc-evolution-chip__action-touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-evolution-chip__text-label{white-space:nowrap;user-select:none;text-overflow:ellipsis;overflow:hidden}.mdc-evolution-chip__graphic{align-items:center;display:inline-flex;justify-content:center;overflow:hidden;pointer-events:none;position:relative;flex:1 0 auto}.mdc-evolution-chip__checkmark{position:absolute;opacity:0;top:50%;left:50%}.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--selected):not(.mdc-evolution-chip--with-primary-icon) .mdc-evolution-chip__graphic{width:0}.mdc-evolution-chip__checkmark-background{opacity:0}.mdc-evolution-chip__checkmark-svg{display:block}.mdc-evolution-chip__checkmark-path{stroke-width:2px;stroke-dasharray:29.7833385;stroke-dashoffset:29.7833385;stroke:currentColor}.mdc-evolution-chip--selecting .mdc-evolution-chip__graphic{transition:width 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark{transition:transform 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--selecting .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 45ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__graphic{transition:width 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark{transition:opacity 50ms 0ms linear,transform 100ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-75%, -50%)}.mdc-evolution-chip--deselecting .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--selecting-with-primary-icon .mdc-evolution-chip__checkmark-path{transition:stroke-dashoffset 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__icon--primary{transition:opacity 150ms 75ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);transform:translate(-50%, -50%)}.mdc-evolution-chip--deselecting-with-primary-icon .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}.mdc-evolution-chip--selected .mdc-evolution-chip__icon--primary{opacity:0}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark{transform:translate(-50%, -50%);opacity:1}.mdc-evolution-chip--selected .mdc-evolution-chip__checkmark-path{stroke-dashoffset:0}@keyframes mdc-evolution-chip-enter{from{transform:scale(0.8);opacity:.4}to{transform:scale(1);opacity:1}}.mdc-evolution-chip--enter{animation:mdc-evolution-chip-enter 100ms 0ms cubic-bezier(0, 0, 0.2, 1)}@keyframes mdc-evolution-chip-exit{from{opacity:1}to{opacity:0}}.mdc-evolution-chip--exit{animation:mdc-evolution-chip-exit 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-evolution-chip--hidden{opacity:0;pointer-events:none;transition:width 150ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-standard-chip .mdc-evolution-chip__checkmark{height:20px;width:20px}.mat-mdc-standard-chip .mdc-evolution-chip__icon--trailing{height:18px;width:18px;font-size:18px}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:12px;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:12px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:6px;padding-right:6px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:6px;padding-right:6px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary{padding-left:0;padding-right:12px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:12px;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic{padding-left:4px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__graphic[dir=rtl]{padding-left:8px;padding-right:4px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing{padding-left:8px;padding-right:8px}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--trailing[dir=rtl]{padding-left:8px;padding-right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing{left:8px;right:initial}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__ripple--trailing[dir=rtl]{left:initial;right:8px}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary{padding-left:0;padding-right:0}[dir=rtl] .mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary,.mdc-evolution-chip--with-avatar.mdc-evolution-chip--with-primary-graphic.mdc-evolution-chip--with-trailing-action .mdc-evolution-chip__action--primary[dir=rtl]{padding-left:0;padding-right:0}.mdc-evolution-chip--with-avatar.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__graphic{height:24px;width:24px;font-size:24px}.mdc-evolution-chip--with-avatar .mdc-evolution-chip__icon--primary{height:24px;width:24px;font-size:24px}.mat-mdc-standard-chip{-webkit-tap-highlight-color:rgba(0,0,0,0);border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px);height:var(--mdc-chip-container-height, 32px)}.mat-mdc-standard-chip .mdc-evolution-chip__ripple{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-radius:var(--mdc-chip-container-shape-radius, 16px 16px 16px 16px)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{border-radius:var(--mdc-chip-with-avatar-avatar-shape-radius, 14px 14px 14px 14px)}.mat-mdc-standard-chip.mdc-evolution-chip--selectable:not(.mdc-evolution-chip--with-primary-icon){--mdc-chip-graphic-selected-width:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__graphic{height:var(--mdc-chip-with-avatar-avatar-size, 28px);width:var(--mdc-chip-with-avatar-avatar-size, 28px);font-size:var(--mdc-chip-with-avatar-avatar-size, 28px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-outline-width, 1px)}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-outline-width, 1px)}.mat-mdc-standard-chip.mdc-evolution-chip--selected .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-selected-outline-width, 0)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--selected) .mdc-evolution-chip__action--primary:before{border-width:var(--mdc-chip-flat-unselected-outline-width, 1px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled){background-color:var(--mdc-chip-elevated-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled{background-color:var(--mdc-chip-elevated-disabled-container-color, transparent)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__text-label{color:var(--mdc-chip-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--selected.mdc-evolution-chip--disabled .mdc-evolution-chip__text-label{color:var(--mdc-chip-disabled-label-text-color, currentColor)}.mat-mdc-standard-chip .mdc-evolution-chip__icon--primary{height:var(--mdc-chip-with-icon-icon-size, 18px);width:var(--mdc-chip-with-icon-icon-size, 18px);font-size:var(--mdc-chip-with-icon-icon-size, 18px)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--primary{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-selected-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__checkmark{color:var(--mdc-chip-with-icon-disabled-icon-color, currentColor)}.mat-mdc-standard-chip:not(.mdc-evolution-chip--disabled) .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-trailing-icon-color, currentColor)}.mat-mdc-standard-chip.mdc-evolution-chip--disabled .mdc-evolution-chip__icon--trailing{color:var(--mdc-chip-with-trailing-icon-disabled-trailing-icon-color, currentColor)}.cdk-high-contrast-active .mat-mdc-standard-chip{outline:solid 1px}.cdk-high-contrast-active .mat-mdc-standard-chip .mdc-evolution-chip__checkmark-path{stroke:CanvasText !important}.mat-mdc-standard-chip.mdc-evolution-chip--disabled{opacity:.4}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary,.mat-mdc-standard-chip .mdc-evolution-chip__action--primary,.mat-mdc-standard-chip .mat-mdc-chip-action-label{overflow:visible}.mat-mdc-standard-chip .mdc-evolution-chip__cell--primary{width:100%}.mat-mdc-standard-chip .mdc-evolution-chip__action--primary{font:inherit;letter-spacing:inherit;white-space:inherit}.mat-mdc-standard-chip .mat-mdc-chip-graphic,.mat-mdc-standard-chip .mat-mdc-chip-trailing-icon{box-sizing:content-box}.mat-mdc-standard-chip._mat-animation-noopable,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__graphic,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark,.mat-mdc-standard-chip._mat-animation-noopable .mdc-evolution-chip__checkmark-path{transition-duration:1ms;animation-duration:1ms}.mat-mdc-basic-chip .mdc-evolution-chip__action--primary{font:inherit}.mat-mdc-chip-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;opacity:0;border-radius:inherit;transition:opacity 150ms linear}._mat-animation-noopable .mat-mdc-chip-focus-overlay{transition:none}.mat-mdc-basic-chip .mat-mdc-chip-focus-overlay{display:none}.mat-mdc-chip:hover .mat-mdc-chip-focus-overlay{opacity:.04}.mat-mdc-chip.cdk-focused .mat-mdc-chip-focus-overlay{opacity:.12}.mat-mdc-chip-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-chip-avatar{text-align:center;line-height:1;color:var(--mdc-chip-with-icon-icon-color, currentColor)}.mat-mdc-chip{position:relative;z-index:0}.mat-mdc-chip-action-label{text-align:left;z-index:1}[dir=rtl] .mat-mdc-chip-action-label{text-align:right}.mat-mdc-chip.mdc-evolution-chip--with-trailing-action .mat-mdc-chip-action-label{position:relative}.mat-mdc-chip-action-label .mat-mdc-chip-primary-focus-indicator{position:absolute;top:0;right:0;bottom:0;left:0;pointer-events:none}.mat-mdc-chip-action-label .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-chip-remove{opacity:.54}.mat-mdc-chip-remove:focus{opacity:1}.mat-mdc-chip-remove::before{margin:calc(var(--mat-mdc-focus-indicator-border-width, 3px) * -1);left:8px;right:8px}.mat-mdc-chip-remove .mat-icon{width:inherit;height:inherit;font-size:inherit;box-sizing:content-box}.mat-chip-edit-input{cursor:text;display:inline-block;color:inherit;outline:0}.cdk-high-contrast-active .mat-mdc-chip-selected:not(.mat-mdc-chip-multiple){outline-width:3px}.mat-mdc-chip-action:focus .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();class S7{constructor(t){}}const D7=av(S7);let jO=(()=>{class n extends D7{get chipFocusChanges(){return this._getChipStream(e=>e._onFocus)}get chipDestroyedChanges(){return this._getChipStream(e=>e.destroyed)}get disabled(){return this._disabled}set disabled(e){this._disabled=Qt(e),this._syncChipsState()}get empty(){return 0===this._chips.length}get role(){return this._explicitRole?this._explicitRole:this.empty?null:this._defaultRole}set role(e){this._explicitRole=e}get focused(){return this._hasFocusedChip()}constructor(e,i,r){super(e),this._elementRef=e,this._changeDetectorRef=i,this._dir=r,this._lastDestroyedFocusedChipIndex=null,this._destroyed=new Tt.x,this._defaultRole="presentation",this._disabled=!1,this._explicitRole=null,this._chipActions=new c.n_E}ngAfterViewInit(){this._setUpFocusManagement(),this._trackChipSetChanges(),this._trackDestroyedFocusedChip()}ngOnDestroy(){this._keyManager?.destroy(),this._chipActions.destroy(),this._destroyed.next(),this._destroyed.complete()}_hasFocusedChip(){return this._chips&&this._chips.some(e=>e._hasFocus())}_syncChipsState(){this._chips&&this._chips.forEach(e=>{e.disabled=this._disabled,e._changeDetectorRef.markForCheck()})}focus(){}_handleKeydown(e){this._originatesFromChip(e)&&this._keyManager.onKeydown(e)}_isValidIndex(e){return e>=0&&e<this._chips.length}_allowFocusEscape(){if(-1!==this.tabIndex){const e=this.tabIndex;this.tabIndex=-1,setTimeout(()=>this.tabIndex=e)}}_getChipStream(e){return this._chips.changes.pipe(rr(null),Jn(()=>(0,Zu.T)(...this._chips.map(e))))}_originatesFromChip(e){let i=e.target;for(;i&&i!==this._elementRef.nativeElement;){if(i.classList.contains("mat-mdc-chip"))return!0;i=i.parentElement}return!1}_setUpFocusManagement(){this._chips.changes.pipe(rr(this._chips)).subscribe(e=>{const i=[];e.forEach(r=>r._getActions().forEach(o=>i.push(o))),this._chipActions.reset(i),this._chipActions.notifyOnChanges()}),this._keyManager=new $M(this._chipActions).withVerticalOrientation().withHorizontalOrientation(this._dir?this._dir.value:"ltr").withHomeAndEnd().skipPredicate(e=>this._skipPredicate(e)),this.chipFocusChanges.pipe(Jt(this._destroyed)).subscribe(({chip:e})=>{const i=e._getSourceAction(document.activeElement);i&&this._keyManager.updateActiveItem(i)}),this._dir?.change.pipe(Jt(this._destroyed)).subscribe(e=>this._keyManager.withHorizontalOrientation(e))}_skipPredicate(e){return!e.isInteractive||e.disabled}_trackChipSetChanges(){this._chips.changes.pipe(rr(null),Jt(this._destroyed)).subscribe(()=>{this.disabled&&Promise.resolve().then(()=>this._syncChipsState()),this._redirectDestroyedChipFocus()})}_trackDestroyedFocusedChip(){this.chipDestroyedChanges.pipe(Jt(this._destroyed)).subscribe(e=>{const r=this._chips.toArray().indexOf(e.chip);this._isValidIndex(r)&&e.chip._hasFocus()&&(this._lastDestroyedFocusedChipIndex=r)})}_redirectDestroyedChipFocus(){if(null!=this._lastDestroyedFocusedChipIndex){if(this._chips.length){const e=Math.min(this._lastDestroyedFocusedChipIndex,this._chips.length-1),i=this._chips.toArray()[e];i.disabled?1===this._chips.length?this.focus():this._keyManager.setPreviousItemActive():i.focus()}else this.focus();this._lastDestroyedFocusedChipIndex=null}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.sBO),c.Y36(ya,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-chip-set"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,Mg,5),2&e){let o;c.iGM(o=c.CRH())&&(i._chips=o)}},hostAttrs:[1,"mat-mdc-chip-set","mdc-evolution-chip-set"],hostVars:1,hostBindings:function(e,i){1&e&&c.NdJ("keydown",function(o){return i._handleKeydown(o)}),2&e&&c.uIk("role",i.role)},inputs:{disabled:"disabled",role:"role"},features:[c.qOj],ngContentSelectors:VO,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})();class T7{constructor(t,e){this.source=t,this.value=e}}const M7={provide:cl,useExisting:(0,c.Gpc)(()=>GO),multi:!0};let GO=(()=>{class n extends jO{constructor(){super(...arguments),this._onTouched=()=>{},this._onChange=()=>{},this._defaultRole="listbox",this._defaultOptions=(0,c.f3M)(HS,{optional:!0}),this._multiple=!1,this.ariaOrientation="horizontal",this._selectable=!0,this.compareWith=(e,i)=>e===i,this._required=!1,this._hideSingleSelectionIndicator=this._defaultOptions?.hideSingleSelectionIndicator??!1,this.change=new c.vpe}get multiple(){return this._multiple}set multiple(e){this._multiple=Qt(e),this._syncListboxProperties()}get selected(){const e=this._chips.toArray().filter(i=>i.selected);return this.multiple?e:e[0]}get selectable(){return this._selectable}set selectable(e){this._selectable=Qt(e),this._syncListboxProperties()}get required(){return this._required}set required(e){this._required=Qt(e)}get hideSingleSelectionIndicator(){return this._hideSingleSelectionIndicator}set hideSingleSelectionIndicator(e){this._hideSingleSelectionIndicator=Qt(e),this._syncListboxProperties()}get chipSelectionChanges(){return this._getChipStream(e=>e.selectionChange)}get chipBlurChanges(){return this._getChipStream(e=>e._onBlur)}get value(){return this._value}set value(e){this.writeValue(e),this._value=e}ngAfterContentInit(){void 0!==this._pendingInitialValue&&Promise.resolve().then(()=>{this._setSelectionByValue(this._pendingInitialValue,!1),this._pendingInitialValue=void 0}),this._chips.changes.pipe(rr(null),Jt(this._destroyed)).subscribe(()=>{this._syncListboxProperties()}),this.chipBlurChanges.pipe(Jt(this._destroyed)).subscribe(()=>this._blur()),this.chipSelectionChanges.pipe(Jt(this._destroyed)).subscribe(e=>{this.multiple||this._chips.forEach(i=>{i!==e.source&&i._setSelectedState(!1,!1,!1)}),e.isUserInput&&this._propagateChanges()})}focus(){if(this.disabled)return;const e=this._getFirstSelectedChip();e&&!e.disabled?e.focus():this._chips.length>0?this._keyManager.setFirstItemActive():this._elementRef.nativeElement.focus()}writeValue(e){this._chips?this._setSelectionByValue(e,!1):null!=e&&(this._pendingInitialValue=e)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this.disabled=e}_setSelectionByValue(e,i=!0){this._clearSelection(),Array.isArray(e)?e.forEach(r=>this._selectValue(r,i)):this._selectValue(e,i)}_blur(){this.disabled||setTimeout(()=>{this.focused||this._markAsTouched()})}_keydown(e){9===e.keyCode&&super._allowFocusEscape()}_markAsTouched(){this._onTouched(),this._changeDetectorRef.markForCheck()}_propagateChanges(){let e=null;e=Array.isArray(this.selected)?this.selected.map(i=>i.value):this.selected?this.selected.value:void 0,this._value=e,this.change.emit(new T7(this,e)),this._onChange(e),this._changeDetectorRef.markForCheck()}_clearSelection(e){this._chips.forEach(i=>{i!==e&&i.deselect()})}_selectValue(e,i){const r=this._chips.find(o=>null!=o.value&&this.compareWith(o.value,e));return r&&(i?r.selectViaInteraction():r.select()),r}_syncListboxProperties(){this._chips&&Promise.resolve().then(()=>{this._chips.forEach(e=>{e._chipListMultiple=this.multiple,e.chipListSelectable=this._selectable,e._chipListHideSingleSelectionIndicator=this.hideSingleSelectionIndicator,e._changeDetectorRef.markForCheck()})})}_getFirstSelectedChip(){return Array.isArray(this.selected)?this.selected.length?this.selected[0]:void 0:this.selected}_skipPredicate(e){return!e.isInteractive}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-chip-listbox"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,Iz,5),2&e){let o;c.iGM(o=c.CRH())&&(i._chips=o)}},hostAttrs:[1,"mdc-evolution-chip-set","mat-mdc-chip-listbox"],hostVars:11,hostBindings:function(e,i){1&e&&c.NdJ("focus",function(){return i.focus()})("blur",function(){return i._blur()})("keydown",function(o){return i._keydown(o)}),2&e&&(c.Ikx("tabIndex",i.empty?-1:i.tabIndex),c.uIk("role",i.role)("aria-describedby",i._ariaDescribedby||null)("aria-required",i.role?i.required:null)("aria-disabled",i.disabled.toString())("aria-multiselectable",i.multiple)("aria-orientation",i.ariaOrientation),c.ekj("mat-mdc-chip-list-disabled",i.disabled)("mat-mdc-chip-list-required",i.required))},inputs:{tabIndex:"tabIndex",multiple:"multiple",ariaOrientation:["aria-orientation","ariaOrientation"],selectable:"selectable",compareWith:"compareWith",required:"required",hideSingleSelectionIndicator:"hideSingleSelectionIndicator",value:"value"},outputs:{change:"change"},features:[c._Bn([M7]),c.qOj],ngContentSelectors:VO,decls:2,vars:0,consts:[["role","presentation",1,"mdc-evolution-chip-set__chips"]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA())},styles:[".mdc-evolution-chip-set{display:flex}.mdc-evolution-chip-set:focus{outline:none}.mdc-evolution-chip-set__chips{display:flex;flex-flow:wrap;min-width:0}.mdc-evolution-chip-set--overflow .mdc-evolution-chip-set__chips{flex-flow:nowrap}.mdc-evolution-chip-set .mdc-evolution-chip-set__chips{margin-left:-8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip-set__chips,.mdc-evolution-chip-set .mdc-evolution-chip-set__chips[dir=rtl]{margin-left:0;margin-right:-8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-left:8px;margin-right:0}[dir=rtl] .mdc-evolution-chip-set .mdc-evolution-chip,.mdc-evolution-chip-set .mdc-evolution-chip[dir=rtl]{margin-left:0;margin-right:8px}.mdc-evolution-chip-set .mdc-evolution-chip{margin-top:4px;margin-bottom:4px}.mat-mdc-chip-set .mdc-evolution-chip-set__chips{min-width:100%}.mat-mdc-chip-set-stacked{flex-direction:column;align-items:flex-start}.mat-mdc-chip-set-stacked .mat-mdc-chip{width:100%}input.mat-mdc-chip-input{flex:1 0 150px;margin-left:8px}[dir=rtl] input.mat-mdc-chip-input{margin-left:0;margin-right:8px}"],encapsulation:2,changeDetection:0}),n})(),N7=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[_E,{provide:HS,useValue:{separatorKeyCodes:[13]}}],imports:[wn,Qn,lv,wn]}),n})();const L7=function(n,t){return{background:n,border:t}};function B7(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"mat-chip",9),c.NdJ("click",function(){const o=c.CHM(e).$implicit,l=c.oxw();return c.KtG(l.selectTeamMember(o,o.code))}),c._UZ(1,"img",10),c._uU(2),c.qZA()}if(2&n){const e=t.$implicit,i=c.oxw();c.Q6J("ngStyle",c.WLB(3,L7,i.getMemberBackground(e),"2px solid "+e.color)),c.xp6(1),c.Q6J("src",e.pictureUrl,c.LSH),c.xp6(1),c.hij(" ",e.name," ")}}function V7(n,t){if(1&n&&(c.TgZ(0,"th",15),c._uU(1),c.ALo(2,"uppercase"),c.ALo(3,"slice"),c.qZA()),2&n){const e=c.oxw(2).$implicit;c.xp6(1),c.Oqu(c.lcZ(2,1,c.Dn7(3,3,e,0,1)))}}const U7=function(n){return{background:n}};function H7(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"td",16),c.NdJ("click",function(){const o=c.CHM(e).$implicit,l=c.oxw(2).$implicit,u=c.oxw();return c.KtG(u.toggleEvent(o[l]))}),c._uU(1),c.qZA()}if(2&n){const e=t.$implicit,i=c.oxw(2).$implicit,r=c.oxw();c.Q6J("ngClass",r.getCellClasses(e[i]))("matTooltip",r.getTooltip(e[i]))("ngStyle",c.VKq(4,U7,r.getBackgroundColor(null==e[i]?null:e[i].vacationingMembers))),c.xp6(1),c.hij(" ",null==e[i]?null:e[i].displayText,"")}}function z7(n,t){1&n&&(c.TgZ(0,"div"),c.YNc(1,V7,4,7,"th",13),c.YNc(2,H7,2,6,"td",14),c.qZA())}function j7(n,t){1&n&&c._UZ(0,"th",15)}function G7(n,t){if(1&n&&(c.TgZ(0,"td",18),c._uU(1),c.qZA()),2&n){const e=t.$implicit;c.xp6(1),c.Oqu(e.month)}}function $7(n,t){1&n&&(c.TgZ(0,"div"),c.YNc(1,j7,1,0,"th",13),c.YNc(2,G7,2,1,"td",17),c.qZA())}function W7(n,t){if(1&n&&(c.ynx(0,11),c.YNc(1,z7,3,0,"div",12),c.YNc(2,$7,3,0,"div",12),c.BQk()),2&n){const e=t.$implicit;c.Q6J("matColumnDef",e),c.xp6(1),c.Q6J("ngIf","month"!=e),c.xp6(1),c.Q6J("ngIf","month"==e)}}function q7(n,t){1&n&&c._UZ(0,"tr",19)}function Y7(n,t){1&n&&c._UZ(0,"tr",20)}const K7=function(n){return{border:n}},Z7=[{path:"",children:[{path:"",component:(()=>{class n{constructor(e){this.ds=e,this.displayedColumns=["month","sun1","mon1","tue1","wed1","thu1","fri1","sat1","sun2","mon2","tue2","wed2","thu2","fri2","sat2","sun3","mon3","tue3","wed3","thu3","fri3","sat3","sun4","mon4","tue4","wed4","thu4","fri4","sat4","sun5","mon5","tue5","wed5","thu5","fri5","sat5","sun6","mon6"],this.dataSource=e}ngAfterViewInit(){}getCellClasses(e){var i=new Date,r=new Date(i.getFullYear(),i.getMonth(),i.getDate()),o=e?.displayText?"validday":"filler";return o+=e?.holiday?" holiday":"",(o+=e?.date.getTime()==r.getTime()?" today":"")+(e?.date.getTime()<r.getTime()?" pastdate":"")}getTooltip(e){var i=e?.holiday??"";if(e?.vacationingMembers)for(var r=0;r<e.vacationingMembers?.length;r++)i+=" \u25a0 "+e.vacationingMembers[r].name+" on vacation";return i}getBackgroundColor(e){if(!e||0==e.length)return"";if(1==e.length)return e[0].color;for(var i=0,r=100/e.length,o="linear-gradient(45deg",l=0;l<e.length;l++)o+=", "+e[l].color+" "+i+"% "+(i+r)+"% ",i+=r;return o+")"}getMemberBackground(e){return this.dataSource.selectedMember&&e.code!=this.dataSource.selectedMember.code?"#FAFAFA":e.color}selectTeamMember(e,i){this.dataSource.selectedMemberColor=this.dataSource.selectedMemberColor==e.color?"transparent":e.color,this.dataSource.selectMember(this.dataSource.selectedMember?.code==e.code?void 0:e)}gen(){this.dataSource.generateTable()}fill(){this.dataSource.fillTable()}toggleEvent(e){this.dataSource.selectedMember&&this.dataSource.selectedMemberId&&this.ds.toggleVacation(this.dataSource.selectedMemberId,e.date,this.dataSource.selectedMember)}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(JW))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["app-main-table"]],viewQuery:function(i,r){if(1&i&&c.Gf(Sf,5),2&i){let o;c.iGM(o=c.CRH())&&(r.table=o.first)}},decls:12,vars:9,consts:[["cols","1","rowHeight","1rem"],["rowspan","7"],[3,"ngStyle","click",4,"ngFor","ngForOf"],["rowspan","39"],["tabindex","0",1,"mat-elevation-z8",3,"ngStyle"],["mat-table","",3,"dataSource"],[3,"matColumnDef",4,"ngFor","ngForOf"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"ngStyle","click"],["matChipAvatar","",3,"src"],[3,"matColumnDef"],[4,"ngIf"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",3,"ngClass","matTooltip","ngStyle","click",4,"matCellDef"],["mat-header-cell",""],["mat-cell","",3,"ngClass","matTooltip","ngStyle","click"],["mat-cell","",4,"matCellDef"],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,r){1&i&&(c.TgZ(0,"mat-grid-list",0)(1,"mat-grid-tile",1)(2,"mat-chip-listbox"),c.YNc(3,B7,3,6,"mat-chip",2),c.qZA()(),c.TgZ(4,"h1"),c._uU(5),c.qZA(),c.TgZ(6,"mat-grid-tile",3)(7,"section",4)(8,"table",5),c.YNc(9,W7,3,3,"ng-container",6),c.YNc(10,q7,1,0,"tr",7),c.YNc(11,Y7,1,0,"tr",8),c.qZA()()()()),2&i&&(c.xp6(3),c.Q6J("ngForOf",r.dataSource.teamMembers),c.xp6(2),c.Oqu(r.dataSource.selectedYear),c.xp6(2),c.Q6J("ngStyle",c.VKq(7,K7,"5px solid "+r.dataSource.selectedMemberColor)),c.xp6(1),c.Q6J("dataSource",r.dataSource.monthsData),c.xp6(1),c.Q6J("ngForOf",r.displayedColumns),c.xp6(1),c.Q6J("matHeaderRowDef",r.displayedColumns),c.xp6(1),c.Q6J("matRowDefColumns",r.displayedColumns))},dependencies:[Ut,Pa,mr,bs,Sf,b0,xE,w0,Bu,C0,Df,x0,dv,uv,lq,qU,$q,Mg,Ez,GO,pr,Mm],styles:[".validday[_ngcontent-%COMP%]{background-color:#f0f8ff;transition-duration:.2s}.validday[_ngcontent-%COMP%]:hover{background-color:#3f51b5;color:#fff;cursor:pointer;border-radius:25px}.mat-elevation-z8[_ngcontent-%COMP%]{overflow-x:auto}.mat-column-sun1[_ngcontent-%COMP%], .mat-column-sat1[_ngcontent-%COMP%], .mat-column-sun2[_ngcontent-%COMP%], .mat-column-sat2[_ngcontent-%COMP%], .mat-column-sun3[_ngcontent-%COMP%], .mat-column-sat3[_ngcontent-%COMP%], .mat-column-sun4[_ngcontent-%COMP%], .mat-column-sat4[_ngcontent-%COMP%], .mat-column-sun5[_ngcontent-%COMP%], .mat-column-sat5[_ngcontent-%COMP%], .mat-column-sun6[_ngcontent-%COMP%]{background-color:#edeaea;color:gray}.filler[_ngcontent-%COMP%]{background-color:#fafafa}td[_ngcontent-%COMP%]{text-align:center}tr[_ngcontent-%COMP%]{height:47px!important}.mat-mdc-chip-listbox[_ngcontent-%COMP%]{padding:0 2em}.mat-mdc-chip-selected[_ngcontent-%COMP%]{font-size:20px;height:50px;border-radius:25px}table[_ngcontent-%COMP%]{padding-left:1rem;padding-right:1rem}.button-margin[_ngcontent-%COMP%]{margin-left:30px}.pastdate[_ngcontent-%COMP%]{color:#d3d3d3}.holiday[_ngcontent-%COMP%]{background-color:#ffa07a!important;color:#fff}.mat-mdc-table[_ngcontent-%COMP%]{height:47px}.example-header-image[_ngcontent-%COMP%]{background-size:cover}.today[_ngcontent-%COMP%]{background:red!important;color:#fff;border-radius:30px}"]})}return n})()}]}];let Q7=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n});static#n=this.\u0275inj=c.cJS({imports:[TT.forRoot(Z7),TT]})}return n})();const X7=["*",[["mat-toolbar-row"]]],J7=["*","mat-toolbar-row"],eY=sv(class{constructor(n){this._elementRef=n}});let tY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),nY=(()=>{class n extends eY{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Hi),c.Y36(J))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&c.Suo(r,tY,5),2&e){let o;c.iGM(o=c.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[c.qOj],ngContentSelectors:J7,decls:2,vars:0,template:function(e,i){1&e&&(c.F$t(X7),c.Hsn(0),c.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),iY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,wn]}),n})();const oY=["mat-icon-button",""],sY=["*"],aY=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],lY=sv(p0(lA(class{constructor(n){this._elementRef=n}})));let cY=(()=>{class n extends lY{constructor(e,i,r,o){super(e),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=(0,c.f3M)(zp),this._isFab=!1;const l=e.nativeElement.classList;for(const u of aY)this._hasHostAttributes(u.selector)&&u.mdcClasses.forEach(p=>{l.add(p)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",i){e?this._focusMonitor.focusVia(this._elementRef.nativeElement,e,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...e){return e.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_isRippleDisabled(){return this.disableRipple||this.disabled}}return n.\u0275fac=function(e){c.$Z()},n.\u0275dir=c.lG2({type:n,viewQuery:function(e,i){if(1&e&&c.Gf(Ef,5),2&e){let r;c.iGM(r=c.CRH())&&(i.ripple=r.first)}},features:[c.qOj]}),n})(),hY=(()=>{class n extends cY{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(Hi),c.Y36(c.R0b),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["button","mat-icon-button",""]],hostVars:7,hostBindings:function(e,i){2&e&&(c.uIk("disabled",i.disabled||null),c.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-unthemed",!i.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[c.qOj],attrs:oY,ngContentSelectors:sY,decls:5,vars:3,consts:[[1,"mat-mdc-button-persistent-ripple","mdc-icon-button__ripple"],[1,"mat-mdc-focus-indicator"],["matRipple","",1,"mat-mdc-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-mdc-button-touch-target"]],template:function(e,i){1&e&&(c.F$t(),c._UZ(0,"span",0),c.Hsn(1),c._UZ(2,"span",1)(3,"span",2)(4,"span",3)),2&e&&(c.xp6(3),c.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",!0)("matRippleTrigger",i._elementRef.nativeElement))},dependencies:[Ef],styles:['.mdc-icon-button{font-size:24px;width:48px;height:48px;padding:12px}.mdc-icon-button .mdc-icon-button__focus-ring{max-height:48px;max-width:48px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__ripple{width:40px;height:40px;margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-icon-button.mdc-icon-button--reduced-size .mdc-icon-button__focus-ring{max-height:40px;max-width:40px}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-icon-button svg,.mdc-icon-button img{width:24px;height:24px}.mdc-icon-button{display:inline-block;position:relative;box-sizing:border-box;border:none;outline:none;background-color:rgba(0,0,0,0);fill:currentColor;color:inherit;text-decoration:none;cursor:pointer;user-select:none;z-index:0;overflow:visible}.mdc-icon-button .mdc-icon-button__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}@media screen and (forced-colors: active){.mdc-icon-button.mdc-ripple-upgraded--background-focused .mdc-icon-button__focus-ring,.mdc-icon-button:not(.mdc-ripple-upgraded):focus .mdc-icon-button__focus-ring{display:block}}.mdc-icon-button:disabled{cursor:default;pointer-events:none}.mdc-icon-button[hidden]{display:none}.mdc-icon-button--display-flex{align-items:center;display:inline-flex;justify-content:center}.mdc-icon-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:100%;width:100%;display:none}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring{border-color:CanvasText}}.mdc-icon-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-icon-button__focus-ring::after{border-color:CanvasText}}.mdc-icon-button__icon{display:inline-block}.mdc-icon-button__icon.mdc-icon-button__icon--on{display:none}.mdc-icon-button--on .mdc-icon-button__icon{display:none}.mdc-icon-button--on .mdc-icon-button__icon.mdc-icon-button__icon--on{display:inline-block}.mdc-icon-button__link{height:100%;left:0;outline:none;position:absolute;top:0;width:100%}.mat-mdc-icon-button{height:var(--mdc-icon-button-state-layer-size, 48px);width:var(--mdc-icon-button-state-layer-size, 48px);color:var(--mdc-icon-button-icon-color, inherit);border-radius:50%;flex-shrink:0;text-align:center;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-icon-button .mdc-button__icon{font-size:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button svg,.mat-mdc-icon-button img{width:var(--mdc-icon-button-icon-size, 24px);height:var(--mdc-icon-button-icon-size, 24px)}.mat-mdc-icon-button:disabled{opacity:var(--mdc-icon-button-disabled-icon-opacity, 0.38)}.mat-mdc-icon-button:disabled{color:var(--mdc-icon-button-disabled-icon-color, #000)}.mat-mdc-icon-button svg{vertical-align:baseline}.mat-mdc-icon-button[disabled]{cursor:default;pointer-events:none;opacity:1}.mat-mdc-icon-button .mat-mdc-button-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple,.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-icon-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-icon-button .mdc-button__label{z-index:1}.mat-mdc-icon-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-icon-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-icon-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-icon-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-icon-button .mat-mdc-button-persistent-ripple{border-radius:50%}.mat-mdc-icon-button.mat-unthemed:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-primary:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-accent:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-icon-button.mat-warn:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Dz=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,lv,wn]}),n})();const GS=["*"],fY=["content"];function mY(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function pY(n,t){1&n&&(c.TgZ(0,"mat-drawer-content"),c.Hsn(1,2),c.qZA())}const gY=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],_Y=["mat-drawer","mat-drawer-content","*"];function vY(n,t){if(1&n){const e=c.EpF();c.TgZ(0,"div",2),c.NdJ("click",function(){c.CHM(e);const r=c.oxw();return c.KtG(r._onBackdropClicked())}),c.qZA()}if(2&n){const e=c.oxw();c.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function yY(n,t){1&n&&(c.TgZ(0,"mat-sidenav-content"),c.Hsn(1,2),c.qZA())}const bY=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],wY=["mat-sidenav","mat-sidenav-content","*"],Tz={transformDrawer:yc("transform",[eo("open, open-instant",Rn({transform:"none",visibility:"visible"})),eo("void",Rn({"box-shadow":"none",visibility:"hidden"})),to("void => open-instant",$o("0ms")),to("void <=> open, open-instant => void",$o("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},CY=new c.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function EY(){return!1}}),$O=new c.OlP("MAT_DRAWER_CONTAINER");let $S=(()=>{class n extends Ou{constructor(e,i,r,o,l){super(r,o,l),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>Az)),c.Y36(c.SBq),c.Y36(Ru),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:Ou,useExisting:n}]),c.qOj],ngContentSelectors:GS,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Mz=(()=>{class n{get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=Qt(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=Qt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(Qt(e))}constructor(e,i,r,o,l,u,p,v){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=r,this._platform=o,this._ngZone=l,this._interactivityChecker=u,this._doc=p,this._container=v,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new Tt.x,this._animationEnd=new Tt.x,this._animationState="void",this.openedChange=new c.vpe(!0),this._openedStream=this.openedChange.pipe(Nn(x=>x),(0,nt.U)(()=>{})),this.openedStart=this._animationStarted.pipe(Nn(x=>x.fromState!==x.toState&&0===x.toState.indexOf("open")),Wl(void 0)),this._closedStream=this.openedChange.pipe(Nn(x=>!x),(0,nt.U)(()=>{})),this.closedStart=this._animationStarted.pipe(Nn(x=>x.fromState!==x.toState&&"void"===x.toState),Wl(void 0)),this._destroyed=new Tt.x,this.onPositionChanged=new c.vpe,this._modeChanged=new Tt.x,this.openedChange.subscribe(x=>{x?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{Cp(this._elementRef.nativeElement,"keydown").pipe(Nn(x=>27===x.keyCode&&!this.disableClose&&!Lu(x)),Jt(this._destroyed)).subscribe(x=>this._ngZone.run(()=>{this.close(),x.stopPropagation(),x.preventDefault()}))}),this._animationEnd.pipe(Lp((x,D)=>x.fromState===D.fromState&&x.toState===D.toState)).subscribe(x=>{const{fromState:D,toState:R}=x;(0===R.indexOf("open")&&"void"===D||"void"===R&&0===D.indexOf("open"))&&this.openedChange.emit(this._opened)})}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,i,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(r)),this._updateFocusTrapState(),new Promise(o=>{this.openedChange.pipe(Bi(1)).subscribe(l=>o(l?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,r=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,i)),r.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(rE),c.Y36(zp),c.Y36(Hi),c.Y36(c.R0b),c.Y36(WM),c.Y36(J,8),c.Y36($O,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&c.Gf(fY,5),2&e){let r;c.iGM(r=c.CRH())&&(i._content=r.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&c.WFA("@transform.start",function(o){return i._animationStarted.next(o)})("@transform.done",function(o){return i._animationEnd.next(o)}),2&e&&(c.uIk("align",null),c.d8E("@transform",i._animationState),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:GS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[Ou],encapsulation:2,data:{animation:[Tz.transformDrawer]},changeDetection:0}),n})(),Az=(()=>{class n{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=Qt(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:Qt(e)}get scrollable(){return this._userContent||this._content}constructor(e,i,r,o,l,u=!1,p){this._dir=e,this._element=i,this._ngZone=r,this._changeDetectorRef=o,this._animationMode=p,this._drawers=new c.n_E,this.backdropClick=new c.vpe,this._destroyed=new Tt.x,this._doCheckSubject=new Tt.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new Tt.x,e&&e.change.pipe(Jt(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),l.change().pipe(Jt(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=u}ngAfterContentInit(){this._allDrawers.changes.pipe(rr(this._allDrawers),Jt(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(rr(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Np(10),Jt(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const r=this._left._getWidth();e+=r,i-=r}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const r=this._right._getWidth();i+=r,e-=r}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Nn(i=>i.fromState!==i.toState),Jt(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Jt(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Jt(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe(Bi(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Jt((0,Zu.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?i.add(r):i.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(ya,8),c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(c.sBO),c.Y36(af),c.Y36(CY),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,$S,5),c.Suo(r,Mz,5)),2&e){let o;c.iGM(o=c.CRH())&&(i._content=o.first),c.iGM(o=c.CRH())&&(i._allDrawers=o)}},viewQuery:function(e,i){if(1&e&&c.Gf($S,5),2&e){let r;c.iGM(r=c.CRH())&&(i._userContent=r.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[c._Bn([{provide:$O,useExisting:n}])],ngContentSelectors:_Y,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(c.F$t(gY),c.YNc(0,mY,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,pY,2,0,"mat-drawer-content",1)),2&e&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[mr,$S],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),WO=(()=>{class n extends $S{constructor(e,i,r,o,l){super(e,i,r,o,l)}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.sBO),c.Y36((0,c.Gpc)(()=>Rz)),c.Y36(c.SBq),c.Y36(Ru),c.Y36(c.R0b))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&c.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[c._Bn([{provide:Ou,useExisting:n}]),c.qOj],ngContentSelectors:GS,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),kz=(()=>{class n extends Mz{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=Qt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=ba(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=ba(e)}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(c.uIk("align",null),c.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),c.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[c.qOj],ngContentSelectors:GS,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(c.F$t(),c.TgZ(0,"div",0,1),c.Hsn(2),c.qZA())},dependencies:[Ou],encapsulation:2,data:{animation:[Tz.transformDrawer]},changeDetection:0}),n})(),Rz=(()=>{class n extends Az{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,WO,5),c.Suo(r,kz,5)),2&e){let o;c.iGM(o=c.CRH())&&(i._content=o.first),c.iGM(o=c.CRH())&&(i._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&c.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[c._Bn([{provide:$O,useExisting:n}]),c.qOj],ngContentSelectors:wY,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(c.F$t(bY),c.YNc(0,vY,1,2,"div",0),c.Hsn(1),c.Hsn(2,1),c.YNc(3,yY,2,0,"mat-sidenav-content",1)),2&e&&(c.Q6J("ngIf",i.hasBackdrop),c.xp6(3),c.Q6J("ngIf",!i._content))},dependencies:[mr,WO],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),IY=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[Qn,wn,vo,vo,wn]}),n})();class qO{}class dm{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),l=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(l):this.headers.set(o,[l])}})}:()=>{this.headers=new Map,Object.entries(t).forEach(([e,i])=>{let r;if(r="string"==typeof i?[i]:"number"==typeof i?[i.toString()]:i.map(o=>o.toString()),r.length>0){const o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof dm?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new dm;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof dm?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let l=this.headers.get(e);if(!l)return;l=l.filter(u=>-1===o.indexOf(u)),0===l.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,l)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class SY{encodeKey(t){return Pz(t)}encodeValue(t){return Pz(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const TY=/%(\d[a-f0-9])/gi,MY={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Pz(n){return encodeURIComponent(n).replace(TY,(t,e)=>MY[e]??t)}function WS(n){return`${n}`}class um{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new SY,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function DY(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[l,u]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],p=e.get(l)||[];p.push(u),e.set(l,p)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(WS):[WS(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new um({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(WS(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(WS(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class AY{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Fz(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Nz(n){return typeof Blob<"u"&&n instanceof Blob}function Lz(n){return typeof FormData<"u"&&n instanceof FormData}class Jw{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function kY(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new dm),this.context||(this.context=new AY),this.params){const l=this.params.toString();if(0===l.length)this.urlWithParams=e;else{const u=e.indexOf("?");this.urlWithParams=e+(-1===u?"?":u<e.length-1?"&":"")+l}}else this.params=new um,this.urlWithParams=e}serializeBody(){return null===this.body?null:Fz(this.body)||Nz(this.body)||Lz(this.body)||function RY(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof um?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Lz(this.body)?null:Nz(this.body)?this.body.type||null:Fz(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof um?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,l=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,u=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let p=t.headers||this.headers,v=t.params||this.params;const x=t.context??this.context;return void 0!==t.setHeaders&&(p=Object.keys(t.setHeaders).reduce((D,R)=>D.set(R,t.setHeaders[R]),p)),t.setParams&&(v=Object.keys(t.setParams).reduce((D,R)=>D.set(R,t.setParams[R]),v)),new Jw(e,i,o,{params:v,headers:p,context:x,reportProgress:u,responseType:r,withCredentials:l})}}var Eo=(()=>((Eo=Eo||{})[Eo.Sent=0]="Sent",Eo[Eo.UploadProgress=1]="UploadProgress",Eo[Eo.ResponseHeader=2]="ResponseHeader",Eo[Eo.DownloadProgress=3]="DownloadProgress",Eo[Eo.Response=4]="Response",Eo[Eo.User=5]="User",Eo))();class OY{constructor(t,e=200,i="OK"){this.headers=t.headers||new dm,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class YO extends OY{constructor(t={}){super(t),this.type=Eo.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new YO({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}function KO(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let ZO=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Jw)o=e;else{let p,v;p=r.headers instanceof dm?r.headers:new dm(r.headers),r.params&&(v=r.params instanceof um?r.params:new um({fromObject:r.params})),o=new Jw(e,i,void 0!==r.body?r.body:null,{headers:p,context:r.context,params:v,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const l=et(o).pipe(No(p=>this.handler.handle(p)));if(e instanceof Jw||"events"===r.observe)return l;const u=l.pipe(Nn(p=>p instanceof YO));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return u.pipe((0,nt.U)(p=>{if(null!==p.body&&!(p.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return p.body}));case"blob":return u.pipe((0,nt.U)(p=>{if(null!==p.body&&!(p.body instanceof Blob))throw new Error("Response is not a Blob.");return p.body}));case"text":return u.pipe((0,nt.U)(p=>{if(null!==p.body&&"string"!=typeof p.body)throw new Error("Response is not a string.");return p.body}));default:return u.pipe((0,nt.U)(p=>p.body))}case"response":return u;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new um).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,KO(r,i))}post(e,i,r={}){return this.request("POST",e,KO(r,i))}put(e,i,r={}){return this.request("PUT",e,KO(r,i))}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(qO))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const WY=["*"];let YS;function ex(n){return function qY(){if(void 0===YS&&(YS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(YS=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return YS}()?.createHTML(n)||n}function $z(n){return Error(`Unable to find icon with the name "${n}"`)}function Wz(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function qz(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ag{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let KS=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new Ag(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const l=this._sanitizer.sanitize(c.q3G.HTML,r);if(!l)throw qz(r);const u=ex(l);return this._addSvgIconConfig(e,i,new Ag("",u,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new Ag(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(c.q3G.HTML,i);if(!o)throw qz(i);const l=ex(o);return this._addSvgIconSetConfig(e,new Ag("",l,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,e);if(!i)throw Wz(e);const r=this._cachedIconsByUrl.get(i);return r?et(ZS(r)):this._loadSvgIconFromConfig(new Ag(e,null)).pipe((0,ti.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,nt.U)(o=>ZS(o)))}getNamedSvgIcon(e,i=""){const r=Yz(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const l=this._iconSetConfigs.get(i);return l?this._getSvgFromIconSetConfigs(e,l):Za($z(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?et(ZS(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,nt.U)(i=>ZS(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?et(r):function gH(...n){const t=(0,yr.jO)(n),{args:e,keys:i}=Ka(n),r=new Xn.y(o=>{const{length:l}=e;if(!l)return void o.complete();const u=new Array(l);let p=l,v=l;for(let x=0;x<l;x++){let D=!1;(0,Fo.Xf)(e[x]).subscribe((0,Hn.x)(o,R=>{D||(D=!0,v--),u[x]=R},()=>p--,void 0,()=>{(!p||!D)&&(v||o.next(i?Ts(i,u):u),o.complete())}))}});return t?r.pipe(as(t)):r}(i.filter(l=>!l.svgText).map(l=>this._loadSvgIconSetFromConfig(l).pipe(Ms(u=>{const v=`Loading icon set URL: ${this._sanitizer.sanitize(c.q3G.RESOURCE_URL,l.url)} failed: ${u.message}`;return this._errorHandler.handleError(new Error(v)),et(null)})))).pipe((0,nt.U)(()=>{const l=this._extractIconWithNameFromAnySet(e,i);if(!l)throw $z(e);return l}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const l=this._svgElementFromConfig(o),u=this._extractSvgIconFromSet(l,e,o.options);if(u)return u}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ti.b)(i=>e.svgText=i),(0,nt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?et(null):this._fetchIcon(e).pipe((0,ti.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const l=o.cloneNode(!0);if(l.removeAttribute("id"),"svg"===l.nodeName.toLowerCase())return this._setSvgAttributes(l,r);if("symbol"===l.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(l),r);const u=this._svgElementFromString(ex("<svg></svg>"));return u.appendChild(l),this._setSvgAttributes(u,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(ex("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:l,value:u}=r[o];"id"!==l&&i.setAttribute(l,u)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function YY(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const l=this._sanitizer.sanitize(c.q3G.RESOURCE_URL,i);if(!l)throw Wz(i);const u=this._inProgressUrlFetches.get(l);if(u)return u;const p=this._httpClient.get(l,{responseType:"text",withCredentials:o}).pipe((0,nt.U)(v=>ex(v)),ql(()=>this._inProgressUrlFetches.delete(l)),(0,P1.B)());return this._inProgressUrlFetches.set(l,p),p}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(Yz(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return ZY(o)?new Ag(o.url,null,o.options):new Ag(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(ZO,8),c.LFG(td),c.LFG(J,8),c.LFG(c.qLn))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZS(n){return n.cloneNode(!0)}function Yz(n,t){return n+":"+t}function ZY(n){return!(!n.url||!n.options)}const QY=sv(class{constructor(n){this._elementRef=n}}),XY=new c.OlP("MAT_ICON_DEFAULT_OPTIONS"),JY=new c.OlP("mat-icon-location",{providedIn:"root",factory:function eK(){const n=(0,c.f3M)(J),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Kz=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],tK=Kz.map(n=>`[${n}]`).join(", "),nK=/^url\(['"]?#(.*?)['"]?\)$/;let iK=(()=>{class n extends QY{get inline(){return this._inline}set inline(e){this._inline=Qt(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(e,i,r,o,l,u){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=l,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Gr.w0.EMPTY,u&&(u.color&&(this.color=this.defaultColor=u.color),u.fontSet&&(this.fontSet=u.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(l=>{o.setAttribute(l.name,`url('${e}#${l.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(tK),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)Kz.forEach(l=>{const u=i[o],p=u.getAttribute(l),v=p?p.match(nK):null;if(v){let x=r.get(u);x||(x=[],r.set(u,x)),x.push({name:l,value:v[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Bi(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(KS),c.$8M("aria-hidden"),c.Y36(JY),c.Y36(c.qLn),c.Y36(XY,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(e,i){2&e&&(c.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),c.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[c.qOj],ngContentSelectors:WY,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),rK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,wn]}),n})(),oK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[wn,wn]}),n})();const Zz=["*"],Xz=["unscopedContent"],sK=["text"],aK=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],lK=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"],Jz=new c.OlP("ListOption");let ej=(()=>{class n{constructor(e){this._elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"]}),n})(),tj=(()=>{class n{constructor(e){this._elementRef=e}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"]}),n})(),SK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"]}),n})(),nj=(()=>{class n{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||"after"===this._listOption?._getTogglePosition()}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(Jz,8))},n.\u0275dir=c.lG2({type:n,hostVars:4,hostBindings:function(e,i){2&e&&c.ekj("mdc-list-item__start",i._isAlignedAtStart())("mdc-list-item__end",!i._isAlignedAtStart())}}),n})(),DK=(()=>{class n extends nj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],features:[c.qOj]}),n})(),TK=(()=>{class n extends nj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],features:[c.qOj]}),n})();const MK=new c.OlP("MAT_LIST_CONFIG");let Ny=(()=>{class n{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=(0,c.f3M)(MK,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Qt(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=Qt(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=c.lG2({type:n,hostVars:1,hostBindings:function(e,i){2&e&&c.uIk("aria-disabled",i.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"}}),n})(),XO=(()=>{class n{set lines(e){this._explicitLines=ba(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=Qt(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=Qt(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,i,r,o,l,u){this._elementRef=e,this._ngZone=i,this._listBase=r,this._platform=o,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Gr.w0,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=l||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement="button"===this._hostElement.nodeName.toLowerCase(),this._noopAnimations="NoopAnimations"===u,r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),null!==this._rippleRenderer&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!(!this._avatars.length&&!this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new xf(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add((0,Zu.T)(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();const i=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",i<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",2===i),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",3===i),this._hasUnscopedTextContent){const o=0===this._titles.length&&1===i;r.classList.toggle("mdc-list-item__primary-text",o),r.classList.toggle("mdc-list-item__secondary-text",!o)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!(!e.textContent||!e.textContent.trim()))}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Ny,8),c.Y36(Hi),c.Y36(Cf,8),c.Y36(c.QbO,8))},n.\u0275dir=c.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,DK,4),c.Suo(r,TK,4)),2&e){let o;c.iGM(o=c.CRH())&&(i._avatars=o),c.iGM(o=c.CRH())&&(i._icons=o)}},hostVars:4,hostBindings:function(e,i){2&e&&(c.uIk("aria-disabled",i.disabled)("disabled",i._isButtonElement&&i.disabled||null),c.ekj("mdc-list-item--disabled",i.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"}}),n})(),AK=(()=>{class n extends XO{get activated(){return this._activated}set activated(e){this._activated=Qt(e)}constructor(e,i,r,o,l,u){super(e,i,r,o,l,u),this._activated=!1}_getAriaCurrent(){return"A"===this._hostElement.nodeName&&this._activated?"page":null}}return n.\u0275fac=function(e){return new(e||n)(c.Y36(c.SBq),c.Y36(c.R0b),c.Y36(Ny,8),c.Y36(Hi),c.Y36(Cf,8),c.Y36(c.QbO,8))},n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(c.Suo(r,tj,5),c.Suo(r,ej,5),c.Suo(r,SK,5)),2&e){let o;c.iGM(o=c.CRH())&&(i._lines=o),c.iGM(o=c.CRH())&&(i._titles=o),c.iGM(o=c.CRH())&&(i._meta=o)}},viewQuery:function(e,i){if(1&e&&(c.Gf(Xz,5),c.Gf(sK,5)),2&e){let r;c.iGM(r=c.CRH())&&(i._unscopedContent=r.first),c.iGM(r=c.CRH())&&(i._itemText=r.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:11,hostBindings:function(e,i){2&e&&(c.uIk("aria-current",i._getAriaCurrent()),c.ekj("mdc-list-item--activated",i.activated)("mdc-list-item--with-leading-avatar",0!==i._avatars.length)("mdc-list-item--with-leading-icon",0!==i._icons.length)("mdc-list-item--with-trailing-meta",0!==i._meta.length)("_mat-animation-noopable",i._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],features:[c.qOj],ngContentSelectors:lK,decls:10,vars:0,consts:[[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],["unscopedContent",""],[1,"mat-mdc-focus-indicator"]],template:function(e,i){1&e&&(c.F$t(aK),c.Hsn(0),c.TgZ(1,"span",0),c.Hsn(2,1),c.Hsn(3,2),c.TgZ(4,"span",1,2),c.NdJ("cdkObserveContent",function(){return i._updateItemLines(!0)}),c.Hsn(6,3),c.qZA()(),c.Hsn(7,4),c.Hsn(8,5),c._UZ(9,"div",3))},dependencies:[KC],encapsulation:2,changeDetection:0}),n})(),RK=(()=>{class n extends Ny{constructor(){super(...arguments),this._isNonInteractive=!1}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=c.n5z(n)))(i||n)}}(),n.\u0275cmp=c.Xpm({type:n,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],features:[c._Bn([{provide:Ny,useExisting:n}]),c.qOj],ngContentSelectors:Zz,decls:1,vars:0,template:function(e,i){1&e&&(c.F$t(),c.Hsn(0))},styles:['@media screen and (forced-colors: active),(-ms-high-contrast: active){.mdc-list-divider::after{content:"";display:block;border-bottom-width:1px;border-bottom-style:solid}}.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item__wrapper{display:block}.mdc-list-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer}.mdc-list-item:focus{outline:none}.mdc-list-item.mdc-list-item--with-one-line{height:48px}.mdc-list-item.mdc-list-item--with-two-lines{height:64px}.mdc-list-item.mdc-list-item--with-three-lines{height:88px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--disabled,.mdc-list-item.mdc-list-item--non-interactive{cursor:auto}.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item:not(.mdc-list-item--selected):focus::before,.mdc-list-item.mdc-ripple-upgraded--background-focused::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px double rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected::before{border-color:CanvasText}}.mdc-list-item.mdc-list-item--selected:focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:3px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-list-item.mdc-list-item--selected:focus::before{border-color:CanvasText}}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__content[for]{pointer-events:none}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;line-height:normal}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item__overline-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:24px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start,.mdc-list-item--with-leading-avatar .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-avatar.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-avatar .mdc-list-item__start{border-radius:50%}.mdc-list-item--with-leading-icon.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start,.mdc-list-item--with-leading-icon .mdc-list-item__start[dir=rtl]{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-icon.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-thumbnail.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-thumbnail.mdc-list-item,.mdc-list-item--with-leading-thumbnail.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-thumbnail .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-thumbnail .mdc-list-item__start,.mdc-list-item--with-leading-thumbnail .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-thumbnail.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-image.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-image.mdc-list-item,.mdc-list-item--with-leading-image.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-image .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-image .mdc-list-item__start,.mdc-list-item--with-leading-image .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-image.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-image.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-video.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-video.mdc-list-item,.mdc-list-item--with-leading-video.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-video .mdc-list-item__start{margin-left:0;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-video .mdc-list-item__start,.mdc-list-item--with-leading-video .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-video.mdc-list-item--with-one-line{height:72px}.mdc-list-item--with-leading-video.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-checkbox.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-radio.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-radio.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-radio .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-radio .mdc-list-item__start[dir=rtl]{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-leading-switch.mdc-list-item{padding-left:0;padding-right:auto}[dir=rtl] .mdc-list-item--with-leading-switch.mdc-list-item,.mdc-list-item--with-leading-switch.mdc-list-item[dir=rtl]{padding-left:auto;padding-right:0}.mdc-list-item--with-leading-switch .mdc-list-item__start{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-leading-switch .mdc-list-item__start,.mdc-list-item--with-leading-switch .mdc-list-item__start[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines .mdc-list-item__overline-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-switch.mdc-list-item--with-one-line{height:56px}.mdc-list-item--with-leading-switch.mdc-list-item--with-two-lines{height:72px}.mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item,.mdc-list-item--with-trailing-icon.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-icon .mdc-list-item__end,.mdc-list-item--with-trailing-icon .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item,.mdc-list-item--with-trailing-meta.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-trailing-meta .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-caption-font-family);font-size:var(--mdc-typography-caption-font-size);line-height:var(--mdc-typography-caption-line-height);font-weight:var(--mdc-typography-caption-font-weight);letter-spacing:var(--mdc-typography-caption-letter-spacing);text-decoration:var(--mdc-typography-caption-text-decoration);text-transform:var(--mdc-typography-caption-text-transform)}.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-radio.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-radio .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-radio .mdc-list-item__end[dir=rtl]{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-switch.mdc-list-item{padding-left:auto;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-switch.mdc-list-item,.mdc-list-item--with-trailing-switch.mdc-list-item[dir=rtl]{padding-left:0;padding-right:auto}.mdc-list-item--with-trailing-switch .mdc-list-item__end{margin-left:16px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-switch .mdc-list-item__end,.mdc-list-item--with-trailing-switch .mdc-list-item__end[dir=rtl]{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-switch.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-overline.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item{padding-left:16px;padding-right:16px}[dir=rtl] .mdc-list-item,.mdc-list-item[dir=rtl]{padding-left:16px;padding-right:16px}.mdc-list-group .mdc-deprecated-list{padding:0}.mdc-list-group__subheader{margin:calc((3rem - 1.5rem)/2) 16px}.mdc-list-divider{padding:0;background-clip:content-box}.mdc-list-divider.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset{padding-left:16px;padding-right:auto}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset,.mdc-list-divider.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-leading-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:16px}.mdc-list-divider.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset{padding-left:auto;padding-right:16px}[dir=rtl] .mdc-list-divider.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset,[dir=rtl] .mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset,.mdc-list-divider.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-text.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-icon.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-image.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-thumbnail.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-avatar.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-checkbox.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-switch.mdc-list-divider--with-trailing-inset[dir=rtl],.mdc-list-divider--with-leading-radio.mdc-list-divider--with-trailing-inset[dir=rtl]{padding-left:16px;padding-right:auto}.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset{padding-left:0px;padding-right:auto}[dir=rtl] .mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset,.mdc-list-divider--with-leading-video.mdc-list-divider--with-leading-inset[dir=rtl]{padding-left:auto;padding-right:0px}[dir=rtl] .mdc-list-divider,.mdc-list-divider[dir=rtl]{padding:0}.mdc-list-item{background-color:var(--mdc-list-list-item-container-color)}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item--with-one-line{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-avatar,.mdc-list-item--with-one-line.mdc-list-item--with-leading-icon,.mdc-list-item--with-one-line.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-one-line.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-one-line.mdc-list-item--with-leading-radio,.mdc-list-item--with-one-line.mdc-list-item--with-leading-switch{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-one-line.mdc-list-item--with-leading-image,.mdc-list-item--with-one-line.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-two-lines.mdc-list-item--with-leading-avatar,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-icon,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-thumbnail,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-checkbox,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-radio,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-switch,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-image,.mdc-list-item--with-two-lines.mdc-list-item--with-leading-video{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item--with-three-lines{border-radius:var(--mdc-list-list-item-container-shape)}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item__primary-text{color:var(--mdc-list-list-item-label-text-color)}.mdc-list-item__primary-text{font-family:var(--mdc-list-list-item-label-text-font);line-height:var(--mdc-list-list-item-label-text-line-height);font-size:var(--mdc-list-list-item-label-text-size);font-weight:var(--mdc-list-list-item-label-text-weight);letter-spacing:var(--mdc-list-list-item-label-text-tracking)}.mdc-list-item__secondary-text{color:var(--mdc-list-list-item-supporting-text-color)}.mdc-list-item__secondary-text{font-family:var(--mdc-list-list-item-supporting-text-font);line-height:var(--mdc-list-list-item-supporting-text-line-height);font-size:var(--mdc-list-list-item-supporting-text-size);font-weight:var(--mdc-list-list-item-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-supporting-text-tracking)}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color)}.mdc-list-item--with-leading-icon .mdc-list-item__start{width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start>i{font-size:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-icon .mdc-list-item__start .mdc-list-item__icon{font-size:var(--mdc-list-list-item-leading-icon-size);width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color)}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font);line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height);font-size:var(--mdc-list-list-item-trailing-supporting-text-size);font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight);letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color)}.mdc-list-item--with-trailing-icon .mdc-list-item__end{width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end>i{font-size:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon .mdc-list-item__end .mdc-list-item__icon{font-size:var(--mdc-list-list-item-trailing-icon-size);width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color)}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text,.mdc-list-item--disabled .mdc-list-item__overline-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color)}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color)}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color)}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color);opacity:var(--mdc-list-list-item-hover-state-layer-opacity)}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color);opacity:var(--mdc-list-list-item-disabled-state-layer-opacity)}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color);opacity:var(--mdc-list-list-item-focus-state-layer-opacity)}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape);background-color:var(--mdc-list-list-item-leading-avatar-color)}.mat-mdc-list-base{--mdc-list-list-item-container-shape:0;--mdc-list-list-item-leading-avatar-shape:50%;--mdc-list-list-item-container-color:transparent;--mdc-list-list-item-selected-container-color:transparent;--mdc-list-list-item-leading-avatar-color:transparent;--mdc-list-list-item-leading-icon-size:24px;--mdc-list-list-item-leading-avatar-size:40px;--mdc-list-list-item-trailing-icon-size:24px;--mdc-list-list-item-disabled-state-layer-color:transparent;--mdc-list-list-item-disabled-state-layer-opacity:0;--mdc-list-list-item-disabled-label-text-opacity:0.38;--mdc-list-list-item-disabled-leading-icon-opacity:0.38;--mdc-list-list-item-disabled-trailing-icon-opacity:0.38}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] mat-action-list button{text-align:right}mat-action-list button::-moz-focus-inner{border:0}'],encapsulation:2,changeDetection:0}),n})(),NK=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[s0,Qn,wn,lv,If,oK]}),n})(),LK=(()=>{class n{constructor(e){this.breakpointObserver=e,this.isHandset$=this.breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)").pipe((0,nt.U)(i=>i.matches),F1())}static#e=this.\u0275fac=function(i){return new(i||n)(c.Y36(a0))};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["app-app-navigation"]],decls:16,vars:0,consts:[[1,"sidenav-container"],["fixedInViewport","",1,"sidenav"],["drawer",""],["color","primary"],["mat-list-item","","routerLink","/",3,"click"],["type","button","aria-label","Toggle sidenav","mat-icon-button","",3,"click"],["aria-label","Side nav toggle icon"]],template:function(i,r){if(1&i){const o=c.EpF();c.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar",3),c._uU(4,"Menu"),c.qZA(),c.TgZ(5,"mat-nav-list")(6,"a",4),c.NdJ("click",function(){c.CHM(o);const u=c.MAs(2);return c.KtG(u.toggle())}),c._uU(7,"Table"),c.qZA()()(),c.TgZ(8,"mat-sidenav-content")(9,"mat-toolbar",3)(10,"button",5),c.NdJ("click",function(){c.CHM(o);const u=c.MAs(2);return c.KtG(u.toggle())}),c.TgZ(11,"mat-icon",6),c._uU(12,"menu"),c.qZA()(),c.TgZ(13,"span"),c._uU(14," Team Vacation Planner "),c.qZA()(),c._UZ(15,"router-outlet"),c.qZA()()}},dependencies:[ee,E_,nY,hY,kz,Rz,WO,iK,RK,AK],styles:[".sidenav-container[_ngcontent-%COMP%]{height:100%}.sidenav[_ngcontent-%COMP%]{width:200px}.mat-toolbar.mat-primary[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1}body[_ngcontent-%COMP%]{margin:0}"]})}return n})(),BK=(()=>{class n{constructor(){this.title="TeamVacationPlanner"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(i,r){1&i&&c._UZ(0,"app-app-navigation")},dependencies:[LK]})}return n})();function rj(n){return new c.vHH(3e3,!1)}function yZ(){return typeof window<"u"&&typeof window.document<"u"}function JO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function hm(n){switch(n.length){case 0:return new qw;case 1:return n[0];default:return new uH(n)}}function oj(n,t,e,i,r=new Map,o=new Map){const l=[],u=[];let p=-1,v=null;if(i.forEach(x=>{const D=x.get("offset"),R=D==p,F=R&&v||new Map;x.forEach((H,Y)=>{let te=Y,Ve=H;if("offset"!==Y)switch(te=t.normalizePropertyName(te,l),Ve){case vO:Ve=r.get(Y);break;case Qu:Ve=o.get(Y);break;default:Ve=t.normalizeStyleValue(Y,te,Ve,l)}F.set(te,Ve)}),R||u.push(F),v=F,p=D}),l.length)throw function aZ(n){return new c.vHH(3502,!1)}();return u}function eP(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&tP(e,"start",n)));break;case"done":n.onDone(()=>i(e&&tP(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&tP(e,"destroy",n)))}}function tP(n,t,e){const o=nP(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),l=n._data;return null!=l&&(o._data=l),o}function nP(n,t,e,i,r="",o=0,l){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!l}}function Ta(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function sj(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let iP=(n,t)=>!1,aj=(n,t,e)=>[],lj=null;function rP(n){const t=n.parentNode||n.host;return t===lj?null:t}(JO()||typeof Element<"u")&&(yZ()?(lj=(()=>document.documentElement)(),iP=(n,t)=>{for(;t;){if(t===n)return!0;t=rP(t)}return!1}):iP=(n,t)=>n.contains(t),aj=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let kg=null,cj=!1;const dj=iP,uj=aj;let hj=(()=>{class n{validateStyleProperty(e){return function wZ(n){kg||(kg=function xZ(){return typeof document<"u"?document.body:null}()||{},cj=!!kg.style&&"WebkitAppearance"in kg.style);let t=!0;return kg.style&&!function bZ(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in kg.style,!t&&cj&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in kg.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return dj(e,i)}getParentElement(e){return rP(e)}query(e,i,r){return uj(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,l,u=[],p){return new qw(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),oP=(()=>{class n{}return n.NOOP=new hj,n})();const CZ=1e3,sP="ng-enter",QS="ng-leave",XS="ng-trigger",JS=".ng-trigger",mj="ng-animating",aP=".ng-animating";function Ju(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:lP(parseFloat(t[1]),t[2])}function lP(n,t){return"s"===t?n*CZ:n}function eD(n,t,e){return n.hasOwnProperty("duration")?n:function IZ(n,t,e){let r,o=0,l="";if("string"==typeof n){const u=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===u)return t.push(rj()),{duration:0,delay:0,easing:""};r=lP(parseFloat(u[1]),u[2]);const p=u[3];null!=p&&(o=lP(parseFloat(p),u[4]));const v=u[5];v&&(l=v)}else r=n;if(!e){let u=!1,p=t.length;r<0&&(t.push(function VK(){return new c.vHH(3100,!1)}()),u=!0),o<0&&(t.push(function UK(){return new c.vHH(3101,!1)}()),u=!0),u&&t.splice(p,0,rj())}return{duration:r,delay:o,easing:l}}(n,t,e)}function tx(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function pj(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function fm(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function _j(n,t,e){return e?t+":"+e+";":""}function vj(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=_j(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=_j(0,MZ(e),n.style[e]));n.setAttribute("style",t)}function Od(n,t,e){n.style&&(t.forEach((i,r)=>{const o=dP(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),JO()&&vj(n))}function Rg(n,t){n.style&&(t.forEach((e,i)=>{const r=dP(i);n.style[r]=""}),JO()&&vj(n))}function nx(n){return Array.isArray(n)?1==n.length?n[0]:aH(n):n}const cP=new RegExp("{{\\s*(.+?)\\s*}}","g");function yj(n){let t=[];if("string"==typeof n){let e;for(;e=cP.exec(n);)t.push(e[1]);cP.lastIndex=0}return t}function ix(n,t,e){const i=n.toString(),r=i.replace(cP,(o,l)=>{let u=t[l];return null==u&&(e.push(function zK(n){return new c.vHH(3003,!1)}()),u=""),u.toString()});return r==i?n:r}function tD(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const TZ=/-+([a-z0-9])/g;function dP(n){return n.replace(TZ,(...t)=>t[1].toUpperCase())}function MZ(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ma(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function jK(n){return new c.vHH(3004,!1)}()}}function bj(n,t){return window.getComputedStyle(n)[t]}const rD="*";function FZ(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function NZ(n,t,e){if(":"==n[0]){const p=function LZ(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function iZ(n){return new c.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof p)return void t.push(p);n=p}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function nZ(n){return new c.vHH(3015,!1)}()),t;const r=i[1],o=i[2],l=i[3];t.push(wj(r,l));"<"==o[0]&&!(r==rD&&l==rD)&&t.push(wj(l,r))}(i,e,t)):e.push(n),e}const oD=new Set(["true","1"]),sD=new Set(["false","0"]);function wj(n,t){const e=oD.has(n)||sD.has(n),i=oD.has(t)||sD.has(t);return(r,o)=>{let l=n==rD||n==r,u=t==rD||t==o;return!l&&e&&"boolean"==typeof r&&(l=r?oD.has(n):sD.has(n)),!u&&i&&"boolean"==typeof o&&(u=o?oD.has(t):sD.has(t)),l&&u}}const BZ=new RegExp("s*:selfs*,?","g");function uP(n,t,e,i){return new VZ(n).build(t,e,i)}class VZ{constructor(t){this._driver=t}build(t,e,i){const r=new zZ(e);return this._resetContextStyleTimingState(r),Ma(this,nx(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],l=[];return"@"==t.name.charAt(0)&&e.errors.push(function $K(){return new c.vHH(3006,!1)}()),t.definitions.forEach(u=>{if(this._resetContextStyleTimingState(e),0==u.type){const p=u,v=p.name;v.toString().split(/\s*,\s*/).forEach(x=>{p.name=x,o.push(this.visitState(p,e))}),p.name=v}else if(1==u.type){const p=this.visitTransition(u,e);i+=p.queryCount,r+=p.depCount,l.push(p)}else e.errors.push(function WK(){return new c.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:l,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,l=r||{};i.styles.forEach(u=>{u instanceof Map&&u.forEach(p=>{yj(p).forEach(v=>{l.hasOwnProperty(v)||o.add(v)})})}),o.size&&(tD(o.values()),e.errors.push(function qK(n,t){return new c.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Ma(this,nx(t.animation),e);return{type:1,matchers:FZ(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Og(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Ma(this,i,e)),options:Og(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(l=>{e.currentTime=i;const u=Ma(this,l,e);return r=Math.max(r,e.currentTime),u});return e.currentTime=r,{type:3,steps:o,options:Og(t.options)}}visitAnimate(t,e){const i=function GZ(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return hP(eD(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=hP(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=eD(e,t);return hP(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Rn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let l=t.styles,u=!1;if(!l){u=!0;const v={};i.easing&&(v.easing=i.easing),l=Rn(v)}e.currentTime+=i.duration+i.delay;const p=this.visitStyle(l,e);p.isEmptyStep=u,r=p}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let u of r)"string"==typeof u?u===Qu?i.push(u):e.errors.push(new c.vHH(3002,!1)):i.push(pj(u));let o=!1,l=null;return i.forEach(u=>{if(u instanceof Map&&(u.has("easing")&&(l=u.get("easing"),u.delete("easing")),!o))for(let p of u.values())if(p.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:l,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(l=>{"string"!=typeof l&&l.forEach((u,p)=>{const v=e.collectedStyles.get(e.currentQuerySelector),x=v.get(p);let D=!0;x&&(o!=r&&o>=x.startTime&&r<=x.endTime&&(e.errors.push(function KK(n,t,e,i,r){return new c.vHH(3010,!1)}()),D=!1),o=x.startTime),D&&v.set(p,{startTime:o,endTime:r}),e.options&&function DZ(n,t,e){const i=t.params||{},r=yj(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function HK(n){return new c.vHH(3001,!1)}())})}(u,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function ZK(){return new c.vHH(3011,!1)}()),i;let o=0;const l=[];let u=!1,p=!1,v=0;const x=t.steps.map(Ve=>{const Ke=this._makeStyleAst(Ve,e);let Xe=null!=Ke.offset?Ke.offset:function jZ(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ke.styles),dt=0;return null!=Xe&&(o++,dt=Ke.offset=Xe),p=p||dt<0||dt>1,u=u||dt<v,v=dt,l.push(dt),Ke});p&&e.errors.push(function QK(){return new c.vHH(3012,!1)}()),u&&e.errors.push(function XK(){return new c.vHH(3200,!1)}());const D=t.steps.length;let R=0;o>0&&o<D?e.errors.push(function JK(){return new c.vHH(3202,!1)}()):0==o&&(R=1/(D-1));const F=D-1,H=e.currentTime,Y=e.currentAnimateTimings,te=Y.duration;return x.forEach((Ve,Ke)=>{const Xe=R>0?Ke==F?1:R*Ke:l[Ke],dt=Xe*te;e.currentTime=H+Y.delay+dt,Y.duration=dt,this._validateStyleAst(Ve,e),Ve.offset=Xe,i.styles.push(Ve)}),i}visitReference(t,e){return{type:8,animation:Ma(this,nx(t.animation),e),options:Og(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Og(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Og(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,l]=function UZ(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(BZ,"")),n=n.replace(/@\*/g,JS).replace(/@\w+/g,e=>JS+"-"+e.slice(1)).replace(/:animating/g,aP),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Ta(e.collectedStyles,e.currentQuerySelector,new Map);const u=Ma(this,nx(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:l,animation:u,originalSelector:t.selector,options:Og(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function eZ(){return new c.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:eD(t.timings,e.errors,!0);return{type:12,animation:Ma(this,nx(t.animation),e),timings:i,options:null}}}class zZ{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Og(n){return n?(n=tx(n)).params&&(n.params=function HZ(n){return n?tx(n):null}(n.params)):n={},n}function hP(n,t,e){return{duration:n,delay:t,easing:e}}function fP(n,t,e,i,r,o,l=null,u=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:l,subTimeline:u}}class aD{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const qZ=new RegExp(":enter","g"),KZ=new RegExp(":leave","g");function mP(n,t,e,i,r,o=new Map,l=new Map,u,p,v=[]){return(new ZZ).buildKeyframes(n,t,e,i,r,o,l,u,p,v)}class ZZ{buildKeyframes(t,e,i,r,o,l,u,p,v,x=[]){v=v||new aD;const D=new pP(t,e,v,r,o,x,[]);D.options=p;const R=p.delay?Ju(p.delay):0;D.currentTimeline.delayNextStep(R),D.currentTimeline.setStyles([l],null,D.errors,p),Ma(this,i,D);const F=D.timelines.filter(H=>H.containsAnimation());if(F.length&&u.size){let H;for(let Y=F.length-1;Y>=0;Y--){const te=F[Y];if(te.element===e){H=te;break}}H&&!H.allowOnlyTimelineStyles()&&H.setStyles([u],null,D.errors,p)}return F.length?F.map(H=>H.buildKeyframes()):[fP(e,[],[],[],0,R,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,l=this._visitSubInstructions(i,r,r.options);o!=l&&e.transformIntoNewTimeline(l)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const r of t){const o=r?.delay;if(o){const l="number"==typeof o?o:Ju(ix(o,r?.params??{},e.errors));i.delayNextStep(l)}}}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const l=null!=i.duration?Ju(i.duration):null,u=null!=i.delay?Ju(i.delay):null;return 0!==l&&t.forEach(p=>{const v=e.appendInstructionToTimeline(p,l,u);o=Math.max(o,v.duration+v.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Ma(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=lD);const l=Ju(o.delay);r.delayNextStep(l)}t.steps.length&&(t.steps.forEach(l=>Ma(this,l,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Ju(t.options.delay):0;t.steps.forEach(l=>{const u=e.createSubContext(t.options);o&&u.delayNextStep(o),Ma(this,l,u),r=Math.max(r,u.currentTimeline.currentTime),i.push(u.currentTimeline)}),i.forEach(l=>e.currentTimeline.mergeTimelineCollectedStyles(l)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return eD(e.params?ix(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,u=e.createSubContext().currentTimeline;u.easing=i.easing,t.styles.forEach(p=>{u.forwardTime((p.offset||0)*o),u.setStyles(p.styles,p.easing,e.errors,e.options),u.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(u),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Ju(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=lD);let l=i;const u=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=u.length;let p=null;u.forEach((v,x)=>{e.currentQueryIndex=x;const D=e.createSubContext(t.options,v);o&&D.delayNextStep(o),v===e.element&&(p=D.currentTimeline),Ma(this,t.animation,D),D.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,D.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(l),p&&(e.currentTimeline.mergeTimelineCollectedStyles(p),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,l=Math.abs(o.duration),u=l*(e.currentQueryTotal-1);let p=l*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":p=u-p;break;case"full":p=i.currentStaggerTime}const x=e.currentTimeline;p&&x.delayNextStep(p);const D=x.currentTime;Ma(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-D+(r.startTime-i.currentTimeline.startTime)}}const lD={};class pP{constructor(t,e,i,r,o,l,u,p){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=l,this.timelines=u,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=lD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=p||new cD(this._driver,e,0),u.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Ju(i.duration)),null!=i.delay&&(r.delay=Ju(i.delay));const o=i.params;if(o){let l=r.params;l||(l=this.options.params={}),Object.keys(o).forEach(u=>{(!e||!l.hasOwnProperty(u))&&(l[u]=ix(o[u],l,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new pP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=lD,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new QZ(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,l){let u=[];if(r&&u.push(this.element),t.length>0){t=(t=t.replace(qZ,"."+this._enterClassName)).replace(KZ,"."+this._leaveClassName);let v=this._driver.query(this.element,t,1!=i);0!==i&&(v=i<0?v.slice(v.length+i,v.length):v.slice(0,i)),u.push(...v)}return!o&&0==u.length&&l.push(function tZ(n){return new c.vHH(3014,!1)}()),u}}class cD{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new cD(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Qu),this._currentKeyframe.set(e,Qu);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},l=function XZ(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Qu)}else fm(r,e)}),e}(t,this._globalTimelineStyles);for(let[u,p]of l){const v=ix(p,o,i);this._pendingStyles.set(u,v),this._localTimelineStyles.has(u)||this._backFill.set(u,this._globalTimelineStyles.get(u)??Qu),this._updateStyle(u,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((u,p)=>{const v=fm(u,new Map,this._backFill);v.forEach((x,D)=>{x===vO?t.add(D):x===Qu&&e.add(D)}),i||v.set("offset",p/this.duration),r.push(v)});const o=t.size?tD(t.values()):[],l=e.size?tD(e.values()):[];if(i){const u=r[0],p=new Map(u);u.set("offset",0),p.set("offset",1),r=[u,p]}return fP(this.element,r,o,l,this.duration,this.startTime,this.easing,!1)}}class QZ extends cD{constructor(t,e,i,r,o,l,u=!1){super(t,e,l.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=u,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],l=i+e,u=e/l,p=fm(t[0]);p.set("offset",0),o.push(p);const v=fm(t[0]);v.set("offset",Ej(u)),o.push(v);const x=t.length-1;for(let D=1;D<=x;D++){let R=fm(t[D]);const F=R.get("offset");R.set("offset",Ej((e+F*i)/l)),o.push(R)}i=l,e=0,r="",t=o}return fP(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function Ej(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class gP{}const JZ=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class eQ extends gP{normalizePropertyName(t,e){return dP(t)}normalizeStyleValue(t,e,i,r){let o="";const l=i.toString().trim();if(JZ.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const u=i.match(/^[+-]?[\d\.]+([a-z]*)$/);u&&0==u[1].length&&r.push(function GK(n,t){return new c.vHH(3005,!1)}())}return l+o}}function Ij(n,t,e,i,r,o,l,u,p,v,x,D,R){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:l,timelines:u,queriedElements:p,preStyleProps:v,postStyleProps:x,totalTime:D,errors:R}}const _P={};class Sj{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function tQ(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,l,u,p,v,x){const D=[],R=this.ast.options&&this.ast.options.params||_P,H=this.buildStyles(i,u&&u.params||_P,D),Y=p&&p.params||_P,te=this.buildStyles(r,Y,D),Ve=new Set,Ke=new Map,Xe=new Map,dt="void"===r,zt={params:nQ(Y,R),delay:this.ast.options?.delay},Kt=x?[]:mP(t,e,this.ast.animation,o,l,H,te,zt,v,D);let An=0;if(Kt.forEach(gl=>{An=Math.max(gl.duration+gl.delay,An)}),D.length)return Ij(e,this._triggerName,i,r,dt,H,te,[],[],Ke,Xe,An,D);Kt.forEach(gl=>{const nh=gl.element,l6=Ta(Ke,nh,new Set);gl.preStyleProps.forEach($g=>l6.add($g));const Px=Ta(Xe,nh,new Set);gl.postStyleProps.forEach($g=>Px.add($g)),nh!==e&&Ve.add(nh)});const So=tD(Ve.values());return Ij(e,this._triggerName,i,r,dt,H,te,Kt,So,Ke,Xe,An)}}function nQ(n,t){const e=tx(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class iQ{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=tx(this.defaultParams);return Object.keys(t).forEach(o=>{const l=t[o];null!==l&&(r[o]=l)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((l,u)=>{l&&(l=ix(l,r,e));const p=this.normalizer.normalizePropertyName(u,e);l=this.normalizer.normalizeStyleValue(u,p,l,e),i.set(u,l)})}),i}}class oQ{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new iQ(r.style,r.options&&r.options.params||{},i))}),Dj(this.states,"true","1"),Dj(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new Sj(t,r,this.states))}),this.fallbackTransition=function sQ(n,t,e){return new Sj(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,u)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(l=>l.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function Dj(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const aQ=new aD;class lQ{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],r=[],o=uP(this._driver,e,i,r);if(i.length)throw function lZ(n){return new c.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=oj(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let l;const u=new Map;if(o?(l=mP(this._driver,e,o,sP,QS,new Map,new Map,i,aQ,r),l.forEach(x=>{const D=Ta(u,x.element,new Map);x.postStyleProps.forEach(R=>D.set(R,null))})):(r.push(function cZ(){return new c.vHH(3300,!1)}()),l=[]),r.length)throw function dZ(n){return new c.vHH(3504,!1)}();u.forEach((x,D)=>{x.forEach((R,F)=>{x.set(F,this._driver.computeStyle(D,F,Qu))})});const v=hm(l.map(x=>{const D=u.get(x.element);return this._buildPlayer(x,new Map,D)}));return this._playersById.set(t,v),v.onDestroy(()=>this.destroy(t)),this.players.push(v),v}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function uZ(n){return new c.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=nP(e,"","","");return eP(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const Tj="ng-animate-queued",vP="ng-animate-disabled",fQ=[],Mj={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},mQ={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},dl="__ng_removed";class yP{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function vQ(n){return n??null}(i?t.value:t),i){const o=tx(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const rx="void",bP=new yP(rx);class pQ{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ul(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function hZ(n,t){return new c.vHH(3302,!1)}();if(null==i||0==i.length)throw function fZ(n){return new c.vHH(3303,!1)}();if(!function yQ(n){return"start"==n||"done"==n}(i))throw function mZ(n,t){return new c.vHH(3400,!1)}();const o=Ta(this._elementListeners,t,[]),l={name:e,phase:i,callback:r};o.push(l);const u=Ta(this._engine.statesByElement,t,new Map);return u.has(e)||(ul(t,XS),ul(t,XS+"-"+e),u.set(e,bP)),()=>{this._engine.afterFlush(()=>{const p=o.indexOf(l);p>=0&&o.splice(p,1),this._triggers.has(e)||u.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function pZ(n){return new c.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),l=new wP(this.id,e,t);let u=this._engine.statesByElement.get(t);u||(ul(t,XS),ul(t,XS+"-"+e),this._engine.statesByElement.set(t,u=new Map));let p=u.get(e);const v=new yP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&p&&v.absorbOptions(p.options),u.set(e,v),p||(p=bP),v.value!==rx&&p.value===v.value){if(!function xQ(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(p.params,v.params)){const Y=[],te=o.matchStyles(p.value,p.params,Y),Ve=o.matchStyles(v.value,v.params,Y);Y.length?this._engine.reportError(Y):this._engine.afterFlush(()=>{Rg(t,te),Od(t,Ve)})}return}const R=Ta(this._engine.playersByElement,t,[]);R.forEach(Y=>{Y.namespaceId==this.id&&Y.triggerName==e&&Y.queued&&Y.destroy()});let F=o.matchTransition(p.value,v.value,t,v.params),H=!1;if(!F){if(!r)return;F=o.fallbackTransition,H=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:F,fromState:p,toState:v,player:l,isFallbackTransition:H}),H||(ul(t,Tj),l.onStart(()=>{Ly(t,Tj)})),l.onDone(()=>{let Y=this.players.indexOf(l);Y>=0&&this.players.splice(Y,1);const te=this._engine.playersByElement.get(t);if(te){let Ve=te.indexOf(l);Ve>=0&&te.splice(Ve,1)}}),this.players.push(l),R.push(l),l}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,JS,!0);i.forEach(r=>{if(r[dl])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(l=>l.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),l=new Map;if(o){const u=[];if(o.forEach((p,v)=>{if(l.set(v,p.value),this._triggers.has(v)){const x=this.trigger(t,v,rx,r);x&&u.push(x)}}),u.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,l),i&&hm(u).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const l=o.name;if(r.has(l))return;r.add(l);const p=this._triggers.get(l).fallbackTransition,v=i.get(l)||bP,x=new yP(rx),D=new wP(this.id,l,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:l,transition:p,fromState:v,toState:x,player:D,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let l=t;for(;l=l.parentNode;)if(i.statesByElement.get(l)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[dl];(!o||o===Mj)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){ul(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,l=this._elementListeners.get(o);l&&l.forEach(u=>{if(u.name==i.triggerName){const p=nP(o,i.triggerName,i.fromState.value,i.toState.value);p._data=t,eP(i.player,u.phase,p,u.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,l=r.transition.ast.depCount;return 0==o||0==l?o-l:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class gQ{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new pQ(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let l=!1,u=this.driver.getParentElement(e);for(;u;){const p=r.get(u);if(p){const v=i.indexOf(p);i.splice(v+1,0,t),l=!0;break}u=this.driver.getParentElement(u)}l||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(dD(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!dD(e))return;const o=e[dl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const l=this.collectedLeaveElements.indexOf(e);l>=0&&this.collectedLeaveElements.splice(l,1)}if(t){const l=this._fetchNamespace(t);l&&l.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ul(t,vP)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Ly(t,vP))}removeNode(t,e,i,r){if(dD(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const l=this.namespacesByHostElement.get(e);l&&l.id!==t&&l.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[dl]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return dD(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,JS,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,aP,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return hm(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[dl];if(e&&e.setForRemoval){if(t[dl]=Mj,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(vP)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)ul(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?hm(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function gZ(n){return new c.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new aD,r=[],o=new Map,l=[],u=new Map,p=new Map,v=new Map,x=new Set;this.disabledNodes.forEach(Ct=>{x.add(Ct);const Nt=this.driver.query(Ct,".ng-animate-queued",!0);for(let $t=0;$t<Nt.length;$t++)x.add(Nt[$t])});const D=this.bodyNode,R=Array.from(this.statesByElement.keys()),F=Rj(R,this.collectedEnterElements),H=new Map;let Y=0;F.forEach((Ct,Nt)=>{const $t=sP+Y++;H.set(Nt,$t),Ct.forEach(Sn=>ul(Sn,$t))});const te=[],Ve=new Set,Ke=new Set;for(let Ct=0;Ct<this.collectedLeaveElements.length;Ct++){const Nt=this.collectedLeaveElements[Ct],$t=Nt[dl];$t&&$t.setForRemoval&&(te.push(Nt),Ve.add(Nt),$t.hasAnimation?this.driver.query(Nt,".ng-star-inserted",!0).forEach(Sn=>Ve.add(Sn)):Ke.add(Nt))}const Xe=new Map,dt=Rj(R,Array.from(Ve));dt.forEach((Ct,Nt)=>{const $t=QS+Y++;Xe.set(Nt,$t),Ct.forEach(Sn=>ul(Sn,$t))}),t.push(()=>{F.forEach((Ct,Nt)=>{const $t=H.get(Nt);Ct.forEach(Sn=>Ly(Sn,$t))}),dt.forEach((Ct,Nt)=>{const $t=Xe.get(Nt);Ct.forEach(Sn=>Ly(Sn,$t))}),te.forEach(Ct=>{this.processLeaveNode(Ct)})});const zt=[],Kt=[];for(let Ct=this._namespaceList.length-1;Ct>=0;Ct--)this._namespaceList[Ct].drainQueuedTransitions(e).forEach($t=>{const Sn=$t.player,ro=$t.element;if(zt.push(Sn),this.collectedEnterElements.length){const Yo=ro[dl];if(Yo&&Yo.setForMove){if(Yo.previousTriggersValues&&Yo.previousTriggersValues.has($t.triggerName)){const Wg=Yo.previousTriggersValues.get($t.triggerName),_l=this.statesByElement.get($t.element);if(_l&&_l.has($t.triggerName)){const YD=_l.get($t.triggerName);YD.value=Wg,_l.set($t.triggerName,YD)}}return void Sn.destroy()}}const Ld=!D||!this.driver.containsElement(D,ro),Ra=Xe.get(ro),Sm=H.get(ro),Gi=this._buildInstruction($t,i,Sm,Ra,Ld);if(Gi.errors&&Gi.errors.length)return void Kt.push(Gi);if(Ld)return Sn.onStart(()=>Rg(ro,Gi.fromStyles)),Sn.onDestroy(()=>Od(ro,Gi.toStyles)),void r.push(Sn);if($t.isFallbackTransition)return Sn.onStart(()=>Rg(ro,Gi.fromStyles)),Sn.onDestroy(()=>Od(ro,Gi.toStyles)),void r.push(Sn);const u6=[];Gi.timelines.forEach(Yo=>{Yo.stretchStartingKeyframe=!0,this.disabledNodes.has(Yo.element)||u6.push(Yo)}),Gi.timelines=u6,i.append(ro,Gi.timelines),l.push({instruction:Gi,player:Sn,element:ro}),Gi.queriedElements.forEach(Yo=>Ta(u,Yo,[]).push(Sn)),Gi.preStyleProps.forEach((Yo,Wg)=>{if(Yo.size){let _l=p.get(Wg);_l||p.set(Wg,_l=new Set),Yo.forEach((YD,PF)=>_l.add(PF))}}),Gi.postStyleProps.forEach((Yo,Wg)=>{let _l=v.get(Wg);_l||v.set(Wg,_l=new Set),Yo.forEach((YD,PF)=>_l.add(PF))})});if(Kt.length){const Ct=[];Kt.forEach(Nt=>{Ct.push(function _Z(n,t){return new c.vHH(3505,!1)}())}),zt.forEach(Nt=>Nt.destroy()),this.reportError(Ct)}const An=new Map,So=new Map;l.forEach(Ct=>{const Nt=Ct.element;i.has(Nt)&&(So.set(Nt,Nt),this._beforeAnimationBuild(Ct.player.namespaceId,Ct.instruction,An))}),r.forEach(Ct=>{const Nt=Ct.element;this._getPreviousPlayers(Nt,!1,Ct.namespaceId,Ct.triggerName,null).forEach(Sn=>{Ta(An,Nt,[]).push(Sn),Sn.destroy()})});const gl=te.filter(Ct=>Pj(Ct,p,v)),nh=new Map;kj(nh,this.driver,Ke,v,Qu).forEach(Ct=>{Pj(Ct,p,v)&&gl.push(Ct)});const Px=new Map;F.forEach((Ct,Nt)=>{kj(Px,this.driver,new Set(Ct),p,vO)}),gl.forEach(Ct=>{const Nt=nh.get(Ct),$t=Px.get(Ct);nh.set(Ct,new Map([...Array.from(Nt?.entries()??[]),...Array.from($t?.entries()??[])]))});const $g=[],c6=[],d6={};l.forEach(Ct=>{const{element:Nt,player:$t,instruction:Sn}=Ct;if(i.has(Nt)){if(x.has(Nt))return $t.onDestroy(()=>Od(Nt,Sn.toStyles)),$t.disabled=!0,$t.overrideTotalTime(Sn.totalTime),void r.push($t);let ro=d6;if(So.size>1){let Ra=Nt;const Sm=[];for(;Ra=Ra.parentNode;){const Gi=So.get(Ra);if(Gi){ro=Gi;break}Sm.push(Ra)}Sm.forEach(Gi=>So.set(Gi,ro))}const Ld=this._buildAnimation($t.namespaceId,Sn,An,o,Px,nh);if($t.setRealPlayer(Ld),ro===d6)$g.push($t);else{const Ra=this.playersByElement.get(ro);Ra&&Ra.length&&($t.parentPlayer=hm(Ra)),r.push($t)}}else Rg(Nt,Sn.fromStyles),$t.onDestroy(()=>Od(Nt,Sn.toStyles)),c6.push($t),x.has(Nt)&&r.push($t)}),c6.forEach(Ct=>{const Nt=o.get(Ct.element);if(Nt&&Nt.length){const $t=hm(Nt);Ct.setRealPlayer($t)}}),r.forEach(Ct=>{Ct.parentPlayer?Ct.syncPlayerEvents(Ct.parentPlayer):Ct.destroy()});for(let Ct=0;Ct<te.length;Ct++){const Nt=te[Ct],$t=Nt[dl];if(Ly(Nt,QS),$t&&$t.hasAnimation)continue;let Sn=[];if(u.size){let Ld=u.get(Nt);Ld&&Ld.length&&Sn.push(...Ld);let Ra=this.driver.query(Nt,aP,!0);for(let Sm=0;Sm<Ra.length;Sm++){let Gi=u.get(Ra[Sm]);Gi&&Gi.length&&Sn.push(...Gi)}}const ro=Sn.filter(Ld=>!Ld.destroyed);ro.length?bQ(this,Nt,ro):this.processLeaveNode(Nt)}return te.length=0,$g.forEach(Ct=>{this.players.push(Ct),Ct.onDone(()=>{Ct.destroy();const Nt=this.players.indexOf(Ct);this.players.splice(Nt,1)}),Ct.play()}),$g}elementContainsData(t,e){let i=!1;const r=e[dl];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let l=[];if(e){const u=this.playersByQueriedElement.get(t);u&&(l=u)}else{const u=this.playersByElement.get(t);if(u){const p=!o||o==rx;u.forEach(v=>{v.queued||!p&&v.triggerName!=r||l.push(v)})}}return(i||r)&&(l=l.filter(u=>!(i&&i!=u.namespaceId||r&&r!=u.triggerName))),l}_beforeAnimationBuild(t,e,i){const o=e.element,l=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName;for(const p of e.timelines){const v=p.element,x=v!==o,D=Ta(i,v,[]);this._getPreviousPlayers(v,x,l,u,e.toState).forEach(F=>{const H=F.getRealPlayer();H.beforeDestroy&&H.beforeDestroy(),F.destroy(),D.push(F)})}Rg(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,l){const u=e.triggerName,p=e.element,v=[],x=new Set,D=new Set,R=e.timelines.map(H=>{const Y=H.element;x.add(Y);const te=Y[dl];if(te&&te.removedBeforeQueried)return new qw(H.duration,H.delay);const Ve=Y!==p,Ke=function wQ(n){const t=[];return Oj(n,t),t}((i.get(Y)||fQ).map(An=>An.getRealPlayer())).filter(An=>!!An.element&&An.element===Y),Xe=o.get(Y),dt=l.get(Y),zt=oj(0,this._normalizer,0,H.keyframes,Xe,dt),Kt=this._buildPlayer(H,zt,Ke);if(H.subTimeline&&r&&D.add(Y),Ve){const An=new wP(t,u,Y);An.setRealPlayer(Kt),v.push(An)}return Kt});v.forEach(H=>{Ta(this.playersByQueriedElement,H.element,[]).push(H),H.onDone(()=>function _Q(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,H.element,H))}),x.forEach(H=>ul(H,mj));const F=hm(R);return F.onDestroy(()=>{x.forEach(H=>Ly(H,mj)),Od(p,e.toStyles)}),D.forEach(H=>{Ta(r,H,[]).push(F)}),F}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new qw(t.duration,t.delay)}}class wP{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new qw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>eP(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Ta(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function dD(n){return n&&1===n.nodeType}function Aj(n,t){const e=n.style.display;return n.style.display=t??"none",e}function kj(n,t,e,i,r){const o=[];e.forEach(p=>o.push(Aj(p)));const l=[];i.forEach((p,v)=>{const x=new Map;p.forEach(D=>{const R=t.computeStyle(v,D,r);x.set(D,R),(!R||0==R.length)&&(v[dl]=mQ,l.push(v))}),n.set(v,x)});let u=0;return e.forEach(p=>Aj(p,o[u++])),l}function Rj(n,t){const e=new Map;if(n.forEach(u=>e.set(u,[])),0==t.length)return e;const i=1,r=new Set(t),o=new Map;function l(u){if(!u)return i;let p=o.get(u);if(p)return p;const v=u.parentNode;return p=e.has(v)?v:r.has(v)?i:l(v),o.set(u,p),p}return t.forEach(u=>{const p=l(u);p!==i&&e.get(p).push(u)}),e}function ul(n,t){n.classList?.add(t)}function Ly(n,t){n.classList?.remove(t)}function bQ(n,t,e){hm(e).onDone(()=>n.processLeaveNode(t))}function Oj(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof uH?Oj(i.players,t):t.push(i)}}function Pj(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class uD{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new gQ(t,e,i),this._timelineEngine=new lQ(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const l=t+"-"+r;let u=this._triggerCache[l];if(!u){const p=[],v=[],x=uP(this._driver,o,p,v);if(p.length)throw function sZ(n,t){return new c.vHH(3404,!1)}();u=function rQ(n,t,e){return new oQ(n,t,e)}(r,x,this._normalizer),this._triggerCache[l]=u}this._transitionEngine.registerTrigger(e,r,u)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,l]=sj(i);this._timelineEngine.command(o,e,l,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[l,u]=sj(i);return this._timelineEngine.listen(l,e,u,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let EQ=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Od(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Od(this._element,this._initialStyles),this._endStyles&&(Od(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Rg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Rg(this._element,this._endStyles),this._endStyles=null),Od(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function xP(n){let t=null;return n.forEach((e,i)=>{(function IQ(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class Fj{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:bj(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class SQ{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return dj(t,e)}getParentElement(t){return rP(t)}query(t,e,i){return uj(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,l=[]){const p={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(p.easing=o);const v=new Map,x=l.filter(F=>F instanceof Fj);(function AZ(n,t){return 0===n||0===t})(i,r)&&x.forEach(F=>{F.currentSnapshot.forEach((H,Y)=>v.set(Y,H))});let D=function SZ(n){return n.length?n[0]instanceof Map?n:n.map(t=>pj(t)):[]}(e).map(F=>fm(F));D=function kZ(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,l)=>{i.has(l)||r.push(l),i.set(l,o)}),r.length)for(let o=1;o<t.length;o++){let l=t[o];r.forEach(u=>l.set(u,bj(n,u)))}}return t}(t,D,v);const R=function CQ(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=xP(t[0]),t.length>1&&(i=xP(t[t.length-1]))):t instanceof Map&&(e=xP(t)),e||i?new EQ(n,e,i):null}(t,D);return new Fj(t,D,p,R)}}let DQ=(()=>{class n extends sH{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:c.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?aH(e):e;return Nj(this._renderer,null,i,"register",[r]),new TQ(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(J))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class TQ extends Rq{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new MQ(this._id,t,e||{},this._renderer)}}class MQ{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Nj(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Nj(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const Lj="@.disabled";let AQ=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,l)=>{const u=l?.parentNode(o);u&&l.removeChild(u,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let x=this._rendererCache.get(o);return x||(x=new Bj("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,x)),x}const l=i.id,u=i.id+"-"+this._currentId;this._currentId++,this.engine.register(u,e);const p=x=>{Array.isArray(x)?x.forEach(p):this.engine.registerTrigger(l,u,e,x.name,x)};return i.data.animation.forEach(p),new kQ(this,u,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[l,u]=o;l(u)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(c.FYo),c.LFG(uD),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Bj{constructor(t,e,i,r){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=r,this.destroyNode=this.delegate.destroyNode?o=>e.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Lj?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class kQ extends Bj{constructor(t,e,i,r,o){super(e,i,r,o),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Lj?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function RQ(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),l="";return"@"!=o.charAt(0)&&([o,l]=function OQ(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,l,u=>{this.factory.scheduleListenerCallback(u._data||-1,i,u)})}return this.delegate.listen(t,e,i)}}let PQ=(()=>{class n extends uD{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(J),c.LFG(oP),c.LFG(gP),c.LFG(c.z2F))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Vj=[{provide:sH,useClass:DQ},{provide:gP,useFactory:function FQ(){return new eQ}},{provide:uD,useClass:PQ},{provide:c.FYo,useFactory:function NQ(n,t,e){return new AQ(n,t,e)},deps:[zr,uD,c.R0b]}],CP=[{provide:oP,useFactory:()=>new SQ},{provide:c.QbO,useValue:"BrowserAnimations"},...Vj],Uj=[{provide:oP,useClass:hj},{provide:c.QbO,useValue:"NoopAnimations"},...Vj];let LQ=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?Uj:CP}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:CP,imports:[sa]}),n})();const zQ={provide:new c.OlP("mat-select-scroll-strategy"),deps:[Ww],useFactory:function HQ(n){return()=>n.scrollStrategies.reposition()}};let jQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[zQ],imports:[Qn,oH,wE,wn,vo,s7,wE,wn]}),n})(),EP=(()=>{class n{constructor(){this.changes=new Tt.x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,i,r)=>{if(0==r||0==i)return`0 of ${r}`;const o=e*i;return`${o+1} \u2013 ${o<(r=Math.max(r,0))?Math.min(o+i,r):o+i} of ${r}`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const YQ={provide:EP,deps:[[new c.FiY,new c.tp0,EP]],useFactory:function qQ(n){return n||new EP}};let KQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[YQ],imports:[Qn,Dz,jQ,pH]}),n})(),IP=(()=>{class n{constructor(){this.changes=new Tt.x}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const QQ={provide:IP,deps:[[new c.FiY,new c.tp0,IP]],useFactory:function ZQ(n){return n||new IP}};let XQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[QQ],imports:[Qn,wn]}),n})();const JQ={apiKey:"AIzaSyCeBCuFMxvxExw_kEoip_zZPerQ5rZIbrs",authDomain:"team-vacation-planner-poc.firebaseapp.com",projectId:"team-vacation-planner-poc",storageBucket:"team-vacation-planner-poc.appspot.com",messagingSenderId:"798745482636",appId:"1:798745482636:web:cc8779acb5acdffe2832a9",measurementId:"G-6WQCV4D8G3"},Hj="@firebase/database";let SP="";function jj(n){SP=n}class nX{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,N.Wl)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,N.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class iX{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,N.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Gj=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new nX(t)}}catch{}return new iX},Pg=Gj("localStorage"),DP=Gj("sessionStorage"),By=new Bs.Yd("@firebase/database"),$j=function(){let n=1;return function(){return n++}}(),Wj=function(n){const t=(0,N.dS)(n),e=new N.gQ;e.update(t);const i=e.digest();return N.US.encodeByteArray(i)},ox=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=ox.apply(null,i):t+="object"==typeof i?(0,N.Wl)(i):i,t+=" "}return t};let Fg=null,qj=!0;const Yj=function(n,t){(0,N.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(By.logLevel=Bs.in.VERBOSE,Fg=By.log.bind(By),t&&DP.set("logging_enabled",!0)):"function"==typeof n?Fg=n:(Fg=null,DP.remove("logging_enabled"))},no=function(...n){if(!0===qj&&(qj=!1,null===Fg&&!0===DP.get("logging_enabled")&&Yj(!0)),Fg){const t=ox.apply(null,n);Fg(t)}},sx=function(n){return function(...t){no(n,...t)}},TP=function(...n){const t="FIREBASE INTERNAL ERROR: "+ox(...n);By.error(t)},Pd=function(...n){const t=`FIREBASE FATAL ERROR: ${ox(...n)}`;throw By.error(t),new Error(t)},qo=function(...n){const t="FIREBASE WARNING: "+ox(...n);By.warn(t)},fD=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},pm="[MIN_NAME]",eh="[MAX_NAME]",Ng=function(n,t){if(n===t)return 0;if(n===pm||t===eh)return-1;if(t===pm||n===eh)return 1;{const e=Qj(n),i=Qj(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},sX=function(n,t){return n===t?0:n<t?-1:1},ax=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,N.Wl)(t))},MP=function(n){if("object"!=typeof n||null===n)return(0,N.Wl)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,N.Wl)(t[i]),e+=":",e+=MP(n[t[i]]);return e+="}",e},Kj=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let r=0;r<e;r+=t)i.push(n.substring(r,r+t>e?e:r+t));return i};function io(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Zj=function(n){(0,N.hu)(!fD(n),"Invalid JSON number");const i=1023;let r,o,l,u,p;0===n?(o=0,l=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(u=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=u+i,l=Math.round(n*Math.pow(2,52-u)-Math.pow(2,52))):(o=0,l=Math.round(n/Math.pow(2,-1074))));const v=[];for(p=52;p;p-=1)v.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)v.push(o%2?1:0),o=Math.floor(o/2);v.push(r?1:0),v.reverse();const x=v.join("");let D="";for(p=0;p<64;p+=8){let R=parseInt(x.substr(p,8),2).toString(16);1===R.length&&(R="0"+R),D+=R}return D.toLowerCase()},dX=new RegExp("^-?(0*)\\d{1,10}$"),Qj=function(n){if(dX.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},Vy=function(n){try{n()}catch(t){setTimeout(()=>{throw qo("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},fX=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},lx=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class mX{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){qo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pX{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(no("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qo(t)}}let cx=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const n3=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,s3="websocket",a3="long_polling";class kP{constructor(t,e,i,r,o=!1,l="",u=!1,p=!1){this.secure=e,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=u,this.isUsingEmulator=p,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Pg.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Pg.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function l3(n,t,e){let i;if((0,N.hu)("string"==typeof t,"typeof type must == string"),(0,N.hu)("object"==typeof e,"typeof params must == object"),t===s3)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==a3)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function gX(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const r=[];return io(e,(o,l)=>{r.push(o+"="+l)}),i+r.join("&")}class _X{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,N.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,N.p$)(this.counters_)}}const RP={},OP={};function PP(n){const t=n.toString();return RP[t]||(RP[t]=new _X),RP[t]}class yX{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&Vy(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class gm{constructor(t,e,i,r,o,l,u){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=l,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=sx(t),this.stats_=PP(e),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),l3(e,a3,p))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new yX(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,N.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FP((...o)=>{const[l,u,p,v,x]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=u,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);u?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(u,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[l,u]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,u)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&n3.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){gm.forceAllow_=!0}static forceDisallow(){gm.forceDisallow_=!0}static isAvailable(){return!((0,N.Yr)()||!gm.forceAllow_&&(gm.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,N.Wl)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,N.h$)(e),r=Kj(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,N.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,N.Wl)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class FP{constructor(t,e,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,N.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=$j(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=FP.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(u){no("frame writing exception"),u.stack&&no(u.stack),no(u)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||no("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const l=this.pendingSegs.shift();i=i+"&seg"+r+"="+l.seg+"&ts"+r+"="+l.ts+"&d"+r+"="+l.d,r++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(r),i()})}addTag(t,e){(0,N.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{no("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let pD=null;typeof MozWebSocket<"u"?pD=MozWebSocket:typeof WebSocket<"u"&&(pD=WebSocket);let Uy=(()=>{class n{constructor(e,i,r,o,l,u,p){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=sx(this.connId),this.stats_=PP(i),this.connURL=n.connectionURL_(i,u,p,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,r,o,l){const u={v:"5"};return!(0,N.Yr)()&&typeof location<"u"&&location.hostname&&n3.test(location.hostname)&&(u.r="f"),i&&(u.s=i),r&&(u.ls=r),o&&(u.ac=o),l&&(u.p=l),l3(e,s3,u)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Pg.set("previous_websocket_failure",!0);try{let r;if((0,N.Yr)()){r={headers:{"User-Agent":`Firebase/5/${SP}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,u=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;u&&(r.proxy={origin:u})}this.mySock=new pD(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==pD&&!n.forceDisallow_}static previouslyFailed(){return Pg.isInMemoryStorage||!0===Pg.get("previous_websocket_failure")}markConnectionHealthy(){Pg.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=(0,N.cI)(i);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,N.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const i=(0,N.Wl)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=Kj(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),p3=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[gm,Uy]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Uy&&Uy.isAvailable();let r=i&&!Uy.previouslyFailed();if(e.webSocketOnly&&(i||qo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Uy];else{const o=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&o.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class x3{constructor(t,e,i,r,o,l,u,p,v,x){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=l,this.onReady_=u,this.onDisconnect_=p,this.onKill_=v,this.lastSessionId=x,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=sx("c:"+this.id+":"),this.transportManager_=new p3(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const r=t.healthyTimeout||0;r>0&&(this.healthyTimeout_=lx(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=ax("t",t),i=ax("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=ax("t",t),i=ax("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=ax("t",t);if("d"in t){const i=t.d;if("h"===e){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?TP("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):TP("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&qo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),lx(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lx(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Pg.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class C3{put(t,e,i,r){}merge(t,e,i,r){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class E3{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,N.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const r=this.getInitialEvent(t);r&&e.apply(i,r)}off(t,e,i){this.validateEventType_(t);const r=this.listeners_[t]||[];for(let o=0;o<r.length;o++)if(r[o].callback===e&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(t){(0,N.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class gD extends E3{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,N.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new gD}getInitialEvent(t){return(0,N.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}const I3=32,S3=768;class Ln{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Mn(){return new Ln("")}function cn(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function _m(n){return n.pieces_.length-n.pieceNum_}function ri(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new Ln(n.pieces_,t)}function LP(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function dx(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function D3(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new Ln(t,0)}function Oi(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof Ln)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&e.push(i[r])}return new Ln(e,0)}function dn(n){return n.pieceNum_>=n.pieces_.length}function gs(n,t){const e=cn(n),i=cn(t);if(null===e)return t;if(e===i)return gs(ri(n),ri(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function HX(n,t){const e=dx(n,0),i=dx(t,0);for(let r=0;r<e.length&&r<i.length;r++){const o=Ng(e[r],i[r]);if(0!==o)return o}return e.length===i.length?0:e.length<i.length?-1:1}function BP(n,t){if(_m(n)!==_m(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function hl(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(_m(n)>_m(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class zX{constructor(t,e){this.errorPrefix_=e,this.parts_=dx(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,N.ug)(this.parts_[i]);T3(this)}}function T3(n){if(n.byteLength_>S3)throw new Error(n.errorPrefix_+"has a key path longer than "+S3+" bytes ("+n.byteLength_+").");if(n.parts_.length>I3)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+I3+") or object contains a cycle "+Lg(n))}function Lg(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class VP extends E3{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new VP}getInitialEvent(t){return(0,N.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const ux=1e3;let vD,Bg=(()=>{class n extends C3{constructor(e,i,r,o,l,u,p,v){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=l,this.authTokenProvider_=u,this.appCheckTokenProvider_=p,this.authOverride_=v,this.id=n.nextPersistentConnectionId_++,this.log_=sx("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ux,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,v&&!(0,N.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");VP.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&gD.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,r){const o=++this.requestNumber_,l={r:o,a:e,b:i};this.log_((0,N.Wl)(l)),(0,N.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const i=new N.BH,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:u=>{const p=u.d;"ok"===u.s?i.resolve(p):i.reject(p)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,r,o){this.initConnection_();const l=e._queryIdentifier,u=e._path.toString();this.log_("Listen called for "+u+" "+l),this.listens.has(u)||this.listens.set(u,new Map),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,N.hu)(!this.listens.get(u).has(l),"listen() called twice for same path/queryId.");const p={onComplete:o,hashFn:i,query:e,tag:r};this.listens.get(u).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(e){const i=e.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const l={p:r};e.tag&&(l.q=i._queryObject,l.t=e.tag),l.h=e.hashFn(),this.sendRequest("q",l,p=>{const v=p.d,x=p.s;n.warnOnListenWarnings_(v,i),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",p),"ok"!==x&&this.removeListen_(r,o),e.onComplete&&e.onComplete(x,v))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,N.r3)(e,"w")){const r=(0,N.DV)(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',l=i._path.toString();qo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,N.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,N.w9)(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const l=o.s,u=o.d||"error";this.authToken_===e&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,r=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(e,i){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),(0,N.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,i)}sendUnlisten_(e,i,r,o){this.log_("Unlisten on "+e+" for "+i);const l={p:e};o&&(l.q=r,l.t=o),this.sendRequest("n",l)}onDisconnectPut(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:r})}onDisconnectMerge(e,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:r})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,r,o){const l={p:i,d:r};this.log_("onDisconnect "+e,l),this.sendRequest(e,l,u=>{o&&setTimeout(()=>{o(u.s,u.d)},Math.floor(0))})}put(e,i,r,o){this.putInternal("p",e,i,r,o)}merge(e,i,r,o){this.putInternal("m",e,i,r,o)}putInternal(e,i,r,o,l){this.initConnection_();const u={p:i,d:r};void 0!==l&&(u.h=l),this.outstandingPuts_.push({action:e,request:u,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,r,l=>{this.log_(i+" response",l),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(l.s,l.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,N.Wl)(e));const i=e.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):TP("Unrecognized action received from server: "+(0,N.Wl)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,N.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ux,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ux,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ux),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,xe.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),r=e.onReady_.bind(e),o=e.onRealtimeDisconnect_.bind(e),l=e.id+":"+n.nextConnectionId_++,u=e.lastSessionId;let p=!1,v=null;const x=function(){v?v.close():(p=!0,o())};e.realtime_={close:x,sendRequest:function(F){(0,N.hu)(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(F)}};const R=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[F,H]=yield Promise.all([e.authTokenProvider_.getToken(R),e.appCheckTokenProvider_.getToken(R)]);p?no("getToken() completed but was canceled"):(no("getToken() completed. Creating connection."),e.authToken_=F&&F.accessToken,e.appCheckToken_=H&&H.token,v=new x3(l,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,r,o,Y=>{qo(Y+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},u))}catch(F){e.log_("Failed to get token: "+F),p||(e.repoInfo_.nodeAdmin&&qo(F),x())}}})()}interrupt(e){no("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){no("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,N.xb)(this.interruptReasons_)&&(this.reconnectDelay_=ux,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let r;r=i?i.map(l=>MP(l)).join("$"):"default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,i){const r=new Ln(e).toString();let o;if(this.listens.has(r)){const l=this.listens.get(r);o=l.get(i),l.delete(i),0===l.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,i){no("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){no("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,N.Yr)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+SP.replace(/\./g,"-")]=1,(0,N.uI)()?e["framework.cordova"]=1:(0,N.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gD.getInstance().currentlyOnline();return(0,N.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class hn{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new hn(t,e)}}class _D{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new hn(pm,t),r=new hn(pm,e);return 0!==this.compare(i,r)}minPost(){return hn.MIN}}class k3 extends _D{static get __EMPTY_NODE(){return vD}static set __EMPTY_NODE(t){vD=t}compare(t,e){return Ng(t.name,e.name)}isDefinedOn(t){throw(0,N.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return hn.MIN}maxPost(){return new hn(eh,vD)}makePost(t,e){return(0,N.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new hn(t,vD)}toString(){return".key"}}const Fd=new k3;class yD{constructor(t,e,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!t.isEmpty();)if(l=e?i(t.key,e):1,r&&(l*=-1),l<0)t=this.isReverse_?t.left:t.right;else{if(0===l){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let HP,bc=(()=>{class n{constructor(e,i,r,o,l){this.key=e,this.value=i,this.color=r??n.RED,this.left=o??Gs.EMPTY_NODE,this.right=l??Gs.EMPTY_NODE}copy(e,i,r,o,l){return new n(e??this.key,i??this.value,r??this.color,o??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,r){let o=this;const l=r(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,i,r),null):0===l?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Gs.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let r,o;if(r=this,i(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(e,r.key)){if(r.right.isEmpty())return Gs.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Gs{constructor(t,e=Gs.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Gs(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,bc.BLACK,null,null))}remove(t){return new Gs(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,bc.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,r=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new yD(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new yD(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new yD(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new yD(this.root_,null,this.comparator_,!0,t)}}function ZX(n,t){return Ng(n.name,t.name)}function UP(n,t){return Ng(n,t)}Gs.EMPTY_NODE=new class KX{copy(t,e,i,r,o){return this}insert(t,e,i){return new bc(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const R3=function(n){return"number"==typeof n?"number:"+Zj(n):"string:"+n},O3=function(n){if(n.isLeafNode()){const t=n.val();(0,N.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,N.r3)(t,".sv"),"Priority must be a string or number.")}else(0,N.hu)(n===HP||n.isEmpty(),"priority of unexpected type.");(0,N.hu)(n===HP||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let P3,F3,N3,Hy=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,N.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),O3(this.priorityNode_)}static set __childrenNodeConstructor(e){P3=e}static get __childrenNodeConstructor(){return P3}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return dn(e)?this:".priority"===cn(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const r=cn(e);return null===r?i:i.isEmpty()&&".priority"!==r?this:((0,N.hu)(".priority"!==r||1===_m(e),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ri(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+R3(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Zj(this.value_):this.value_,this.lazyHash_=Wj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,N.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),l=n.VALUE_TYPE_ORDER.indexOf(r);return(0,N.hu)(o>=0,"Unknown leaf type: "+i),(0,N.hu)(l>=0,"Unknown leaf type: "+r),o===l?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:l-o}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const ui=new class eJ extends _D{compare(t,e){const i=t.node.getPriority(),r=e.node.getPriority(),o=i.compareTo(r);return 0===o?Ng(t.name,e.name):o}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return hn.MIN}maxPost(){return new hn(eh,new Hy("[PRIORITY-POST]",N3))}makePost(t,e){const i=F3(t);return new hn(e,new Hy("[PRIORITY-POST]",i))}toString(){return".priority"}},tJ=Math.log(2);class nJ{constructor(t){this.count=parseInt(Math.log(t+1)/tJ,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&r}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const bD=function(n,t,e,i){n.sort(t);const r=function(p,v){const x=v-p;let D,R;if(0===x)return null;if(1===x)return D=n[p],R=e?e(D):D,new bc(R,D.node,bc.BLACK,null,null);{const F=parseInt(x/2,10)+p,H=r(p,F),Y=r(F+1,v);return D=n[F],R=e?e(D):D,new bc(R,D.node,bc.BLACK,H,Y)}},u=function(p){let v=null,x=null,D=n.length;const R=function(H,Y){const te=D-H,Ve=D;D-=H;const Ke=r(te+1,Ve),Xe=n[te],dt=e?e(Xe):Xe;F(new bc(dt,Xe.node,Y,null,Ke))},F=function(H){v?(v.left=H,v=H):(x=H,v=H)};for(let H=0;H<p.count;++H){const Y=p.nextBitIsOne(),te=Math.pow(2,p.count-(H+1));Y?R(te,bc.BLACK):(R(te,bc.BLACK),R(te,bc.RED))}return x}(new nJ(n.length));return new Gs(i||t,u)};let zP;const zy={};class th{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,N.hu)(zy&&ui,"ChildrenNode.ts has not been loaded"),zP=zP||new th({".priority":zy},{".priority":ui}),zP}get(t){const e=(0,N.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Gs?e:null}hasIndex(t){return(0,N.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,N.hu)(t!==Fd,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=e.getIterator(hn.Wrap);let u,l=o.getNext();for(;l;)r=r||t.isDefinedOn(l.node),i.push(l),l=o.getNext();u=r?bD(i,t.getCompare()):zy;const p=t.toString(),v=Object.assign({},this.indexSet_);v[p]=t;const x=Object.assign({},this.indexes_);return x[p]=u,new th(x,v)}addToIndexes(t,e){const i=(0,N.UI)(this.indexes_,(r,o)=>{const l=(0,N.DV)(this.indexSet_,o);if((0,N.hu)(l,"Missing index implementation for "+o),r===zy){if(l.isDefinedOn(t.node)){const u=[],p=e.getIterator(hn.Wrap);let v=p.getNext();for(;v;)v.name!==t.name&&u.push(v),v=p.getNext();return u.push(t),bD(u,l.getCompare())}return zy}{const u=e.get(t.name);let p=r;return u&&(p=p.remove(new hn(t.name,u))),p.insert(t,t.node)}});return new th(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,N.UI)(this.indexes_,r=>{if(r===zy)return r;{const o=e.get(t.name);return o?r.remove(new hn(t.name,o)):r}});return new th(i,this.indexSet_)}}let hx,en=(()=>{class n{constructor(e,i,r){this.children_=e,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&O3(this.priorityNode_),this.children_.isEmpty()&&(0,N.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return hx||(hx=new n(new Gs(UP),null,th.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||hx}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?hx:i}}getChild(e){const i=cn(e);return null===i?this:this.getImmediateChild(i).getChild(ri(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,N.hu)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const r=new hn(e,i);let o,l;i.isEmpty()?(o=this.children_.remove(e),l=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,i),l=this.indexMap_.addToIndexes(r,this.children_));const u=o.isEmpty()?hx:this.priorityNode_;return new n(o,u,l)}}updateChild(e,i){const r=cn(e);if(null===r)return i;{(0,N.hu)(".priority"!==cn(e)||1===_m(e),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(ri(e),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let r=0,o=0,l=!0;if(this.forEachChild(ui,(u,p)=>{i[u]=p.val(e),r++,l&&n.INTEGER_REGEXP_.test(u)?o=Math.max(o,Number(u)):l=!1}),!e&&l&&o<2*r){const u=[];for(const p in i)u[p]=i[p];return u}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+R3(this.getPriority().val())+":"),this.forEachChild(ui,(i,r)=>{const o=r.hash();""!==o&&(e+=":"+i+":"+o)}),this.lazyHash_=""===e?"":Wj(e)}return this.lazyHash_}getPredecessorChildName(e,i,r){const o=this.resolveIndex_(r);if(o){const l=o.getPredecessorKey(new hn(e,i));return l?l.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new hn(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new hn(i,this.children_.get(i)):null}forEachChild(e,i){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,hn.Wrap);let l=o.peek();for(;null!=l&&i.compare(l,e)<0;)o.getNext(),l=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,hn.Wrap);let l=o.peek();for(;null!=l&&i.compare(l,e)>0;)o.getNext(),l=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===fx?-1:0}withIndex(e){if(e===Fd||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Fd||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(ui),o=i.getIterator(ui);let l=r.getNext(),u=o.getNext();for(;l&&u;){if(l.name!==u.name||!l.node.equals(u.node))return!1;l=r.getNext(),u=o.getNext()}return null===l&&null===u}return!1}return!1}}resolveIndex_(e){return e===Fd?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const fx=new class iJ extends en{constructor(){super(new Gs(UP),en.EMPTY_NODE,th.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return en.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(hn,{MIN:{value:new hn(pm,en.EMPTY_NODE)},MAX:{value:new hn(eh,fx)}}),k3.__EMPTY_NODE=en.EMPTY_NODE,Hy.__childrenNodeConstructor=en,function QX(n){HP=n}(fx),function JX(n){N3=n}(fx);const rJ=!0;function ji(n,t=null){if(null===n)return en.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,N.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Hy(n,ji(t));if(n instanceof Array||!rJ){let e=en.EMPTY_NODE;return io(n,(i,r)=>{if((0,N.r3)(n,i)&&"."!==i.substring(0,1)){const o=ji(r);(o.isLeafNode()||!o.isEmpty())&&(e=e.updateImmediateChild(i,o))}}),e.updatePriority(ji(t))}{const e=[];let i=!1;if(io(n,(l,u)=>{if("."!==l.substring(0,1)){const p=ji(u);p.isEmpty()||(i=i||!p.getPriority().isEmpty(),e.push(new hn(l,p)))}}),0===e.length)return en.EMPTY_NODE;const o=bD(e,ZX,l=>l.name,UP);if(i){const l=bD(e,ui.getCompare());return new en(o,ji(t),new th({".priority":l},{".priority":ui}))}return new en(o,ji(t),th.Default)}}!function XX(n){F3=n}(ji);class jP extends _D{constructor(t){super(),this.indexPath_=t,(0,N.hu)(!dn(t)&&".priority"!==cn(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),r=this.extractChild(e.node),o=i.compareTo(r);return 0===o?Ng(t.name,e.name):o}makePost(t,e){const i=ji(t),r=en.EMPTY_NODE.updateChild(this.indexPath_,i);return new hn(e,r)}maxPost(){const t=en.EMPTY_NODE.updateChild(this.indexPath_,fx);return new hn(eh,t)}toString(){return dx(this.indexPath_,0).join("/")}}const GP=new class oJ extends _D{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Ng(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return hn.MIN}maxPost(){return hn.MAX}makePost(t,e){const i=ji(t);return new hn(e,i)}toString(){return".value"}};function L3(n){return{type:"value",snapshotNode:n}}function jy(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function mx(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function px(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class $P{constructor(t){this.index_=t}updateChild(t,e,i,r,o,l){(0,N.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const u=t.getImmediateChild(e);return u.getChild(r).equals(i.getChild(r))&&u.isEmpty()===i.isEmpty()||(null!=l&&(i.isEmpty()?t.hasChild(e)?l.trackChildChange(mx(e,u)):(0,N.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):u.isEmpty()?l.trackChildChange(jy(e,i)):l.trackChildChange(px(e,i,u))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(ui,(r,o)=>{e.hasChild(r)||i.trackChildChange(mx(r,o))}),e.isLeafNode()||e.forEachChild(ui,(r,o)=>{if(t.hasChild(r)){const l=t.getImmediateChild(r);l.equals(o)||i.trackChildChange(px(r,o,l))}else i.trackChildChange(jy(r,o))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?en.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class gx{constructor(t){this.indexedFilter_=new $P(t.getIndex()),this.index_=t.getIndex(),this.startPost_=gx.getStartPost_(t),this.endPost_=gx.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,r,o,l){return this.matches(new hn(e,i))||(i=en.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,r,o,l)}updateFullNode(t,e,i){e.isLeafNode()&&(e=en.EMPTY_NODE);let r=e.withIndex(this.index_);r=r.updatePriority(en.EMPTY_NODE);const o=this;return e.forEachChild(ui,(l,u)=>{o.matches(new hn(l,u))||(r=r.updateImmediateChild(l,en.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class aJ{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new gx(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,r,o,l){return this.rangedFilter_.matches(new hn(e,i))||(i=en.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,r,o,l):this.fullLimitUpdateChild_(t,e,i,o,l)}updateFullNode(t,e,i){let r;if(e.isLeafNode()||e.isEmpty())r=en.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let o;r=en.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const u=o.getNext();if(this.withinDirectionalStart(u)){if(!this.withinDirectionalEnd(u))break;r=r.updateImmediateChild(u.name,u.node),l++}}}else{let o;r=e.withIndex(this.index_),r=r.updatePriority(en.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let l=0;for(;o.hasNext();){const u=o.getNext();l<this.limit_&&this.withinDirectionalStart(u)&&this.withinDirectionalEnd(u)?l++:r=r.updateImmediateChild(u.name,en.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,r,o){let l;if(this.reverse_){const D=this.index_.getCompare();l=(R,F)=>D(F,R)}else l=this.index_.getCompare();const u=t;(0,N.hu)(u.numChildren()===this.limit_,"");const p=new hn(e,i),v=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),x=this.rangedFilter_.matches(p);if(u.hasChild(e)){const D=u.getImmediateChild(e);let R=r.getChildAfterChild(this.index_,v,this.reverse_);for(;null!=R&&(R.name===e||u.hasChild(R.name));)R=r.getChildAfterChild(this.index_,R,this.reverse_);const F=null==R?1:l(R,p);if(x&&!i.isEmpty()&&F>=0)return o?.trackChildChange(px(e,i,D)),u.updateImmediateChild(e,i);{o?.trackChildChange(mx(e,D));const Y=u.updateImmediateChild(e,en.EMPTY_NODE);return null!=R&&this.rangedFilter_.matches(R)?(o?.trackChildChange(jy(R.name,R.node)),Y.updateImmediateChild(R.name,R.node)):Y}}return i.isEmpty()?t:x&&l(v,p)>=0?(null!=o&&(o.trackChildChange(mx(v.name,v.node)),o.trackChildChange(jy(e,i))),u.updateImmediateChild(e,i).updateImmediateChild(v.name,en.EMPTY_NODE)):t}}class wD{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ui}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,N.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pm}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,N.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:eh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,N.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ui}copy(){const t=new wD;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function WP(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function qP(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function xD(n,t){const e=n.copy();return e.index_=t,e}function B3(n){const t={};if(n.isDefault())return t;let e;if(n.index_===ui?e="$priority":n.index_===GP?e="$value":n.index_===Fd?e="$key":((0,N.hu)(n.index_ instanceof jP,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,N.Wl)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,N.Wl)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,N.Wl)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,N.Wl)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,N.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function V3(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==ui&&(t.i=n.index_.toString()),t}class CD extends C3{constructor(t,e,i,r){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=sx("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,N.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,r){const o=t._path.toString();this.log_("Listen called for "+o+" "+t._queryIdentifier);const l=CD.getListenId_(t,i),u={};this.listens_[l]=u;const p=B3(t._queryParams);this.restRequest_(o+".json",p,(v,x)=>{let D=x;if(404===v&&(D=null,v=null),null===v&&this.onDataUpdate_(o,D,!1,i),(0,N.DV)(this.listens_,l)===u){let R;R=v?401===v?"permission_denied":"rest_error:"+v:"ok",r(R,null)}})}unlisten(t,e){const i=CD.getListenId_(t,e);delete this.listens_[i]}get(t){const e=B3(t._queryParams),i=t._path.toString(),r=new N.BH;return this.restRequest_(i+".json",e,(o,l)=>{let u=l;404===o&&(u=null,o=null),null===o?(this.onDataUpdate_(i,u,!1,null),r.resolve(u)):r.reject(new Error(u))}),r.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(e.auth=r.accessToken),o&&o.token&&(e.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,N.xO)(e);this.log_("Sending REST request for "+l);const u=new XMLHttpRequest;u.onreadystatechange=()=>{if(i&&4===u.readyState){this.log_("REST Response for "+l+" received. status:",u.status,"response:",u.responseText);let p=null;if(u.status>=200&&u.status<300){try{p=(0,N.cI)(u.responseText)}catch{qo("Failed to parse JSON response for "+l+": "+u.responseText)}i(null,p)}else 401!==u.status&&404!==u.status&&qo("Got unsuccessful REST response for "+l+" Status: "+u.status),i(u.status);i=null}},u.open("GET",l,!0),u.send()})}}class fJ{constructor(){this.rootNode_=en.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function ED(){return{value:null,children:new Map}}function Gy(n,t,e){if(dn(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=cn(t);n.children.has(i)||n.children.set(i,ED()),Gy(n.children.get(i),t=ri(t),e)}}function YP(n,t){if(dn(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(ui,(i,r)=>{Gy(n,new Ln(i),r)}),YP(n,t)}}if(n.children.size>0){const e=cn(t);return t=ri(t),n.children.has(e)&&YP(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function KP(n,t,e){null!==n.value?e(t,n.value):function mJ(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,r)=>{KP(r,new Ln(t.toString()+"/"+i),e)})}class pJ{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&io(this.last_,(i,r)=>{e[i]=e[i]-r}),this.last_=t,e}}class vJ{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new pJ(t);const i=1e4+2e4*Math.random();lx(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;io(t,(r,o)=>{o>0&&(0,N.r3)(this.statsToReport_,r)&&(e[r]=o,i=!0)}),i&&this.server_.reportStats(e),lx(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var fl=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(fl||(fl={})),fl))();function XP(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class ID{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=fl.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(dn(this.path)){if(null!=this.affectedTree.value)return(0,N.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new Ln(t));return new ID(Mn(),e,this.revert)}}return(0,N.hu)(cn(this.path)===t,"operationForChild called for unrelated child."),new ID(ri(this.path),this.affectedTree,this.revert)}}class _x{constructor(t,e){this.source=t,this.path=e,this.type=fl.LISTEN_COMPLETE}operationForChild(t){return dn(this.path)?new _x(this.source,Mn()):new _x(this.source,ri(this.path))}}class Vg{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=fl.OVERWRITE}operationForChild(t){return dn(this.path)?new Vg(this.source,Mn(),this.snap.getImmediateChild(t)):new Vg(this.source,ri(this.path),this.snap)}}class $y{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=fl.MERGE}operationForChild(t){if(dn(this.path)){const e=this.children.subtree(new Ln(t));return e.isEmpty()?null:e.value?new Vg(this.source,Mn(),e.value):new $y(this.source,Mn(),e)}return(0,N.hu)(cn(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new $y(this.source,ri(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class vm{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(dn(t))return this.isFullyInitialized()&&!this.filtered_;const e=cn(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class yJ{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function vx(n,t,e,i,r,o){const l=i.filter(u=>u.type===e);l.sort((u,p)=>function xJ(n,t,e){if(null==t.childName||null==e.childName)throw(0,N.g5)("Should only compare child_ events.");const i=new hn(t.childName,t.snapshotNode),r=new hn(e.childName,e.snapshotNode);return n.index_.compare(i,r)}(n,u,p)),l.forEach(u=>{const p=function wJ(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,u,o);r.forEach(v=>{v.respondsTo(u.type)&&t.push(v.createEvent(p,n.query_))})})}function SD(n,t){return{eventCache:n,serverCache:t}}function yx(n,t,e,i){return SD(new vm(t,e,i),n.serverCache)}function H3(n,t,e,i){return SD(n.eventCache,new vm(t,e,i))}function DD(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ug(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let JP;class hi{constructor(t,e=(()=>(JP||(JP=new Gs(sX)),JP))()){this.value=t,this.children=e}static fromObject(t){let e=new hi(null);return io(t,(i,r)=>{e=e.set(new Ln(i),r)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Mn(),value:this.value};if(dn(t))return null;{const i=cn(t),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(ri(t),e);return null!=o?{path:Oi(new Ln(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(dn(t))return this;{const e=cn(t),i=this.children.get(e);return null!==i?i.subtree(ri(t)):new hi(null)}}set(t,e){if(dn(t))return new hi(e,this.children);{const i=cn(t),o=(this.children.get(i)||new hi(null)).set(ri(t),e),l=this.children.insert(i,o);return new hi(this.value,l)}}remove(t){if(dn(t))return this.children.isEmpty()?new hi(null):new hi(null,this.children);{const e=cn(t),i=this.children.get(e);if(i){const r=i.remove(ri(t));let o;return o=r.isEmpty()?this.children.remove(e):this.children.insert(e,r),null===this.value&&o.isEmpty()?new hi(null):new hi(this.value,o)}return this}}get(t){if(dn(t))return this.value;{const e=cn(t),i=this.children.get(e);return i?i.get(ri(t)):null}}setTree(t,e){if(dn(t))return e;{const i=cn(t),o=(this.children.get(i)||new hi(null)).setTree(ri(t),e);let l;return l=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new hi(this.value,l)}}fold(t){return this.fold_(Mn(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(Oi(t,r),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Mn(),e)}findOnPath_(t,e,i){const r=!!this.value&&i(e,this.value);if(r)return r;if(dn(t))return null;{const o=cn(t),l=this.children.get(o);return l?l.findOnPath_(ri(t),Oi(e,o),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Mn(),e)}foreachOnPath_(t,e,i){if(dn(t))return this;{this.value&&i(e,this.value);const r=cn(t),o=this.children.get(r);return o?o.foreachOnPath_(ri(t),Oi(e,r),i):new hi(null)}}foreach(t){this.foreach_(Mn(),t)}foreach_(t,e){this.children.inorderTraversal((i,r)=>{r.foreach_(Oi(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class wc{constructor(t){this.writeTree_=t}static empty(){return new wc(new hi(null))}}function bx(n,t,e){if(dn(t))return new wc(new hi(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const r=i.path;let o=i.value;const l=gs(r,t);return o=o.updateChild(l,e),new wc(n.writeTree_.set(r,o))}{const r=new hi(e),o=n.writeTree_.setTree(t,r);return new wc(o)}}}function eF(n,t,e){let i=n;return io(e,(r,o)=>{i=bx(i,Oi(t,r),o)}),i}function z3(n,t){if(dn(t))return wc.empty();{const e=n.writeTree_.setTree(t,new hi(null));return new wc(e)}}function tF(n,t){return null!=Hg(n,t)}function Hg(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(gs(e.path,t)):null}function j3(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(ui,(i,r)=>{t.push(new hn(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&t.push(new hn(i,r.value))}),t}function ym(n,t){if(dn(t))return n;{const e=Hg(n,t);return new wc(null!=e?new hi(e):n.writeTree_.subtree(t))}}function nF(n){return n.writeTree_.isEmpty()}function Wy(n,t){return G3(Mn(),n.writeTree_,t)}function G3(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((r,o)=>{".priority"===r?((0,N.hu)(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):e=G3(Oi(n,r),o,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Oi(n,".priority"),i)),e}}function TD(n,t){return K3(t,n)}function TJ(n,t){if(n.snap)return hl(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&hl(Oi(n.path,e),t))return!0;return!1}function AJ(n){return n.visible}function $3(n,t,e){let i=wc.empty();for(let r=0;r<n.length;++r){const o=n[r];if(t(o)){const l=o.path;let u;if(o.snap)hl(e,l)?(u=gs(e,l),i=bx(i,u,o.snap)):hl(l,e)&&(u=gs(l,e),i=bx(i,Mn(),o.snap.getChild(u)));else{if(!o.children)throw(0,N.g5)("WriteRecord should have .snap or .children");if(hl(e,l))u=gs(e,l),i=eF(i,u,o.children);else if(hl(l,e))if(u=gs(l,e),dn(u))i=eF(i,Mn(),o.children);else{const p=(0,N.DV)(o.children,cn(u));if(p){const v=p.getChild(ri(u));i=bx(i,Mn(),v)}}}}}return i}function W3(n,t,e,i,r){if(i||r){const o=ym(n.visibleWrites,t);return!r&&nF(o)?e:r||null!=e||tF(o,Mn())?Wy($3(n.allWrites,function(v){return(v.visible||r)&&(!i||!~i.indexOf(v.writeId))&&(hl(v.path,t)||hl(t,v.path))},t),e||en.EMPTY_NODE):null}{const o=Hg(n.visibleWrites,t);if(null!=o)return o;{const l=ym(n.visibleWrites,t);return nF(l)?e:null!=e||tF(l,Mn())?Wy(l,e||en.EMPTY_NODE):null}}}function MD(n,t,e,i){return W3(n.writeTree,n.treePath,t,e,i)}function iF(n,t){return function kJ(n,t,e){let i=en.EMPTY_NODE;const r=Hg(n.visibleWrites,t);if(r)return r.isLeafNode()||r.forEachChild(ui,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(e){const o=ym(n.visibleWrites,t);return e.forEachChild(ui,(l,u)=>{const p=Wy(ym(o,new Ln(l)),u);i=i.updateImmediateChild(l,p)}),j3(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}return j3(ym(n.visibleWrites,t)).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}(n.writeTree,n.treePath,t)}function q3(n,t,e,i){return function RJ(n,t,e,i,r){(0,N.hu)(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=Oi(t,e);if(tF(n.visibleWrites,o))return null;{const l=ym(n.visibleWrites,o);return nF(l)?r.getChild(e):Wy(l,r.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function AD(n,t){return function PJ(n,t){return Hg(n.visibleWrites,t)}(n.writeTree,Oi(n.treePath,t))}function rF(n,t,e){return function OJ(n,t,e,i){const r=Oi(t,e),o=Hg(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(e)?Wy(ym(n.visibleWrites,r),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function Y3(n,t){return K3(Oi(n.treePath,t),n.writeTree)}function K3(n,t){return{treePath:n,writeTree:t}}class BJ{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,N.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,N.hu)(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===e&&"child_removed"===o)this.changeMap.set(i,px(i,t.snapshotNode,r.snapshotNode));else if("child_removed"===e&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===o)this.changeMap.set(i,mx(i,r.oldSnap));else if("child_changed"===e&&"child_added"===o)this.changeMap.set(i,jy(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==o)throw(0,N.g5)("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(i,px(i,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const Z3=new class VJ{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class oF{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new vm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return rF(this.writes_,t,i)}}getChildAfterChild(t,e,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ug(this.viewCache_),o=function LJ(n,t,e,i,r,o){return function FJ(n,t,e,i,r,o,l){let u;const p=ym(n.visibleWrites,t),v=Hg(p,Mn());if(null!=v)u=v;else{if(null==e)return[];u=Wy(p,e)}if(u=u.withIndex(l),u.isEmpty()||u.isLeafNode())return[];{const x=[],D=l.getCompare(),R=o?u.getReverseIteratorFrom(i,l):u.getIteratorFrom(i,l);let F=R.getNext();for(;F&&x.length<r;)0!==D(F,i)&&x.push(F),F=R.getNext();return x}}(n.writeTree,n.treePath,t,e,i,r,o)}(this.writes_,r,e,1,i,t);return 0===o.length?null:o[0]}}function Q3(n,t,e,i,r,o){const l=t.eventCache;if(null!=AD(i,e))return t;{let u,p;if(dn(e))if((0,N.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const v=Ug(t),D=iF(i,v instanceof en?v:en.EMPTY_NODE);u=n.filter.updateFullNode(t.eventCache.getNode(),D,o)}else{const v=MD(i,Ug(t));u=n.filter.updateFullNode(t.eventCache.getNode(),v,o)}else{const v=cn(e);if(".priority"===v){(0,N.hu)(1===_m(e),"Can't have a priority with additional path components");const x=l.getNode();p=t.serverCache.getNode();const D=q3(i,e,x,p);u=null!=D?n.filter.updatePriority(x,D):l.getNode()}else{const x=ri(e);let D;if(l.isCompleteForChild(v)){p=t.serverCache.getNode();const R=q3(i,e,l.getNode(),p);D=null!=R?l.getNode().getImmediateChild(v).updateChild(x,R):l.getNode().getImmediateChild(v)}else D=rF(i,v,t.serverCache);u=null!=D?n.filter.updateChild(l.getNode(),v,D,x,r,o):l.getNode()}}return yx(t,u,l.isFullyInitialized()||dn(e),n.filter.filtersNodes())}}function kD(n,t,e,i,r,o,l,u){const p=t.serverCache;let v;const x=l?n.filter:n.filter.getIndexedFilter();if(dn(e))v=x.updateFullNode(p.getNode(),i,null);else if(x.filtersNodes()&&!p.isFiltered()){const F=p.getNode().updateChild(e,i);v=x.updateFullNode(p.getNode(),F,null)}else{const F=cn(e);if(!p.isCompleteForPath(e)&&_m(e)>1)return t;const H=ri(e),te=p.getNode().getImmediateChild(F).updateChild(H,i);v=".priority"===F?x.updatePriority(p.getNode(),te):x.updateChild(p.getNode(),F,te,H,Z3,null)}const D=H3(t,v,p.isFullyInitialized()||dn(e),x.filtersNodes());return Q3(n,D,e,r,new oF(r,D,o),u)}function sF(n,t,e,i,r,o,l){const u=t.eventCache;let p,v;const x=new oF(r,t,o);if(dn(e))v=n.filter.updateFullNode(t.eventCache.getNode(),i,l),p=yx(t,v,!0,n.filter.filtersNodes());else{const D=cn(e);if(".priority"===D)v=n.filter.updatePriority(t.eventCache.getNode(),i),p=yx(t,v,u.isFullyInitialized(),u.isFiltered());else{const R=ri(e),F=u.getNode().getImmediateChild(D);let H;if(dn(R))H=i;else{const Y=x.getCompleteChild(D);H=null!=Y?".priority"===LP(R)&&Y.getChild(D3(R)).isEmpty()?Y:Y.updateChild(R,i):en.EMPTY_NODE}p=F.equals(H)?t:yx(t,n.filter.updateChild(u.getNode(),D,H,R,x,l),u.isFullyInitialized(),n.filter.filtersNodes())}}return p}function X3(n,t){return n.eventCache.isCompleteForChild(t)}function J3(n,t,e){return e.foreach((i,r)=>{t=t.updateChild(i,r)}),t}function aF(n,t,e,i,r,o,l,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let v,p=t;v=dn(e)?i:new hi(null).setTree(e,i);const x=t.serverCache.getNode();return v.children.inorderTraversal((D,R)=>{if(x.hasChild(D)){const H=J3(0,t.serverCache.getNode().getImmediateChild(D),R);p=kD(n,p,new Ln(D),H,r,o,l,u)}}),v.children.inorderTraversal((D,R)=>{const F=!t.serverCache.isCompleteForChild(D)&&null===R.value;if(!x.hasChild(D)&&!F){const Y=J3(0,t.serverCache.getNode().getImmediateChild(D),R);p=kD(n,p,new Ln(D),Y,r,o,l,u)}}),p}class YJ{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new $P(i.getIndex()),o=function lJ(n){return n.loadsAllData()?new $P(n.getIndex()):n.hasLimit()?new aJ(n):new gx(n)}(i);this.processor_=function UJ(n){return{filter:n}}(o);const l=e.serverCache,u=e.eventCache,p=r.updateFullNode(en.EMPTY_NODE,l.getNode(),null),v=o.updateFullNode(en.EMPTY_NODE,u.getNode(),null),x=new vm(p,l.isFullyInitialized(),r.filtersNodes()),D=new vm(v,u.isFullyInitialized(),o.filtersNodes());this.viewCache_=SD(D,x),this.eventGenerator_=new yJ(this.query_)}get query(){return this.query_}}function QJ(n,t){const e=Ug(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!dn(t)&&!e.getImmediateChild(cn(t)).isEmpty())?e.getChild(t):null}function e4(n){return 0===n.eventRegistrations_.length}function t4(n,t,e){const i=[];if(e){(0,N.hu)(null==t,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(e,r);l&&i.push(l)})}if(t){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const l=n.eventRegistrations_[o];if(l.matches(t)){if(t.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(l)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function n4(n,t,e,i){t.type===fl.MERGE&&null!==t.source.queryId&&((0,N.hu)(Ug(n.viewCache_),"We should always have a full cache before handling merges"),(0,N.hu)(DD(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function zJ(n,t,e,i,r){const o=new BJ;let l,u;if(e.type===fl.OVERWRITE){const v=e;v.source.fromUser?l=sF(n,t,v.path,v.snap,i,r,o):((0,N.hu)(v.source.fromServer,"Unknown source."),u=v.source.tagged||t.serverCache.isFiltered()&&!dn(v.path),l=kD(n,t,v.path,v.snap,i,r,u,o))}else if(e.type===fl.MERGE){const v=e;v.source.fromUser?l=function GJ(n,t,e,i,r,o,l){let u=t;return i.foreach((p,v)=>{const x=Oi(e,p);X3(t,cn(x))&&(u=sF(n,u,x,v,r,o,l))}),i.foreach((p,v)=>{const x=Oi(e,p);X3(t,cn(x))||(u=sF(n,u,x,v,r,o,l))}),u}(n,t,v.path,v.children,i,r,o):((0,N.hu)(v.source.fromServer,"Unknown source."),u=v.source.tagged||t.serverCache.isFiltered(),l=aF(n,t,v.path,v.children,i,r,u,o))}else if(e.type===fl.ACK_USER_WRITE){const v=e;l=v.revert?function qJ(n,t,e,i,r,o){let l;if(null!=AD(i,e))return t;{const u=new oF(i,t,r),p=t.eventCache.getNode();let v;if(dn(e)||".priority"===cn(e)){let x;if(t.serverCache.isFullyInitialized())x=MD(i,Ug(t));else{const D=t.serverCache.getNode();(0,N.hu)(D instanceof en,"serverChildren would be complete if leaf node"),x=iF(i,D)}v=n.filter.updateFullNode(p,x,o)}else{const x=cn(e);let D=rF(i,x,t.serverCache);null==D&&t.serverCache.isCompleteForChild(x)&&(D=p.getImmediateChild(x)),v=null!=D?n.filter.updateChild(p,x,D,ri(e),u,o):t.eventCache.getNode().hasChild(x)?n.filter.updateChild(p,x,en.EMPTY_NODE,ri(e),u,o):p,v.isEmpty()&&t.serverCache.isFullyInitialized()&&(l=MD(i,Ug(t)),l.isLeafNode()&&(v=n.filter.updateFullNode(v,l,o)))}return l=t.serverCache.isFullyInitialized()||null!=AD(i,Mn()),yx(t,v,l,n.filter.filtersNodes())}}(n,t,v.path,i,r,o):function $J(n,t,e,i,r,o,l){if(null!=AD(r,e))return t;const u=t.serverCache.isFiltered(),p=t.serverCache;if(null!=i.value){if(dn(e)&&p.isFullyInitialized()||p.isCompleteForPath(e))return kD(n,t,e,p.getNode().getChild(e),r,o,u,l);if(dn(e)){let v=new hi(null);return p.getNode().forEachChild(Fd,(x,D)=>{v=v.set(new Ln(x),D)}),aF(n,t,e,v,r,o,u,l)}return t}{let v=new hi(null);return i.foreach((x,D)=>{const R=Oi(e,x);p.isCompleteForPath(R)&&(v=v.set(x,p.getNode().getChild(R)))}),aF(n,t,e,v,r,o,u,l)}}(n,t,v.path,v.affectedTree,i,r,o)}else{if(e.type!==fl.LISTEN_COMPLETE)throw(0,N.g5)("Unknown operation type: "+e.type);l=function WJ(n,t,e,i,r){const o=t.serverCache;return Q3(n,H3(t,o.getNode(),o.isFullyInitialized()||dn(e),o.isFiltered()),e,i,Z3,r)}(n,t,e.path,i,o)}const p=o.getChanges();return function jJ(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=DD(n);(e.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&e.push(L3(DD(t)))}}(t,l,p),{viewCache:l,changes:p}}(n.processor_,r,t,e,i);return function HJ(n,t){(0,N.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,N.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),(0,N.hu)(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,r4(n,o.changes,o.viewCache.eventCache.getNode(),null)}function r4(n,t,e,i){return function bJ(n,t,e,i){const r=[],o=[];return t.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(function sJ(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(l.childName,l.snapshotNode))}),vx(n,r,"child_removed",t,i,e),vx(n,r,"child_added",t,i,e),vx(n,r,"child_moved",o,i,e),vx(n,r,"child_changed",t,i,e),vx(n,r,"value",t,i,e),r}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let RD,PD;class o4{constructor(){this.views=new Map}}function lF(n,t,e,i){const r=t.source.queryId;if(null!==r){const o=n.views.get(r);return(0,N.hu)(null!=o,"SyncTree gave us an op for an invalid query."),n4(o,t,e,i)}{let o=[];for(const l of n.views.values())o=o.concat(n4(l,t,e,i));return o}}function s4(n,t,e,i,r){const l=n.views.get(t._queryIdentifier);if(!l){let u=MD(e,r?i:null),p=!1;u?p=!0:i instanceof en?(u=iF(e,i),p=!1):(u=en.EMPTY_NODE,p=!1);const v=SD(new vm(u,p,!1),new vm(i,r,!1));return new YJ(t,v)}return l}function a4(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function bm(n,t){let e=null;for(const i of n.views.values())e=e||QJ(i,t);return e}function l4(n,t){return t._queryParams.loadsAllData()?OD(n):n.views.get(t._queryIdentifier)}function c4(n,t){return null!=l4(n,t)}function wm(n){return null!=OD(n)}function OD(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let aee=1;class d4{constructor(t){this.listenProvider_=t,this.syncPointTree_=new hi(null),this.pendingWriteTree_=function NJ(){return{visibleWrites:wc.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cF(n,t,e,i,r){return function EJ(n,t,e,i,r){(0,N.hu)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:r}),r&&(n.visibleWrites=bx(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,r),r?qy(n,new Vg({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function xm(n,t,e=!1){const i=function SJ(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function DJ(n,t){const e=n.allWrites.findIndex(u=>u.writeId===t);(0,N.hu)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let r=i.visible,o=!1,l=n.allWrites.length-1;for(;r&&l>=0;){const u=n.allWrites[l];u.visible&&(l>=e&&TJ(u,i.path)?r=!1:hl(i.path,u.path)&&(o=!0)),l--}return!!r&&(o?(function MJ(n){n.visibleWrites=$3(n.allWrites,AJ,Mn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=z3(n.visibleWrites,i.path):io(i.children,p=>{n.visibleWrites=z3(n.visibleWrites,Oi(i.path,p))}),!0))}(n.pendingWriteTree_,t)){let o=new hi(null);return null!=i.snap?o=o.set(Mn(),!0):io(i.children,l=>{o=o.set(new Ln(l),!0)}),qy(n,new ID(i.path,o,e))}return[]}function wx(n,t,e){return qy(n,new Vg({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function FD(n,t,e,i,r=!1){const o=t._path,l=n.syncPointTree_.get(o);let u=[];if(l&&("default"===t._queryIdentifier||c4(l,t))){const p=function ree(n,t,e,i){const r=t._queryIdentifier,o=[];let l=[];const u=wm(n);if("default"===r)for(const[p,v]of n.views.entries())l=l.concat(t4(v,e,i)),e4(v)&&(n.views.delete(p),v.query._queryParams.loadsAllData()||o.push(v.query));else{const p=n.views.get(r);p&&(l=l.concat(t4(p,e,i)),e4(p)&&(n.views.delete(r),p.query._queryParams.loadsAllData()||o.push(p.query)))}return u&&!wm(n)&&o.push(new(function tee(){return(0,N.hu)(RD,"Reference.ts has not been loaded"),RD}())(t._repo,t._path)),{removed:o,events:l}}(l,t,e,i);(function nee(n){return 0===n.views.size})(l)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const v=p.removed;if(u=p.events,!r){const x=-1!==v.findIndex(R=>R._queryParams.loadsAllData()),D=n.syncPointTree_.findOnPath(o,(R,F)=>wm(F));if(x&&!D){const R=n.syncPointTree_.subtree(o);if(!R.isEmpty()){const F=function mee(n){return n.fold((t,e,i)=>{if(e&&wm(e))return[OD(e)];{let r=[];return e&&(r=a4(e)),io(i,(o,l)=>{r=r.concat(l)}),r}})}(R);for(let H=0;H<F.length;++H){const Y=F[H],te=Y.query,Ve=m4(n,Y);n.listenProvider_.startListening(Cx(te),xx(n,te),Ve.hashFn,Ve.onComplete)}}}!D&&v.length>0&&!i&&(x?n.listenProvider_.stopListening(Cx(t),null):v.forEach(R=>{const F=n.queryToTagMap.get(LD(R));n.listenProvider_.stopListening(Cx(R),F)}))}!function pee(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const r=LD(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,v)}return u}function u4(n,t,e,i){const r=uF(n,i);if(null!=r){const o=hF(r),l=o.path,u=o.queryId,p=gs(l,t);return fF(n,l,new Vg(XP(u),p,e))}return[]}function dF(n,t,e,i=!1){const r=t._path;let o=null,l=!1;n.syncPointTree_.foreachOnPath(r,(R,F)=>{const H=gs(R,r);o=o||bm(F,H),l=l||wm(F)});let p,u=n.syncPointTree_.get(r);u?(l=l||wm(u),o=o||bm(u,Mn())):(u=new o4,n.syncPointTree_=n.syncPointTree_.set(r,u)),null!=o?p=!0:(p=!1,o=en.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((F,H)=>{const Y=bm(H,Mn());Y&&(o=o.updateImmediateChild(F,Y))}));const v=c4(u,t);if(!v&&!t._queryParams.loadsAllData()){const R=LD(t);(0,N.hu)(!n.queryToTagMap.has(R),"View does not exist, but we have a tag");const F=function gee(){return aee++}();n.queryToTagMap.set(R,F),n.tagToQueryMap.set(F,R)}let D=function iee(n,t,e,i,r,o){const l=s4(n,t,i,r,o);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,l),function XJ(n,t){n.eventRegistrations_.push(t)}(l,e),function JJ(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(ui,(o,l)=>{i.push(jy(o,l))}),e.isFullyInitialized()&&i.push(L3(e.getNode())),r4(n,i,e.getNode(),t)}(l,e)}(u,t,e,TD(n.pendingWriteTree_,r),o,p);if(!v&&!l&&!i){const R=l4(u,t);D=D.concat(function _ee(n,t,e){const i=t._path,r=xx(n,t),o=m4(n,e),l=n.listenProvider_.startListening(Cx(t),r,o.hashFn,o.onComplete),u=n.syncPointTree_.subtree(i);if(r)(0,N.hu)(!wm(u.value),"If we're adding a query, it shouldn't be shadowed");else{const p=u.fold((v,x,D)=>{if(!dn(v)&&x&&wm(x))return[OD(x).query];{let R=[];return x&&(R=R.concat(a4(x).map(F=>F.query))),io(D,(F,H)=>{R=R.concat(H)}),R}});for(let v=0;v<p.length;++v){const x=p[v];n.listenProvider_.stopListening(Cx(x),xx(n,x))}}return l}(n,t,R))}return D}function ND(n,t,e){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(t,(l,u)=>{const v=bm(u,gs(l,t));if(v)return v});return W3(r,t,o,e,!0)}function qy(n,t){return h4(t,n.syncPointTree_,null,TD(n.pendingWriteTree_,Mn()))}function h4(n,t,e,i){if(dn(n.path))return f4(n,t,e,i);{const r=t.get(Mn());null==e&&null!=r&&(e=bm(r,Mn()));let o=[];const l=cn(n.path),u=n.operationForChild(l),p=t.children.get(l);if(p&&u){const v=e?e.getImmediateChild(l):null,x=Y3(i,l);o=o.concat(h4(u,p,v,x))}return r&&(o=o.concat(lF(r,n,i,e))),o}}function f4(n,t,e,i){const r=t.get(Mn());null==e&&null!=r&&(e=bm(r,Mn()));let o=[];return t.children.inorderTraversal((l,u)=>{const p=e?e.getImmediateChild(l):null,v=Y3(i,l),x=n.operationForChild(l);x&&(o=o.concat(f4(x,u,p,v)))}),r&&(o=o.concat(lF(r,n,i,e))),o}function m4(n,t){const e=t.query,i=xx(n,e);return{hashFn:()=>(function KJ(n){return n.viewCache_.serverCache.getNode()}(t)||en.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function uee(n,t,e){const i=uF(n,e);if(i){const r=hF(i),o=r.path,l=r.queryId,u=gs(o,t);return fF(n,o,new _x(XP(l),u))}return[]}(n,e._path,i):function dee(n,t){return qy(n,new _x({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const o=function cX(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(r,e);return FD(n,e,null,o)}}}}function xx(n,t){const e=LD(t);return n.queryToTagMap.get(e)}function LD(n){return n._path.toString()+"$"+n._queryIdentifier}function uF(n,t){return n.tagToQueryMap.get(t)}function hF(n){const t=n.indexOf("$");return(0,N.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new Ln(n.substr(0,t))}}function fF(n,t,e){const i=n.syncPointTree_.get(t);return(0,N.hu)(i,"Missing sync point for query tag that we're tracking"),lF(i,e,TD(n.pendingWriteTree_,t),null)}function Cx(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function see(){return(0,N.hu)(PD,"Reference.ts has not been loaded"),PD}())(n._repo,n._path):n}class mF{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new mF(e)}node(){return this.node_}}class pF{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Oi(this.path_,t);return new pF(this.syncTree_,e)}node(){return ND(this.syncTree_,this.path_)}}const vee=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},p4=function(n,t,e){return n&&"object"==typeof n?((0,N.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?yee(n[".sv"],t,e):"object"==typeof n[".sv"]?bee(n[".sv"],t):void(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},yee=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,N.hu)(!1,"Unexpected server value: "+n)},bee=function(n,t,e){n.hasOwnProperty("increment")||(0,N.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,N.hu)(!1,"Unexpected increment value: "+i);const r=t.node();if((0,N.hu)(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const l=r.getValue();return"number"!=typeof l?i:l+i},g4=function(n,t,e,i){return _F(t,new pF(e,n),i)},gF=function(n,t,e){return _F(n,new mF(t),e)};function _F(n,t,e){const i=n.getPriority().val(),r=p4(i,t.getImmediateChild(".priority"),e);let o;if(n.isLeafNode()){const l=n,u=p4(l.getValue(),t,e);return u!==l.getValue()||r!==l.getPriority().val()?new Hy(u,ji(r)):n}{const l=n;return o=l,r!==l.getPriority().val()&&(o=o.updatePriority(new Hy(r))),l.forEachChild(ui,(u,p)=>{const v=_F(p,t.getImmediateChild(u),e);v!==p&&(o=o.updateImmediateChild(u,v))}),o}}class vF{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function BD(n,t){let e=t instanceof Ln?t:new Ln(t),i=n,r=cn(e);for(;null!==r;){const o=(0,N.DV)(i.node.children,r)||{children:{},childCount:0};i=new vF(r,i,o),e=ri(e),r=cn(e)}return i}function zg(n){return n.node.value}function yF(n,t){n.node.value=t,bF(n)}function _4(n){return n.node.childCount>0}function VD(n,t){io(n.node.children,(e,i)=>{t(new vF(e,n,i))})}function v4(n,t,e,i){e&&!i&&t(n),VD(n,r=>{v4(r,t,!0,i)}),e&&i&&t(n)}function Ex(n){return new Ln(null===n.parent?n.name:Ex(n.parent)+"/"+n.name)}function bF(n){null!==n.parent&&function Cee(n,t,e){const i=function wee(n){return void 0===zg(n)&&!_4(n)}(e),r=(0,N.r3)(n.node.children,t);i&&r?(delete n.node.children[t],n.node.childCount--,bF(n)):!i&&!r&&(n.node.children[t]=e.node,n.node.childCount++,bF(n))}(n.parent,n.name,n)}const Eee=/[\[\].#$\/\u0000-\u001F\u007F]/,Iee=/[\[\].#$\u0000-\u001F\u007F]/,wF=10485760,UD=function(n){return"string"==typeof n&&0!==n.length&&!Eee.test(n)},y4=function(n){return"string"==typeof n&&0!==n.length&&!Iee.test(n)},Ix=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!fD(n)||n&&"object"==typeof n&&(0,N.r3)(n,".sv")},Nd=function(n,t,e,i){i&&void 0===t||Sx((0,N.gK)(n,"value"),t,e)},Sx=function(n,t,e){const i=e instanceof Ln?new zX(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Lg(i));if("function"==typeof t)throw new Error(n+"contains a function "+Lg(i)+" with contents = "+t.toString());if(fD(t))throw new Error(n+"contains "+t.toString()+" "+Lg(i));if("string"==typeof t&&t.length>wF/3&&(0,N.ug)(t)>wF)throw new Error(n+"contains a string greater than "+wF+" utf8 bytes "+Lg(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let r=!1,o=!1;if(io(t,(l,u)=>{if(".value"===l)r=!0;else if(".priority"!==l&&".sv"!==l&&(o=!0,!UD(l)))throw new Error(n+" contains an invalid key ("+l+") "+Lg(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function jX(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,N.ug)(t),T3(n)})(i,l),Sx(n,u,i),function GX(n){const t=n.parts_.pop();n.byteLength_-=(0,N.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Lg(i)+" in addition to actual children.")}},b4=function(n,t,e,i){if(i&&void 0===t)return;const r=(0,N.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(r+" must be an object containing the children to replace.");const o=[];io(t,(l,u)=>{const p=new Ln(l);if(Sx(r,u,Oi(e,p)),".priority"===LP(p)&&!Ix(u))throw new Error(r+"contains an invalid value for '"+p.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(p)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const o=dx(i);for(let l=0;l<o.length;l++)if((".priority"!==o[l]||l!==o.length-1)&&!UD(o[l]))throw new Error(n+"contains an invalid key ("+o[l]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(HX);let r=null;for(e=0;e<t.length;e++){if(i=t[e],null!==r&&hl(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},xF=function(n,t,e){if(!e||void 0!==t){if(fD(t))throw new Error((0,N.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Ix(t))throw new Error((0,N.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Dx=function(n,t,e,i){if(!(i&&void 0===e||UD(e)))throw new Error((0,N.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Tx=function(n,t,e,i){if(!(i&&void 0===e||y4(e)))throw new Error((0,N.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Tee=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Tx(n,t,e,i)},ml=function(n,t){if(".info"===cn(t))throw new Error(n+" failed = Can't modify data under /.info/")},w4=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!UD(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),y4(n)}(e))throw new Error((0,N.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Mee{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function HD(n,t){let e=null;for(let i=0;i<t.length;i++){const r=t[i],o=r.getPath();null!==e&&!BP(o,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:o}),e.events.push(r)}e&&n.eventLists_.push(e)}function x4(n,t,e){HD(n,e),C4(n,i=>BP(i,t))}function Aa(n,t,e){HD(n,e),C4(n,i=>hl(i,t)||hl(t,i))}function C4(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(t(r.path)?(Aee(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function Aee(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Fg&&no("event: "+e.toString()),Vy(i)}}}const E4="repo_interrupt",kee=25;class Ree{constructor(t,e,i,r){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Mee,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ED(),this.transactionQueueTree_=new vF,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function I4(n){const e=n.infoData_.getNode(new Ln(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Mx(n){return vee({timestamp:I4(n)})}function S4(n,t,e,i,r){n.dataUpdateCount++;const o=new Ln(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let l=[];if(r)if(i){const p=(0,N.UI)(e,v=>ji(v));l=function hee(n,t,e,i){const r=uF(n,i);if(r){const o=hF(r),l=o.path,u=o.queryId,p=gs(l,t),v=hi.fromObject(e);return fF(n,l,new $y(XP(u),p,v))}return[]}(n.serverSyncTree_,o,p,r)}else{const p=ji(e);l=u4(n.serverSyncTree_,o,p,r)}else if(i){const p=(0,N.UI)(e,v=>ji(v));l=function cee(n,t,e){const i=hi.fromObject(e);return qy(n,new $y({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,o,p)}else{const p=ji(e);l=wx(n.serverSyncTree_,o,p)}let u=o;l.length>0&&(u=Ky(n,o)),Aa(n.eventQueue_,u,l)}function D4(n,t){CF(n,"connected",t),!1===t&&function Lee(n){Yy(n,"onDisconnectEvents");const t=Mx(n),e=ED();KP(n.onDisconnect_,Mn(),(r,o)=>{const l=g4(r,o,n.serverSyncTree_,t);Gy(e,r,l)});let i=[];KP(e,Mn(),(r,o)=>{i=i.concat(wx(n.serverSyncTree_,r,o));const l=DF(n,r);Ky(n,l)}),n.onDisconnect_=ED(),Aa(n.eventQueue_,Mn(),i)}(n)}function CF(n,t,e){const i=new Ln("/.info/"+t),r=ji(e);n.infoData_.updateSnapshot(i,r);const o=wx(n.infoSyncTree_,i,r);Aa(n.eventQueue_,i,o)}function zD(n){return n.nextWriteId_++}function EF(n,t,e,i,r){Yy(n,"set",{path:t.toString(),value:e,priority:i});const o=Mx(n),l=ji(e,i),u=ND(n.serverSyncTree_,t),p=gF(l,u,o),v=zD(n),x=cF(n.serverSyncTree_,t,p,v,!0);HD(n.eventQueue_,x),n.server_.put(t.toString(),l.val(!0),(R,F)=>{const H="ok"===R;H||qo("set at "+t+" failed: "+R);const Y=xm(n.serverSyncTree_,v,!H);Aa(n.eventQueue_,t,Y),Cm(0,r,R,F)});const D=DF(n,t);Ky(n,D),Aa(n.eventQueue_,D,[])}function Bee(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,r)=>{"ok"===i&&YP(n.onDisconnect_,t),Cm(0,e,i,r)})}function T4(n,t,e,i){const r=ji(e);n.server_.onDisconnectPut(t.toString(),r.val(!0),(o,l)=>{"ok"===o&&Gy(n.onDisconnect_,t,r),Cm(0,i,o,l)})}function IF(n,t,e){let i;i=".info"===cn(t._path)?FD(n.infoSyncTree_,t,e):FD(n.serverSyncTree_,t,e),x4(n.eventQueue_,t._path,i)}function M4(n){n.persistentConnection_&&n.persistentConnection_.interrupt(E4)}function Yy(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),no(e,...t)}function Cm(n,t,e,i){t&&Vy(()=>{if("ok"===e)t(null);else{const r=(e||"error").toUpperCase();let o=r;i&&(o+=": "+i);const l=new Error(o);l.code=r,t(l)}})}function SF(n,t,e){return ND(n.serverSyncTree_,t,e)||en.EMPTY_NODE}function jD(n,t=n.transactionQueueTree_){if(t||GD(n,t),zg(t)){const e=k4(n,t);(0,N.hu)(e.length>0,"Sending zero length transaction queue"),e.every(r=>0===r.status)&&function Gee(n,t,e){const i=e.map(v=>v.currentWriteId),r=SF(n,t,i);let o=r;const l=r.hash();for(let v=0;v<e.length;v++){const x=e[v];(0,N.hu)(0===x.status,"tryToSendTransactionQueue_: items in queue should all be run."),x.status=1,x.retryCount++;const D=gs(t,x.path);o=o.updateChild(D,x.currentOutputSnapshotRaw)}const u=o.val(!0),p=t;n.server_.put(p.toString(),u,v=>{Yy(n,"transaction put response",{path:p.toString(),status:v});let x=[];if("ok"===v){const D=[];for(let R=0;R<e.length;R++)e[R].status=2,x=x.concat(xm(n.serverSyncTree_,e[R].currentWriteId)),e[R].onComplete&&D.push(()=>e[R].onComplete(null,!0,e[R].currentOutputSnapshotResolved)),e[R].unwatcher();GD(n,BD(n.transactionQueueTree_,t)),jD(n,n.transactionQueueTree_),Aa(n.eventQueue_,t,x);for(let R=0;R<D.length;R++)Vy(D[R])}else{if("datastale"===v)for(let D=0;D<e.length;D++)e[D].status=3===e[D].status?4:0;else{qo("transaction at "+p.toString()+" failed: "+v);for(let D=0;D<e.length;D++)e[D].status=4,e[D].abortReason=v}Ky(n,t)}},l)}(n,Ex(t),e)}else _4(t)&&VD(t,e=>{jD(n,e)})}function Ky(n,t){const e=A4(n,t),i=Ex(e);return function $ee(n,t,e){if(0===t.length)return;const i=[];let r=[];const l=t.filter(u=>0===u.status).map(u=>u.currentWriteId);for(let u=0;u<t.length;u++){const p=t[u],v=gs(e,p.path);let D,x=!1;if((0,N.hu)(null!==v,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)x=!0,D=p.abortReason,r=r.concat(xm(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=kee)x=!0,D="maxretry",r=r.concat(xm(n.serverSyncTree_,p.currentWriteId,!0));else{const R=SF(n,p.path,l);p.currentInputSnapshot=R;const F=t[u].update(R.val());if(void 0!==F){Sx("transaction failed: Data returned ",F,p.path);let H=ji(F);"object"==typeof F&&null!=F&&(0,N.r3)(F,".priority")||(H=H.updatePriority(R.getPriority()));const te=p.currentWriteId,Ve=Mx(n),Ke=gF(H,R,Ve);p.currentOutputSnapshotRaw=H,p.currentOutputSnapshotResolved=Ke,p.currentWriteId=zD(n),l.splice(l.indexOf(te),1),r=r.concat(cF(n.serverSyncTree_,p.path,Ke,p.currentWriteId,p.applyLocally)),r=r.concat(xm(n.serverSyncTree_,te,!0))}else x=!0,D="nodata",r=r.concat(xm(n.serverSyncTree_,p.currentWriteId,!0))}Aa(n.eventQueue_,e,r),r=[],x&&(t[u].status=2,setTimeout(t[u].unwatcher,Math.floor(0)),t[u].onComplete&&i.push("nodata"===D?()=>t[u].onComplete(null,!1,t[u].currentInputSnapshot):()=>t[u].onComplete(new Error(D),!1,null)))}GD(n,n.transactionQueueTree_);for(let u=0;u<i.length;u++)Vy(i[u]);jD(n,n.transactionQueueTree_)}(n,k4(n,e),i),i}function A4(n,t){let e,i=n.transactionQueueTree_;for(e=cn(t);null!==e&&void 0===zg(i);)i=BD(i,e),e=cn(t=ri(t));return i}function k4(n,t){const e=[];return R4(n,t,e),e.sort((i,r)=>i.order-r.order),e}function R4(n,t,e){const i=zg(t);if(i)for(let r=0;r<i.length;r++)e.push(i[r]);VD(t,r=>{R4(n,r,e)})}function GD(n,t){const e=zg(t);if(e){let i=0;for(let r=0;r<e.length;r++)2!==e[r].status&&(e[i]=e[r],i++);e.length=i,yF(t,e.length>0?e:void 0)}VD(t,i=>{GD(n,i)})}function DF(n,t){const e=Ex(A4(n,t)),i=BD(n.transactionQueueTree_,t);return function xee(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,r=>{TF(n,r)}),TF(n,i),v4(i,r=>{TF(n,r)}),e}function TF(n,t){const e=zg(t);if(e){const i=[];let r=[],o=-1;for(let l=0;l<e.length;l++)3===e[l].status||(1===e[l].status?((0,N.hu)(o===l-1,"All SENT items should be at beginning of queue."),o=l,e[l].status=3,e[l].abortReason="set"):((0,N.hu)(0===e[l].status,"Unexpected transaction status in abort"),e[l].unwatcher(),r=r.concat(xm(n.serverSyncTree_,e[l].currentWriteId,!0)),e[l].onComplete&&i.push(e[l].onComplete.bind(null,new Error("set"),!1,null))));-1===o?yF(t,void 0):e.length=o+1,Aa(n.eventQueue_,Ex(t),r);for(let l=0;l<i.length;l++)Vy(i[l])}}const MF=function(n,t){const e=Yee(n),i=e.namespace;return"firebase.com"===e.domain&&Pd(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Pd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new kP(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new Ln(e.pathString)}},Yee=function(n){let t="",e="",i="",r="",o="",l=!0,u="https",p=443;if("string"==typeof n){let v=n.indexOf("//");v>=0&&(u=n.substring(0,v-1),n=n.substring(v+2));let x=n.indexOf("/");-1===x&&(x=n.length);let D=n.indexOf("?");-1===D&&(D=n.length),t=n.substring(0,Math.min(x,D)),x<D&&(r=function Wee(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let r=e[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}t+="/"+r}return t}(n.substring(x,D)));const R=function qee(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):qo(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,D)));v=t.indexOf(":"),v>=0?(l="https"===u||"wss"===u,p=parseInt(t.substring(v+1),10)):v=t.length;const F=t.slice(0,v);if("localhost"===F.toLowerCase())e="localhost";else if(F.split(".").length<=2)e=F;else{const H=t.indexOf(".");i=t.substring(0,H).toLowerCase(),e=t.substring(H+1),o=i}"ns"in R&&(o=R.ns)}return{host:t,port:p,domain:e,subdomain:i,secure:l,scheme:u,pathString:r,namespace:o}},O4="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Kee=function(){let n=0;const t=[];return function(e){const i=e===n;let r;n=e;const o=new Array(8);for(r=7;r>=0;r--)o[r]=O4.charAt(e%64),e=Math.floor(e/64);(0,N.hu)(0===e,"Cannot push at time == 0");let l=o.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)l+=O4.charAt(t[r]);return(0,N.hu)(20===l.length,"nextPushId: Length should be 20."),l}}();class P4{constructor(t,e,i,r){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=r}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,N.Wl)(this.snapshot.exportVal())}}class F4{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class AF{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,N.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class N4{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new N.BH;return Bee(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){ml("OnDisconnect.remove",this._path);const t=new N.BH;return T4(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){ml("OnDisconnect.set",this._path),Nd("OnDisconnect.set",t,this._path,!1);const e=new N.BH;return T4(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){ml("OnDisconnect.setWithPriority",this._path),Nd("OnDisconnect.setWithPriority",t,this._path,!1),xF("OnDisconnect.setWithPriority",e,!1);const i=new N.BH;return function Vee(n,t,e,i,r){const o=ji(e,i);n.server_.onDisconnectPut(t.toString(),o.val(!0),(l,u)=>{"ok"===l&&Gy(n.onDisconnect_,t,o),Cm(0,r,l,u)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){ml("OnDisconnect.update",this._path),b4("OnDisconnect.update",t,this._path,!1);const e=new N.BH;return function Uee(n,t,e,i){if((0,N.xb)(e))return no("onDisconnect().update() called with empty data.  Don't do anything."),void Cm(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(r,o)=>{"ok"===r&&io(e,(l,u)=>{const p=ji(u);Gy(n.onDisconnect_,Oi(t,l),p)}),Cm(0,i,r,o)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class $s{constructor(t,e,i,r){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=r}get key(){return dn(this._path)?null:LP(this._path)}get ref(){return new pl(this._repo,this._path)}get _queryIdentifier(){const t=V3(this._queryParams),e=MP(t);return"{}"===e?"default":e}get _queryObject(){return V3(this._queryParams)}isEqual(t){if(!((t=(0,N.m9)(t))instanceof $s))return!1;const e=this._repo===t._repo,i=BP(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function UX(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function $D(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function Em(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Fd){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==pm)throw new Error(i);if("string"!=typeof t)throw new Error(r)}if(n.hasEnd()){if(n.getIndexEndName()!==eh)throw new Error(i);if("string"!=typeof e)throw new Error(r)}}else if(n.getIndex()===ui){if(null!=t&&!Ix(t)||null!=e&&!Ix(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,N.hu)(n.getIndex()instanceof jP||n.getIndex()===GP,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function WD(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class pl extends $s{constructor(t,e){super(t,e,new wD,!1)}get parent(){const t=D3(this._path);return null===t?null:new pl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class jg{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new Ln(t),i=Gg(this.ref,t);return new jg(this._node.getChild(e),i,ui)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>t(new jg(r,Gg(this.ref,i),ui)))}hasChild(t){const e=new Ln(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function L4(n,t){return(n=(0,N.m9)(n))._checkNotDeleted("ref"),void 0!==t?Gg(n._root,t):n._root}function B4(n,t){(n=(0,N.m9)(n))._checkNotDeleted("refFromURL");const e=MF(t,n._repo.repoInfo_.nodeAdmin);w4("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Pd("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),L4(n,e.path.toString())}function Gg(n,t){return null===cn((n=(0,N.m9)(n))._path)?Tee("child","path",t,!1):Tx("child","path",t,!1),new pl(n._repo,Oi(n._path,t))}function kF(n,t){n=(0,N.m9)(n),ml("set",n._path),Nd("set",t,n._path,!1);const e=new N.BH;return EF(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function ete(n,t){b4("update",t,n._path,!1);const e=new N.BH;return function Nee(n,t,e,i){Yy(n,"update",{path:t.toString(),value:e});let r=!0;const o=Mx(n),l={};if(io(e,(u,p)=>{r=!1,l[u]=g4(Oi(t,u),ji(p),n.serverSyncTree_,o)}),r)no("update() called with empty data.  Don't do anything."),Cm(0,i,"ok",void 0);else{const u=zD(n),p=function lee(n,t,e,i){!function IJ(n,t,e,i){(0,N.hu)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=eF(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const r=hi.fromObject(e);return qy(n,new $y({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,t,l,u);HD(n.eventQueue_,p),n.server_.merge(t.toString(),e,(v,x)=>{const D="ok"===v;D||qo("update at "+t+" failed: "+v);const R=xm(n.serverSyncTree_,u,!D),F=R.length>0?Ky(n,t):t;Aa(n.eventQueue_,F,R),Cm(0,i,v,x)}),io(e,v=>{const x=DF(n,Oi(t,v));Ky(n,x)}),Aa(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function tte(n){n=(0,N.m9)(n);const t=new AF(()=>{}),e=new Ax(t);return function Fee(n,t,e){const i=function fee(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(v,x)=>{const D=gs(v,e);i=i||bm(x,D)});let r=n.syncPointTree_.get(e);r?i=i||bm(r,Mn()):(r=new o4,n.syncPointTree_=n.syncPointTree_.set(e,r));const o=null!=i,l=o?new vm(i,!0,!1):null;return function ZJ(n){return DD(n.viewCache_)}(s4(r,t,TD(n.pendingWriteTree_,t._path),o?l.getNode():en.EMPTY_NODE,o))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(r=>{const o=ji(r).withIndex(t._queryParams.getIndex());let l;if(dF(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())l=wx(n.serverSyncTree_,t._path,o);else{const u=xx(n.serverSyncTree_,t);l=u4(n.serverSyncTree_,t._path,o,u)}return Aa(n.eventQueue_,t._path,l),FD(n.serverSyncTree_,t,e,null,!0),o},r=>(Yy(n,"get for query "+(0,N.Wl)(t)+" failed: "+r),Promise.reject(new Error(r))))}(n._repo,n,e).then(i=>new jg(i,new pl(n._repo,n._path),n._queryParams.getIndex()))}class Ax{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new P4("value",this,new jg(t.snapshotNode,new pl(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new F4(this,t,e):null}matches(t){return t instanceof Ax&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class qD{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new F4(this,t,e):null}createEvent(t,e){(0,N.hu)(null!=t.childName,"Child events should have a childName.");const i=Gg(new pl(e._repo,e._path),t.childName),r=e._queryParams.getIndex();return new P4(t.type,this,new jg(t.snapshotNode,i,r),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof qD&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function kx(n,t,e,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const p=e,v=(x,D)=>{IF(n._repo,n,u),p(x,D)};v.userCallback=e.userCallback,v.context=e.context,e=v}const l=new AF(e,o||void 0),u="value"===t?new Ax(l):new qD(t,l);return function Hee(n,t,e){let i;i=".info"===cn(t._path)?dF(n.infoSyncTree_,t,e):dF(n.serverSyncTree_,t,e),x4(n.eventQueue_,t._path,i)}(n._repo,n,u),()=>IF(n._repo,n,u)}function RF(n,t,e,i){return kx(n,"value",t,e,i)}function V4(n,t,e,i){return kx(n,"child_added",t,e,i)}function U4(n,t,e,i){return kx(n,"child_changed",t,e,i)}function H4(n,t,e,i){return kx(n,"child_moved",t,e,i)}function z4(n,t,e,i){return kx(n,"child_removed",t,e,i)}function j4(n,t,e){let i=null;const r=e?new AF(e):null;"value"===t?i=new Ax(r):t&&(i=new qD(t,r)),IF(n._repo,n,i)}class xc{}class G4 extends xc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Nd("endAt",this._value,t._path,!0);const e=qP(t._queryParams,this._value,this._key);if(WD(e),Em(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $s(t._repo,t._path,e,t._orderByCalled)}}class ite extends xc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Nd("endBefore",this._value,t._path,!1);const e=function hJ(n,t,e){let i;return i=qP(n,t,n.index_===Fd||e?e:pm),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(WD(e),Em(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new $s(t._repo,t._path,e,t._orderByCalled)}}class $4 extends xc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Nd("startAt",this._value,t._path,!0);const e=WP(t._queryParams,this._value,this._key);if(WD(e),Em(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new $s(t._repo,t._path,e,t._orderByCalled)}}class ste extends xc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Nd("startAfter",this._value,t._path,!1);const e=function uJ(n,t,e){let i;return i=WP(n,t,n.index_===Fd||e?e:eh),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(WD(e),Em(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new $s(t._repo,t._path,e,t._orderByCalled)}}class lte extends xc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new $s(t._repo,t._path,function cJ(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class dte extends xc{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new $s(t._repo,t._path,function dJ(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class hte extends xc{constructor(t){super(),this._path=t}_apply(t){$D(t,"orderByChild");const e=new Ln(this._path);if(dn(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new jP(e),r=xD(t._queryParams,i);return Em(r),new $s(t._repo,t._path,r,!0)}}class mte extends xc{_apply(t){$D(t,"orderByKey");const e=xD(t._queryParams,Fd);return Em(e),new $s(t._repo,t._path,e,!0)}}class gte extends xc{_apply(t){$D(t,"orderByPriority");const e=xD(t._queryParams,ui);return Em(e),new $s(t._repo,t._path,e,!0)}}class vte extends xc{_apply(t){$D(t,"orderByValue");const e=xD(t._queryParams,GP);return Em(e),new $s(t._repo,t._path,e,!0)}}class bte extends xc{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Nd("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new G4(this._value,this._key)._apply(new $4(this._value,this._key)._apply(t))}}function Cc(n,...t){let e=(0,N.m9)(n);for(const i of t)e=i._apply(e);return e}(function eee(n){(0,N.hu)(!RD,"__referenceConstructor has already been defined"),RD=n})(pl),function oee(n){(0,N.hu)(!PD,"__referenceConstructor has already been defined"),PD=n}(pl);const xte="FIREBASE_DATABASE_EMULATOR_HOST",OF={};let W4=!1;function q4(n,t,e,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||Pd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),no("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,v,l=MF(o,r),u=l.repoInfo;typeof process<"u"&&process.env&&(v=process.env[xte]),v?(p=!0,o=`http://${v}?ns=${u.namespace}`,l=MF(o,r),u=l.repoInfo):p=!l.repoInfo.secure;const x=r&&p?new cx(cx.OWNER):new pX(n.name,n.options,t);w4("Invalid Firebase Database URL",l),dn(l.path)||Pd("Database URL must point to the root of a Firebase Database (not including a child path).");const D=function Ite(n,t,e,i){let r=OF[t.name];r||(r={},OF[t.name]=r);let o=r[n.toURLString()];return o&&Pd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Ree(n,W4,e,i),r[n.toURLString()]=o,o}(u,n,x,new mX(n.name,e));return new Dte(D,n)}class Dte{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Oee(n,t,e){if(n.stats_=PP(n.repoInfo_),n.forceRestClient_||fX())n.server_=new CD(n.repoInfo_,(i,r,o,l)=>{S4(n,i,r,o,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>D4(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,N.Wl)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new Bg(n.repoInfo_,t,(i,r,o,l)=>{S4(n,i,r,o,l)},i=>{D4(n,i)},i=>{!function Pee(n,t){io(t,(e,i)=>{CF(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function vX(n,t){const e=n.toString();return OP[e]||(OP[e]=t()),OP[e]}(n.repoInfo_,()=>new vJ(n.stats_,n.server_)),n.infoData_=new fJ,n.infoSyncTree_=new d4({startListening:(i,r,o,l)=>{let u=[];const p=n.infoData_.getNode(i._path);return p.isEmpty()||(u=wx(n.infoSyncTree_,i._path,p),setTimeout(()=>{l("ok")},0)),u},stopListening:()=>{}}),CF(n,"connected",!1),n.serverSyncTree_=new d4({startListening:(i,r,o,l)=>(n.server_.listen(i,o,r,(u,p)=>{const v=l(u,p);Aa(n.eventQueue_,i._path,v)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new pl(this._repo,Mn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function Ete(n,t){const e=OF[t];(!e||e[n.key]!==n)&&Pd(`Database ${t}(${n.repoInfo_}) has already been deleted.`),M4(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Pd("Cannot call "+t+" on a deleted database.")}}function Y4(){p3.IS_TRANSPORT_INITIALIZED&&qo("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Tte(){Y4(),gm.forceDisallow()}function Mte(){Y4(),Uy.forceDisallow(),gm.forceAllow()}function Rte(n,t){Yj(n,t)}const Pte={".sv":"timestamp"};class Lte{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Bg.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Bg.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function Ote(n){jj(Ls.SDK_VERSION),(0,Ls._registerComponent)(new hc.wA("database",(t,{instanceIdentifier:e})=>q4(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ls.registerVersion)(Hj,"0.14.4",n),(0,Ls.registerVersion)(Hj,"0.14.4","esm2017")}();const Hte=new Bs.Yd("@firebase/database-compat"),Z4=function(n){Hte.warn("FIREBASE WARNING: "+n)};class Gte{constructor(t){this._delegate=t}cancel(t){(0,N.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,N.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,N.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,N.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,N.Dv)("OnDisconnect.set",1,2,arguments.length),(0,N.Wj)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,N.Wj)("OnDisconnect.setWithPriority","onComplete",i,!0);const r=this._delegate.setWithPriority(t,e);return i&&r.then(()=>i(null),o=>i(o)),r}update(t,e){if((0,N.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Z4("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,N.Wj)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),r=>e(r)),i}}class $te{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,N.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Im{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,N.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,N.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,N.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,N.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,N.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),Tx("DataSnapshot.child","path",t,!1),new Im(this._database,this._delegate.child(t))}hasChild(t){return(0,N.Dv)("DataSnapshot.hasChild",1,1,arguments.length),Tx("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,N.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,N.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,N.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Im(this._database,e)))}hasChildren(){return(0,N.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,N.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,N.Dv)("DataSnapshot.ref",0,0,arguments.length),new ka(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class Io{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,r){var o;(0,N.Dv)("Query.on",2,4,arguments.length),(0,N.Wj)("Query.on","callback",e,!1);const l=Io.getCancelAndContextArgs_("Query.on",i,r),u=(v,x)=>{e.call(l.context,new Im(this.database,v),x)};u.userCallback=e,u.context=l.context;const p=null===(o=l.cancel)||void 0===o?void 0:o.bind(l.context);switch(t){case"value":return RF(this._delegate,u,p),e;case"child_added":return V4(this._delegate,u,p),e;case"child_removed":return z4(this._delegate,u,p),e;case"child_changed":return U4(this._delegate,u,p),e;case"child_moved":return H4(this._delegate,u,p),e;default:throw new Error((0,N.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,N.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,N.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,N.Wj)("Query.off","callback",e,!0),(0,N.lb)("Query.off","context",i,!0),e){const r=()=>{};r.userCallback=e,r.context=i,j4(this._delegate,t,r)}else j4(this._delegate,t)}get(){return tte(this._delegate).then(t=>new Im(this.database,t))}once(t,e,i,r){(0,N.Dv)("Query.once",1,4,arguments.length),(0,N.Wj)("Query.once","callback",e,!0);const o=Io.getCancelAndContextArgs_("Query.once",i,r),l=new N.BH,u=(v,x)=>{const D=new Im(this.database,v);e&&e.call(o.context,D,x),l.resolve(D)};u.userCallback=e,u.context=o.context;const p=v=>{o.cancel&&o.cancel.call(o.context,v),l.reject(v)};switch(t){case"value":RF(this._delegate,u,p,{onlyOnce:!0});break;case"child_added":V4(this._delegate,u,p,{onlyOnce:!0});break;case"child_removed":z4(this._delegate,u,p,{onlyOnce:!0});break;case"child_changed":U4(this._delegate,u,p,{onlyOnce:!0});break;case"child_moved":H4(this._delegate,u,p,{onlyOnce:!0});break;default:throw new Error((0,N.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return l.promise}limitToFirst(t){return(0,N.Dv)("Query.limitToFirst",1,1,arguments.length),new Io(this.database,Cc(this._delegate,function cte(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new lte(n)}(t)))}limitToLast(t){return(0,N.Dv)("Query.limitToLast",1,1,arguments.length),new Io(this.database,Cc(this._delegate,function ute(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new dte(n)}(t)))}orderByChild(t){return(0,N.Dv)("Query.orderByChild",1,1,arguments.length),new Io(this.database,Cc(this._delegate,function fte(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Tx("orderByChild","path",n,!1),new hte(n)}(t)))}orderByKey(){return(0,N.Dv)("Query.orderByKey",0,0,arguments.length),new Io(this.database,Cc(this._delegate,function pte(){return new mte}()))}orderByPriority(){return(0,N.Dv)("Query.orderByPriority",0,0,arguments.length),new Io(this.database,Cc(this._delegate,function _te(){return new gte}()))}orderByValue(){return(0,N.Dv)("Query.orderByValue",0,0,arguments.length),new Io(this.database,Cc(this._delegate,function yte(){return new vte}()))}startAt(t=null,e){return(0,N.Dv)("Query.startAt",0,2,arguments.length),new Io(this.database,Cc(this._delegate,function ote(n=null,t){return Dx("startAt","key",t,!0),new $4(n,t)}(t,e)))}startAfter(t=null,e){return(0,N.Dv)("Query.startAfter",0,2,arguments.length),new Io(this.database,Cc(this._delegate,function ate(n,t){return Dx("startAfter","key",t,!0),new ste(n,t)}(t,e)))}endAt(t=null,e){return(0,N.Dv)("Query.endAt",0,2,arguments.length),new Io(this.database,Cc(this._delegate,function nte(n,t){return Dx("endAt","key",t,!0),new G4(n,t)}(t,e)))}endBefore(t=null,e){return(0,N.Dv)("Query.endBefore",0,2,arguments.length),new Io(this.database,Cc(this._delegate,function rte(n,t){return Dx("endBefore","key",t,!0),new ite(n,t)}(t,e)))}equalTo(t,e){return(0,N.Dv)("Query.equalTo",1,2,arguments.length),new Io(this.database,Cc(this._delegate,function wte(n,t){return Dx("equalTo","key",t,!0),new bte(n,t)}(t,e)))}toString(){return(0,N.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,N.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,N.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof Io))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const r={cancel:void 0,context:void 0};if(e&&i)r.cancel=e,(0,N.Wj)(t,"cancel",r.cancel,!0),r.context=i,(0,N.lb)(t,"context",r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error((0,N.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=e}return r}get ref(){return new ka(this.database,new pl(this._delegate._repo,this._delegate._path))}}class ka extends Io{constructor(t,e){super(t,new $s(e._repo,e._path,new wD,!1)),this.database=t,this._delegate=e}getKey(){return(0,N.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,N.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ka(this.database,Gg(this._delegate,t))}getParent(){(0,N.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ka(this.database,t):null}getRoot(){return(0,N.Dv)("Reference.root",0,0,arguments.length),new ka(this.database,this._delegate.root)}set(t,e){(0,N.Dv)("Reference.set",1,2,arguments.length),(0,N.Wj)("Reference.set","onComplete",e,!0);const i=kF(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}update(t,e){if((0,N.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const r={};for(let o=0;o<t.length;++o)r[""+o]=t[o];t=r,Z4("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}ml("Reference.update",this._delegate._path),(0,N.Wj)("Reference.update","onComplete",e,!0);const i=ete(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}setWithPriority(t,e,i){(0,N.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,N.Wj)("Reference.setWithPriority","onComplete",i,!0);const r=function Jee(n,t,e){if(ml("setWithPriority",n._path),Nd("setWithPriority",t,n._path,!1),xF("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new N.BH;return EF(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&r.then(()=>i(null),o=>i(o)),r}remove(t){(0,N.Dv)("Reference.remove",0,1,arguments.length),(0,N.Wj)("Reference.remove","onComplete",t,!0);const e=function Qee(n){return ml("remove",n._path),kF(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,N.Dv)("Reference.transaction",1,3,arguments.length),(0,N.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,N.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,N.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const r=function Bte(n,t,e){var i;if(n=(0,N.m9)(n),ml("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const r=null===(i=e?.applyLocally)||void 0===i||i,o=new N.BH,u=RF(n,()=>{});return function jee(n,t,e,i,r,o){Yy(n,"transaction on "+t);const l={path:t,update:e,onComplete:i,status:null,order:$j(),applyLocally:o,retryCount:0,unwatcher:r,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=SF(n,t,void 0);l.currentInputSnapshot=u;const p=l.update(u.val());if(void 0===p)l.unwatcher(),l.currentOutputSnapshotRaw=null,l.currentOutputSnapshotResolved=null,l.onComplete&&l.onComplete(null,!1,l.currentInputSnapshot);else{Sx("transaction failed: Data returned ",p,l.path),l.status=0;const v=BD(n.transactionQueueTree_,t),x=zg(v)||[];let D;x.push(l),yF(v,x),"object"==typeof p&&null!==p&&(0,N.r3)(p,".priority")?(D=(0,N.DV)(p,".priority"),(0,N.hu)(Ix(D),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):D=(ND(n.serverSyncTree_,t)||en.EMPTY_NODE).getPriority().val();const R=Mx(n),F=ji(p,D),H=gF(F,u,R);l.currentOutputSnapshotRaw=F,l.currentOutputSnapshotResolved=H,l.currentWriteId=zD(n);const Y=cF(n.serverSyncTree_,t,H,l.currentWriteId,l.applyLocally);Aa(n.eventQueue_,t,Y),jD(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(p,v,x)=>{let D=null;p?o.reject(p):(D=new jg(x,new pl(n._repo,n._path),ui),o.resolve(new Lte(v,D)))},u,r),o.promise}(this._delegate,t,{applyLocally:i}).then(o=>new $te(o.committed,new Im(this.database,o.snapshot)));return e&&r.then(o=>e(null,o.committed,o.snapshot),o=>e(o,!1,null)),r}setPriority(t,e){(0,N.Dv)("Reference.setPriority",1,2,arguments.length),(0,N.Wj)("Reference.setPriority","onComplete",e,!0);const i=function Xee(n,t){n=(0,N.m9)(n),ml("setPriority",n._path),xF("setPriority",t,!1);const e=new N.BH;return EF(n._repo,Oi(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),r=>e(r)),i}push(t,e){(0,N.Dv)("Reference.push",0,2,arguments.length),(0,N.Wj)("Reference.push","onComplete",e,!0);const i=function Zee(n,t){n=(0,N.m9)(n),ml("push",n._path),Nd("push",t,n._path,!0);const e=I4(n._repo),i=Kee(e),r=Gg(n,i),o=Gg(n,i);let l;return l=null!=t?kF(o,t).then(()=>o):Promise.resolve(o),r.then=l.then.bind(l),r.catch=l.then.bind(l,void 0),r}(this._delegate,t),r=i.then(l=>new ka(this.database,l));e&&r.then(()=>e(null),l=>e(l));const o=new ka(this.database,i);return o.then=r.then.bind(r),o.catch=r.catch.bind(r,void 0),o}onDisconnect(){return ml("Reference.onDisconnect",this._delegate._path),new Gte(new N4(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class Rx{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Tte,forceLongPolling:Mte}}useEmulator(t,e,i={}){!function K4(n,t,e,i={}){(n=(0,N.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Pd("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&Pd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new cx(cx.OWNER);else if(i.mockUserToken){const l="string"==typeof i.mockUserToken?i.mockUserToken:(0,N.Sg)(i.mockUserToken,n.app.options.projectId);o=new cx(l)}!function Cte(n,t,e,i){n.repoInfo_=new kP(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,t,e,o)}(this._delegate,t,e,i)}ref(t){if((0,N.Dv)("database.ref",0,1,arguments.length),t instanceof ka){const e=B4(this._delegate,t.toString());return new ka(this,e)}{const e=L4(this._delegate,t);return new ka(this,e)}}refFromURL(t){(0,N.Dv)("database.refFromURL",1,1,arguments.length);const i=B4(this._delegate,t);return new ka(this,i)}goOffline(){return(0,N.Dv)("database.goOffline",0,0,arguments.length),function Ate(n){(n=(0,N.m9)(n))._checkNotDeleted("goOffline"),M4(n._repo)}(this._delegate)}goOnline(){return(0,N.Dv)("database.goOnline",0,0,arguments.length),function kte(n){(n=(0,N.m9)(n))._checkNotDeleted("goOnline"),function zee(n){n.persistentConnection_&&n.persistentConnection_.resume(E4)}(n._repo)}(this._delegate)}}Rx.ServerValue={TIMESTAMP:function Fte(){return Pte}(),increment:n=>function Nte(n){return{".sv":{increment:n}}}(n)};var qte=Object.freeze({__proto__:null,initStandalone:function Wte({app:n,url:t,version:e,customAuthImpl:i,namespace:r,nodeAdmin:o=!1}){jj(e);const l=new hc.zt("auth-internal",new hc.H0("database-standalone"));return l.setComponent(new hc.wA("auth-internal",()=>i,"PRIVATE")),{instance:new Rx(q4(n,l,void 0,t,o),n),namespace:r}}});const Yte=Rx.ServerValue;function Q4(n){return null==n}function X4(n){return"function"==typeof n.set}function J4(n,t){return X4(t)?t:n.ref(t)}function e6(n,t){if(function Zte(n){return"string"==typeof n}(n))return t.stringCase();if(X4(n))return t.firebaseCase();if(function Qte(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Ox(n,t,e="on",i=Sp.z){return new Xn.y(r=>{let o=null;return o=n[e](t,(l,u)=>{i.schedule(()=>{r.next({snapshot:l,prevKey:u})}),"once"===e&&i.schedule(()=>r.complete())},l=>{i.schedule(()=>r.error(l))}),"on"===e?{unsubscribe(){null!=o&&n.off(t,o)}}:{unsubscribe(){}}}).pipe((0,nt.U)(r=>{const{snapshot:o,prevKey:l}=r;let u=null;return o.exists()&&(u=o.key),{type:t,payload:o,prevKey:l,key:u}}),(0,P1.B)())}function t6(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function ene(n,t){const{payload:e,prevKey:i,key:r}=t,o=t6(n,r),l=function Jte(n,t){if(Q4(t))return 0;{const e=t6(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let u=null;t.payload.forEach(p=>{const v={payload:p,type:"value",prevKey:u,key:p.key};return u=p.key,n=[...n,v],!1})}return n;case"child_added":if(o>-1){const u=n[o-1];(u&&u.key||null)!==i&&(n=n.filter(p=>p.payload.key!==e.key)).splice(l,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(l,0,t)}return n;case"child_removed":return n.filter(u=>u.payload.key!==e.key);case"child_changed":return n.map(u=>u.payload.key===r?t:u);case"child_moved":if(o>-1){const u=n.splice(o,1)[0];return(n=n.slice()).splice(l,0,u),n}return n;default:return n}}function n6(n){return(Q4(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function r6(n,t,e){return function Xte(n,t,e){return Ox(n,"value","once",e).pipe(Jn(i=>{const r=[et(i)];return t.forEach(o=>r.push(Ox(n,o,"on",e))),(0,Zu.T)(...r).pipe(Xa(ene,[]))}),Lp())}(n,t=n6(t),e)}function o6(n,t,e){const i=(t=n6(t)).map(r=>Ox(n,r,"on",e));return(0,Zu.T)(...i)}function s6(n,t){return function(i,r){return e6(i,{stringCase:()=>n.child(i)[t](r),firebaseCase:()=>i[t](r),snapshotCase:()=>i.ref[t](r)})}}function rne(n){return function(e){return e?e6(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function a6(n,t){return function(){return Ox(n,"value","on",t)}}!function Kte(n){n.INTERNAL.registerComponent(new hc.wA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("database").getImmediate({identifier:e});return new Rx(r,i)},"PUBLIC").setServiceProps({Reference:ka,Query:Io,Database:Rx,DataSnapshot:Im,enableLogging:Rte,INTERNAL:qte,ServerValue:Yte}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(S0.Z);const ane=new c.OlP("angularfire2.realtimeDatabaseURL"),lne=new c.OlP("angularfire2.database.use-emulator");let cne=(()=>{class n{constructor(e,i,r,o,l,u,p,v,x,D,R,F,H,Y,te){this.schedulers=u;const Ve=p,Ke=(0,Ar.on)(e,l,i);v&&uO(Ke,l,x,R,F,H,D,Y),this.database=(0,Ar.cc)(`${Ke.name}.database.${r}`,"AngularFireDatabase",Ke.name,()=>{const Xe=l.runOutsideAngular(()=>Ke.database(r||void 0));return Ve&&Xe.useEmulator(...Ve),Xe},[Ve])}list(e,i){const r=this.schedulers.ngZone.runOutsideAngular(()=>J4(this.database,e));let o=r;return i&&(o=i(r)),function one(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:s6(i,"update"),set:s6(i,"set"),push:r=>i.push(r),remove:rne(i),snapshotChanges:r=>r6(n,r,e).pipe(ci.iC),stateChanges:r=>o6(n,r,e).pipe(ci.iC),auditTrail:r=>function tne(n,t,e){return function ine(n,t,e){return function nne(n,t){return Ox(n,"value","on",t).pipe((0,nt.U)(e=>{let i;return e.payload.forEach(r=>(i=r.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function eX(...n){const t=(0,yr.jO)(n);return(0,li.e)((e,i)=>{const r=n.length,o=new Array(r);let l=n.map(()=>!1),u=!1;for(let p=0;p<r;p++)(0,Fo.Xf)(n[p]).subscribe((0,Hn.x)(i,v=>{o[p]=v,!u&&!l[p]&&(l[p]=!0,(u=l.every(ss.y))&&(l=null))},$b.Z));e.subscribe((0,Hn.x)(i,p=>{if(u){const v=[p,...o];i.next(t?t(...v):v)}}))})}(t),(0,nt.U)(([r,o])=>{const l=r.lastKeyToLoad,u=o.map(p=>p.key);return{actions:o,lastKeyToLoad:l,loadedKeys:u}}),function tX(n){return(0,li.e)((t,e)=>{let i=!1,r=0;t.subscribe((0,Hn.x)(e,o=>(i||(i=!n(o,r++)))&&e.next(o)))})}(r=>-1===r.loadedKeys.indexOf(r.lastKeyToLoad)),(0,nt.U)(r=>r.actions))}(n,o6(n,t).pipe(Xa((r,o)=>[...r,o],[])),e)}(n,r,e).pipe(ci.iC),valueChanges:(r,o)=>r6(n,r,e).pipe((0,nt.U)(u=>u.map(p=>o&&o.idField?Object.assign(Object.assign({},p.payload.val()),{[o.idField]:p.key}):p.payload.val())),ci.iC)}}(o,this)}object(e){return function sne(n,t){return{query:n,snapshotChanges:()=>a6(n,t.schedulers.outsideAngular)().pipe(ci.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>a6(n,t.schedulers.outsideAngular)().pipe(ci.iC,(0,nt.U)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>J4(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(c.LFG(Ar.Dh),c.LFG(Ar.xv,8),c.LFG(ane,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(ci.HU),c.LFG(lne,8),c.LFG(hO,8),c.LFG(oO,8),c.LFG(sO,8),c.LFG(aO,8),c.LFG(lO,8),c.LFG(cO,8),c.LFG(dO,8),c.LFG(DS,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),dne=(()=>{class n{constructor(){VW.Z.registerVersion("angularfire",ci.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[cne]}),n})(),une=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=c.oAB({type:n,bootstrap:[BK]});static#n=this.\u0275inj=c.cJS({imports:[sa,Q7,LQ,I0,KQ,XQ,HM,iY,Dz,IY,rK,NK,cq,pH,N7,Ar.hO.initializeApp(JQ),dne]})}return n})();eu().bootstrapModule(une).catch(n=>console.error(n))},9751:(xt,Te,V)=>{V.d(Te,{y:()=>Ee});var c=V(930),ne=V(727),L=V(8822),ce=V(9635),de=V(2416),J=V(576),Ce=V(2806);let Ee=(()=>{class Q{constructor(Me){Me&&(this._subscribe=Me)}lift(Me){const Ze=new Q;return Ze.source=this,Ze.operator=Me,Ze}subscribe(Me,Ze,ut){const ve=function $(Q){return Q&&Q instanceof c.Lv||function W(Q){return Q&&(0,J.m)(Q.next)&&(0,J.m)(Q.error)&&(0,J.m)(Q.complete)}(Q)&&(0,ne.Nn)(Q)}(Me)?Me:new c.Hp(Me,Ze,ut);return(0,Ce.x)(()=>{const{operator:Pe,source:Fe}=this;ve.add(Pe?Pe.call(ve,Fe):Fe?this._subscribe(ve):this._trySubscribe(ve))}),ve}_trySubscribe(Me){try{return this._subscribe(Me)}catch(Ze){Me.error(Ze)}}forEach(Me,Ze){return new(Ze=_e(Ze))((ut,ve)=>{const Pe=new c.Hp({next:Fe=>{try{Me(Fe)}catch(je){ve(je),Pe.unsubscribe()}},error:ve,complete:ut});this.subscribe(Pe)})}_subscribe(Me){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(Me)}[L.L](){return this}pipe(...Me){return(0,ce.U)(Me)(this)}toPromise(Me){return new(Me=_e(Me))((Ze,ut)=>{let ve;this.subscribe(Pe=>ve=Pe,Pe=>ut(Pe),()=>Ze(ve))})}}return Q.create=Ge=>new Q(Ge),Q})();function _e(Q){var Ge;return null!==(Ge=Q??de.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(xt,Te,V)=>{V.d(Te,{x:()=>Ce});var c=V(9751),ne=V(727);const ce=(0,V(3888).d)(_e=>function(){_e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=V(8737),J=V(2806);let Ce=(()=>{class _e extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift($){const Q=new Ee(this,this);return Q.operator=$,Q}_throwIfClosed(){if(this.closed)throw new ce}next($){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Q of this.currentObservers)Q.next($)}})}error($){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=$;const{observers:Q}=this;for(;Q.length;)Q.shift().error($)}})}complete(){(0,J.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:$}=this;for(;$.length;)$.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var $;return(null===($=this.observers)||void 0===$?void 0:$.length)>0}_trySubscribe($){return this._throwIfClosed(),super._trySubscribe($)}_subscribe($){return this._throwIfClosed(),this._checkFinalizedStatuses($),this._innerSubscribe($)}_innerSubscribe($){const{hasError:Q,isStopped:Ge,observers:Me}=this;return Q||Ge?ne.Lc:(this.currentObservers=null,Me.push($),new ne.w0(()=>{this.currentObservers=null,(0,de.P)(Me,$)}))}_checkFinalizedStatuses($){const{hasError:Q,thrownError:Ge,isStopped:Me}=this;Q?$.error(Ge):Me&&$.complete()}asObservable(){const $=new c.y;return $.source=this,$}}return _e.create=(W,$)=>new Ee(W,$),_e})();class Ee extends Ce{constructor(W,$){super(),this.destination=W,this.source=$}next(W){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.next)||void 0===Q||Q.call($,W)}error(W){var $,Q;null===(Q=null===($=this.destination)||void 0===$?void 0:$.error)||void 0===Q||Q.call($,W)}complete(){var W,$;null===($=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===$||$.call(W)}_subscribe(W){var $,Q;return null!==(Q=null===($=this.source)||void 0===$?void 0:$.subscribe(W))&&void 0!==Q?Q:ne.Lc}}},930:(xt,Te,V)=>{V.d(Te,{Hp:()=>ut,Lv:()=>Q});var c=V(576),ne=V(727),L=V(2416),ce=V(7849),de=V(5032);const J=_e("C",void 0,void 0);function _e(Ne,Ie,Se){return{kind:Ne,value:Ie,error:Se}}var W=V(3410),$=V(2806);class Q extends ne.w0{constructor(Ie){super(),this.isStopped=!1,Ie?(this.destination=Ie,(0,ne.Nn)(Ie)&&Ie.add(this)):this.destination=je}static create(Ie,Se,qe){return new ut(Ie,Se,qe)}next(Ie){this.isStopped?Fe(function Ee(Ne){return _e("N",Ne,void 0)}(Ie),this):this._next(Ie)}error(Ie){this.isStopped?Fe(function Ce(Ne){return _e("E",void 0,Ne)}(Ie),this):(this.isStopped=!0,this._error(Ie))}complete(){this.isStopped?Fe(J,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ie){this.destination.next(Ie)}_error(Ie){try{this.destination.error(Ie)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Me(Ne,Ie){return Ge.call(Ne,Ie)}class Ze{constructor(Ie){this.partialObserver=Ie}next(Ie){const{partialObserver:Se}=this;if(Se.next)try{Se.next(Ie)}catch(qe){ve(qe)}}error(Ie){const{partialObserver:Se}=this;if(Se.error)try{Se.error(Ie)}catch(qe){ve(qe)}else ve(Ie)}complete(){const{partialObserver:Ie}=this;if(Ie.complete)try{Ie.complete()}catch(Se){ve(Se)}}}class ut extends Q{constructor(Ie,Se,qe){let Be;if(super(),(0,c.m)(Ie)||!Ie)Be={next:Ie??void 0,error:Se??void 0,complete:qe??void 0};else{let lt;this&&L.v.useDeprecatedNextContext?(lt=Object.create(Ie),lt.unsubscribe=()=>this.unsubscribe(),Be={next:Ie.next&&Me(Ie.next,lt),error:Ie.error&&Me(Ie.error,lt),complete:Ie.complete&&Me(Ie.complete,lt)}):Be=Ie}this.destination=new Ze(Be)}}function ve(Ne){L.v.useDeprecatedSynchronousErrorHandling?(0,$.O)(Ne):(0,ce.h)(Ne)}function Fe(Ne,Ie){const{onStoppedNotification:Se}=L.v;Se&&W.z.setTimeout(()=>Se(Ne,Ie))}const je={closed:!0,next:de.Z,error:function Pe(Ne){throw Ne},complete:de.Z}},727:(xt,Te,V)=>{V.d(Te,{Lc:()=>J,w0:()=>de,Nn:()=>Ce});var c=V(576);const L=(0,V(3888).d)(_e=>function($){_e(this),this.message=$?`${$.length} errors occurred during unsubscription:\n${$.map((Q,Ge)=>`${Ge+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=$});var ce=V(8737);class de{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:$}=this;if($)if(this._parentage=null,Array.isArray($))for(const Me of $)Me.remove(this);else $.remove(this);const{initialTeardown:Q}=this;if((0,c.m)(Q))try{Q()}catch(Me){W=Me instanceof L?Me.errors:[Me]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Me of Ge)try{Ee(Me)}catch(Ze){W=W??[],Ze instanceof L?W=[...W,...Ze.errors]:W.push(Ze)}}if(W)throw new L(W)}}add(W){var $;if(W&&W!==this)if(this.closed)Ee(W);else{if(W instanceof de){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==($=this._finalizers)&&void 0!==$?$:[]).push(W)}}_hasParent(W){const{_parentage:$}=this;return $===W||Array.isArray($)&&$.includes(W)}_addParent(W){const{_parentage:$}=this;this._parentage=Array.isArray($)?($.push(W),$):$?[$,W]:W}_removeParent(W){const{_parentage:$}=this;$===W?this._parentage=null:Array.isArray($)&&(0,ce.P)($,W)}remove(W){const{_finalizers:$}=this;$&&(0,ce.P)($,W),W instanceof de&&W._removeParent(this)}}de.EMPTY=(()=>{const _e=new de;return _e.closed=!0,_e})();const J=de.EMPTY;function Ce(_e){return _e instanceof de||_e&&"closed"in _e&&(0,c.m)(_e.remove)&&(0,c.m)(_e.add)&&(0,c.m)(_e.unsubscribe)}function Ee(_e){(0,c.m)(_e)?_e():_e.unsubscribe()}},2416:(xt,Te,V)=>{V.d(Te,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(xt,Te,V)=>{V.d(Te,{E:()=>ne});const ne=new(V(9751).y)(de=>de.complete())},8996:(xt,Te,V)=>{V.d(Te,{D:()=>Ie});var c=V(8421),ne=V(5363),L=V(9468),J=V(9751),Ee=V(2202),_e=V(576),W=V(9672);function Q(Se,qe){if(!Se)throw new Error("Iterable cannot be null");return new J.y(Be=>{(0,W.f)(Be,qe,()=>{const lt=Se[Symbol.asyncIterator]();(0,W.f)(Be,qe,()=>{lt.next().then(le=>{le.done?Be.complete():Be.next(le.value)})},0,!0)})})}var Ge=V(3670),Me=V(8239),Ze=V(1144),ut=V(6495),ve=V(2206),Pe=V(4532),Fe=V(3260);function Ie(Se,qe){return qe?function Ne(Se,qe){if(null!=Se){if((0,Ge.c)(Se))return function ce(Se,qe){return(0,c.Xf)(Se).pipe((0,L.R)(qe),(0,ne.Q)(qe))}(Se,qe);if((0,Ze.z)(Se))return function Ce(Se,qe){return new J.y(Be=>{let lt=0;return qe.schedule(function(){lt===Se.length?Be.complete():(Be.next(Se[lt++]),Be.closed||this.schedule())})})}(Se,qe);if((0,Me.t)(Se))return function de(Se,qe){return(0,c.Xf)(Se).pipe((0,L.R)(qe),(0,ne.Q)(qe))}(Se,qe);if((0,ve.D)(Se))return Q(Se,qe);if((0,ut.T)(Se))return function $(Se,qe){return new J.y(Be=>{let lt;return(0,W.f)(Be,qe,()=>{lt=Se[Ee.h](),(0,W.f)(Be,qe,()=>{let le,At;try{({value:le,done:At}=lt.next())}catch(ot){return void Be.error(ot)}At?Be.complete():Be.next(le)},0,!0)}),()=>(0,_e.m)(lt?.return)&&lt.return()})}(Se,qe);if((0,Fe.L)(Se))return function je(Se,qe){return Q((0,Fe.Q)(Se),qe)}(Se,qe)}throw(0,Pe.z)(Se)}(Se,qe):(0,c.Xf)(Se)}},8421:(xt,Te,V)=>{V.d(Te,{Xf:()=>Ge});var c=V(7582),ne=V(1144),L=V(8239),ce=V(9751),de=V(3670),J=V(2206),Ce=V(4532),Ee=V(6495),_e=V(3260),W=V(576),$=V(7849),Q=V(8822);function Ge(Ne){if(Ne instanceof ce.y)return Ne;if(null!=Ne){if((0,de.c)(Ne))return function Me(Ne){return new ce.y(Ie=>{const Se=Ne[Q.L]();if((0,W.m)(Se.subscribe))return Se.subscribe(Ie);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ne);if((0,ne.z)(Ne))return function Ze(Ne){return new ce.y(Ie=>{for(let Se=0;Se<Ne.length&&!Ie.closed;Se++)Ie.next(Ne[Se]);Ie.complete()})}(Ne);if((0,L.t)(Ne))return function ut(Ne){return new ce.y(Ie=>{Ne.then(Se=>{Ie.closed||(Ie.next(Se),Ie.complete())},Se=>Ie.error(Se)).then(null,$.h)})}(Ne);if((0,J.D)(Ne))return Pe(Ne);if((0,Ee.T)(Ne))return function ve(Ne){return new ce.y(Ie=>{for(const Se of Ne)if(Ie.next(Se),Ie.closed)return;Ie.complete()})}(Ne);if((0,_e.L)(Ne))return function Fe(Ne){return Pe((0,_e.Q)(Ne))}(Ne)}throw(0,Ce.z)(Ne)}function Pe(Ne){return new ce.y(Ie=>{(function je(Ne,Ie){var Se,qe,Be,lt;return(0,c.mG)(this,void 0,void 0,function*(){try{for(Se=(0,c.KL)(Ne);!(qe=yield Se.next()).done;)if(Ie.next(qe.value),Ie.closed)return}catch(le){Be={error:le}}finally{try{qe&&!qe.done&&(lt=Se.return)&&(yield lt.call(Se))}finally{if(Be)throw Be.error}}Ie.complete()})})(Ne,Ie).catch(Se=>Ie.error(Se))})}},6451:(xt,Te,V)=>{V.d(Te,{T:()=>J});var c=V(8189),ne=V(8421),L=V(515),ce=V(3269),de=V(8996);function J(...Ce){const Ee=(0,ce.yG)(Ce),_e=(0,ce._6)(Ce,1/0),W=Ce;return W.length?1===W.length?(0,ne.Xf)(W[0]):(0,c.J)(_e)((0,de.D)(W,Ee)):L.E}},5403:(xt,Te,V)=>{V.d(Te,{x:()=>ne});var c=V(930);function ne(ce,de,J,Ce,Ee){return new L(ce,de,J,Ce,Ee)}class L extends c.Lv{constructor(de,J,Ce,Ee,_e,W){super(de),this.onFinalize=_e,this.shouldUnsubscribe=W,this._next=J?function($){try{J($)}catch(Q){de.error(Q)}}:super._next,this._error=Ee?function($){try{Ee($)}catch(Q){de.error(Q)}finally{this.unsubscribe()}}:super._error,this._complete=Ce?function(){try{Ce()}catch($){de.error($)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:J}=this;super.unsubscribe(),!J&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(xt,Te,V)=>{V.d(Te,{U:()=>L});var c=V(4482),ne=V(5403);function L(ce,de){return(0,c.e)((J,Ce)=>{let Ee=0;J.subscribe((0,ne.x)(Ce,_e=>{Ce.next(ce.call(de,_e,Ee++))}))})}},8189:(xt,Te,V)=>{V.d(Te,{J:()=>L});var c=V(5577),ne=V(4671);function L(ce=1/0){return(0,c.z)(ne.y,ce)}},5577:(xt,Te,V)=>{V.d(Te,{z:()=>Ee});var c=V(4004),ne=V(8421),L=V(4482),ce=V(9672),de=V(5403),Ce=V(576);function Ee(_e,W,$=1/0){return(0,Ce.m)(W)?Ee((Q,Ge)=>(0,c.U)((Me,Ze)=>W(Q,Me,Ge,Ze))((0,ne.Xf)(_e(Q,Ge))),$):("number"==typeof W&&($=W),(0,L.e)((Q,Ge)=>function J(_e,W,$,Q,Ge,Me,Ze,ut){const ve=[];let Pe=0,Fe=0,je=!1;const Ne=()=>{je&&!ve.length&&!Pe&&W.complete()},Ie=qe=>Pe<Q?Se(qe):ve.push(qe),Se=qe=>{Me&&W.next(qe),Pe++;let Be=!1;(0,ne.Xf)($(qe,Fe++)).subscribe((0,de.x)(W,lt=>{Ge?.(lt),Me?Ie(lt):W.next(lt)},()=>{Be=!0},void 0,()=>{if(Be)try{for(Pe--;ve.length&&Pe<Q;){const lt=ve.shift();Ze?(0,ce.f)(W,Ze,()=>Se(lt)):Se(lt)}Ne()}catch(lt){W.error(lt)}}))};return _e.subscribe((0,de.x)(W,Ie,()=>{je=!0,Ne()})),()=>{ut?.()}}(Q,Ge,_e,$)))}},5363:(xt,Te,V)=>{V.d(Te,{Q:()=>ce});var c=V(9672),ne=V(4482),L=V(5403);function ce(de,J=0){return(0,ne.e)((Ce,Ee)=>{Ce.subscribe((0,L.x)(Ee,_e=>(0,c.f)(Ee,de,()=>Ee.next(_e),J),()=>(0,c.f)(Ee,de,()=>Ee.complete(),J),_e=>(0,c.f)(Ee,de,()=>Ee.error(_e),J)))})}},3099:(xt,Te,V)=>{V.d(Te,{B:()=>de});var c=V(8421),ne=V(7579),L=V(930),ce=V(4482);function de(Ce={}){const{connector:Ee=(()=>new ne.x),resetOnError:_e=!0,resetOnComplete:W=!0,resetOnRefCountZero:$=!0}=Ce;return Q=>{let Ge,Me,Ze,ut=0,ve=!1,Pe=!1;const Fe=()=>{Me?.unsubscribe(),Me=void 0},je=()=>{Fe(),Ge=Ze=void 0,ve=Pe=!1},Ne=()=>{const Ie=Ge;je(),Ie?.unsubscribe()};return(0,ce.e)((Ie,Se)=>{ut++,!Pe&&!ve&&Fe();const qe=Ze=Ze??Ee();Se.add(()=>{ut--,0===ut&&!Pe&&!ve&&(Me=J(Ne,$))}),qe.subscribe(Se),!Ge&&ut>0&&(Ge=new L.Hp({next:Be=>qe.next(Be),error:Be=>{Pe=!0,Fe(),Me=J(je,_e,Be),qe.error(Be)},complete:()=>{ve=!0,Fe(),Me=J(je,W),qe.complete()}}),(0,c.Xf)(Ie).subscribe(Ge))})(Q)}}function J(Ce,Ee,..._e){if(!0===Ee)return void Ce();if(!1===Ee)return;const W=new L.Hp({next:()=>{W.unsubscribe(),Ce()}});return(0,c.Xf)(Ee(..._e)).subscribe(W)}},9468:(xt,Te,V)=>{V.d(Te,{R:()=>ne});var c=V(4482);function ne(L,ce=0){return(0,c.e)((de,J)=>{J.add(L.schedule(()=>de.subscribe(J),ce))})}},8505:(xt,Te,V)=>{V.d(Te,{b:()=>de});var c=V(576),ne=V(4482),L=V(5403),ce=V(4671);function de(J,Ce,Ee){const _e=(0,c.m)(J)||Ce||Ee?{next:J,error:Ce,complete:Ee}:J;return _e?(0,ne.e)((W,$)=>{var Q;null===(Q=_e.subscribe)||void 0===Q||Q.call(_e);let Ge=!0;W.subscribe((0,L.x)($,Me=>{var Ze;null===(Ze=_e.next)||void 0===Ze||Ze.call(_e,Me),$.next(Me)},()=>{var Me;Ge=!1,null===(Me=_e.complete)||void 0===Me||Me.call(_e),$.complete()},Me=>{var Ze;Ge=!1,null===(Ze=_e.error)||void 0===Ze||Ze.call(_e,Me),$.error(Me)},()=>{var Me,Ze;Ge&&(null===(Me=_e.unsubscribe)||void 0===Me||Me.call(_e)),null===(Ze=_e.finalize)||void 0===Ze||Ze.call(_e)}))}):ce.y}},4408:(xt,Te,V)=>{V.d(Te,{o:()=>de});var c=V(727);class ne extends c.w0{constructor(Ce,Ee){super()}schedule(Ce,Ee=0){return this}}const L={setInterval(J,Ce,...Ee){const{delegate:_e}=L;return _e?.setInterval?_e.setInterval(J,Ce,...Ee):setInterval(J,Ce,...Ee)},clearInterval(J){const{delegate:Ce}=L;return(Ce?.clearInterval||clearInterval)(J)},delegate:void 0};var ce=V(8737);class de extends ne{constructor(Ce,Ee){super(Ce,Ee),this.scheduler=Ce,this.work=Ee,this.pending=!1}schedule(Ce,Ee=0){var _e;if(this.closed)return this;this.state=Ce;const W=this.id,$=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId($,W,Ee)),this.pending=!0,this.delay=Ee,this.id=null!==(_e=this.id)&&void 0!==_e?_e:this.requestAsyncId($,this.id,Ee),this}requestAsyncId(Ce,Ee,_e=0){return L.setInterval(Ce.flush.bind(Ce,this),_e)}recycleAsyncId(Ce,Ee,_e=0){if(null!=_e&&this.delay===_e&&!1===this.pending)return Ee;null!=Ee&&L.clearInterval(Ee)}execute(Ce,Ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const _e=this._execute(Ce,Ee);if(_e)return _e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ce,Ee){let W,_e=!1;try{this.work(Ce)}catch($){_e=!0,W=$||new Error("Scheduled action threw falsy error")}if(_e)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:Ce,scheduler:Ee}=this,{actions:_e}=Ee;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(_e,this),null!=Ce&&(this.id=this.recycleAsyncId(Ee,Ce,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,Te,V)=>{V.d(Te,{v:()=>L});var c=V(6063);class ne{constructor(de,J=ne.now){this.schedulerActionCtor=de,this.now=J}schedule(de,J=0,Ce){return new this.schedulerActionCtor(this,de).schedule(Ce,J)}}ne.now=c.l.now;class L extends ne{constructor(de,J=ne.now){super(de,J),this.actions=[],this._active=!1}flush(de){const{actions:J}=this;if(this._active)return void J.push(de);let Ce;this._active=!0;do{if(Ce=de.execute(de.state,de.delay))break}while(de=J.shift());if(this._active=!1,Ce){for(;de=J.shift();)de.unsubscribe();throw Ce}}}},4986:(xt,Te,V)=>{V.d(Te,{P:()=>ce,z:()=>L});var c=V(4408);const L=new(V(7565).v)(c.o),ce=L},6063:(xt,Te,V)=>{V.d(Te,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(xt,Te,V)=>{V.d(Te,{z:()=>c});const c={setTimeout(ne,L,...ce){const{delegate:de}=c;return de?.setTimeout?de.setTimeout(ne,L,...ce):setTimeout(ne,L,...ce)},clearTimeout(ne){const{delegate:L}=c;return(L?.clearTimeout||clearTimeout)(ne)},delegate:void 0}},2202:(xt,Te,V)=>{V.d(Te,{h:()=>ne});const ne=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,Te,V)=>{V.d(Te,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(xt,Te,V)=>{V.d(Te,{_6:()=>J,jO:()=>ce,yG:()=>de});var c=V(576),ne=V(3532);function L(Ce){return Ce[Ce.length-1]}function ce(Ce){return(0,c.m)(L(Ce))?Ce.pop():void 0}function de(Ce){return(0,ne.K)(L(Ce))?Ce.pop():void 0}function J(Ce,Ee){return"number"==typeof L(Ce)?Ce.pop():Ee}},8737:(xt,Te,V)=>{function c(ne,L){if(ne){const ce=ne.indexOf(L);0<=ce&&ne.splice(ce,1)}}V.d(Te,{P:()=>c})},3888:(xt,Te,V)=>{function c(ne){const ce=ne(de=>{Error.call(de),de.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}V.d(Te,{d:()=>c})},2806:(xt,Te,V)=>{V.d(Te,{O:()=>ce,x:()=>L});var c=V(2416);let ne=null;function L(de){if(c.v.useDeprecatedSynchronousErrorHandling){const J=!ne;if(J&&(ne={errorThrown:!1,error:null}),de(),J){const{errorThrown:Ce,error:Ee}=ne;if(ne=null,Ce)throw Ee}}else de()}function ce(de){c.v.useDeprecatedSynchronousErrorHandling&&ne&&(ne.errorThrown=!0,ne.error=de)}},9672:(xt,Te,V)=>{function c(ne,L,ce,de=0,J=!1){const Ce=L.schedule(function(){ce(),J?ne.add(this.schedule(null,de)):this.unsubscribe()},de);if(ne.add(Ce),!J)return Ce}V.d(Te,{f:()=>c})},4671:(xt,Te,V)=>{function c(ne){return ne}V.d(Te,{y:()=>c})},1144:(xt,Te,V)=>{V.d(Te,{z:()=>c});const c=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},2206:(xt,Te,V)=>{V.d(Te,{D:()=>ne});var c=V(576);function ne(L){return Symbol.asyncIterator&&(0,c.m)(L?.[Symbol.asyncIterator])}},576:(xt,Te,V)=>{function c(ne){return"function"==typeof ne}V.d(Te,{m:()=>c})},3670:(xt,Te,V)=>{V.d(Te,{c:()=>L});var c=V(8822),ne=V(576);function L(ce){return(0,ne.m)(ce[c.L])}},6495:(xt,Te,V)=>{V.d(Te,{T:()=>L});var c=V(2202),ne=V(576);function L(ce){return(0,ne.m)(ce?.[c.h])}},8239:(xt,Te,V)=>{V.d(Te,{t:()=>ne});var c=V(576);function ne(L){return(0,c.m)(L?.then)}},3260:(xt,Te,V)=>{V.d(Te,{L:()=>ce,Q:()=>L});var c=V(7582),ne=V(576);function L(de){return(0,c.FC)(this,arguments,function*(){const Ce=de.getReader();try{for(;;){const{value:Ee,done:_e}=yield(0,c.qq)(Ce.read());if(_e)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(Ee)}}finally{Ce.releaseLock()}})}function ce(de){return(0,ne.m)(de?.getReader)}},3532:(xt,Te,V)=>{V.d(Te,{K:()=>ne});var c=V(576);function ne(L){return L&&(0,c.m)(L.schedule)}},4482:(xt,Te,V)=>{V.d(Te,{A:()=>ne,e:()=>L});var c=V(576);function ne(ce){return(0,c.m)(ce?.lift)}function L(ce){return de=>{if(ne(de))return de.lift(function(J){try{return ce(J,this)}catch(Ce){this.error(Ce)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(xt,Te,V)=>{function c(){}V.d(Te,{Z:()=>c})},9635:(xt,Te,V)=>{V.d(Te,{U:()=>L,z:()=>ne});var c=V(4671);function ne(...ce){return L(ce)}function L(ce){return 0===ce.length?c.y:1===ce.length?ce[0]:function(J){return ce.reduce((Ce,Ee)=>Ee(Ce),J)}}},7849:(xt,Te,V)=>{V.d(Te,{h:()=>L});var c=V(2416),ne=V(3410);function L(ce){ne.z.setTimeout(()=>{const{onUnhandledError:de}=c.v;if(!de)throw ce;de(ce)})}},4532:(xt,Te,V)=>{function c(ne){return new TypeError(`You provided ${null!==ne&&"object"==typeof ne?"an invalid object":`'${ne}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}V.d(Te,{z:()=>c})},4650:(xt,Te,V)=>{V.d(Te,{$8M:()=>qa,$WT:()=>Pi,$Z:()=>dC,AFp:()=>Ev,ALo:()=>SA,AaK:()=>Ee,BQk:()=>$_,CHM:()=>Dl,CRH:()=>Ls,CZH:()=>kf,CqO:()=>eM,D6c:()=>dI,Dn7:()=>TA,EJc:()=>WA,EiD:()=>us,EpF:()=>XT,F$t:()=>kp,F4k:()=>JT,FYo:()=>Cb,FiY:()=>Gl,Gf:()=>S0,GfV:()=>Gx,GkF:()=>DC,Gpc:()=>$,Hsn:()=>tM,Ikx:()=>jC,JOm:()=>It,JVY:()=>c_,JZr:()=>ut,KtG:()=>Tl,L6k:()=>d_,LAX:()=>Ui,LFG:()=>mn,LSH:()=>Cu,Lbi:()=>jA,Lck:()=>sv,MAs:()=>SC,MMx:()=>pE,NdJ:()=>MC,O4$:()=>Ol,OlP:()=>on,Oqu:()=>UC,P3R:()=>Gh,PXZ:()=>Qp,Q6J:()=>Nu,QGY:()=>TC,QbO:()=>GA,Qsj:()=>nT,R0b:()=>Hs,RDi:()=>a_,Rgc:()=>Bu,SBq:()=>Zh,Sil:()=>qA,Suo:()=>xe,TTD:()=>zd,TgZ:()=>ff,Udp:()=>NC,VKq:()=>_0,W1O:()=>it,WFA:()=>AC,WLB:()=>v0,X6Q:()=>tI,XFs:()=>bt,Xpm:()=>ao,Xts:()=>fb,Y36:()=>tf,YKP:()=>p0,YNc:()=>uf,Yjl:()=>qt,Yz7:()=>gt,Z0I:()=>Bn,ZZ4:()=>Zv,_Bn:()=>aA,_UZ:()=>Dp,_Vd:()=>Kh,_c5:()=>ok,_uU:()=>CM,aQg:()=>Z0,c2e:()=>jE,cJS:()=>vt,cg1:()=>$C,d8E:()=>GC,dDg:()=>KE,dqk:()=>ln,eBb:()=>u_,eFA:()=>Vv,eJc:()=>D0,ekj:()=>LC,eoX:()=>Pf,f3M:()=>Kn,g9A:()=>Iv,h0i:()=>jp,hGG:()=>cI,hij:()=>t0,iGM:()=>OA,ifc:()=>we,ip1:()=>Cv,jDz:()=>dA,kL8:()=>VM,kcU:()=>Is,lG2:()=>Mt,lcZ:()=>DA,lqb:()=>Su,lri:()=>V0,mCW:()=>nc,n5z:()=>Qc,n_E:()=>Sf,oAB:()=>oe,oxw:()=>Ap,pB0:()=>Uh,q3G:()=>jn,q4F:()=>$x,qLn:()=>hp,qOj:()=>Jt,qZA:()=>mf,qzn:()=>Mr,rWj:()=>Zr,sBO:()=>Hv,s_b:()=>cv,soG:()=>Sv,tBr:()=>Ka,tb:()=>Nv,tp0:()=>nt,uIk:()=>qb,vHH:()=>ve,vpe:()=>ol,wAp:()=>Ft,xp6:()=>nC,ynx:()=>Tp,z2F:()=>Lf,z3N:()=>Yi,zSh:()=>vd,zs3:()=>Xh});var c=V(7579),ne=V(727),L=V(9751),ce=V(6451),de=V(3099);function J(s){for(let a in s)if(s[a]===J)return a;throw Error("Could not find renamed property on target object.")}function Ce(s,a){for(const d in a)a.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=a[d])}function Ee(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Ee).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function _e(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const W=J({__forward_ref__:J});function $(s){return s.__forward_ref__=$,s.toString=function(){return Ee(this())},s}function Q(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===$}function Me(s){return s&&!!s.\u0275providers}const ut="https://g.co/ng/security#xss";class ve extends Error{constructor(a,d){super(Pe(a,d)),this.code=a}}function Pe(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}function Fe(s){return"string"==typeof s?s:null==s?"":String(s)}function qe(s,a){throw new ve(-201,!1)}function ye(s,a){null==s&&function ue(s,a,d,h){throw new Error(`ASSERTION ERROR: ${s}`+(null==h?"":` [Expected=> ${d} ${h} ${a} <=Actual]`))}(a,s,null,"!=")}function gt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function vt(s){return{providers:s.providers||[],imports:s.imports||[]}}function tn(s){return Dn(s,Yn)||Dn(s,Er)}function Bn(s){return null!==tn(s)}function Dn(s,a){return s.hasOwnProperty(a)?s[a]:null}function xi(s){return s&&(s.hasOwnProperty(Ji)||s.hasOwnProperty($i))?s[Ji]:null}const Yn=J({\u0275prov:J}),Ji=J({\u0275inj:J}),Er=J({ngInjectableDef:J}),$i=J({ngInjectorDef:J});var bt=(()=>((bt=bt||{})[bt.Default=0]="Default",bt[bt.Host=1]="Host",bt[bt.Self=2]="Self",bt[bt.SkipSelf=4]="SkipSelf",bt[bt.Optional=8]="Optional",bt))();let Ir;function Wi(s){const a=Ir;return Ir=s,a}function ur(s,a,d){const h=tn(s);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:d&bt.Optional?null:void 0!==a?a:void qe(Ee(s))}const ln=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Fr={},Sr="__NG_DI_FLAG__",Ci="ngTempTokenPath",er="ngTokenPath",Wn=/\n/gm,hr="\u0275",yn="__source";let Ko;function nn(s){const a=Ko;return Ko=s,a}function Mo(s,a=bt.Default){if(void 0===Ko)throw new ve(-203,!1);return null===Ko?ur(s,void 0,a):Ko.get(s,a&bt.Optional?null:void 0,a)}function mn(s,a=bt.Default){return(function Bd(){return Ir}()||Mo)(Q(s),a)}function Kn(s,a=bt.Default){return mn(s,fi(a))}function fi(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function oo(s){const a=[];for(let d=0;d<s.length;d++){const h=Q(s[d]);if(Array.isArray(h)){if(0===h.length)throw new ve(900,!1);let f,_=bt.Default;for(let b=0;b<h.length;b++){const E=h[b],S=so(E);"number"==typeof S?-1===S?f=E.token:_|=S:f=E}a.push(mn(f,_))}else a.push(mn(h))}return a}function On(s,a){return s[Sr]=a,s.prototype[Sr]=a,s}function so(s){return s[Sr]}function z(s){return{toString:s}.toString()}var Z=(()=>((Z=Z||{})[Z.OnPush=0]="OnPush",Z[Z.Default=1]="Default",Z))(),we=(()=>{return(s=we||(we={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",we;var s})();const re={},Ue=[],kt=J({\u0275cmp:J}),sn=J({\u0275dir:J}),oi=J({\u0275pipe:J}),Vn=J({\u0275mod:J}),vn=J({\u0275fac:J}),Xt=J({__NG_ELEMENT_ID__:J});let tr=0;function ao(s){return z(()=>{const a=Ec(s),d={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Z.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||we.Emulated,id:"c"+tr++,styles:s.styles||Ue,_:null,schemas:s.schemas||null,tView:null};Dm(d);const h=s.dependencies;return d.directiveDefs=Oa(h,!1),d.pipeDefs=Oa(h,!0),d})}function vl(s){return wt(s)||un(s)}function pe(s){return null!==s}function oe(s){return z(()=>({type:s.type,bootstrap:s.bootstrap||Ue,declarations:s.declarations||Ue,imports:s.imports||Ue,exports:s.exports||Ue,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function yt(s,a){if(null==s)return re;const d={};for(const h in s)if(s.hasOwnProperty(h)){let f=s[h],_=f;Array.isArray(f)&&(_=f[1],f=f[0]),d[f]=h,a&&(a[f]=_)}return d}function Mt(s){return z(()=>{const a=Ec(s);return Dm(a),a})}function qt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function wt(s){return s[kt]||null}function un(s){return s[sn]||null}function an(s){return s[oi]||null}function Pi(s){const a=wt(s)||un(s)||an(s);return null!==a&&a.standalone}function mi(s,a){const d=s[Vn]||null;if(!d&&!0===a)throw new Error(`Type ${Ee(s)} does not have '\u0275mod' property.`);return d}function Ec(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||Ue,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yt(s.inputs,a),outputs:yt(s.outputs)}}function Dm(s){s.features?.forEach(a=>a(s))}function Oa(s,a){if(!s)return null;const d=a?an:vl;return()=>("function"==typeof s?s():s).map(h=>d(h)).filter(pe)}const Lr=0,Qe=1,Ut=2,Pn=3,Br=4,bn=5,pi=6,Pa=7,Zn=8,yl=9,mr=10,Wt=11,bl=12,Ws=13,ko=14,ys=15,si=16,Fa=17,Zo=18,lo=19,bs=20,Ei=21,Tn=22,wl=1,Vd=2,Na=7,ws=8,qs=9,Fi=10;function Tr(s){return Array.isArray(s)&&"object"==typeof s[wl]}function pr(s){return Array.isArray(s)&&!0===s[wl]}function xl(s){return 0!=(4&s.flags)}function La(s){return s.componentOffset>-1}function Ud(s){return 1==(1&s.flags)}function Vr(s){return!!s.template}function Sc(s){return 0!=(256&s[Ut])}function Ro(s,a){return s.hasOwnProperty(vn)?s[vn]:null}class Ys{constructor(a,d,h){this.previousValue=a,this.currentValue=d,this.firstChange=h}isFirstChange(){return this.firstChange}}function zd(){return Cl}function Cl(s){return s.type.prototype.ngOnChanges&&(s.setInput=jd),lh}function lh(){const s=km(this),a=s?.current;if(a){const d=s.previous;if(d===re)s.previous=a;else for(let h in a)d[h]=a[h];s.current=null,this.ngOnChanges(a)}}function jd(s,a,d,h){const f=this.declaredInputs[d],_=km(s)||function Mc(s,a){return s[xs]=a}(s,{previous:re,current:null}),b=_.current||(_.current={}),E=_.previous,S=E[f];b[f]=new Ys(S&&S.currentValue,a,E===re),s[h]=a}zd.ngInherit=!0;const xs="__ngSimpleChanges__";function km(s){return s[xs]||null}const gr=function(s,a,d){},nr="svg";function Ni(s){for(;Array.isArray(s);)s=s[Lr];return s}function Jo(s,a){return Ni(a[s])}function Li(s,a){return Ni(a[s.index])}function dh(s,a){return s.data[a]}function ir(s,a){return s[a]}function Ii(s,a){const d=a[s];return Tr(d)?d:d[Lr]}function es(s){return 64==(64&s[Ut])}function Es(s,a){return null==a?null:s[a]}function Ua(s){s[Zo]=0}function Il(s,a){s[bn]+=a;let d=s,h=s[Pn];for(;null!==h&&(1===a&&1===d[bn]||-1===a&&0===d[bn]);)h[bn]+=a,d=h,h=h[Pn]}const Bt={lFrame:Wd(null),bindingsEnabled:!0};function Oc(){return Bt.bindingsEnabled}function ge(){return Bt.lFrame.lView}function jt(){return Bt.lFrame.tView}function Dl(s){return Bt.lFrame.contextLView=s,s[Zn]}function Tl(s){return Bt.lFrame.contextLView=null,s}function Si(){let s=Ks();for(;null!==s&&64===s.type;)s=s.parent;return s}function Ks(){return Bt.lFrame.currentTNode}function _r(s,a){const d=Bt.lFrame;d.currentTNode=s,d.isParent=a}function ph(){return Bt.lFrame.isParent}function Fc(){Bt.lFrame.isParent=!1}function gi(){const s=Bt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Zs(){return Bt.lFrame.bindingIndex++}function Nc(s,a){const d=Bt.lFrame;d.bindingIndex=d.bindingRootIndex=s,_i(a)}function _i(s){Bt.lFrame.currentDirectiveIndex=s}function Ha(s){const a=Bt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}function $d(){return Bt.lFrame.currentQueryIndex}function Lc(s){Bt.lFrame.currentQueryIndex=s}function _h(s){const a=s[Qe];return 2===a.type?a.declTNode:1===a.type?s[pi]:null}function Bc(s,a,d){if(d&bt.SkipSelf){let f=a,_=s;for(;!(f=f.parent,null!==f||d&bt.Host||(f=_h(_),null===f||(_=_[ys],10&f.type))););if(null===f)return!1;a=f,s=_}const h=Bt.lFrame=kl();return h.currentTNode=a,h.lView=s,!0}function Vc(s){const a=kl(),d=s[Qe];Bt.lFrame=a,a.currentTNode=d.firstChild,a.lView=s,a.tView=d,a.contextLView=s,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function kl(){const s=Bt.lFrame,a=null===s?null:s.child;return null===a?Wd(s):a}function Wd(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Rl(){const s=Bt.lFrame;return Bt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const vh=Rl;function Uc(){const s=Rl();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qi(){return Bt.lFrame.selectedIndex}function ns(s){Bt.lFrame.selectedIndex=s}function Un(){const s=Bt.lFrame;return dh(s.tView,s.selectedIndex)}function Ol(){Bt.lFrame.currentNamespace=nr}function Is(){!function Pm(){Bt.lFrame.currentNamespace=null}()}function zc(s,a){for(let d=a.directiveStart,h=a.directiveEnd;d<h;d++){const _=s.data[d].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:E,ngAfterViewInit:S,ngAfterViewChecked:k,ngOnDestroy:P}=_;b&&(s.contentHooks??(s.contentHooks=[])).push(-d,b),E&&((s.contentHooks??(s.contentHooks=[])).push(d,E),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(d,E)),S&&(s.viewHooks??(s.viewHooks=[])).push(-d,S),k&&((s.viewHooks??(s.viewHooks=[])).push(d,k),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(d,k)),null!=P&&(s.destroyHooks??(s.destroyHooks=[])).push(d,P)}}function qd(s,a,d){Kd(s,a,3,d)}function Yd(s,a,d,h){(3&s[Ut])===d&&Kd(s,a,d,h)}function bh(s,a){let d=s[Ut];(3&d)===a&&(d&=2047,d+=1,s[Ut]=d)}function Kd(s,a,d,h){const _=h??-1,b=a.length-1;let E=0;for(let S=void 0!==h?65535&s[Zo]:0;S<b;S++)if("number"==typeof a[S+1]){if(E=a[S],null!=h&&E>=h)break}else a[S]<0&&(s[Zo]+=65536),(E<_||-1==_)&&(za(s,d,a,S),s[Zo]=(4294901760&s[Zo])+S+2),S++}function za(s,a,d,h){const f=d[h]<0,_=d[h+1],E=s[f?-d[h]:d[h]];if(f){if(s[Ut]>>11<s[Zo]>>16&&(3&s[Ut])===a){s[Ut]+=2048,gr(4,E,_);try{_.call(E)}finally{gr(5,E,_)}}}else{gr(4,E,_);try{_.call(E)}finally{gr(5,E,_)}}}const ja=-1;class is{constructor(a,d,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=h}}function Ga(s,a,d){let h=0;for(;h<d.length;){const f=d[h];if("number"==typeof f){if(0!==f)break;h++;const _=d[h++],b=d[h++],E=d[h++];s.setAttribute(a,b,E,_)}else{const _=f,b=d[++h];Js(_)?s.setProperty(a,_,b):s.setAttribute(a,_,b),h++}}return h}function Zd(s){return 3===s||4===s||6===s}function Js(s){return 64===s.charCodeAt(0)}function ea(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let d=-1;for(let h=0;h<a.length;h++){const f=a[h];"number"==typeof f?d=f:0===d||$c(s,d,f,null,-1===d||2===d?a[++h]:null)}}return s}function $c(s,a,d,h,f){let _=0,b=s.length;if(-1===a)b=-1;else for(;_<s.length;){const E=s[_++];if("number"==typeof E){if(E===a){b=-1;break}if(E>a){b=_-1;break}}}for(;_<s.length;){const E=s[_];if("number"==typeof E)break;if(E===d){if(null===h)return void(null!==f&&(s[_+1]=f));if(h===s[_+1])return void(s[_+2]=f)}_++,null!==h&&_++,null!==f&&_++}-1!==b&&(s.splice(b,0,a),_=b+1),s.splice(_++,0,d),null!==h&&s.splice(_++,0,h),null!==f&&s.splice(_++,0,f)}function ta(s){return s!==ja}function Ss(s){return 32767&s}function na(s,a){let d=function wh(s){return s>>16}(s),h=a;for(;d>0;)h=h[ys],d--;return h}let Wc=!0;function Fl(s){const a=Wc;return Wc=s,a}const qc=255,xh=5;let ia=0;const zr={};function Qd(s,a){const d=Wa(s,a);if(-1!==d)return d;const h=a[Qe];h.firstCreatePass&&(s.injectorIndex=a.length,$a(h.data,s),$a(a,null),$a(h.blueprint,null));const f=Ch(s,a),_=s.injectorIndex;if(ta(f)){const b=Ss(f),E=na(f,a),S=E[Qe].data;for(let k=0;k<8;k++)a[_+k]=E[b+k]|S[b+k]}return a[_+8]=f,_}function $a(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Wa(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Ch(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,h=null,f=a;for(;null!==f;){if(h=Bl(f),null===h)return ja;if(d++,f=f[ys],-1!==h.injectorIndex)return h.injectorIndex|d<<16}return ja}function En(s,a,d){!function rs(s,a,d){let h;"string"==typeof d?h=d.charCodeAt(0)||0:d.hasOwnProperty(Xt)&&(h=d[Xt]),null==h&&(h=d[Xt]=ia++);const f=h&qc;a.data[s+(f>>xh)]|=1<<f}(s,a,d)}function Yc(s,a,d){if(d&bt.Optional||void 0!==s)return s;qe()}function Xd(s,a,d,h){if(d&bt.Optional&&void 0===h&&(h=null),!(d&(bt.Self|bt.Host))){const f=s[yl],_=Wi(void 0);try{return f?f.get(a,h,d&bt.Optional):ur(a,h,d&bt.Optional)}finally{Wi(_)}}return Yc(h,0,d)}function Kc(s,a,d,h=bt.Default,f){if(null!==s){if(1024&a[Ut]){const b=function eu(s,a,d,h,f){let _=s,b=a;for(;null!==_&&null!==b&&1024&b[Ut]&&!(256&b[Ut]);){const E=Zc(_,b,d,h|bt.Self,zr);if(E!==zr)return E;let S=_.parent;if(!S){const k=b[Ei];if(k){const P=k.get(d,zr,h);if(P!==zr)return P}S=Bl(b),b=b[ys]}_=S}return f}(s,a,d,h,zr);if(b!==zr)return b}const _=Zc(s,a,d,h,zr);if(_!==zr)return _}return Xd(a,d,h,f)}function Zc(s,a,d,h,f){const _=function Jd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Xt)?s[Xt]:void 0;return"number"==typeof a?a>=0?a&qc:Lm:a}(d);if("function"==typeof _){if(!Bc(a,s,h))return h&bt.Host?Yc(f,0,h):Xd(a,d,h,f);try{const b=_(h);if(null!=b||h&bt.Optional)return b;qe()}finally{vh()}}else if("number"==typeof _){let b=null,E=Wa(s,a),S=ja,k=h&bt.Host?a[si][pi]:null;for((-1===E||h&bt.SkipSelf)&&(S=-1===E?Ch(s,a):a[E+8],S!==ja&&Ll(h,!1)?(b=a[Qe],E=Ss(S),a=na(S,a)):E=-1);-1!==E;){const P=a[Qe];if(Nl(_,E,P.data)){const U=Di(E,a,d,b,h,k);if(U!==zr)return U}S=a[E+8],S!==ja&&Ll(h,a[Qe].data[E+8]===k)&&Nl(_,E,a)?(b=P,E=Ss(S),a=na(S,a)):E=-1}}return f}function Di(s,a,d,h,f,_){const b=a[Qe],E=b.data[s+8],P=ra(E,b,d,null==h?La(E)&&Wc:h!=b&&0!=(3&E.type),f&bt.Host&&_===E);return null!==P?ai(a,b,P,E):zr}function ra(s,a,d,h,f){const _=s.providerIndexes,b=a.data,E=1048575&_,S=s.directiveStart,P=_>>20,K=f?E+P:s.directiveEnd;for(let ie=h?E:E+P;ie<K;ie++){const be=b[ie];if(ie<S&&d===be||ie>=S&&be.type===d)return ie}if(f){const ie=b[S];if(ie&&Vr(ie)&&ie.type===d)return S}return null}function ai(s,a,d,h){let f=s[d];const _=a.data;if(function e_(s){return s instanceof is}(f)){const b=f;b.resolving&&function Ne(s,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ve(-200,`Circular dependency in DI detected for ${s}${d}`)}(function je(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Fe(s)}(_[d]));const E=Fl(b.canSeeViewProviders);b.resolving=!0;const S=b.injectImpl?Wi(b.injectImpl):null;Bc(s,h,bt.Default);try{f=s[d]=b.factory(void 0,_,s,h),a.firstCreatePass&&d>=h.directiveStart&&function Jg(s,a,d){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:_}=a.type.prototype;if(h){const b=Cl(a);(d.preOrderHooks??(d.preOrderHooks=[])).push(s,b),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(s,b)}f&&(d.preOrderHooks??(d.preOrderHooks=[])).push(0-s,f),_&&((d.preOrderHooks??(d.preOrderHooks=[])).push(s,_),(d.preOrderCheckHooks??(d.preOrderCheckHooks=[])).push(s,_))}(d,_[d],a)}finally{null!==S&&Wi(S),Fl(E),b.resolving=!1,vh()}}return f}function Nl(s,a,d){return!!(d[a+(s>>xh)]&1<<s)}function Ll(s,a){return!(s&bt.Self||s&bt.Host&&a)}class os{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,h){return Kc(this._tNode,this._lView,a,fi(h),d)}}function Lm(){return new os(Si(),ge())}function Qc(s){return z(()=>{const a=s.prototype.constructor,d=a[vn]||oa(a),h=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==h;){const _=f[vn]||oa(f);if(_&&_!==d)return _;f=Object.getPrototypeOf(f)}return _=>new _})}function oa(s){return Ge(s)?()=>{const a=oa(Q(s));return a&&a()}:Ro(s)}function Bl(s){const a=s[Qe],d=a.type;return 2===d?a.declTNode:1===d?s[pi]:null}function qa(s){return function Eh(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const d=s.attrs;if(d){const h=d.length;let f=0;for(;f<h;){const _=d[f];if(Zd(_))break;if(0===_)f+=2;else if("number"==typeof _)for(f++;f<h&&"string"==typeof d[f];)f++;else{if(_===a)return d[f+1];f+=2}}}return null}(Si(),s)}const sa="__parameters__";function la(s,a,d){return z(()=>{const h=function aa(s){return function(...d){if(s){const h=s(...d);for(const f in h)this[f]=h[f]}}}(a);function f(..._){if(this instanceof f)return h.apply(this,_),this;const b=new f(..._);return E.annotation=b,E;function E(S,k,P){const U=S.hasOwnProperty(sa)?S[sa]:Object.defineProperty(S,sa,{value:[]})[sa];for(;U.length<=P;)U.push(null);return(U[P]=U[P]||[]).push(b),S}}return d&&(f.prototype=Object.create(d.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class on{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=gt({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Po(s,a){s.forEach(d=>Array.isArray(d)?Po(d,a):a(d))}function zm(s,a,d){a>=s.length?s.push(d):s.splice(a,0,d)}function da(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function Jc(s,a){const d=[];for(let h=0;h<s;h++)d.push(a);return d}function vr(s,a,d){let h=yr(s,a);return h>=0?s[1|h]=d:(h=~h,function nd(s,a,d,h){let f=s.length;if(f==a)s.push(d,h);else if(1===f)s.push(h,s[0]),s[0]=d;else{for(f--,s.push(s[f-1],s[f]);f>a;)s[f]=s[f-2],f--;s[a]=d,s[a+1]=h}}(s,h,a,d)),h}function pn(s,a){const d=yr(s,a);if(d>=0)return s[1|d]}function yr(s,a){return function Tt(s,a,d){let h=0,f=s.length>>d;for(;f!==h;){const _=h+(f-h>>1),b=s[_<<d];if(a===b)return _<<d;b>a?f=_:h=_+1}return~(f<<d)}(s,a,1)}const Ka=On(la("Inject",s=>({token:s})),-1),Gl=On(la("Optional"),8),nt=On(la("SkipSelf"),4);var It=(()=>((It=It||{})[It.Important=1]="Important",It[It.DashCase=2]="DashCase",It))();const Mh=new Map;let po=0;const X="__ngContext__";function se(s,a){Tr(a)?(s[X]=a[bs],function kh(s){Mh.set(s[bs],s)}(a)):s[X]=a}let go;function ks(s,a){return go(s,a)}function du(s){const a=s[Pn];return pr(a)?a[Pn]:a}function uu(s){return qm(s[Ws])}function pa(s){return qm(s[Br])}function qm(s){for(;null!==s&&!pr(s);)s=s[Br];return s}function ga(s,a,d,h,f){if(null!=h){let _,b=!1;pr(h)?_=h:Tr(h)&&(b=!0,h=h[Lr]);const E=Ni(h);0===s&&null!==d?null==f?fu(a,d,E):el(a,d,E,f||null,!0):1===s&&null!==d?el(a,d,E,f||null,!0):2===s?function Qm(s,a,d){const h=_a(s,a);h&&function mu(s,a,d,h){s.removeChild(a,d,h)}(s,h,a,d)}(a,E,b):3===s&&a.destroyNode(E),null!=_&&function vu(s,a,d,h,f){const _=d[Na];_!==Ni(d)&&ga(a,s,h,_,f);for(let E=Fi;E<d.length;E++){const S=d[E];_u(S[Qe],S,s,a,h,_)}}(a,s,_,d,f)}}function Km(s,a,d){return s.createElement(a,d)}function r_(s,a){const d=s[qs],h=d.indexOf(a),f=a[Pn];512&a[Ut]&&(a[Ut]&=-513,Il(f,-1)),d.splice(h,1)}function hu(s,a){if(s.length<=Fi)return;const d=Fi+a,h=s[d];if(h){const f=h[Fa];null!==f&&f!==s&&r_(f,h),a>0&&(s[d-1][Br]=h[Br]);const _=da(s,Fi+a);!function tb(s,a){_u(s,a,a[Wt],2,null,null),a[Lr]=null,a[pi]=null}(h[Qe],h);const b=_[lo];null!==b&&b.detachView(_[Qe]),h[Pn]=null,h[Br]=null,h[Ut]&=-65}return h}function Ph(s,a){if(!(128&a[Ut])){const d=a[Wt];d.destroyNode&&_u(s,a,d,3,null,null),function Fx(s){let a=s[Ws];if(!a)return Ja(s[Qe],s);for(;a;){let d=null;if(Tr(a))d=a[Ws];else{const h=a[Fi];h&&(d=h)}if(!d){for(;a&&!a[Br]&&a!==s;)Tr(a)&&Ja(a[Qe],a),a=a[Pn];null===a&&(a=s),Tr(a)&&Ja(a[Qe],a),d=a&&a[Br]}a=d}}(a)}}function Ja(s,a){if(!(128&a[Ut])){a[Ut]&=-65,a[Ut]|=128,function Zl(s,a){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let h=0;h<d.length;h+=2){const f=a[d[h]];if(!(f instanceof is)){const _=d[h+1];if(Array.isArray(_))for(let b=0;b<_.length;b+=2){const E=f[_[b]],S=_[b+1];gr(4,E,S);try{S.call(E)}finally{gr(5,E,S)}}else{gr(4,f,_);try{_.call(f)}finally{gr(5,f,_)}}}}}(s,a),function ib(s,a){const d=s.cleanup,h=a[Pa];let f=-1;if(null!==d)for(let _=0;_<d.length-1;_+=2)if("string"==typeof d[_]){const b=d[_+3];b>=0?h[f=b]():h[f=-b].unsubscribe(),_+=2}else{const b=h[f=d[_+1]];d[_].call(b)}if(null!==h){for(let _=f+1;_<h.length;_++)(0,h[_])();a[Pa]=null}}(s,a),1===a[Qe].type&&a[Wt].destroy();const d=a[Fa];if(null!==d&&pr(a[Pn])){d!==a[Pn]&&r_(d,a);const h=a[lo];null!==h&&h.detachView(s)}!function C(s){Mh.delete(s[bs])}(a)}}function hd(s,a,d){return function rb(s,a,d){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return d[Lr];{const{componentOffset:f}=h;if(f>-1){const{encapsulation:_}=s.data[h.directiveStart+f];if(_===we.None||_===we.Emulated)return null}return Li(h,d)}}(s,a.parent,d)}function el(s,a,d,h,f){s.insertBefore(a,d,h,f)}function fu(s,a,d){s.appendChild(a,d)}function o_(s,a,d,h,f){null!==h?el(s,a,d,h,f):fu(s,a,d)}function _a(s,a){return s.parentNode(a)}function Nh(s,a,d){return Ql(s,a,d)}let Zm,tl,wu,md,Ql=function pu(s,a,d){return 40&s.type?Li(s,d):null};function Xl(s,a,d,h){const f=hd(s,h,a),_=a[Wt],E=Nh(h.parent||a[pi],h,a);if(null!=f)if(Array.isArray(d))for(let S=0;S<d.length;S++)o_(_,f,d[S],E,!1);else o_(_,f,d,E,!1);void 0!==Zm&&Zm(_,h,a,d,f)}function Bh(s,a){if(null!==a){const d=a.type;if(3&d)return Li(a,s);if(4&d)return cs(-1,s[a.index]);if(8&d){const h=a.child;if(null!==h)return Bh(s,h);{const f=s[a.index];return pr(f)?cs(-1,f):Ni(f)}}if(32&d)return ks(a,s)()||Ni(s[a.index]);{const h=Vh(s,a);return null!==h?Array.isArray(h)?h[0]:Bh(du(s[si]),h):Bh(s,a.next)}}return null}function Vh(s,a){return null!==a?s[si][pi].projection[a.projection]:null}function cs(s,a){const d=Fi+s+1;if(d<a.length){const h=a[d],f=h[Qe].firstChild;if(null!==f)return Bh(h,f)}return a[Na]}function gu(s,a,d,h,f,_,b){for(;null!=d;){const E=h[d.index],S=d.type;if(b&&0===a&&(E&&se(Ni(E),h),d.flags|=2),32!=(32&d.flags))if(8&S)gu(s,a,d.child,h,f,_,!1),ga(a,s,f,E,_);else if(32&S){const k=ks(d,h);let P;for(;P=k();)ga(a,s,f,P,_);ga(a,s,f,E,_)}else 16&S?Jm(s,a,h,d,f,_):ga(a,s,f,E,_);d=b?d.projectionNext:d.next}}function _u(s,a,d,h,f,_){gu(d,h,s.firstChild,a,f,_,!1)}function Jm(s,a,d,h,f,_){const b=d[si],S=b[pi].projection[h.projection];if(Array.isArray(S))for(let k=0;k<S.length;k++)ga(a,s,f,S[k],_);else gu(s,a,S,b[Pn],f,_,!0)}function Lo(s,a,d){""===d?s.removeAttribute(a,"class"):s.setAttribute(a,"class",d)}function yu(s,a,d){const{mergedAttrs:h,classes:f,styles:_}=d;null!==h&&Ga(s,a,h),null!==f&&Lo(s,a,f),null!==_&&function ep(s,a,d){s.setAttribute(a,"style",d)}(s,a,_)}function fd(s){return function bu(){if(void 0===tl&&(tl=null,ln.trustedTypes))try{tl=ln.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return tl}()?.createHTML(s)||s}function a_(s){wu=s}function ip(s){return function np(){if(void 0===md&&(md=null,ln.trustedTypes))try{md=ln.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return md}()?.createScriptURL(s)||s}class ec{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ut})`}}class rp extends ec{getTypeName(){return"HTML"}}class op extends ec{getTypeName(){return"Style"}}class lb extends ec{getTypeName(){return"Script"}}class sp extends ec{getTypeName(){return"URL"}}class ap extends ec{getTypeName(){return"ResourceURL"}}function Yi(s){return s instanceof ec?s.changingThisBreaksApplicationSecurity:s}function Mr(s,a){const d=function pd(s){return s instanceof ec&&s.getTypeName()||null}(s);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see ${ut})`)}return d===a}function c_(s){return new rp(s)}function d_(s){return new op(s)}function u_(s){return new lb(s)}function Ui(s){return new sp(s)}function Uh(s){return new ap(s)}class zh{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(fd(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch{return null}}}class Os{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const d=this.inertDocument.createElement("template");return d.innerHTML=fd(a),d}}const lp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nc(s){return(s=String(s)).match(lp)?s:"unsafe:"+s}function ds(s){const a={};for(const d of s.split(","))a[d]=!0;return a}function ic(...s){const a={};for(const d of s)for(const h in d)d.hasOwnProperty(h)&&(a[h]=!0);return a}const gd=ds("area,br,col,hr,img,wbr"),h_=ds("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),f_=ds("rp,rt"),g=ic(gd,ic(h_,ds("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ic(f_,ds("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ic(f_,h_)),w=ds("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),j=ic(w,ds("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ds("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ee=ds("script,style,template");class Re{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,h=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?h=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,h&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let f=this.checkClobberedElement(d,d.nextSibling);if(f){d=f;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!g.hasOwnProperty(d))return this.sanitizedSomething=!0,!ee.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const h=a.attributes;for(let f=0;f<h.length;f++){const _=h.item(f),b=_.name,E=b.toLowerCase();if(!j.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let S=_.value;w[E]&&(S=nc(S)),this.buf.push(" ",b,'="',at(S),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();g.hasOwnProperty(d)&&!gd.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(at(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const We=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,st=/([^\#-~ |!])/g;function at(s){return s.replace(/&/g,"&amp;").replace(We,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(st,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zn;function us(s,a){let d=null;try{zn=zn||function Hh(s){const a=new Os(s);return function tc(){try{return!!(new window.DOMParser).parseFromString(fd(""),"text/html")}catch{return!1}}()?new zh(a):a}(s);let h=a?String(a):"";d=zn.getInertBodyElement(h);let f=5,_=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=_,_=d.innerHTML,d=zn.getInertBodyElement(h)}while(h!==_);return fd((new Re).sanitizeChildren(xu(d)||d))}finally{if(d){const h=xu(d)||d;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function xu(s){return"content"in s&&function cb(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var jn=(()=>((jn=jn||{})[jn.NONE=0]="NONE",jn[jn.HTML=1]="HTML",jn[jn.STYLE=2]="STYLE",jn[jn.SCRIPT=3]="SCRIPT",jn[jn.URL=4]="URL",jn[jn.RESOURCE_URL=5]="RESOURCE_URL",jn))();function Cu(s){const a=cp();return a?a.sanitize(jn.URL,s)||"":Mr(s,"URL")?Yi(s):nc(Fe(s))}function Eu(s){const a=cp();if(a)return ip(a.sanitize(jn.RESOURCE_URL,s)||"");if(Mr(s,"ResourceURL"))return ip(Yi(s));throw new ve(904,!1)}function Gh(s,a,d){return function db(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?Eu:Cu}(a,d)(s)}function cp(){const s=ge();return s&&s[bl]}const fb=new on("ENVIRONMENT_INITIALIZER"),Iu=new on("INJECTOR",-1),$h=new on("INJECTOR_DEF_TYPES");class Nx{get(a,d=Fr){if(d===Fr){const h=new Error(`NullInjectorError: No provider for ${Ee(a)}!`);throw h.name="NullInjectorError",h}return d}}function dp(...s){return{\u0275providers:Wh(0,s),\u0275fromNgModule:!0}}function Wh(s,...a){const d=[],h=new Set;let f;return Po(a,_=>{const b=_;mb(b,d,[],h)&&(f||(f=[]),f.push(b))}),void 0!==f&&Lx(f,d),d}function Lx(s,a){for(let d=0;d<s.length;d++){const{providers:f}=s[d];pb(f,_=>{a.push(_)})}}function mb(s,a,d,h){if(!(s=Q(s)))return!1;let f=null,_=xi(s);const b=!_&&wt(s);if(_||b){if(b&&!b.standalone)return!1;f=s}else{const S=s.ngModule;if(_=xi(S),!_)return!1;f=S}const E=h.has(f);if(b){if(E)return!1;if(h.add(f),b.dependencies){const S="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const k of S)mb(k,a,d,h)}}else{if(!_)return!1;{if(null!=_.imports&&!E){let k;h.add(f);try{Po(_.imports,P=>{mb(P,a,d,h)&&(k||(k=[]),k.push(P))})}finally{}void 0!==k&&Lx(k,a)}if(!E){const k=Ro(f)||(()=>new f);a.push({provide:f,useFactory:k,deps:Ue},{provide:$h,useValue:f,multi:!0},{provide:fb,useValue:()=>mn(f),multi:!0})}const S=_.providers;null==S||E||pb(S,P=>{a.push(P)})}}return f!==s&&void 0!==s.providers}function pb(s,a){for(let d of s)Me(d)&&(d=d.\u0275providers),Array.isArray(d)?pb(d,a):a(d)}const KD=J({provide:String,useValue:J});function gb(s){return null!==s&&"object"==typeof s&&KD in s}function rc(s){return"function"==typeof s}const vd=new on("Set Injector scope."),v_={},QD={};let _b;function y_(){return void 0===_b&&(_b=new Nx),_b}class Su{}class Vx extends Su{get destroyed(){return this._destroyed}constructor(a,d,h,f){super(),this.parent=d,this.source=h,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Yh(a,b=>this.processProvider(b)),this.records.set(Iu,qh(void 0,this)),f.has("environment")&&this.records.set(Su,qh(void 0,this));const _=this.records.get(vd);null!=_&&"string"==typeof _.value&&this.scopes.add(_.value),this.injectorDefTypes=new Set(this.get($h.multi,Ue,bt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const d=nn(this),h=Wi(void 0);try{return a()}finally{nn(d),Wi(h)}}get(a,d=Fr,h=bt.Default){this.assertNotDestroyed(),h=fi(h);const f=nn(this),_=Wi(void 0);try{if(!(h&bt.SkipSelf)){let E=this.records.get(a);if(void 0===E){const S=function wb(s){return"function"==typeof s||"object"==typeof s&&s instanceof on}(a)&&tn(a);E=S&&this.injectableDefInScope(S)?qh(vb(a),v_):null,this.records.set(a,E)}if(null!=E)return this.hydrate(a,E)}return(h&bt.Self?y_():this.parent).get(a,d=h&bt.Optional&&d===Fr?null:d)}catch(b){if("NullInjectorError"===b.name){if((b[Ci]=b[Ci]||[]).unshift(Ee(a)),f)throw b;return function fr(s,a,d,h){const f=s[Ci];throw a[yn]&&f.unshift(a[yn]),s.message=function G(s,a,d,h=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==hr?s.slice(2):s;let f=Ee(a);if(Array.isArray(a))f=a.map(Ee).join(" -> ");else if("object"==typeof a){let _=[];for(let b in a)if(a.hasOwnProperty(b)){let E=a[b];_.push(b+":"+("string"==typeof E?JSON.stringify(E):Ee(E)))}f=`{${_.join(", ")}}`}return`${d}${h?"("+h+")":""}[${f}]: ${s.replace(Wn,"\n  ")}`}("\n"+s.message,f,d,h),s[er]=f,s[Ci]=null,s}(b,a,"R3InjectorError",this.source)}throw b}finally{Wi(_),nn(f)}}resolveInjectorInitializers(){const a=nn(this),d=Wi(void 0);try{const h=this.get(fb.multi,Ue,bt.Self);for(const f of h)f()}finally{nn(a),Wi(d)}}toString(){const a=[],d=this.records;for(const h of d.keys())a.push(Ee(h));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ve(205,!1)}processProvider(a){let d=rc(a=Q(a))?a:Q(a&&a.provide);const h=function JD(s){return gb(s)?qh(void 0,s.useValue):qh(yb(s),v_)}(a);if(rc(a)||!0!==a.multi)this.records.get(d);else{let f=this.records.get(d);f||(f=qh(void 0,v_,!0),f.factory=()=>oo(f.multi),this.records.set(d,f)),d=a,f.multi.push(a)}this.records.set(d,h)}hydrate(a,d){return d.value===v_&&(d.value=QD,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Ux(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this._ngOnDestroyHooks.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=Q(a.providedIn);return"string"==typeof d?"any"===d||this.scopes.has(d):this.injectorDefTypes.has(d)}}function vb(s){const a=tn(s),d=null!==a?a.factory:Ro(s);if(null!==d)return d;if(s instanceof on)throw new ve(204,!1);if(s instanceof Function)return function XD(s){const a=s.length;if(a>0)throw Jc(a,"?"),new ve(204,!1);const d=function qn(s){return s&&(s[Yn]||s[Er])||null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new ve(204,!1)}function yb(s,a,d){let h;if(rc(s)){const f=Q(s);return Ro(f)||vb(f)}if(gb(s))h=()=>Q(s.useValue);else if(function Bx(s){return!(!s||!s.useFactory)}(s))h=()=>s.useFactory(...oo(s.deps||[]));else if(function ZD(s){return!(!s||!s.useExisting)}(s))h=()=>mn(Q(s.useExisting));else{const f=Q(s&&(s.useClass||s.provide));if(!function bb(s){return!!s.deps}(s))return Ro(f)||vb(f);h=()=>new f(...oo(s.deps))}return h}function qh(s,a,d=!1){return{factory:s,value:a,multi:d?[]:void 0}}function Yh(s,a){for(const d of s)Array.isArray(d)?Yh(d,a):d&&Me(d)?Yh(d.\u0275providers,a):a(d)}class eT{}class Hx{}class jx{resolveComponentFactory(a){throw function tT(s){const a=Error(`No component factory found for ${Ee(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let Kh=(()=>{class s{}return s.NULL=new jx,s})();function b_(){return oc(Si(),ge())}function oc(s,a){return new Zh(Li(s,a))}let Zh=(()=>{class s{constructor(d){this.nativeElement=d}}return s.__NG_ELEMENT_ID__=b_,s})();function up(s){return s instanceof Zh?s.nativeElement:s}class Cb{}let nT=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function iT(){const s=ge(),d=Ii(Si().index,s);return(Tr(d)?d:s)[Wt]}(),s})(),rT=(()=>{class s{}return s.\u0275prov=gt({token:s,providedIn:"root",factory:()=>null}),s})();class Gx{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const $x=new Gx("15.2.10"),w_={},Eb="ngOriginalError";function Ib(s){return s[Eb]}class hp{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a);this._console.error("ERROR",a),d&&this._console.error("ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&Ib(a);for(;d&&Ib(d);)d=Ib(d);return d||null}}function nl(s){return s instanceof Function?s():s}function Qx(s,a,d){let h=s.length;for(;;){const f=s.indexOf(a,d);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const _=a.length;if(f+_===h||s.charCodeAt(f+_)<=32)return f}d=f+1}}const Sb="ng-template";function Db(s,a,d){let h=0,f=!0;for(;h<s.length;){let _=s[h++];if("string"==typeof _&&f){const b=s[h++];if(d&&"class"===_&&-1!==Qx(b.toLowerCase(),a,0))return!0}else{if(1===_){for(;h<s.length&&"string"==typeof(_=s[h++]);)if(_.toLowerCase()===a)return!0;return!1}"number"==typeof _&&(f=!1)}}return!1}function Tb(s){return 4===s.type&&s.value!==Sb}function Qh(s,a,d){return a===(4!==s.type||d?s.value:Sb)}function Mb(s,a,d){let h=4;const f=s.attrs||[],_=function Jx(s){for(let a=0;a<s.length;a++)if(Zd(s[a]))return a;return s.length}(f);let b=!1;for(let E=0;E<a.length;E++){const S=a[E];if("number"!=typeof S){if(!b)if(4&h){if(h=2|1&h,""!==S&&!Qh(s,S,d)||""===S&&1===a.length){if(va(h))return!1;b=!0}}else{const k=8&h?S:a[++E];if(8&h&&null!==s.attrs){if(!Db(s.attrs,k,d)){if(va(h))return!1;b=!0}continue}const U=Xx(8&h?"class":S,f,Tb(s),d);if(-1===U){if(va(h))return!1;b=!0;continue}if(""!==k){let K;K=U>_?"":f[U+1].toLowerCase();const ie=8&h?K:null;if(ie&&-1!==Qx(ie,k,0)||2&h&&k!==K){if(va(h))return!1;b=!0}}}}else{if(!b&&!va(h)&&!va(S))return!1;if(b&&va(S))continue;b=!1,h=S|1&h}}return va(h)||b}function va(s){return 0==(1&s)}function Xx(s,a,d,h){if(null===a)return-1;let f=0;if(h||!d){let _=!1;for(;f<a.length;){const b=a[f];if(b===s)return f;if(3===b||6===b)_=!0;else{if(1===b||2===b){let E=a[++f];for(;"string"==typeof E;)E=a[++f];continue}if(4===b)break;if(0===b){f+=4;continue}}f+=_?1:2}return-1}return function eC(s,a){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const h=s[d];if("number"==typeof h)return-1;if(h===a)return d;d++}return-1}(a,s)}function mp(s,a,d=!1){for(let h=0;h<a.length;h++)if(Mb(s,a[h],d))return!0;return!1}function uT(s,a){e:for(let d=0;d<a.length;d++){const h=a[d];if(s.length===h.length){for(let f=0;f<s.length;f++)if(s[f]!==h[f])continue e;return!0}}return!1}function tC(s,a){return s?":not("+a.trim()+")":a}function hT(s){let a=s[0],d=1,h=2,f="",_=!1;for(;d<s.length;){let b=s[d];if("string"==typeof b)if(2&h){const E=s[++d];f+="["+b+(E.length>0?'="'+E+'"':"")+"]"}else 8&h?f+="."+b:4&h&&(f+=" "+b);else""!==f&&!va(b)&&(a+=tC(_,f),f=""),h=b,_=_||!va(h);d++}return""!==f&&(a+=tC(_,f)),a}const Gt={};function nC(s){iC(jt(),ge(),qi()+s,!1)}function iC(s,a,d,h){if(!h)if(3==(3&a[Ut])){const _=s.preOrderCheckHooks;null!==_&&qd(a,_,d)}else{const _=s.preOrderHooks;null!==_&&Yd(a,_,0,d)}ns(d)}function oC(s,a=null,d=null,h){const f=Ab(s,a,d,h);return f.resolveInjectorInitializers(),f}function Ab(s,a=null,d=null,h,f=new Set){const _=[d||Ue,dp(s)];return h=h||("object"==typeof s?void 0:Ee(s)),new Vx(_,a||y_(),h||null,f)}let Xh=(()=>{class s{static create(d,h){if(Array.isArray(d))return oC({name:""},h,d,"");{const f=d.name??"";return oC({name:f},d.parent,d.providers,f)}}}return s.THROW_IF_NOT_FOUND=Fr,s.NULL=new Nx,s.\u0275prov=gt({token:s,providedIn:"any",factory:()=>mn(Iu)}),s.__NG_ELEMENT_ID__=-1,s})();function tf(s,a=bt.Default){const d=ge();return null===d?mn(s,a):Kc(Si(),d,Q(s),a)}function dC(){throw new Error("invalid")}function uC(s,a){const d=s.contentQueries;if(null!==d)for(let h=0;h<d.length;h+=2){const _=d[h+1];if(-1!==_){const b=s.data[_];Lc(d[h]),b.contentQueries(2,a[_],_)}}}function S_(s,a,d,h,f,_,b,E,S,k,P){const U=a.blueprint.slice();return U[Lr]=f,U[Ut]=76|h,(null!==P||s&&1024&s[Ut])&&(U[Ut]|=1024),Ua(U),U[Pn]=U[ys]=s,U[Zn]=d,U[mr]=b||s&&s[mr],U[Wt]=E||s&&s[Wt],U[bl]=S||s&&s[bl]||null,U[yl]=k||s&&s[yl]||null,U[pi]=_,U[bs]=function Ah(){return po++}(),U[Ei]=P,U[si]=2==a.type?s[si]:U,U}function vp(s,a,d,h,f){let _=s.data[a];if(null===_)_=function Fb(s,a,d,h,f){const _=Ks(),b=ph(),S=s.data[a]=function WF(s,a,d,h,f,_){return{type:d,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:_,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?_:_&&_.parent,d,a,h,f);return null===s.firstChild&&(s.firstChild=S),null!==_&&(b?null==_.child&&null!==S.parent&&(_.child=S):null===_.next&&(_.next=S,S.prev=_)),S}(s,a,d,h,f),function gh(){return Bt.lFrame.inI18n}()&&(_.flags|=32);else if(64&_.type){_.type=d,_.value=h,_.attrs=f;const b=function Pc(){const s=Bt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}();_.injectorIndex=null===b?-1:b.injectorIndex}return _r(_,!0),_}function yp(s,a,d,h){if(0===d)return-1;const f=a.length;for(let _=0;_<d;_++)a.push(h),s.blueprint.push(h),s.data.push(null);return f}function Nb(s,a,d){Vc(a);try{const h=s.viewQuery;null!==h&&P_(1,h,d);const f=s.template;null!==f&&ya(s,a,f,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&uC(s,a),s.staticViewQueries&&P_(2,s.viewQuery,d);const _=s.components;null!==_&&function hC(s,a){for(let d=0;d<a.length;d++)NT(s,a[d])}(a,_)}catch(h){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),h}finally{a[Ut]&=-5,Uc()}}function D_(s,a,d,h){const f=a[Ut];if(128!=(128&f)){Vc(a);try{Ua(a),function Oo(s){return Bt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&ya(s,a,d,2,h);const b=3==(3&f);if(b){const k=s.preOrderCheckHooks;null!==k&&qd(a,k,null)}else{const k=s.preOrderHooks;null!==k&&Yd(a,k,0,null),bh(a,0)}if(function PT(s){for(let a=uu(s);null!==a;a=pa(a)){if(!a[Vd])continue;const d=a[qs];for(let h=0;h<d.length;h++){const f=d[h];512&f[Ut]||Il(f[Pn],1),f[Ut]|=512}}}(a),function Hb(s){for(let a=uu(s);null!==a;a=pa(a))for(let d=Fi;d<a.length;d++){const h=a[d],f=h[Qe];es(h)&&D_(f,h,f.template,h[Zn])}}(a),null!==s.contentQueries&&uC(s,a),b){const k=s.contentCheckHooks;null!==k&&qd(a,k)}else{const k=s.contentHooks;null!==k&&Yd(a,k,1),bh(a,1)}!function MT(s,a){const d=s.hostBindingOpCodes;if(null!==d)try{for(let h=0;h<d.length;h++){const f=d[h];if(f<0)ns(~f);else{const _=f,b=d[++h],E=d[++h];Nc(b,_),E(2,a[_])}}}finally{ns(-1)}}(s,a);const E=s.components;null!==E&&function AT(s,a){for(let d=0;d<a.length;d++)FT(s,a[d])}(a,E);const S=s.viewQuery;if(null!==S&&P_(2,S,h),b){const k=s.viewCheckHooks;null!==k&&qd(a,k)}else{const k=s.viewHooks;null!==k&&Yd(a,k,2),bh(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[Ut]&=-41,512&a[Ut]&&(a[Ut]&=-513,Il(a[Pn],-1))}finally{Uc()}}}function ya(s,a,d,h,f){const _=qi(),b=2&h;try{ns(-1),b&&a.length>Tn&&iC(s,a,Tn,!1),gr(b?2:0,f),d(h,f)}finally{ns(_),gr(b?3:1,f)}}function fC(s,a,d){if(xl(a)){const f=a.directiveEnd;for(let _=a.directiveStart;_<f;_++){const b=s.data[_];b.contentQueries&&b.contentQueries(1,d[_],_)}}}function Tu(s,a,d){Oc()&&(function nf(s,a,d,h){const f=d.directiveStart,_=d.directiveEnd;La(d)&&function xp(s,a,d){const h=Li(a,s),f=ba(d),_=s[mr],b=Ep(s,S_(s,f,null,d.onPush?32:16,h,a,_,_.createRenderer(h,d),null,null,null));s[a.index]=b}(a,d,s.data[f+d.componentOffset]),s.firstCreatePass||Qd(d,a),se(h,a);const b=d.initialInputs;for(let E=f;E<_;E++){const S=s.data[E],k=ai(a,s,E,d);se(k,a),null!==b&&RT(0,E-f,k,S,0,b),Vr(S)&&(Ii(d.index,a)[Zn]=ai(a,s,E,d))}}(s,a,d,Li(d,a)),64==(64&d.flags)&&Bb(s,a,d))}function Qt(s,a,d=Li){const h=a.localNames;if(null!==h){let f=a.index+1;for(let _=0;_<h.length;_+=2){const b=h[_+1],E=-1===b?d(a,s):s[b];s[f++]=E}}}function ba(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Lb(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Lb(s,a,d,h,f,_,b,E,S,k){const P=Tn+h,U=P+f,K=function T_(s,a){const d=[];for(let h=0;h<a;h++)d.push(h<s?null:Gt);return d}(P,U),ie="function"==typeof k?k():k;return K[Qe]={type:s,blueprint:K,template:d,queries:null,viewQuery:E,declTNode:a,data:K.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof _?_():_,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:S,consts:ie,incompleteFirstPass:!1}}function yd(s,a,d,h){const f=_C(a);null===d?f.push(h):(f.push(d),s.firstCreatePass&&jb(s).push(h,f.length-1))}function kT(s,a,d,h){for(let f in s)if(s.hasOwnProperty(f)){d=null===d?{}:d;const _=s[f];null===h?M_(d,a,f,_):h.hasOwnProperty(f)&&M_(d,a,h[f],_)}return d}function M_(s,a,d,h){s.hasOwnProperty(d)?s[d].push(a,h):s[d]=[a,h]}function Vo(s,a,d,h,f,_,b,E){const S=Li(a,d);let P,k=a.inputs;!E&&null!=k&&(P=k[h])?(bC(s,d,P,h,f),La(a)&&function pC(s,a){const d=Ii(a,s);16&d[Ut]||(d[Ut]|=32)}(d,a.index)):3&a.type&&(h=function mC(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(h),f=null!=b?b(f,a.value||"",h):f,_.setProperty(S,h,f))}function Mu(s,a,d,h){if(Oc()){const f=null===h?null:{"":-1},_=function bp(s,a){const d=s.directiveRegistry;let h=null,f=null;if(d)for(let _=0;_<d.length;_++){const b=d[_];if(mp(a,b.selectors,!1))if(h||(h=[]),Vr(b))if(null!==b.findHostDirectiveDefs){const E=[];f=f||new Map,b.findHostDirectiveDefs(b,E,f),h.unshift(...E,b),Vb(s,a,E.length)}else h.unshift(b),Vb(s,a,0);else f=f||new Map,b.findHostDirectiveDefs?.(b,h,f),h.push(b)}return null===h?null:[h,f]}(s,d);let b,E;null===_?b=E=null:[b,E]=_,null!==b&&A_(s,a,d,b,f,E),f&&function wp(s,a,d){if(a){const h=s.localNames=[];for(let f=0;f<a.length;f+=2){const _=d[a[f+1]];if(null==_)throw new ve(-301,!1);h.push(a[f],_)}}}(d,h,f)}d.mergedAttrs=ea(d.mergedAttrs,d.attrs)}function A_(s,a,d,h,f,_){for(let k=0;k<h.length;k++)En(Qd(d,a),s,h[k].type);!function Au(s,a,d){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+d,s.providerIndexes=a}(d,s.data.length,h.length);for(let k=0;k<h.length;k++){const P=h[k];P.providersResolver&&P.providersResolver(P)}let b=!1,E=!1,S=yp(s,a,h.length,null);for(let k=0;k<h.length;k++){const P=h[k];d.mergedAttrs=ea(d.mergedAttrs,P.hostAttrs),gC(s,d,a,S,P),k_(S,P,f),null!==P.contentQueries&&(d.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(d.flags|=64);const U=P.type.prototype;!b&&(U.ngOnChanges||U.ngOnInit||U.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(d.index),b=!0),!E&&(U.ngOnChanges||U.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(d.index),E=!0),S++}!function qF(s,a,d){const f=a.directiveEnd,_=s.data,b=a.attrs,E=[];let S=null,k=null;for(let P=a.directiveStart;P<f;P++){const U=_[P],K=d?d.get(U):null,be=K?K.outputs:null;S=kT(U.inputs,P,S,K?K.inputs:null),k=kT(U.outputs,P,k,be);const ze=null===S||null===b||Tb(a)?null:OT(S,P,b);E.push(ze)}null!==S&&(S.hasOwnProperty("class")&&(a.flags|=8),S.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=E,a.inputs=S,a.outputs=k}(s,d,_)}function Bb(s,a,d){const h=d.directiveStart,f=d.directiveEnd,_=d.index,b=function Xg(){return Bt.lFrame.currentDirectiveIndex}();try{ns(_);for(let E=h;E<f;E++){const S=s.data[E],k=a[E];_i(E),(null!==S.hostBindings||0!==S.hostVars||null!==S.hostAttrs)&&ZF(S,k)}}finally{ns(-1),_i(b)}}function ZF(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Vb(s,a,d){a.componentOffset=d,(s.components??(s.components=[])).push(a.index)}function k_(s,a,d){if(d){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)d[a.exportAs[h]]=s;Vr(a)&&(d[""]=s)}}function gC(s,a,d,h,f){s.data[h]=f;const _=f.factory||(f.factory=Ro(f.type)),b=new is(_,Vr(f),tf);s.blueprint[h]=b,d[h]=b,function Hi(s,a,d,h,f){const _=f.hostBindings;if(_){let b=s.hostBindingOpCodes;null===b&&(b=s.hostBindingOpCodes=[]);const E=~a.index;(function KF(s){let a=s.length;for(;a>0;){const d=s[--a];if("number"==typeof d&&d<0)return d}return 0})(b)!=E&&b.push(E),b.push(d,h,_)}}(s,a,h,yp(s,d,f.hostVars,Gt),f)}function Fs(s,a,d,h,f,_){const b=Li(s,a);!function Ub(s,a,d,h,f,_,b){if(null==_)s.removeAttribute(a,f,d);else{const E=null==b?Fe(_):b(_,h||"",f);s.setAttribute(a,f,E,d)}}(a[Wt],b,_,s.value,d,h,f)}function RT(s,a,d,h,f,_){const b=_[a];if(null!==b){const E=h.setInput;for(let S=0;S<b.length;){const k=b[S++],P=b[S++],U=b[S++];null!==E?h.setInput(d,U,k,P):d[P]=U}}}function OT(s,a,d){let h=null,f=0;for(;f<d.length;){const _=d[f];if(0!==_)if(5!==_){if("number"==typeof _)break;if(s.hasOwnProperty(_)){null===h&&(h=[]);const b=s[_];for(let E=0;E<b.length;E+=2)if(b[E]===a){h.push(_,b[E+1],d[f+1]);break}}f+=2}else f+=2;else f+=4}return h}function sc(s,a,d,h){return[s,!0,!1,a,null,0,h,d,null,null]}function FT(s,a){const d=Ii(a,s);if(es(d)){const h=d[Qe];48&d[Ut]?D_(h,d,h.template,d[Zn]):d[bn]>0&&zb(d)}}function zb(s){for(let h=uu(s);null!==h;h=pa(h))for(let f=Fi;f<h.length;f++){const _=h[f];if(es(_))if(512&_[Ut]){const b=_[Qe];D_(b,_,b.template,_[Zn])}else _[bn]>0&&zb(_)}const d=s[Qe].components;if(null!==d)for(let h=0;h<d.length;h++){const f=Ii(d[h],s);es(f)&&f[bn]>0&&zb(f)}}function NT(s,a){const d=Ii(a,s),h=d[Qe];(function Cp(s,a){for(let d=a.length;d<s.blueprint.length;d++)a.push(s.blueprint[d])})(h,d),Nb(h,d,d[Zn])}function Ep(s,a){return s[Ws]?s[ko][Br]=a:s[Ws]=a,s[ko]=a,a}function R_(s){for(;s;){s[Ut]|=32;const a=du(s);if(Sc(s)&&!a)return s;s=a}return null}function O_(s,a,d,h=!0){const f=a[mr];f.begin&&f.begin();try{D_(s,a,s.template,d)}catch(b){throw h&&yC(a,b),b}finally{f.end&&f.end()}}function P_(s,a,d){Lc(0),a(s,d)}function _C(s){return s[Pa]||(s[Pa]=[])}function jb(s){return s.cleanup||(s.cleanup=[])}function vC(s,a,d){return(null===s||Vr(s))&&(d=function Va(s){for(;Array.isArray(s);){if("object"==typeof s[wl])return s;s=s[Lr]}return null}(d[a.index])),d[Wt]}function yC(s,a){const d=s[yl],h=d?d.get(hp,null):null;h&&h.handleError(a)}function bC(s,a,d,h,f){for(let _=0;_<d.length;){const b=d[_++],E=d[_++],S=a[b],k=s.data[b];null!==k.setInput?k.setInput(S,f,h,E):S[E]=f}}function rf(s,a,d){let h=d?s.styles:null,f=d?s.classes:null,_=0;if(null!==a)for(let b=0;b<a.length;b++){const E=a[b];"number"==typeof E?_=E:1==_?f=_e(f,E):2==_&&(h=_e(h,E+": "+a[++b]+";"))}d?s.styles=h:s.stylesWithoutHost=h,d?s.classes=f:s.classesWithoutHost=f}function ku(s,a,d,h,f=!1){for(;null!==d;){const _=a[d.index];if(null!==_&&h.push(Ni(_)),pr(_))for(let E=Fi;E<_.length;E++){const S=_[E],k=S[Qe].firstChild;null!==k&&ku(S[Qe],S,k,h)}const b=d.type;if(8&b)ku(s,a,d.child,h);else if(32&b){const E=ks(d,a);let S;for(;S=E();)h.push(S)}else if(16&b){const E=Vh(a,d);if(Array.isArray(E))h.push(...E);else{const S=du(a[si]);ku(S[Qe],S,E,h,!0)}}d=f?d.projectionNext:d.next}return h}class sf{get rootNodes(){const a=this._lView,d=a[Qe];return ku(d,a,d.firstChild,[])}constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Zn]}set context(a){this._lView[Zn]=a}get destroyed(){return 128==(128&this._lView[Ut])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Pn];if(pr(a)){const d=a[ws],h=d?d.indexOf(this):-1;h>-1&&(hu(a,h),da(d,h))}this._attachedToViewContainer=!1}Ph(this._lView[Qe],this._lView)}onDestroy(a){yd(this._lView[Qe],this._lView,null,a)}markForCheck(){R_(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ut]&=-65}reattach(){this._lView[Ut]|=64}detectChanges(){O_(this._lView[Qe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ve(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Oh(s,a){_u(s,a,a[Wt],2,null,null)}(this._lView[Qe],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ve(902,!1);this._appRef=a}}class LT extends sf{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;O_(a[Qe],a,a[Zn],!1)}checkNoChanges(){}get context(){return null}}class BT extends Kh{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=wt(a);return new Ip(d,this.ngModule)}}function wC(s){const a=[];for(let d in s)s.hasOwnProperty(d)&&a.push({propName:s[d],templateName:d});return a}class N_{constructor(a,d){this.injector=a,this.parentInjector=d}get(a,d,h){h=fi(h);const f=this.injector.get(a,w_,h);return f!==w_||d===w_?f:this.parentInjector.get(a,d,h)}}class Ip extends Hx{get inputs(){return wC(this.componentDef.inputs)}get outputs(){return wC(this.componentDef.outputs)}constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function fT(s){return s.map(hT).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}create(a,d,h,f){let _=(f=f||this.ngModule)instanceof Su?f:f?.injector;_&&null!==this.componentDef.getStandaloneInjector&&(_=this.componentDef.getStandaloneInjector(_)||_);const b=_?new N_(a,_):a,E=b.get(Cb,null);if(null===E)throw new ve(407,!1);const S=b.get(rT,null),k=E.createRenderer(null,this.componentDef),P=this.componentDef.selectors[0][0]||"div",U=h?function Ki(s,a,d){return s.selectRootElement(a,d===we.ShadowDom)}(k,h,this.componentDef.encapsulation):Km(k,P,function VT(s){const a=s.toLowerCase();return"svg"===a?nr:"math"===a?"math":null}(P)),K=this.componentDef.onPush?288:272,ie=Lb(0,null,null,1,0,null,null,null,null,null),be=S_(null,ie,null,K,null,null,E,k,S,b,null);let ze,Je;Vc(be);try{const _t=this.componentDef;let Rt,Oe=null;_t.findHostDirectiveDefs?(Rt=[],Oe=new Map,_t.findHostDirectiveDefs(_t,Rt,Oe),Rt.push(_t)):Rt=[_t];const St=function JF(s,a){const d=s[Qe],h=Tn;return s[h]=a,vp(d,h,2,"#host",null)}(be,U),ii=function Sp(s,a,d,h,f,_,b,E){const S=f[Qe];!function HT(s,a,d,h){for(const f of s)a.mergedAttrs=ea(a.mergedAttrs,f.hostAttrs);null!==a.mergedAttrs&&(rf(a,a.mergedAttrs,!0),null!==d&&yu(h,d,a))}(h,s,a,b);const k=_.createRenderer(a,d),P=S_(f,ba(d),null,d.onPush?32:16,f[s.index],s,_,k,E||null,null,null);return S.firstCreatePass&&Vb(S,s,h.length-1),Ep(f,P),f[s.index]=P}(St,U,_t,Rt,be,E,k);Je=dh(ie,Tn),U&&function jT(s,a,d,h){if(h)Ga(s,d,["ng-version",$x.full]);else{const{attrs:f,classes:_}=function mT(s){const a=[],d=[];let h=1,f=2;for(;h<s.length;){let _=s[h];if("string"==typeof _)2===f?""!==_&&a.push(_,s[++h]):8===f&&d.push(_);else{if(!va(f))break;f=_}h++}return{attrs:a,classes:d}}(a.selectors[0]);f&&Ga(s,d,f),_&&_.length>0&&Lo(s,d,_.join(" "))}}(k,_t,U,h),void 0!==d&&function GT(s,a,d){const h=s.projection=[];for(let f=0;f<a.length;f++){const _=d[f];h.push(null!=_?Array.from(_):null)}}(Je,this.ngContentSelectors,d),ze=function zT(s,a,d,h,f,_){const b=Si(),E=f[Qe],S=Li(b,f);A_(E,f,b,d,null,h);for(let P=0;P<d.length;P++)se(ai(f,E,b.directiveStart+P,b),f);Bb(E,f,b),S&&se(S,f);const k=ai(f,E,b.directiveStart+b.componentOffset,b);if(s[Zn]=f[Zn]=k,null!==_)for(const P of _)P(k,a);return fC(E,b,s),k}(ii,_t,Rt,Oe,be,[Gb]),Nb(ie,be,null)}finally{Uc()}return new UT(this.componentType,ze,oc(Je,be),be,Je)}}class UT extends eT{constructor(a,d,h,f,_){super(),this.location=h,this._rootLView=f,this._tNode=_,this.instance=d,this.hostView=this.changeDetectorRef=new LT(f),this.componentType=a}setInput(a,d){const h=this._tNode.inputs;let f;if(null!==h&&(f=h[a])){const _=this._rootLView;bC(_[Qe],_,f,a,d),R_(Ii(this._tNode.index,_))}}get injector(){return new os(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Gb(){const s=Si();zc(ge()[Qe],s)}function Jt(s){let a=function $b(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const h=[s];for(;a;){let f;if(Vr(s))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ve(903,!1);f=a.\u0275dir}if(f){if(d){h.push(f);const b=s;b.inputs=Wb(s.inputs),b.declaredInputs=Wb(s.declaredInputs),b.outputs=Wb(s.outputs);const E=f.hostBindings;E&&tN(s,E);const S=f.viewQuery,k=f.contentQueries;if(S&&WT(s,S),k&&eN(s,k),Ce(s.inputs,f.inputs),Ce(s.declaredInputs,f.declaredInputs),Ce(s.outputs,f.outputs),Vr(f)&&f.data.animation){const P=s.data;P.animation=(P.animation||[]).concat(f.data.animation)}}const _=f.features;if(_)for(let b=0;b<_.length;b++){const E=_[b];E&&E.ngInherit&&E(s),E===Jt&&(d=!1)}}a=Object.getPrototypeOf(a)}!function $T(s){let a=0,d=null;for(let h=s.length-1;h>=0;h--){const f=s[h];f.hostVars=a+=f.hostVars,f.hostAttrs=ea(f.hostAttrs,d=ea(d,f.hostAttrs))}}(h)}function Wb(s){return s===re?{}:s===Ue?[]:s}function WT(s,a){const d=s.viewQuery;s.viewQuery=d?(h,f)=>{a(h,f),d(h,f)}:a}function eN(s,a){const d=s.contentQueries;s.contentQueries=d?(h,f,_)=>{a(h,f,_),d(h,f,_)}:a}function tN(s,a){const d=s.hostBindings;s.hostBindings=d?(h,f)=>{a(h,f),d(h,f)}:a}function L_(s){return!!IC(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function IC(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function vo(s,a,d){return s[a]=d}function qr(s,a,d){return!Object.is(s[a],d)&&(s[a]=d,!0)}function Fu(s,a,d,h){const f=qr(s,a,d);return qr(s,a+1,h)||f}function qb(s,a,d,h){const f=ge();return qr(f,Zs(),a)&&(jt(),Fs(Un(),f,s,a,d,h)),qb}function uf(s,a,d,h,f,_,b,E){const S=ge(),k=jt(),P=s+Tn,U=k.firstCreatePass?function ZT(s,a,d,h,f,_,b,E,S){const k=a.consts,P=vp(a,s,4,b||null,Es(k,E));Mu(a,d,P,Es(k,S)),zc(a,P);const U=P.tView=Lb(2,P,h,f,_,a.directiveRegistry,a.pipeRegistry,null,a.schemas,k);return null!==a.queries&&(a.queries.template(a,P),U.queries=a.queries.embeddedTView(P)),P}(P,k,S,a,d,h,f,_,b):k.data[P];_r(U,!1);const K=S[Wt].createComment("");Xl(k,S,K,U),se(K,S),Ep(S,S[P]=sc(K,S,K,U)),Ud(U)&&Tu(k,S,U),null!=b&&Qt(S,U,E)}function SC(s){return ir(function Qg(){return Bt.lFrame.contextLView}(),Tn+s)}function Nu(s,a,d){const h=ge();return qr(h,Zs(),a)&&Vo(jt(),Un(),h,s,a,h[Wt],d,!1),Nu}function hf(s,a,d,h,f){const b=f?"class":"style";bC(s,d,a.inputs[b],b,h)}function ff(s,a,d,h){const f=ge(),_=jt(),b=Tn+s,E=f[Wt],S=_.firstCreatePass?function cc(s,a,d,h,f,_){const b=a.consts,S=vp(a,s,2,h,Es(b,f));return Mu(a,d,S,Es(b,_)),null!==S.attrs&&rf(S,S.attrs,!1),null!==S.mergedAttrs&&rf(S,S.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,S),S}(b,_,f,a,d,h):_.data[b],k=f[b]=Km(E,a,function yh(){return Bt.lFrame.currentNamespace}()),P=Ud(S);return _r(S,!0),yu(E,k,S),32!=(32&S.flags)&&Xl(_,f,k,S),0===function hh(){return Bt.lFrame.elementDepthCount}()&&se(k,f),function Rc(){Bt.lFrame.elementDepthCount++}(),P&&(Tu(_,f,S),fC(_,S,f)),null!==h&&Qt(f,S),ff}function mf(){let s=Si();ph()?Fc():(s=s.parent,_r(s,!1));const a=s;!function fh(){Bt.lFrame.elementDepthCount--}();const d=jt();return d.firstCreatePass&&(zc(d,s),xl(s)&&d.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Pl(s){return 0!=(8&s.flags)}(a)&&hf(d,a,ge(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Qs(s){return 0!=(16&s.flags)}(a)&&hf(d,a,ge(),a.stylesWithoutHost,!1),mf}function Dp(s,a,d,h){return ff(s,a,d,h),mf(),Dp}function Tp(s,a,d){const h=ge(),f=jt(),_=s+Tn,b=f.firstCreatePass?function G_(s,a,d,h,f){const _=a.consts,b=Es(_,h),E=vp(a,s,8,"ng-container",b);return null!==b&&rf(E,b,!0),Mu(a,d,E,Es(_,f)),null!==a.queries&&a.queries.elementStart(a,E),E}(_,f,h,a,d):f.data[_];_r(b,!0);const E=h[_]=h[Wt].createComment("");return Xl(f,h,E,b),se(E,h),Ud(b)&&(Tu(f,h,b),fC(f,b,h)),null!=d&&Qt(h,b),Tp}function $_(){let s=Si();const a=jt();return ph()?Fc():(s=s.parent,_r(s,!1)),a.firstCreatePass&&(zc(a,s),xl(s)&&a.queries.elementEnd(s)),$_}function DC(s,a,d){return Tp(s,a,d),$_(),DC}function XT(){return ge()}function TC(s){return!!s&&"function"==typeof s.then}function JT(s){return!!s&&"function"==typeof s.subscribe}const eM=JT;function MC(s,a,d,h){const f=ge(),_=jt(),b=Si();return W_(_,f,f[Wt],b,s,a,h),MC}function AC(s,a){const d=Si(),h=ge(),f=jt();return W_(f,h,vC(Ha(f.data),d,h),d,s,a),AC}function W_(s,a,d,h,f,_,b){const E=Ud(h),k=s.firstCreatePass&&jb(s),P=a[Zn],U=_C(a);let K=!0;if(3&h.type||b){const ze=Li(h,a),Je=b?b(ze):ze,_t=U.length,Rt=b?St=>b(Ni(St[h.index])):h.index;let Oe=null;if(!b&&E&&(Oe=function lN(s,a,d,h){const f=s.cleanup;if(null!=f)for(let _=0;_<f.length-1;_+=2){const b=f[_];if(b===d&&f[_+1]===h){const E=a[Pa],S=f[_+2];return E.length>S?E[S]:null}"string"==typeof b&&(_+=2)}return null}(s,a,f,h.index)),null!==Oe)(Oe.__ngLastListenerFn__||Oe).__ngNextListenerFn__=_,Oe.__ngLastListenerFn__=_,K=!1;else{_=Mp(h,a,P,_,!1);const St=d.listen(Je,f,_);U.push(_,St),k&&k.push(f,Rt,_t,_t+1)}}else _=Mp(h,a,P,_,!1);const ie=h.outputs;let be;if(K&&null!==ie&&(be=ie[f])){const ze=be.length;if(ze)for(let Je=0;Je<ze;Je+=2){const ii=a[be[Je]][be[Je+1]].subscribe(_),Ai=U.length;U.push(_,ii),k&&k.push(f,h.index,Ai,-(Ai+1))}}}function kC(s,a,d,h){try{return gr(6,a,d),!1!==d(h)}catch(f){return yC(s,f),!1}finally{gr(7,a,d)}}function Mp(s,a,d,h,f){return function _(b){if(b===Function)return h;R_(s.componentOffset>-1?Ii(s.index,a):a);let S=kC(a,d,h,b),k=_.__ngNextListenerFn__;for(;k;)S=kC(a,d,k,b)&&S,k=k.__ngNextListenerFn__;return f&&!1===S&&(b.preventDefault(),b.returnValue=!1),S}}function Ap(s=1){return function Rm(s){return(Bt.lFrame.contextLView=function Hc(s,a){for(;s>0;)a=a[ys],s--;return a}(s,Bt.lFrame.contextLView))[Zn]}(s)}function q_(s,a){let d=null;const h=function x_(s){const a=s.attrs;if(null!=a){const d=a.indexOf(5);if(!(1&d))return a[d+1]}return null}(s);for(let f=0;f<a.length;f++){const _=a[f];if("*"!==_){if(null===h?mp(s,_,!0):uT(h,_))return f}else d=f}return d}function kp(s){const a=ge()[si][pi];if(!a.projection){const h=a.projection=Jc(s?s.length:1,null),f=h.slice();let _=a.child;for(;null!==_;){const b=s?q_(_,s):0;null!==b&&(f[b]?f[b].projectionNext=_:h[b]=_,f[b]=_),_=_.next}}}function tM(s,a=0,d){const h=ge(),f=jt(),_=vp(f,Tn+s,16,null,d||null);null===_.projection&&(_.projection=a),Fc(),32!=(32&_.flags)&&function Xm(s,a,d){Jm(a[Wt],0,a,d,hd(s,d,a),Nh(d.parent||a[pi],d,a))}(f,h,_)}function wd(s,a){return s<<17|a<<2}function xd(s){return s>>17&32767}function OC(s){return 2|s}function gf(s){return(131068&s)>>2}function Z_(s,a){return-131069&s|a<<2}function Jb(s){return 1|s}function PC(s,a,d,h,f){const _=s[d+1],b=null===a;let E=h?xd(_):gf(_),S=!1;for(;0!==E&&(!1===S||b);){const P=s[E+1];dM(s[E],a)&&(S=!0,s[E+1]=h?Jb(P):OC(P)),E=h?xd(P):gf(P)}S&&(s[d+1]=h?OC(_):Jb(_))}function dM(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&yr(s,a)>=0}function NC(s,a,d){return il(s,a,d,!1),NC}function LC(s,a){return il(s,a,null,!0),LC}function il(s,a,d,h){const f=ge(),_=jt(),b=function Hr(s){const a=Bt.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,d}(2);_.firstUpdatePass&&function vM(s,a,d,h){const f=s.data;if(null===f[d+1]){const _=f[qi()],b=function _M(s,a){return a>=s.expandoStartIndex}(s,d);(function xM(s,a){return 0!=(s.flags&(a?8:16))})(_,h)&&null===a&&!b&&(a=!1),a=function vN(s,a,d,h){const f=Ha(s);let _=h?a.residualClasses:a.residualStyles;if(null===f)0===(h?a.classBindings:a.styleBindings)&&(d=Q_(d=VC(null,s,a,d,h),a.attrs,h),_=null);else{const b=a.directiveStylingLast;if(-1===b||s[b]!==f)if(d=VC(f,s,a,d,h),null===_){let S=function yN(s,a,d){const h=d?a.classBindings:a.styleBindings;if(0!==gf(h))return s[xd(h)]}(s,a,h);void 0!==S&&Array.isArray(S)&&(S=VC(null,s,a,S[1],h),S=Q_(S,a.attrs,h),function bN(s,a,d,h){s[xd(d?a.classBindings:a.styleBindings)]=h}(s,a,h,S))}else _=function wN(s,a,d){let h;const f=a.directiveEnd;for(let _=1+a.directiveStylingLast;_<f;_++)h=Q_(h,s[_].hostAttrs,d);return Q_(h,a.attrs,d)}(s,a,h)}return void 0!==_&&(h?a.residualClasses=_:a.residualStyles=_),d}(f,_,a,h),function lM(s,a,d,h,f,_){let b=_?a.classBindings:a.styleBindings,E=xd(b),S=gf(b);s[h]=d;let P,k=!1;if(Array.isArray(d)?(P=d[1],(null===P||yr(d,P)>0)&&(k=!0)):P=d,f)if(0!==S){const K=xd(s[E+1]);s[h+1]=wd(K,E),0!==K&&(s[K+1]=Z_(s[K+1],h)),s[E+1]=function aM(s,a){return 131071&s|a<<17}(s[E+1],h)}else s[h+1]=wd(E,0),0!==E&&(s[E+1]=Z_(s[E+1],h)),E=h;else s[h+1]=wd(S,0),0===E?E=h:s[S+1]=Z_(s[S+1],h),S=h;k&&(s[h+1]=OC(s[h+1])),PC(s,P,h,!0),PC(s,P,h,!1),function cM(s,a,d,h,f){const _=f?s.residualClasses:s.residualStyles;null!=_&&"string"==typeof a&&yr(_,a)>=0&&(d[h+1]=Jb(d[h+1]))}(a,P,s,h,_),b=wd(E,S),_?a.classBindings=b:a.styleBindings=b}(f,_,a,d,b,h)}}(_,s,b,h),a!==Gt&&qr(f,b,a)&&function bM(s,a,d,h,f,_,b,E){if(!(3&a.type))return;const S=s.data,k=S[E+1],P=function Xb(s){return 1==(1&s)}(k)?wM(S,a,d,f,gf(k),b):void 0;e0(P)||(e0(_)||function sM(s){return 2==(2&s)}(k)&&(_=wM(S,null,d,f,E,b)),function Rs(s,a,d,h,f){if(a)f?s.addClass(d,h):s.removeClass(d,h);else{let _=-1===h.indexOf("-")?void 0:It.DashCase;null==f?s.removeStyle(d,h,_):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),_|=It.Important),s.setStyle(d,h,f,_))}}(h,b,Jo(qi(),d),f,_))}(_,_.data[qi()],f,f[Wt],s,f[b+1]=function IN(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Ee(Yi(s)))),s}(a,d),h,b)}function VC(s,a,d,h,f){let _=null;const b=d.directiveEnd;let E=d.directiveStylingLast;for(-1===E?E=d.directiveStart:E++;E<b&&(_=a[E],h=Q_(h,_.hostAttrs,f),_!==s);)E++;return null!==s&&(d.directiveStylingLast=E),h}function Q_(s,a,d){const h=d?1:2;let f=-1;if(null!==a)for(let _=0;_<a.length;_++){const b=a[_];"number"==typeof b?f=b:f===h&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),vr(s,b,!!d||a[++_]))}return void 0===s?null:s}function wM(s,a,d,h,f,_){const b=null===a;let E;for(;f>0;){const S=s[f],k=Array.isArray(S),P=k?S[1]:S,U=null===P;let K=d[f+1];K===Gt&&(K=U?Ue:void 0);let ie=U?pn(K,h):P===h?K:void 0;if(k&&!e0(ie)&&(ie=pn(S,h)),e0(ie)&&(E=ie,b))return E;const be=s[f+1];f=b?xd(be):gf(be)}if(null!==a){let S=_?a.residualClasses:a.residualStyles;null!=S&&(E=pn(S,h))}return E}function e0(s){return void 0!==s}function CM(s,a=""){const d=ge(),h=jt(),f=s+Tn,_=h.firstCreatePass?vp(h,f,1,a,null):h.data[f],b=d[f]=function ud(s,a){return s.createText(a)}(d[Wt],a);Xl(h,d,b,_),_r(_,!1)}function UC(s){return t0("",s,""),UC}function t0(s,a,d){const h=ge(),f=function wa(s,a,d,h){return qr(s,Zs(),d)?a+Fe(d)+h:Gt}(h,s,a,d);return f!==Gt&&function ac(s,a,d){const h=Jo(a,s);!function Ym(s,a,d){s.setValue(a,d)}(s[Wt],h,d)}(h,qi(),f),t0}function jC(s,a,d){const h=ge();return qr(h,Zs(),a)&&Vo(jt(),Un(),h,s,a,h[Wt],d,!0),jC}function GC(s,a,d){const h=ge();if(qr(h,Zs(),a)){const _=jt(),b=Un();Vo(_,b,h,s,a,vC(Ha(_.data),b,h),d,!0)}return GC}const _f=void 0;var $N=["en",[["a","p"],["AM","PM"],_f],[["AM","PM"],_f,_f],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],_f,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],_f,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",_f,"{1} 'at' {0}",_f],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function GN(s){const d=Math.floor(Math.abs(s)),h=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===h?1:5}];let Pp={};function $C(s){const a=function WN(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=UM(a);if(d)return d;const h=a.split("-")[0];if(d=UM(h),d)return d;if("en"===h)return $N;throw new ve(701,!1)}function VM(s){return $C(s)[Ft.PluralCase]}function UM(s){return s in Pp||(Pp[s]=ln.ng&&ln.ng.common&&ln.ng.common.locales&&ln.ng.common.locales[s]),Pp[s]}var Ft=(()=>((Ft=Ft||{})[Ft.LocaleId=0]="LocaleId",Ft[Ft.DayPeriodsFormat=1]="DayPeriodsFormat",Ft[Ft.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ft[Ft.DaysFormat=3]="DaysFormat",Ft[Ft.DaysStandalone=4]="DaysStandalone",Ft[Ft.MonthsFormat=5]="MonthsFormat",Ft[Ft.MonthsStandalone=6]="MonthsStandalone",Ft[Ft.Eras=7]="Eras",Ft[Ft.FirstDayOfWeek=8]="FirstDayOfWeek",Ft[Ft.WeekendRange=9]="WeekendRange",Ft[Ft.DateFormat=10]="DateFormat",Ft[Ft.TimeFormat=11]="TimeFormat",Ft[Ft.DateTimeFormat=12]="DateTimeFormat",Ft[Ft.NumberSymbols=13]="NumberSymbols",Ft[Ft.NumberFormats=14]="NumberFormats",Ft[Ft.CurrencyCode=15]="CurrencyCode",Ft[Ft.CurrencySymbol=16]="CurrencySymbol",Ft[Ft.CurrencyName=17]="CurrencyName",Ft[Ft.Currencies=18]="Currencies",Ft[Ft.Directionality=19]="Directionality",Ft[Ft.PluralCase=20]="PluralCase",Ft[Ft.ExtraData=21]="ExtraData",Ft))();const Fp="en-US";let Lu=Fp;function fE(s,a,d,h,f){if(s=Q(s),Array.isArray(s))for(let _=0;_<s.length;_++)fE(s[_],a,d,h,f);else{const _=jt(),b=ge();let E=rc(s)?s:Q(s.provide),S=yb(s);const k=Si(),P=1048575&k.providerIndexes,U=k.directiveStart,K=k.providerIndexes>>20;if(rc(s)||!s.multi){const ie=new is(S,f,tf),be=m0(E,a,f?P:P+K,U);-1===be?(En(Qd(k,b),_,E),ov(_,s,a.length),a.push(E),k.directiveStart++,k.directiveEnd++,f&&(k.providerIndexes+=1048576),d.push(ie),b.push(ie)):(d[be]=ie,b[be]=ie)}else{const ie=m0(E,a,P+K,U),be=m0(E,a,P,P+K),Je=be>=0&&d[be];if(f&&!Je||!f&&!(ie>=0&&d[ie])){En(Qd(k,b),_,E);const _t=function mL(s,a,d,h,f){const _=new is(s,d,tf);return _.multi=[],_.index=a,_.componentProviders=0,mE(_,f,h&&!d),_}(f?sA:oA,d.length,f,h,S);!f&&Je&&(d[be].providerFactory=_t),ov(_,s,a.length,0),a.push(E),k.directiveStart++,k.directiveEnd++,f&&(k.providerIndexes+=1048576),d.push(_t),b.push(_t)}else ov(_,s,ie>-1?ie:be,mE(d[f?be:ie],S,!f&&h));!f&&h&&Je&&d[be].componentProviders++}}}function ov(s,a,d,h){const f=rc(a),_=function __(s){return!!s.useClass}(a);if(f||_){const S=(_?Q(a.useClass):a).prototype.ngOnDestroy;if(S){const k=s.destroyHooks||(s.destroyHooks=[]);if(!f&&a.multi){const P=k.indexOf(d);-1===P?k.push(d,[h,S]):k[P+1].push(h,S)}else k.push(d,S)}}}function mE(s,a,d){return d&&s.componentProviders++,s.multi.push(a)-1}function m0(s,a,d,h){for(let f=d;f<h;f++)if(a[f]===s)return f;return-1}function oA(s,a,d,h){return wn(this.multi,[])}function sA(s,a,d,h){const f=this.multi;let _;if(this.providerFactory){const b=this.providerFactory.componentProviders,E=ai(d,d[Qe],this.providerFactory.index,h);_=E.slice(0,b),wn(f,_);for(let S=b;S<E.length;S++)_.push(E[S])}else _=[],wn(f,_);return _}function wn(s,a){for(let d=0;d<s.length;d++)a.push((0,s[d])());return a}function aA(s,a=[]){return d=>{d.providersResolver=(h,f)=>function fL(s,a,d){const h=jt();if(h.firstCreatePass){const f=Vr(s);fE(d,h.data,h.blueprint,f,!0),fE(a,h.data,h.blueprint,f,!1)}}(h,f?f(s):s,a)}}class jp{}class p0{}function sv(s,a){return new av(s,a??null)}class av extends jp{constructor(a,d){super(),this._parent=d,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new BT(this);const h=mi(a);this._bootstrapComponents=nl(h.bootstrap),this._r3Injector=Ab(a,d,[{provide:jp,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver}],Ee(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class g0 extends p0{constructor(a){super(),this.moduleType=a}create(a){return new av(this.moduleType,a)}}class pL extends jp{constructor(a,d,h){super(),this.componentFactoryResolver=new BT(this),this.instance=null;const f=new Vx([...a,{provide:jp,useValue:this},{provide:Kh,useValue:this.componentFactoryResolver}],d||y_(),h,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function pE(s,a,d=null){return new pL(s,a,d).injector}let cA=(()=>{class s{constructor(d){this._injector=d,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(d){if(!d.standalone)return null;if(!this.cachedInjectors.has(d.id)){const h=Wh(0,d.type),f=h.length>0?pE([h],this._injector,`Standalone[${d.type.name}]`):null;this.cachedInjectors.set(d.id,f)}return this.cachedInjectors.get(d.id)}ngOnDestroy(){try{for(const d of this.cachedInjectors.values())null!==d&&d.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=gt({token:s,providedIn:"environment",factory:()=>new s(mn(Su))}),s})();function dA(s){s.getStandaloneInjector=a=>a.get(cA).getOrCreateStandaloneInjector(s)}function _0(s,a,d,h){return wA(ge(),gi(),s,a,d,h)}function v0(s,a,d,h,f){return function xA(s,a,d,h,f,_,b){const E=a+d;return Fu(s,E,f,_)?vo(s,E+2,b?h.call(b,f,_):h(f,_)):If(s,E+2)}(ge(),gi(),s,a,d,h,f)}function If(s,a){const d=s[a];return d===Gt?void 0:d}function wA(s,a,d,h,f,_){const b=a+d;return qr(s,b,f)?vo(s,b+1,_?h.call(_,f):h(f)):If(s,b+1)}function CA(s,a,d,h,f,_,b,E){const S=a+d;return function B_(s,a,d,h,f){const _=Fu(s,a,d,h);return qr(s,a+2,f)||_}(s,S,f,_,b)?vo(s,S+3,E?h.call(E,f,_,b):h(f,_,b)):If(s,S+3)}function SA(s,a){const d=jt();let h;const f=s+Tn;d.firstCreatePass?(h=function bL(s,a){if(a)for(let d=a.length-1;d>=0;d--){const h=a[d];if(s===h.name)return h}}(a,d.pipeRegistry),d.data[f]=h,h.onDestroy&&(d.destroyHooks??(d.destroyHooks=[])).push(f,h.onDestroy)):h=d.data[f];const _=h.factory||(h.factory=Ro(h.type)),b=Wi(tf);try{const E=Fl(!1),S=_();return Fl(E),function QT(s,a,d,h){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),a[d]=h}(d,ge(),f,S),S}finally{Wi(b)}}function DA(s,a,d){const h=s+Tn,f=ge(),_=ir(f,h);return Gp(f,h)?wA(f,gi(),a,_.transform,d,_):_.transform(d)}function TA(s,a,d,h,f){const _=s+Tn,b=ge(),E=ir(b,_);return Gp(b,_)?CA(b,gi(),a,E.transform,d,h,f,E):E.transform(d,h,f)}function Gp(s,a){return s[Qe].data[a].pure}function y0(s){return a=>{setTimeout(s,void 0,a)}}const ol=class MA extends c.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,h){let f=a,_=d||(()=>null),b=h;if(a&&"object"==typeof a){const S=a;f=S.next?.bind(S),_=S.error?.bind(S),b=S.complete?.bind(S)}this.__isAsync&&(_=y0(_),f&&(f=y0(f)),b&&(b=y0(b)));const E=super.subscribe({next:f,error:_,complete:b});return a instanceof ne.w0&&a.add(E),E}};function AA(){return this._results[Symbol.iterator]()}class Sf{get changes(){return this._changes||(this._changes=new ol)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Sf.prototype;d[Symbol.iterator]||(d[Symbol.iterator]=AA)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const h=this;h.dirty=!1;const f=function uo(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function iu(s,a,d){if(s.length!==a.length)return!1;for(let h=0;h<s.length;h++){let f=s[h],_=a[h];if(d&&(f=d(f),_=d(_)),_!==f)return!1}return!0}(h._results,f,d))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Bu=(()=>{class s{}return s.__NG_ELEMENT_ID__=w0,s})();const b0=Bu,kA=class extends b0{constructor(a,d,h){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=h}createEmbeddedView(a,d){const h=this._declarationTContainer.tView,f=S_(this._declarationLView,h,a,16,null,h.declTNode,null,null,null,null,d||null);f[Fa]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[lo];return null!==b&&(f[lo]=b.createEmbeddedView(h)),Nb(h,f,a),new sf(f)}};function w0(){return Df(Si(),ge())}function Df(s,a){return 4&s.type?new kA(a,s,oc(s,a)):null}let cv=(()=>{class s{}return s.__NG_ELEMENT_ID__=x0,s})();function x0(){return EE(Si(),ge())}const xE=cv,CE=class extends xE{constructor(a,d,h){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=h}get element(){return oc(this._hostTNode,this._hostLView)}get injector(){return new os(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ch(this._hostTNode,this._hostLView);if(ta(a)){const d=na(a,this._hostLView),h=Ss(a);return new os(d[Qe].data[h+8],d)}return new os(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=C0(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-Fi}createEmbeddedView(a,d,h){let f,_;"number"==typeof h?f=h:null!=h&&(f=h.index,_=h.injector);const b=a.createEmbeddedView(d||{},_);return this.insert(b,f),b}createComponent(a,d,h,f,_){const b=a&&!function Xc(s){return"function"==typeof s}(a);let E;if(b)E=d;else{const U=d||{};E=U.index,h=U.injector,f=U.projectableNodes,_=U.environmentInjector||U.ngModuleRef}const S=b?a:new Ip(wt(a)),k=h||this.parentInjector;if(!_&&null==S.ngModule){const K=(b?k:this.parentInjector).get(Su,null);K&&(_=K)}const P=S.create(k,f,void 0,_);return this.insert(P.hostView,E),P}insert(a,d){const h=a._lView,f=h[Qe];if(function Gd(s){return pr(s[Pn])}(h)){const P=this.indexOf(a);if(-1!==P)this.detach(P);else{const U=h[Pn],K=new CE(U,U[pi],U[Pn]);K.detach(K.indexOf(a))}}const _=this._adjustIndex(d),b=this._lContainer;!function Kl(s,a,d,h){const f=Fi+h,_=d.length;h>0&&(d[f-1][Br]=a),h<_-Fi?(a[Br]=d[f],zm(d,Fi+h,a)):(d.push(a),a[Br]=null),a[Pn]=d;const b=a[Fa];null!==b&&d!==b&&function nb(s,a){const d=s[qs];a[si]!==a[Pn][Pn][si]&&(s[Vd]=!0),null===d?s[qs]=[a]:d.push(a)}(b,a);const E=a[lo];null!==E&&E.insertView(s),a[Ut]|=64}(f,h,b,_);const E=cs(_,b),S=h[Wt],k=_a(S,b[Na]);return null!==k&&function i_(s,a,d,h,f,_){h[Lr]=f,h[pi]=a,_u(s,h,d,1,f,_)}(f,b[pi],S,h,k,E),a.attachToViewContainerRef(),zm(dv(b),_,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=C0(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),h=hu(this._lContainer,d);h&&(da(dv(this._lContainer),d),Ph(h[Qe],h))}detach(a){const d=this._adjustIndex(a,-1),h=hu(this._lContainer,d);return h&&null!=da(dv(this._lContainer),d)?new sf(h):null}_adjustIndex(a,d=0){return a??this.length+d}};function C0(s){return s[ws]}function dv(s){return s[ws]||(s[ws]=[])}function EE(s,a){let d;const h=a[s.index];if(pr(h))d=h;else{let f;if(8&s.type)f=Ni(h);else{const _=a[Wt];f=_.createComment("");const b=Li(s,a);el(_,_a(_,b),f,function s_(s,a){return s.nextSibling(a)}(_,b),!1)}a[s.index]=d=sc(h,a,f,s),Ep(a,d)}return new CE(d,s,a)}class uv{constructor(a){this.queryList=a,this.matches=null}clone(){return new uv(this.queryList)}setDirty(){this.queryList.setDirty()}}class E0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const h=null!==a.contentQueries?a.contentQueries[0]:d.length,f=[];for(let _=0;_<h;_++){const b=d.getByIndex(_);f.push(this.queries[b.indexInDeclarationView].clone())}return new E0(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==Vs(a,d).matches&&this.queries[d].setDirty()}}class IE{constructor(a,d,h=null){this.predicate=a,this.flags=d,this.read=h}}class SE{constructor(a=[]){this.queries=a}elementStart(a,d){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let h=0;h<this.length;h++){const f=null!==d?d.length:0,_=this.getByIndex(h).embeddedTView(a,f);_&&(_.indexInDeclarationView=h,null!==d?d.push(_):d=[_])}return null!==d?new SE(d):null}template(a,d){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class I0{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new I0(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==d;)h=h.parent;return d===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const _=h[f];this.matchTNodeWithReadOption(a,d,RA(d,_)),this.matchTNodeWithReadOption(a,d,ra(d,a,_,!1,!1))}else h===Bu?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,ra(d,a,h,!1,!1))}matchTNodeWithReadOption(a,d,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Zh||f===cv||f===Bu&&4&d.type)this.addMatch(d.index,-2);else{const _=ra(d,a,f,!1,!1);null!==_&&this.addMatch(d.index,_)}else this.addMatch(d.index,h)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function RA(s,a){const d=s.localNames;if(null!==d)for(let h=0;h<d.length;h+=2)if(d[h]===a)return d[h+1];return null}function EL(s,a,d,h){return-1===d?function CL(s,a){return 11&s.type?oc(s,a):4&s.type?Df(s,a):null}(a,s):-2===d?function ci(s,a,d){return d===Zh?oc(a,s):d===Bu?Df(a,s):d===cv?EE(a,s):void 0}(s,a,h):ai(s,s[Qe],d,a)}function hv(s,a,d,h){const f=a[lo].queries[h];if(null===f.matches){const _=s.data,b=d.matches,E=[];for(let S=0;S<b.length;S+=2){const k=b[S];E.push(k<0?null:EL(a,_[k],b[S+1],d.metadata.read))}f.matches=E}return f.matches}function Ar(s,a,d,h){const f=s.queries.getByIndex(d),_=f.matches;if(null!==_){const b=hv(s,a,f,d);for(let E=0;E<_.length;E+=2){const S=_[E];if(S>0)h.push(b[E/2]);else{const k=_[E+1],P=a[-S];for(let U=Fi;U<P.length;U++){const K=P[U];K[Fa]===K[Pn]&&Ar(K[Qe],K,k,h)}if(null!==P[qs]){const U=P[qs];for(let K=0;K<U.length;K++){const ie=U[K];Ar(ie[Qe],ie,k,h)}}}}}return h}function OA(s){const a=ge(),d=jt(),h=$d();Lc(h+1);const f=Vs(d,h);if(s.dirty&&function kc(s){return 4==(4&s[Ut])}(a)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const _=f.crossesNgTemplate?Ar(d,a,h,[]):hv(d,a,f,h);s.reset(_,up),s.notifyOnChanges()}return!0}return!1}function S0(s,a,d){const h=jt();h.firstCreatePass&&(N(h,new IE(s,a,d),-1),2==(2&a)&&(h.staticViewQueries=!0)),Bs(h,ge(),a)}function xe(s,a,d,h){const f=jt();if(f.firstCreatePass){const _=Si();N(f,new IE(a,d,h),_.index),function PA(s,a){const d=s.contentQueries||(s.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,a)}(f,s),2==(2&d)&&(f.staticContentQueries=!0)}Bs(f,ge(),d)}function Ls(){return function hc(s,a){return s[lo].queries[a].queryList}(ge(),$d())}function Bs(s,a,d){const h=new Sf(4==(4&d));yd(s,a,h,h.destroy),null===a[lo]&&(a[lo]=new E0),a[lo].queries.push(new uv(h))}function N(s,a,d){null===s.queries&&(s.queries=new SE),s.queries.track(new I0(a,d))}function Vs(s,a){return s.queries.getByIndex(a)}function it(s,a){return Df(s,a)}function D0(s){return!!mi(s)}function Yp(...s){}const Cv=new on("Application Initializer");let kf=(()=>{class s{constructor(d){this.appInits=d,this.resolve=Yp,this.reject=Yp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const d=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const _=this.appInits[f]();if(TC(_))d.push(_);else if(eM(_)){const b=new Promise((E,S)=>{_.subscribe({complete:E,error:S})});d.push(b)}}Promise.all(d).then(()=>{h()}).catch(f=>{this.reject(f)}),0===d.length&&h(),this.initialized=!0}}return s.\u0275fac=function(d){return new(d||s)(mn(Cv,8))},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ev=new on("AppId",{providedIn:"root",factory:function ar(){return`${Rf()}${Rf()}${Rf()}`}});function Rf(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Iv=new on("Platform Initializer"),jA=new on("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),GA=new on("AnimationModuleType");let jE=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Sv=new on("LocaleId",{providedIn:"root",factory:()=>Kn(Sv,bt.Optional|bt.SkipSelf)||function $A(){return typeof $localize<"u"&&$localize.locale||Fp}()}),WA=new on("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class $E{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let qA=(()=>{class s{compileModuleSync(d){return new g0(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const h=this.compileModuleSync(d),_=nl(mi(d).declarations).reduce((b,E)=>{const S=wt(E);return S&&b.push(new Ip(S)),b},[]);return new $E(h,_)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const YE=(()=>Promise.resolve(0))();function kv(s){typeof Zone>"u"?YE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Hs{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ol(!1),this.onMicrotaskEmpty=new ol(!1),this.onStable=new ol(!1),this.onError=new ol(!1),typeof Zone>"u")throw new ve(908,!1);Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&d,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function Rv(){let s=ln.requestAnimationFrame,a=ln.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function Vu(s){const a=()=>{!function YA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ln,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Ov(s),s.isCheckStableRunning=!0,L0(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Ov(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,h,f,_,b,E)=>{try{return Kp(s),d.invokeTask(f,_,b,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===_.type||s.shouldCoalesceRunChangeDetection)&&a(),B0(s)}},onInvoke:(d,h,f,_,b,E,S)=>{try{return Kp(s),d.invoke(f,_,b,E,S)}finally{s.shouldCoalesceRunChangeDetection&&a(),B0(s)}},onHasTask:(d,h,f,_)=>{d.hasTask(f,_),h===f&&("microTask"==_.change?(s._hasPendingMicrotasks=_.microTask,Ov(s),L0(s)):"macroTask"==_.change&&(s.hasPendingMacrotasks=_.macroTask))},onHandleError:(d,h,f,_)=>(d.handleError(f,_),s.runOutsideAngular(()=>s.onError.emit(_)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Hs.isInAngularZone())throw new ve(909,!1)}static assertNotInAngularZone(){if(Hs.isInAngularZone())throw new ve(909,!1)}run(a,d,h){return this._inner.run(a,d,h)}runTask(a,d,h,f){const _=this._inner,b=_.scheduleEventTask("NgZoneEvent: "+f,a,Of,Yp,Yp);try{return _.runTask(b,d,h)}finally{_.cancelTask(b)}}runGuarded(a,d,h){return this._inner.runGuarded(a,d,h)}runOutsideAngular(a){return this._outer.run(a)}}const Of={};function L0(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Ov(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Kp(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function B0(s){s._nesting--,L0(s)}class Zp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ol,this.onMicrotaskEmpty=new ol,this.onStable=new ol,this.onError=new ol}run(a,d,h){return a.apply(d,h)}runGuarded(a,d,h){return a.apply(d,h)}runOutsideAngular(a){return a()}runTask(a,d,h,f){return a.apply(d,h)}}const V0=new on(""),Zr=new on("");let Fv,KE=(()=>{class s{constructor(d,h,f){this._ngZone=d,this.registry=h,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Fv||(function Pv(s){Fv=s}(f),f.addToWindow(h)),this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Hs.assertNotInAngularZone(),kv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())kv(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(d)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,h,f){let _=-1;h&&h>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==_),d(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:d,timeoutId:_,updateCb:f})}whenStable(d,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(d){this.registry.registerApplication(d,this)}unregisterApplication(d){this.registry.unregisterApplication(d)}findProviders(d,h,f){return[]}}return s.\u0275fac=function(d){return new(d||s)(mn(Hs),mn(Pf),mn(Zr))},s.\u0275prov=gt({token:s,factory:s.\u0275fac}),s})(),Pf=(()=>{class s{constructor(){this._applications=new Map}registerApplication(d,h){this._applications.set(d,h)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,h=!0){return Fv?.findTestabilityInTree(this,d,h)??null}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Ia=!1;let pc=null;const U0=new on("AllowMultipleToken"),Uu=new on("PlatformDestroyListeners"),Nv=new on("appBootstrapListener");class Qp{constructor(a,d){this.name=a,this.token=d}}function Vv(s,a,d=[]){const h=`Platform: ${a}`,f=new on(h);return(_=[])=>{let b=G0();if(!b||b.injector.get(U0,!1)){const E=[...d,..._,{provide:f,useValue:!0}];s?s(E):function QE(s){if(pc&&!pc.get(U0,!1))throw new ve(400,!1);pc=s;const a=s.get(Ff);(function Bv(s){const a=s.get(Iv,null);a&&a.forEach(d=>d())})(s)}(function j0(s=[],a){return Xh.create({name:a,providers:[{provide:vd,useValue:"platform"},{provide:Uu,useValue:new Set([()=>pc=null])},...s]})}(E,h))}return function XE(s){const a=G0();if(!a)throw new ve(401,!1);return a}()}}function G0(){return pc?.get(Ff)??null}let Ff=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,h){const f=function Xp(s,a){let d;return d="noop"===s?new Zp:("zone.js"===s?void 0:s)||new Hs(a),d}(h?.ngZone,function $0(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(h)),_=[{provide:Hs,useValue:f}];return f.run(()=>{const b=Xh.create({providers:_,parent:this.injector,name:d.moduleType.name}),E=d.create(b),S=E.injector.get(hp,null);if(!S)throw new ve(402,!1);return f.runOutsideAngular(()=>{const k=f.onError.subscribe({next:P=>{S.handleError(P)}});E.onDestroy(()=>{Uv(this._modules,E),k.unsubscribe()})}),function Nf(s,a,d){try{const h=d();return TC(h)?h.catch(f=>{throw a.runOutsideAngular(()=>s.handleError(f)),f}):h}catch(h){throw a.runOutsideAngular(()=>s.handleError(h)),h}}(S,f,()=>{const k=E.injector.get(kf);return k.runInitializers(),k.donePromise.then(()=>(function Np(s){ye(s,"Expected localeId to be defined"),"string"==typeof s&&(Lu=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Sv,Fp)||Fp),this._moduleDoBootstrap(E),E))})})}bootstrapModule(d,h=[]){const f=Ed({},h);return function H0(s,a,d){const h=new g0(d);return Promise.resolve(h)}(0,0,d).then(_=>this.bootstrapModuleFactory(_,f))}_moduleDoBootstrap(d){const h=d.injector.get(Lf);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!d.instance.ngDoBootstrap)throw new ve(-403,!1);d.instance.ngDoBootstrap(h)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ve(404,!1);this._modules.slice().forEach(h=>h.destroy()),this._destroyListeners.forEach(h=>h());const d=this._injector.get(Uu,null);d&&(d.forEach(h=>h()),d.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(d){return new(d||s)(mn(Xh))},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Ed(s,a){return Array.isArray(a)?a.reduce(Ed,s):{...s,...a}}let Lf=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(d,h,f){this._zone=d,this._injector=h,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const _=new L.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),b=new L.y(E=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Hs.assertNotInAngularZone(),kv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{Hs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{S.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ce.T)(_,b.pipe((0,de.B)()))}bootstrap(d,h){const f=d instanceof Hx;if(!this._injector.get(kf).done){!f&&Pi(d);throw new ve(405,Ia)}let b;b=f?d:this._injector.get(Kh).resolveComponentFactory(d),this.componentTypes.push(b.componentType);const E=function Lv(s){return s.isBoundToModule}(b)?void 0:this._injector.get(jp),k=b.create(Xh.NULL,[],h||b.selector,E),P=k.location.nativeElement,U=k.injector.get(V0,null);return U?.registerApplication(P),k.onDestroy(()=>{this.detachView(k.hostView),Uv(this.components,k),U?.unregisterApplication(P)}),this._loadComponent(k),k}tick(){if(this._runningTick)throw new ve(101,!1);try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const h=d;this._views.push(h),h.attachToAppRef(this)}detachView(d){const h=d;Uv(this._views,h),h.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d);const h=this._injector.get(Nv,[]);h.push(...this._bootstrapListeners),h.forEach(f=>f(d))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(d=>d()),this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(d){return this._destroyListeners.push(d),()=>Uv(this._destroyListeners,d)}destroy(){if(this._destroyed)throw new ve(406,!1);const d=this._injector;d.destroy&&!d.destroyed&&d.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(d){return new(d||s)(mn(Hs),mn(Su),mn(hp))},s.\u0275prov=gt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Uv(s,a){const d=s.indexOf(a);d>-1&&s.splice(d,1)}function tI(){return!1}let Hv=(()=>{class s{}return s.__NG_ELEMENT_ID__=nI,s})();function nI(s){return function ni(s,a,d){if(La(s)&&!d){const h=Ii(s.index,a);return new sf(h,h)}return 47&s.type?new sf(a[si],a):null}(Si(),ge(),16==(16&s))}class qv{constructor(){}supports(a){return L_(a)}create(a){return new oI(a)}}const rI=(s,a)=>a;class oI{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||rI}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,h=this._removalsHead,f=0,_=null;for(;d||h;){const b=!h||d&&d.currentIndex<aI(h,f,_)?d:h,E=aI(b,f,_),S=b.currentIndex;if(b===h)f--,h=h._nextRemoved;else if(d=d._next,null==b.previousIndex)f++;else{_||(_=[]);const k=E-f,P=S-f;if(k!=P){for(let K=0;K<k;K++){const ie=K<_.length?_[K]:_[K]=0,be=ie+K;P<=be&&be<k&&(_[K]=ie+1)}_[b.previousIndex]=P-k}}E!==S&&a(b,E,S)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!L_(a))throw new ve(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,_,b,d=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let E=0;E<this.length;E++)_=a[E],b=this._trackByFn(E,_),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,_,b,E)),Object.is(d.item,_)||this._addIdentityChange(d,_)):(d=this._mismatch(d,_,b,E),h=!0),d=d._next}else f=0,function sN(s,a){if(Array.isArray(s))for(let d=0;d<s.length;d++)a(s[d]);else{const d=s[Symbol.iterator]();let h;for(;!(h=d.next()).done;)a(h.value)}}(a,E=>{b=this._trackByFn(f,E),null!==d&&Object.is(d.trackById,b)?(h&&(d=this._verifyReinsertion(d,E,b,f)),Object.is(d.item,E)||this._addIdentityChange(d,E)):(d=this._mismatch(d,E,b,f),h=!0),d=d._next,f++}),this.length=f;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,h,f){let _;return null===a?_=this._itTail:(_=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,_,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,_,f)):a=this._addAfter(new ik(d,h),_,f),a}_verifyReinsertion(a,d,h,f){let _=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==_?a=this._reinsertAfter(_,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,_=a._nextRemoved;return null===f?this._removalsHead=_:f._nextRemoved=_,null===_?this._removalsTail=f:_._prevRemoved=f,this._insertAfter(a,d,h),this._addToMoves(a,h),a}_moveAfter(a,d,h){return this._unlink(a),this._insertAfter(a,d,h),this._addToMoves(a,h),a}_addAfter(a,d,h){return this._insertAfter(a,d,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,h){const f=null===d?this._itHead:d._next;return a._next=f,a._prev=d,null===f?this._itTail=a:f._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new sI),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,h=a._next;return null===d?this._itHead=h:d._next=h,null===h?this._itTail=d:h._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sI),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class ik{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class rk{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===d||d<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const d=a._prevDup,h=a._nextDup;return null===d?this._head=h:d._nextDup=h,null===h?this._tail=d:h._prevDup=d,null===this._head}}class sI{constructor(){this.map=new Map}put(a){const d=a.trackById;let h=this.map.get(d);h||(h=new rk,this.map.set(d,h)),h.add(a)}get(a,d){const f=this.map.get(a);return f?f.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aI(s,a,d){const h=s.previousIndex;if(null===h)return h;let f=0;return d&&h<d.length&&(f=d[h]),h+a+f}class tg{constructor(){}supports(a){return a instanceof Map||IC(a)}create(){return new ng}}class ng{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||IC(a)))throw new ve(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,f)=>{if(d&&d.key===f)this._maybeAddToChanges(d,h),this._appendAfter=d,d=d._next;else{const _=this._getOrCreateRecordForKey(f,h);d=this._insertBeforeOrAppend(d,_)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let h=d;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const h=a._prev;return d._next=a,d._prev=h,a._prev=d,h&&(h._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,d);const _=f._prev,b=f._next;return _&&(_._next=b),b&&(b._prev=_),f._next=null,f._prev=null,f}const h=new Yv(a);return this._records.set(a,h),h.currentValue=d,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(h=>d(a[h],h))}}class Yv{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Kv(){return new Zv([new qv])}let Zv=(()=>{class s{constructor(d){this.factories=d}static create(d,h){if(null!=h){const f=h.factories.slice();d=d.concat(f)}return new s(d)}static extend(d){return{provide:s,useFactory:h=>s.create(d,h||Kv()),deps:[[s,new nt,new Gl]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(null!=h)return h;throw new ve(901,!1)}}return s.\u0275prov=gt({token:s,providedIn:"root",factory:Kv}),s})();function Hf(){return new Z0([new tg])}let Z0=(()=>{class s{constructor(d){this.factories=d}static create(d,h){if(h){const f=h.factories.slice();d=d.concat(f)}return new s(d)}static extend(d){return{provide:s,useFactory:h=>s.create(d,h||Hf()),deps:[[s,new nt,new Gl]]}}find(d){const h=this.factories.find(f=>f.supports(d));if(h)return h;throw new ve(901,!1)}}return s.\u0275prov=gt({token:s,providedIn:"root",factory:Hf}),s})();const ok=Vv(null,"core",[]);let cI=(()=>{class s{constructor(d){}}return s.\u0275fac=function(d){return new(d||s)(mn(Lf))},s.\u0275mod=oe({type:s}),s.\u0275inj=vt({}),s})();function dI(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(xt,Te,V)=>{V.d(Te,{Z:()=>Ze});var c=V(2090),ne=V(4859),L=V(6881),ce=V(1877);class de{constructor(ve,Pe){this._delegate=ve,this.firebase=Pe,(0,L._addComponent)(ve,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,L.deleteApp)(this._delegate)))}_getService(ve,Pe=L._DEFAULT_ENTRY_NAME){var Fe;this._delegate.checkDestroyed();const je=this._delegate.container.getProvider(ve);return!je.isInitialized()&&"EXPLICIT"===(null===(Fe=je.getComponent())||void 0===Fe?void 0:Fe.instantiationMode)&&je.initialize(),je.getImmediate({identifier:Pe})}_removeServiceInstance(ve,Pe=L._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(Pe)}_addComponent(ve){(0,L._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,L._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ce=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function _e(){const ut=function Ee(ut){const ve={},Pe={__esModule:!0,initializeApp:function Ne(Be,lt={}){const le=L.initializeApp(Be,lt);if((0,c.r3)(ve,le.name))return ve[le.name];const At=new ut(le,Pe);return ve[le.name]=At,At},app:je,registerVersion:L.registerVersion,setLogLevel:L.setLogLevel,onLog:L.onLog,apps:null,SDK_VERSION:L.SDK_VERSION,INTERNAL:{registerComponent:function Se(Be){const lt=Be.name,le=lt.replace("-compat","");if(L._registerComponent(Be)&&"PUBLIC"===Be.type){const At=(ot=je())=>{if("function"!=typeof ot[le])throw Ce.create("invalid-app-argument",{appName:lt});return ot[le]()};void 0!==Be.serviceProps&&(0,c.ZB)(At,Be.serviceProps),Pe[le]=At,ut.prototype[le]=function(...ot){return this._getService.bind(this,lt).apply(this,Be.multipleInstances?ot:[])}}return"PUBLIC"===Be.type?Pe[le]:null},removeApp:function Fe(Be){delete ve[Be]},useAsService:function qe(Be,lt){return"serverAuth"===lt?null:lt},modularAPIs:L}};function je(Be){if(!(0,c.r3)(ve,Be=Be||L._DEFAULT_ENTRY_NAME))throw Ce.create("no-app",{appName:Be});return ve[Be]}return Pe.default=Pe,Object.defineProperty(Pe,"apps",{get:function Ie(){return Object.keys(ve).map(Be=>ve[Be])}}),je.App=ut,Pe}(de);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:_e,extendNamespace:function ve(Pe){(0,c.ZB)(ut,Pe)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),ut}(),$=new ce.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){$.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&$.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=W;!function Me(ut){(0,L.registerVersion)("@firebase/app-compat","0.2.13",ut)}()},6881:(xt,Te,V)=>{V.r(Te),V.d(Te,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Ko,_DEFAULT_ENTRY_NAME:()=>ur,_addComponent:()=>ct,_addOrOverwriteComponent:()=>Lt,_apps:()=>ln,_clearComponents:()=>er,_components:()=>fn,_getProvider:()=>Sr,_registerComponent:()=>Fr,_removeServiceInstance:()=>Ci,deleteApp:()=>Nr,getApp:()=>Mo,getApps:()=>mn,initializeApp:()=>nn,onLog:()=>oo,registerVersion:()=>fi,setLogLevel:()=>On});var c=V(5861),ne=V(4859),L=V(1877),ce=V(2090);const de=(pe,oe)=>oe.some(Le=>pe instanceof Le);let J,Ce;const W=new WeakMap,$=new WeakMap,Q=new WeakMap,Ge=new WeakMap,Me=new WeakMap;let ve={get(pe,oe,Le){if(pe instanceof IDBTransaction){if("done"===oe)return $.get(pe);if("objectStoreNames"===oe)return pe.objectStoreNames||Q.get(pe);if("store"===oe)return Le.objectStoreNames[1]?void 0:Le.objectStore(Le.objectStoreNames[0])}return Ne(pe[oe])},set:(pe,oe,Le)=>(pe[oe]=Le,!0),has:(pe,oe)=>pe instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in pe};function je(pe){return"function"==typeof pe?function Fe(pe){return pe!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(pe)?function(...oe){return pe.apply(Ie(this),oe),Ne(W.get(this))}:function(...oe){return Ne(pe.apply(Ie(this),oe))}:function(oe,...Le){const yt=pe.call(Ie(this),oe,...Le);return Q.set(yt,oe.sort?oe.sort():[oe]),Ne(yt)}}(pe):(pe instanceof IDBTransaction&&function ut(pe){if($.has(pe))return;const oe=new Promise((Le,yt)=>{const Mt=()=>{pe.removeEventListener("complete",qt),pe.removeEventListener("error",wt),pe.removeEventListener("abort",wt)},qt=()=>{Le(),Mt()},wt=()=>{yt(pe.error||new DOMException("AbortError","AbortError")),Mt()};pe.addEventListener("complete",qt),pe.addEventListener("error",wt),pe.addEventListener("abort",wt)});$.set(pe,oe)}(pe),de(pe,function Ee(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(pe,ve):pe)}function Ne(pe){if(pe instanceof IDBRequest)return function Ze(pe){const oe=new Promise((Le,yt)=>{const Mt=()=>{pe.removeEventListener("success",qt),pe.removeEventListener("error",wt)},qt=()=>{Le(Ne(pe.result)),Mt()},wt=()=>{yt(pe.error),Mt()};pe.addEventListener("success",qt),pe.addEventListener("error",wt)});return oe.then(Le=>{Le instanceof IDBCursor&&W.set(Le,pe)}).catch(()=>{}),Me.set(oe,pe),oe}(pe);if(Ge.has(pe))return Ge.get(pe);const oe=je(pe);return oe!==pe&&(Ge.set(pe,oe),Me.set(oe,pe)),oe}const Ie=pe=>Me.get(pe),Be=["get","getKey","getAll","getAllKeys","count"],lt=["put","add","delete","clear"],le=new Map;function At(pe,oe){if(!(pe instanceof IDBDatabase)||oe in pe||"string"!=typeof oe)return;if(le.get(oe))return le.get(oe);const Le=oe.replace(/FromIndex$/,""),yt=oe!==Le,Mt=lt.includes(Le);if(!(Le in(yt?IDBIndex:IDBObjectStore).prototype)||!Mt&&!Be.includes(Le))return;const qt=function(){var wt=(0,c.Z)(function*(un,...an){const Pi=this.transaction(un,Mt?"readwrite":"readonly");let mi=Pi.store;return yt&&(mi=mi.index(an.shift())),(yield Promise.all([mi[Le](...an),Mt&&Pi.done]))[0]});return function(an){return wt.apply(this,arguments)}}();return le.set(oe,qt),qt}!function Pe(pe){ve=pe(ve)}(pe=>({...pe,get:(oe,Le,yt)=>At(oe,Le)||pe.get(oe,Le,yt),has:(oe,Le)=>!!At(oe,Le)||pe.has(oe,Le)}));class ot{constructor(oe){this.container=oe}getPlatformInfoString(){return this.container.getProviders().map(Le=>{if(function Zt(pe){return"VERSION"===pe.getComponent()?.type}(Le)){const yt=Le.getImmediate();return`${yt.library}/${yt.version}`}return null}).filter(Le=>Le).join(" ")}}const ht="@firebase/app",Cr=new L.Yd("@firebase/app"),ur="[DEFAULT]",To={[ht]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ln=new Map,fn=new Map;function ct(pe,oe){try{pe.container.addComponent(oe)}catch(Le){Cr.debug(`Component ${oe.name} failed to register with FirebaseApp ${pe.name}`,Le)}}function Lt(pe,oe){pe.container.addOrOverwriteComponent(oe)}function Fr(pe){const oe=pe.name;if(fn.has(oe))return Cr.debug(`There were multiple attempts to register component ${oe}.`),!1;fn.set(oe,pe);for(const Le of ln.values())ct(Le,pe);return!0}function Sr(pe,oe){const Le=pe.container.getProvider("heartbeat").getImmediate({optional:!0});return Le&&Le.triggerHeartbeat(),pe.container.getProvider(oe)}function Ci(pe,oe,Le=ur){Sr(pe,oe).clearInstance(Le)}function er(){fn.clear()}const hr=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class yn{constructor(oe,Le,yt){this._isDeleted=!1,this._options=Object.assign({},oe),this._config=Object.assign({},Le),this._name=Le.name,this._automaticDataCollectionEnabled=Le.automaticDataCollectionEnabled,this._container=yt,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(oe){this.checkDestroyed(),this._automaticDataCollectionEnabled=oe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(oe){this._isDeleted=oe}checkDestroyed(){if(this.isDeleted)throw hr.create("app-deleted",{appName:this._name})}}const Ko="9.23.0";function nn(pe,oe={}){let Le=pe;"object"!=typeof oe&&(oe={name:oe});const yt=Object.assign({name:ur,automaticDataCollectionEnabled:!1},oe),Mt=yt.name;if("string"!=typeof Mt||!Mt)throw hr.create("bad-app-name",{appName:String(Mt)});if(Le||(Le=(0,ce.aH)()),!Le)throw hr.create("no-options");const qt=ln.get(Mt);if(qt){if((0,ce.vZ)(Le,qt.options)&&(0,ce.vZ)(yt,qt.config))return qt;throw hr.create("duplicate-app",{appName:Mt})}const wt=new ne.H0(Mt);for(const an of fn.values())wt.addComponent(an);const un=new yn(Le,yt,wt);return ln.set(Mt,un),un}function Mo(pe=ur){const oe=ln.get(pe);if(!oe&&pe===ur&&(0,ce.aH)())return nn();if(!oe)throw hr.create("no-app",{appName:pe});return oe}function mn(){return Array.from(ln.values())}function Nr(pe){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,c.Z)(function*(pe){const oe=pe.name;ln.has(oe)&&(ln.delete(oe),yield Promise.all(pe.container.getProviders().map(Le=>Le.delete())),pe.isDeleted=!0)})).apply(this,arguments)}function fi(pe,oe,Le){var yt;let Mt=null!==(yt=To[pe])&&void 0!==yt?yt:pe;Le&&(Mt+=`-${Le}`);const qt=Mt.match(/\s|\//),wt=oe.match(/\s|\//);if(qt||wt){const un=[`Unable to register library "${Mt}" with version "${oe}":`];return qt&&un.push(`library name "${Mt}" contains illegal characters (whitespace or "/")`),qt&&wt&&un.push("and"),wt&&un.push(`version name "${oe}" contains illegal characters (whitespace or "/")`),void Cr.warn(un.join(" "))}Fr(new ne.wA(`${Mt}-version`,()=>({library:Mt,version:oe}),"VERSION"))}function oo(pe,oe){if(null!==pe&&"function"!=typeof pe)throw hr.create("invalid-log-argument");(0,L.Am)(pe,oe)}function On(pe){(0,L.Ub)(pe)}const so="firebase-heartbeat-database",fr=1,G="firebase-heartbeat-store";let z=null;function Z(){return z||(z=function Se(pe,oe,{blocked:Le,upgrade:yt,blocking:Mt,terminated:qt}={}){const wt=indexedDB.open(pe,oe),un=Ne(wt);return yt&&wt.addEventListener("upgradeneeded",an=>{yt(Ne(wt.result),an.oldVersion,an.newVersion,Ne(wt.transaction),an)}),Le&&wt.addEventListener("blocked",an=>Le(an.oldVersion,an.newVersion,an)),un.then(an=>{qt&&an.addEventListener("close",()=>qt()),Mt&&an.addEventListener("versionchange",Pi=>Mt(Pi.oldVersion,Pi.newVersion,Pi))}).catch(()=>{}),un}(so,fr,{upgrade:(pe,oe)=>{0===oe&&pe.createObjectStore(G)}}).catch(pe=>{throw hr.create("idb-open",{originalErrorMessage:pe.message})})),z}function re(){return(re=(0,c.Z)(function*(pe){try{return yield(yield Z()).transaction(G).objectStore(G).get(sn(pe))}catch(oe){if(oe instanceof ce.ZR)Cr.warn(oe.message);else{const Le=hr.create("idb-get",{originalErrorMessage:oe?.message});Cr.warn(Le.message)}}})).apply(this,arguments)}function Ue(pe,oe){return kt.apply(this,arguments)}function kt(){return(kt=(0,c.Z)(function*(pe,oe){try{const yt=(yield Z()).transaction(G,"readwrite");yield yt.objectStore(G).put(oe,sn(pe)),yield yt.done}catch(Le){if(Le instanceof ce.ZR)Cr.warn(Le.message);else{const yt=hr.create("idb-set",{originalErrorMessage:Le?.message});Cr.warn(yt.message)}}})).apply(this,arguments)}function sn(pe){return`${pe.name}!${pe.options.appId}`}class vn{constructor(oe){this.container=oe,this._heartbeatsCache=null;const Le=this.container.getProvider("app").getImmediate();this._storage=new ao(Le),this._heartbeatsCachePromise=this._storage.read().then(yt=>(this._heartbeatsCache=yt,yt))}triggerHeartbeat(){var oe=this;return(0,c.Z)(function*(){const yt=oe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Mt=Xt();if(null===oe._heartbeatsCache&&(oe._heartbeatsCache=yield oe._heartbeatsCachePromise),oe._heartbeatsCache.lastSentHeartbeatDate!==Mt&&!oe._heartbeatsCache.heartbeats.some(qt=>qt.date===Mt))return oe._heartbeatsCache.heartbeats.push({date:Mt,agent:yt}),oe._heartbeatsCache.heartbeats=oe._heartbeatsCache.heartbeats.filter(qt=>{const wt=new Date(qt.date).valueOf();return Date.now()-wt<=2592e6}),oe._storage.overwrite(oe._heartbeatsCache)})()}getHeartbeatsHeader(){var oe=this;return(0,c.Z)(function*(){if(null===oe._heartbeatsCache&&(yield oe._heartbeatsCachePromise),null===oe._heartbeatsCache||0===oe._heartbeatsCache.heartbeats.length)return"";const Le=Xt(),{heartbeatsToSend:yt,unsentEntries:Mt}=function tr(pe,oe=1024){const Le=[];let yt=pe.slice();for(const Mt of pe){const qt=Le.find(wt=>wt.agent===Mt.agent);if(qt){if(qt.dates.push(Mt.date),Ao(Le)>oe){qt.dates.pop();break}}else if(Le.push({agent:Mt.agent,dates:[Mt.date]}),Ao(Le)>oe){Le.pop();break}yt=yt.slice(1)}return{heartbeatsToSend:Le,unsentEntries:yt}}(oe._heartbeatsCache.heartbeats),qt=(0,ce.L)(JSON.stringify({version:2,heartbeats:yt}));return oe._heartbeatsCache.lastSentHeartbeatDate=Le,Mt.length>0?(oe._heartbeatsCache.heartbeats=Mt,yield oe._storage.overwrite(oe._heartbeatsCache)):(oe._heartbeatsCache.heartbeats=[],oe._storage.overwrite(oe._heartbeatsCache)),qt})()}}function Xt(){return(new Date).toISOString().substring(0,10)}class ao{constructor(oe){this.app=oe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var oe=this;return(0,c.Z)(function*(){return(yield oe._canUseIndexedDBPromise)&&(yield function we(pe){return re.apply(this,arguments)}(oe.app))||{heartbeats:[]}})()}overwrite(oe){var Le=this;return(0,c.Z)(function*(){var yt;if(yield Le._canUseIndexedDBPromise){const qt=yield Le.read();return Ue(Le.app,{lastSentHeartbeatDate:null!==(yt=oe.lastSentHeartbeatDate)&&void 0!==yt?yt:qt.lastSentHeartbeatDate,heartbeats:oe.heartbeats})}})()}add(oe){var Le=this;return(0,c.Z)(function*(){var yt;if(yield Le._canUseIndexedDBPromise){const qt=yield Le.read();return Ue(Le.app,{lastSentHeartbeatDate:null!==(yt=oe.lastSentHeartbeatDate)&&void 0!==yt?yt:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...oe.heartbeats]})}})()}}function Ao(pe){return(0,ce.L)(JSON.stringify({version:2,heartbeats:pe})).length}!function vl(pe){Fr(new ne.wA("platform-logger",oe=>new ot(oe),"PRIVATE")),Fr(new ne.wA("heartbeat",oe=>new vn(oe),"PRIVATE")),fi(ht,"0.9.13",pe),fi(ht,"0.9.13","esm2017"),fi("fire-js","")}("")},4859:(xt,Te,V)=>{V.d(Te,{H0:()=>Ee,wA:()=>L,zt:()=>de});var c=V(5861),ne=V(2090);class L{constructor(W,$,Q){this.name=W,this.instanceFactory=$,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const ce="[DEFAULT]";class de{constructor(W,$){this.name=W,this.container=$,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const $=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has($)){const Q=new ne.BH;if(this.instancesDeferred.set($,Q),this.isInitialized($)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:$});Ge&&Q.resolve(Ge)}catch{}}return this.instancesDeferred.get($).promise}getImmediate(W){var $;const Q=this.normalizeInstanceIdentifier(W?.identifier),Ge=null!==($=W?.optional)&&void 0!==$&&$;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(Me){if(Ge)return null;throw Me}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function Ce(_e){return"EAGER"===_e.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[$,Q]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier($);try{const Me=this.getOrInitializeService({instanceIdentifier:Ge});Q.resolve(Me)}catch{}}}}clearInstance(W=ce){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,c.Z)(function*(){const $=Array.from(W.instances.values());yield Promise.all([...$.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...$.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=ce){return this.instances.has(W)}getOptions(W=ce){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:$={}}=W,Q=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:Q,options:$});for(const[Me,Ze]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(Me)&&Ze.resolve(Ge);return Ge}onInit(W,$){var Q;const Ge=this.normalizeInstanceIdentifier($),Me=null!==(Q=this.onInitCallbacks.get(Ge))&&void 0!==Q?Q:new Set;Me.add(W),this.onInitCallbacks.set(Ge,Me);const Ze=this.instances.get(Ge);return Ze&&W(Ze,Ge),()=>{Me.delete(W)}}invokeOnInitCallbacks(W,$){const Q=this.onInitCallbacks.get($);if(Q)for(const Ge of Q)try{Ge(W,$)}catch{}}getOrInitializeService({instanceIdentifier:W,options:$={}}){let Q=this.instances.get(W);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(_e=W,_e===ce?void 0:_e),options:$}),this.instances.set(W,Q),this.instancesOptions.set(W,$),this.invokeOnInitCallbacks(Q,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,Q)}catch{}var _e;return Q||null}normalizeInstanceIdentifier(W=ce){return this.component?this.component.multipleInstances?W:ce:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ee{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const $=this.getProvider(W.name);if($.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);$.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const $=new de(W,this);return this.providers.set(W,$),$}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,Te,V)=>{V.d(Te,{Am:()=>_e,Ub:()=>Ee,Yd:()=>Ce,in:()=>ne});const c=[];var ne=(()=>{return(W=ne||(ne={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",ne;var W})();const L={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ce=ne.INFO,de={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},J=(W,$,...Q)=>{if($<W.logLevel)return;const Ge=(new Date).toISOString(),Me=de[$];if(!Me)throw new Error(`Attempted to log a message with an invalid logType (value: ${$})`);console[Me](`[${Ge}]  ${W.name}:`,...Q)};class Ce{constructor($){this.name=$,this._logLevel=ce,this._logHandler=J,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel($){if(!($ in ne))throw new TypeError(`Invalid value "${$}" assigned to \`logLevel\``);this._logLevel=$}setLogLevel($){this._logLevel="string"==typeof $?L[$]:$}get logHandler(){return this._logHandler}set logHandler($){if("function"!=typeof $)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=$}get userLogHandler(){return this._userLogHandler}set userLogHandler($){this._userLogHandler=$}debug(...$){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...$),this._logHandler(this,ne.DEBUG,...$)}log(...$){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...$),this._logHandler(this,ne.VERBOSE,...$)}info(...$){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...$),this._logHandler(this,ne.INFO,...$)}warn(...$){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...$),this._logHandler(this,ne.WARN,...$)}error(...$){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...$),this._logHandler(this,ne.ERROR,...$)}}function Ee(W){c.forEach($=>{$.setLogLevel(W)})}function _e(W,$){for(const Q of c){let Ge=null;$&&$.level&&(Ge=L[$.level]),Q.userLogHandler=null===W?null:(Me,Ze,...ut)=>{const ve=ut.map(Pe=>{if(null==Pe)return null;if("string"==typeof Pe)return Pe;if("number"==typeof Pe||"boolean"==typeof Pe)return Pe.toString();if(Pe instanceof Error)return Pe.message;try{return JSON.stringify(Pe)}catch{return null}}).filter(Pe=>Pe).join(" ");Ze>=(Ge??Me.logLevel)&&W({level:ne[Ze].toLowerCase(),message:ve,args:ut,type:Me.name})}}}},259:(xt,Te,V)=>{V.d(Te,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=V(6881);(0,c.registerVersion)("firebase","9.23.0","app")},9260:(xt,Te,V)=>{V.d(Te,{Z:()=>c.Z});var c=V(3942);c.Z.registerVersion("firebase","9.23.0","app-compat")},2644:(xt,Te,V)=>{V.r(Te);var c=V(5861),ne=V(3942),L=V(2090),ce=V(6881),de=V(7582),J=V(1877),Ce=V(4859);const _e={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},Q_EMAIL_SIGNIN="EMAIL_SIGNIN",Q_PASSWORD_RESET="PASSWORD_RESET",Q_RECOVER_EMAIL="RECOVER_EMAIL",Q_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",Q_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",Q_VERIFY_EMAIL="VERIFY_EMAIL";const Ze=function Ge(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ut=function Me(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ve=new L.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Fe=new J.Yd("@firebase/auth");function Ne(y,...m){Fe.logLevel<=J.in.ERROR&&Fe.error(`Auth (${ce.SDK_VERSION}): ${y}`,...m)}function Ie(y,...m){throw lt(y,...m)}function Se(y,...m){return lt(y,...m)}function qe(y,m,g){const w=Object.assign(Object.assign({},ut()),{[m]:g});return new L.LL("auth","Firebase",w).create(m,{appName:y.name})}function Be(y,m,g){if(!(m instanceof g))throw g.name!==m.constructor.name&&Ie(y,"argument-error"),qe(y,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function lt(y,...m){if("string"!=typeof y){const g=m[0],w=[...m.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return ve.create(y,...m)}function le(y,m,...g){if(!y)throw lt(m,...g)}function At(y){const m="INTERNAL ASSERTION FAILED: "+y;throw Ne(m),new Error(m)}function ot(y,m){y||At(m)}function Zt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function ht(){return"http:"===_s()||"https:"===_s()}function _s(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Do{constructor(m,g){this.shortDelay=m,this.longDelay=g,ot(g>m,"Short delay should be less than long delay!"),this.isMobile=(0,L.uI)()||(0,L.b$)()}get(){return function Cr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ht()||(0,L.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function he(y,m){ot(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return m?`${g}${m.startsWith("/")?m.slice(1):m}`:g}class me{static initialize(m,g,w){this.fetchImpl=m,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void At("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void At("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void At("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ye={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ue=new Do(3e4,6e4);function Ae(y,m){return y.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:y.tenantId}):m}function De(y,m,g,w){return pt.apply(this,arguments)}function pt(){return(pt=(0,c.Z)(function*(y,m,g,w,T={}){return gt(y,T,(0,c.Z)(function*(){let O={},j={};w&&("GET"===m?j=w:O={body:JSON.stringify(w)});const ee=(0,L.xO)(Object.assign({key:y.config.apiKey},j)).slice(1),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/json",y.languageCode&&(Re["X-Firebase-Locale"]=y.languageCode),me.fetch()(Bn(y,y.config.apiHost,g,ee),Object.assign({method:m,headers:Re,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function gt(y,m,g){return kn.apply(this,arguments)}function kn(){return(kn=(0,c.Z)(function*(y,m,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},ye),m);try{const T=new Dn(y),O=yield Promise.race([g(),T.promise]);T.clearNetworkTimeout();const j=yield O.json();if("needConfirmation"in j)throw qn(y,"account-exists-with-different-credential",j);if(O.ok&&!("errorMessage"in j))return j;{const ee=O.ok?j.errorMessage:j.error.message,[Re,We]=ee.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw qn(y,"credential-already-in-use",j);if("EMAIL_EXISTS"===Re)throw qn(y,"email-already-in-use",j);if("USER_DISABLED"===Re)throw qn(y,"user-disabled",j);const st=w[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw qe(y,st,We);Ie(y,st)}}catch(T){if(T instanceof L.ZR)throw T;Ie(y,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function vt(y,m,g,w){return tn.apply(this,arguments)}function tn(){return(tn=(0,c.Z)(function*(y,m,g,w,T={}){const O=yield De(y,m,g,w,T);return"mfaPendingCredential"in O&&Ie(y,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function Bn(y,m,g,w){const T=`${m}${g}?${w}`;return y.config.emulator?he(y.config,T):`${y.config.apiScheme}://${T}`}class Dn{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Se(this.auth,"network-request-failed")),ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(y,m,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const T=Se(y,m,w);return T.customData._tokenResponse=g,T}function Yn(){return(Yn=(0,c.Z)(function*(y,m){return De(y,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(y,m){return De(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function bt(){return(bt=(0,c.Z)(function*(y,m){return De(y,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ir(y){if(y)try{const m=new Date(Number(y));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function ur(){return(ur=(0,c.Z)(function*(y,m=!1){const g=(0,L.m9)(y),w=yield g.getIdToken(m),T=ln(w);le(T&&T.exp&&T.auth_time&&T.iat,g.auth,"internal-error");const O="object"==typeof T.firebase?T.firebase:void 0,j=O?.sign_in_provider;return{claims:T,token:w,authTime:Ir(To(T.auth_time)),issuedAtTime:Ir(To(T.iat)),expirationTime:Ir(To(T.exp)),signInProvider:j||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function To(y){return 1e3*Number(y)}function ln(y){const[m,g,w]=y.split(".");if(void 0===m||void 0===g||void 0===w)return Ne("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,L.tV)(g);return T?JSON.parse(T):(Ne("Failed to decode base64 JWT payload"),null)}catch(T){return Ne("Caught error parsing JWT payload as JSON",T?.toString()),null}}function ct(y,m){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,c.Z)(function*(y,m,g=!1){if(g)return m;try{return yield m}catch(w){throw w instanceof L.ZR&&function Fr({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class Sr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var g;if(m){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const T=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(m=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(m);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),w)}iteration(){var m=this;return(0,c.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&m.schedule(!0))}m.schedule()})()}}class Ci{constructor(m,g){this.createdAt=m,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ir(this.lastLoginAt),this.creationTime=Ir(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function er(y){return Wn.apply(this,arguments)}function Wn(){return Wn=(0,c.Z)(function*(y){var m;const g=y.auth,w=yield y.getIdToken(),T=yield ct(y,function $i(y,m){return bt.apply(this,arguments)}(g,{idToken:w}));le(T?.users.length,g,"internal-error");const O=T.users[0];y._notifyReloadListener(O);const j=null!==(m=O.providerUserInfo)&&void 0!==m&&m.length?function nn(y){return y.map(m=>{var{providerId:g}=m,w=(0,de._T)(m,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(O.providerUserInfo):[],ee=function Ko(y,m){return[...y.filter(w=>!m.some(T=>T.providerId===w.providerId)),...m]}(y.providerData,j),st=!!y.isAnonymous&&!(y.email&&O.passwordHash||ee?.length),at={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:ee,metadata:new Ci(O.createdAt,O.lastLoginAt),isAnonymous:st};Object.assign(y,at)}),Wn.apply(this,arguments)}function yn(){return(yn=(0,c.Z)(function*(y){const m=(0,L.m9)(y);yield er(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function mn(){return(mn=(0,c.Z)(function*(y,m){const g=yield gt(y,{},(0,c.Z)(function*(){const w=(0,L.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:T,apiKey:O}=y.config,j=Bn(y,T,"/v1/token",`key=${O}`),ee=yield y._getAdditionalHeaders();return ee["Content-Type"]="application/x-www-form-urlencoded",me.fetch()(j,{method:"POST",headers:ee,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Nr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){le(m.idToken,"internal-error"),le(typeof m.idToken<"u","internal-error"),le(typeof m.refreshToken<"u","internal-error");const g="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function fn(y){const m=ln(y);return le(m,"internal-error"),le(typeof m.exp<"u","internal-error"),le(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,g)}getToken(m,g=!1){var w=this;return(0,c.Z)(function*(){return le(!w.accessToken||w.refreshToken,m,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(m,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,g){var w=this;return(0,c.Z)(function*(){const{accessToken:T,refreshToken:O,expiresIn:j}=yield function Mo(y,m){return mn.apply(this,arguments)}(m,g);w.updateTokensAndExpiration(T,O,Number(j))})()}updateTokensAndExpiration(m,g,w){this.refreshToken=g||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(m,g){const{refreshToken:w,accessToken:T,expirationTime:O}=g,j=new Nr;return w&&(le("string"==typeof w,"internal-error",{appName:m}),j.refreshToken=w),T&&(le("string"==typeof T,"internal-error",{appName:m}),j.accessToken=T),O&&(le("number"==typeof O,"internal-error",{appName:m}),j.expirationTime=O),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Nr,this.toJSON())}_performRefresh(){return At("not implemented")}}function Kn(y,m){le("string"==typeof y||typeof y>"u","internal-error",{appName:m})}class fi{constructor(m){var{uid:g,auth:w,stsTokenManager:T}=m,O=(0,de._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new Ci(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(m){var g=this;return(0,c.Z)(function*(){const w=yield ct(g,g.stsTokenManager.getToken(g.auth,m));return le(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(m){return function Wi(y){return ur.apply(this,arguments)}(this,m)}reload(){return function hr(y){return yn.apply(this,arguments)}(this)}_assign(m){this!==m&&(le(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(g=>Object.assign({},g)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){const g=new fi(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(m){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,g=!1){var w=this;return(0,c.Z)(function*(){let T=!1;m.idToken&&m.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(m),T=!0),g&&(yield er(w)),yield w.auth._persistUserIfCurrent(w),T&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var m=this;return(0,c.Z)(function*(){const g=yield m.getIdToken();return yield ct(m,function xi(y,m){return Yn.apply(this,arguments)}(m.auth,{idToken:g})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,g){var w,T,O,j,ee,Re,We,st;const at=null!==(w=g.displayName)&&void 0!==w?w:void 0,zn=null!==(T=g.email)&&void 0!==T?T:void 0,us=null!==(O=g.phoneNumber)&&void 0!==O?O:void 0,xu=null!==(j=g.photoURL)&&void 0!==j?j:void 0,cb=null!==(ee=g.tenantId)&&void 0!==ee?ee:void 0,jn=null!==(Re=g._redirectEventId)&&void 0!==Re?Re:void 0,p_=null!==(We=g.createdAt)&&void 0!==We?We:void 0,g_=null!==(st=g.lastLoginAt)&&void 0!==st?st:void 0,{uid:Cu,emailVerified:Eu,isAnonymous:_o,providerData:jh,stsTokenManager:_d}=g;le(Cu&&_d,m,"internal-error");const db=Nr.fromJSON(this.name,_d);le("string"==typeof Cu,m,"internal-error"),Kn(at,m.name),Kn(zn,m.name),le("boolean"==typeof Eu,m,"internal-error"),le("boolean"==typeof _o,m,"internal-error"),Kn(us,m.name),Kn(xu,m.name),Kn(cb,m.name),Kn(jn,m.name),Kn(p_,m.name),Kn(g_,m.name);const Gh=new fi({uid:Cu,auth:m,email:zn,emailVerified:Eu,displayName:at,isAnonymous:_o,photoURL:xu,phoneNumber:us,tenantId:cb,stsTokenManager:db,createdAt:p_,lastLoginAt:g_});return jh&&Array.isArray(jh)&&(Gh.providerData=jh.map(ub=>Object.assign({},ub))),jn&&(Gh._redirectEventId=jn),Gh}static _fromIdTokenResponse(m,g,w=!1){return(0,c.Z)(function*(){const T=new Nr;T.updateFromServerResponse(g);const O=new fi({uid:g.localId,auth:m,stsTokenManager:T,isAnonymous:w});return yield er(O),O})()}}const oo=new Map;function On(y){ot(y instanceof Function,"Expected a class definition");let m=oo.get(y);return m?(ot(m instanceof y,"Instance stored in cache mismatched with class"),m):(m=new y,oo.set(y,m),m)}const fr=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,w){var T=this;return(0,c.Z)(function*(){T.storage[g]=w})()}_get(g){var w=this;return(0,c.Z)(function*(){const T=w.storage[g];return void 0===T?null:T})()}_remove(g){var w=this;return(0,c.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function G(y,m,g){return`firebase:${y}:${m}:${g}`}class z{constructor(m,g,w){this.persistence=m,this.auth=g,this.userKey=w;const{config:T,name:O}=this.auth;this.fullUserKey=G(this.userKey,T.apiKey,O),this.fullPersistenceKey=G("persistence",T.apiKey,O),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,c.Z)(function*(){const g=yield m.persistence._get(m.fullUserKey);return g?fi._fromJSON(m.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var g=this;return(0,c.Z)(function*(){if(g.persistence===m)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=m,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,g,w="authUser"){return(0,c.Z)(function*(){if(!g.length)return new z(On(fr),m,w);const T=(yield Promise.all(g.map(function(){var We=(0,c.Z)(function*(st){if(yield st._isAvailable())return st});return function(st){return We.apply(this,arguments)}}()))).filter(We=>We);let O=T[0]||On(fr);const j=G(w,m.config.apiKey,m.name);let ee=null;for(const We of g)try{const st=yield We._get(j);if(st){const at=fi._fromJSON(m,st);We!==O&&(ee=at),O=We;break}}catch{}const Re=T.filter(We=>We._shouldAllowMigration);return O._shouldAllowMigration&&Re.length?(O=Re[0],ee&&(yield O._set(j,ee.toJSON())),yield Promise.all(g.map(function(){var We=(0,c.Z)(function*(st){if(st!==O)try{yield st._remove(j)}catch{}});return function(st){return We.apply(this,arguments)}}())),new z(O,m,w)):new z(O,m,w)})()}}function Z(y){const m=y.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(kt(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(we(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(oi(m))return"Blackberry";if(Vn(m))return"Webos";if(re(m))return"Safari";if((m.includes("chrome/")||Ue(m))&&!m.includes("edge/"))return"Chrome";if(sn(m))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function we(y=(0,L.z$)()){return/firefox\//i.test(y)}function re(y=(0,L.z$)()){const m=y.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function Ue(y=(0,L.z$)()){return/crios\//i.test(y)}function kt(y=(0,L.z$)()){return/iemobile/i.test(y)}function sn(y=(0,L.z$)()){return/android/i.test(y)}function oi(y=(0,L.z$)()){return/blackberry/i.test(y)}function Vn(y=(0,L.z$)()){return/webos/i.test(y)}function vn(y=(0,L.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Ao(y=(0,L.z$)()){return vn(y)||sn(y)||Vn(y)||oi(y)||/windows phone/i.test(y)||kt(y)}function pe(y,m=[]){let g;switch(y){case"Browser":g=Z((0,L.z$)());break;case"Worker":g=`${Z((0,L.z$)())}-${y}`;break;default:g=y}const w=m.length?m.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${w}`}function Le(){return(Le=(0,c.Z)(function*(y){return(yield De(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function yt(y,m){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,c.Z)(function*(y,m){return De(y,"GET","/v2/recaptchaConfig",Ae(y,m))})).apply(this,arguments)}function qt(y){return void 0!==y&&void 0!==y.getResponse}function wt(y){return void 0!==y&&void 0!==y.enterprise}class un{constructor(m){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===m.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=m.recaptchaKey.split("/")[3],this.emailPasswordEnabled=m.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Pi(y){return new Promise((m,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=m,w.onerror=T=>{const O=Se("internal-error");O.customData=T,g(O)},w.type="text/javascript",w.charset="UTF-8",function an(){var y,m;return null!==(m=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==m?m:document}().appendChild(w)})}function mi(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Oa="NO_RECAPTCHA";class Lr{constructor(m){this.type="recaptcha-enterprise",this.auth=bn(m)}verify(m="verify",g=!1){var w=this;return(0,c.Z)(function*(){function O(){return O=(0,c.Z)(function*(ee){if(!g){if(null==ee.tenantId&&null!=ee._agentRecaptchaConfig)return ee._agentRecaptchaConfig.siteKey;if(null!=ee.tenantId&&void 0!==ee._tenantRecaptchaConfigs[ee.tenantId])return ee._tenantRecaptchaConfigs[ee.tenantId].siteKey}return new Promise(function(){var Re=(0,c.Z)(function*(We,st){yt(ee,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(at=>{if(void 0!==at.recaptchaKey){const zn=new un(at);return null==ee.tenantId?ee._agentRecaptchaConfig=zn:ee._tenantRecaptchaConfigs[ee.tenantId]=zn,We(zn.siteKey)}st(new Error("recaptcha Enterprise site key undefined"))}).catch(at=>{st(at)})});return function(We,st){return Re.apply(this,arguments)}}())}),O.apply(this,arguments)}function j(ee,Re,We){const st=window.grecaptcha;wt(st)?st.enterprise.ready(()=>{st.enterprise.execute(ee,{action:m}).then(at=>{Re(at)}).catch(()=>{Re(Oa)})}):We(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ee,Re)=>{(function T(ee){return O.apply(this,arguments)})(w.auth).then(We=>{if(!g&&wt(window.grecaptcha))j(We,ee,Re);else{if(typeof window>"u")return void Re(new Error("RecaptchaVerifier is only supported in browser"));Pi("https://www.google.com/recaptcha/enterprise.js?render="+We).then(()=>{j(We,ee,Re)}).catch(st=>{Re(st)})}}).catch(We=>{Re(We)})})})()}}function Qe(y,m,g){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(y,m,g,w=!1){const T=new Lr(y);let O;try{O=yield T.verify(g)}catch{O=yield T.verify(g,!0)}const j=Object.assign({},m);return Object.assign(j,w?{captchaResp:O}:{captchaResponse:O}),Object.assign(j,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(j,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),j})).apply(this,arguments)}class Pn{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,g){const w=O=>new Promise((j,ee)=>{try{j(m(O))}catch(Re){ee(Re)}});w.onAbort=g,this.queue.push(w);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(m){var g=this;return(0,c.Z)(function*(){if(g.auth.currentUser===m)return;const w=[];try{for(const T of g.queue)yield T(m),T.onAbort&&w.push(T.onAbort)}catch(T){w.reverse();for(const O of w)try{O()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Br{constructor(m,g,w,T){this.app=m,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pi(this),this.idTokenSubscription=new pi(this),this.beforeStateQueue=new Pn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ve,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(m,g){var w=this;return g&&(this._popupRedirectResolver=On(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var T,O;if(!w._deleted&&(w.persistenceManager=yield z.create(w,m),!w._deleted)){if(null!==(T=w._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(O=w.currentUser)||void 0===O?void 0:O.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,c.Z)(function*(){if(m._deleted)return;const g=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||g){if(m.currentUser&&g&&m.currentUser.uid===g.uid)return m._currentUser._assign(g),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(g,!0)}})()}initializeCurrentUser(m){var g=this;return(0,c.Z)(function*(){var w;const T=yield g.assertedPersistence.getCurrentUser();let O=T,j=!1;if(m&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ee=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,Re=O?._redirectEventId,We=yield g.tryRedirectSignIn(m);(!ee||ee===Re)&&We?.user&&(O=We.user,j=!0)}if(!O)return g.directlySetCurrentUser(null);if(!O._redirectEventId){if(j)try{yield g.beforeStateQueue.runMiddleware(O)}catch(ee){O=T,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ee))}return O?g.reloadAndSetCurrentUserOrClear(O):g.directlySetCurrentUser(null)}return le(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===O._redirectEventId?g.directlySetCurrentUser(O):g.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(m){var g=this;return(0,c.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,m,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(m){var g=this;return(0,c.Z)(function*(){try{yield er(m)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function vs(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var m=this;return(0,c.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var g=this;return(0,c.Z)(function*(){const w=m?(0,L.m9)(m):null;return w&&le(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(m,g=!1){var w=this;return(0,c.Z)(function*(){if(!w._deleted)return m&&le(w.tenantId===m.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(m)),w.queue((0,c.Z)(function*(){yield w.directlySetCurrentUser(m),w.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,c.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(On(m))}))}initializeRecaptchaConfig(){var m=this;return(0,c.Z)(function*(){const g=yield yt(m,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new un(g);null==m.tenantId?m._agentRecaptchaConfig=w:m._tenantRecaptchaConfigs[m.tenantId]=w,w.emailPasswordEnabled&&new Lr(m).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new L.LL("auth","Firebase",m())}onAuthStateChanged(m,g,w){return this.registerStateListener(this.authStateSubscription,m,g,w)}beforeAuthStateChanged(m,g){return this.beforeStateQueue.pushCallback(m,g)}onIdTokenChanged(m,g,w){return this.registerStateListener(this.idTokenSubscription,m,g,w)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,g){var w=this;return(0,c.Z)(function*(){const T=yield w.getOrInitRedirectPersistenceManager(g);return null===m?T.removeCurrentUser():T.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const w=m&&On(m)||g._popupRedirectResolver;le(w,g,"argument-error"),g.redirectPersistenceManager=yield z.create(g,[On(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(m){var g=this;return(0,c.Z)(function*(){var w,T;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===m?g._currentUser:(null===(T=g.redirectUser)||void 0===T?void 0:T._redirectEventId)===m?g.redirectUser:null})()}_persistUserIfCurrent(m){var g=this;return(0,c.Z)(function*(){if(m===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,g,w,T){if(this._deleted)return()=>{};const O="function"==typeof g?g:g.next.bind(g),j=this._isInitialized?Promise.resolve():this._initializationPromise;return le(j,this,"internal-error"),j.then(()=>O(this.currentUser)),"function"==typeof g?m.addObserver(g,w,T):m.addObserver(g)}directlySetCurrentUser(m){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==m&&g._currentUser._stopProactiveRefresh(),m&&g.isProactiveRefreshEnabled&&m._startProactiveRefresh(),g.currentUser=m,m?yield g.assertedPersistence.setCurrentUser(m):yield g.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=pe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,c.Z)(function*(){var g;const w={"X-Client-Version":m.clientVersion};m.app.options.appId&&(w["X-Firebase-gmpid"]=m.app.options.appId);const T=yield null===(g=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();T&&(w["X-Firebase-Client"]=T);const O=yield m._getAppCheckToken();return O&&(w["X-Firebase-AppCheck"]=O),w})()}_getAppCheckToken(){var m=this;return(0,c.Z)(function*(){var g;const w=yield null===(g=m.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function je(y,...m){Fe.logLevel<=J.in.WARN&&Fe.warn(`Auth (${ce.SDK_VERSION}): ${y}`,...m)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function bn(y){return(0,L.m9)(y)}class pi{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,L.ne)(g=>this.observer=g)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function mr(y){const m=y.indexOf(":");return m<0?"":y.substr(0,m+1)}function bl(y){if(!y)return null;const m=Number(y);return isNaN(m)?null:m}class ko{constructor(m,g){this.providerId=m,this.signInMethod=g}toJSON(){return At("not implemented")}_getIdTokenResponse(m){return At("not implemented")}_linkToIdToken(m,g){return At("not implemented")}_getReauthenticationResolver(m){return At("not implemented")}}function ys(y,m){return si.apply(this,arguments)}function si(){return(si=(0,c.Z)(function*(y,m){return De(y,"POST","/v1/accounts:resetPassword",Ae(y,m))})).apply(this,arguments)}function Fa(y,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(y,m){return De(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function bs(){return(bs=(0,c.Z)(function*(y,m){return De(y,"POST","/v1/accounts:update",Ae(y,m))})).apply(this,arguments)}function Ei(y,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,c.Z)(function*(y,m){return vt(y,"POST","/v1/accounts:signInWithPassword",Ae(y,m))})).apply(this,arguments)}function Dr(y,m){return wl.apply(this,arguments)}function wl(){return(wl=(0,c.Z)(function*(y,m){return De(y,"POST","/v1/accounts:sendOobCode",Ae(y,m))})).apply(this,arguments)}function Na(){return(Na=(0,c.Z)(function*(y,m){return Dr(y,m)})).apply(this,arguments)}function ws(y,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,c.Z)(function*(y,m){return Dr(y,m)})).apply(this,arguments)}function Fi(y,m){return Ic.apply(this,arguments)}function Ic(){return(Ic=(0,c.Z)(function*(y,m){return Dr(y,m)})).apply(this,arguments)}function pr(){return(pr=(0,c.Z)(function*(y,m){return Dr(y,m)})).apply(this,arguments)}function La(){return(La=(0,c.Z)(function*(y,m){return vt(y,"POST","/v1/accounts:signInWithEmailLink",Ae(y,m))})).apply(this,arguments)}function Vr(){return(Vr=(0,c.Z)(function*(y,m){return vt(y,"POST","/v1/accounts:signInWithEmailLink",Ae(y,m))})).apply(this,arguments)}class Sc extends ko{constructor(m,g,w,T=null){super("password",w),this._email=m,this._password=g,this._tenantId=T}static _fromEmailAndPassword(m,g){return new Sc(m,g,"password")}static _fromEmailAndCode(m,g,w=null){return new Sc(m,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(m){var g=this;return(0,c.Z)(function*(){var w;switch(g.signInMethod){case"password":const T={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=m._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const O=yield Qe(m,T,"signInWithPassword");return Ei(m,O)}return Ei(m,T).catch(function(){var O=(0,c.Z)(function*(j){if("auth/missing-recaptcha-token"===j.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ee=yield Qe(m,T,"signInWithPassword");return Ei(m,ee)}return Promise.reject(j)});return function(j){return O.apply(this,arguments)}}());case"emailLink":return function xl(y,m){return La.apply(this,arguments)}(m,{email:g._email,oobCode:g._password});default:Ie(m,"internal-error")}})()}_linkToIdToken(m,g){var w=this;return(0,c.Z)(function*(){switch(w.signInMethod){case"password":return Fa(m,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Ud(y,m){return Vr.apply(this,arguments)}(m,{idToken:g,email:w._email,oobCode:w._password});default:Ie(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function co(y,m){return ih.apply(this,arguments)}function ih(){return(ih=(0,c.Z)(function*(y,m){return vt(y,"POST","/v1/accounts:signInWithIdp",Ae(y,m))})).apply(this,arguments)}class Qo extends ko{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const g=new Qo(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(g.idToken=m.idToken),m.accessToken&&(g.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(g.nonce=m.nonce),m.pendingToken&&(g.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(g.accessToken=m.oauthToken,g.secret=m.oauthTokenSecret):Ie("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:T}=g,O=(0,de._T)(g,["providerId","signInMethod"]);if(!w||!T)return null;const j=new Qo(w,T);return j.idToken=O.idToken||void 0,j.accessToken=O.accessToken||void 0,j.secret=O.secret,j.nonce=O.nonce,j.pendingToken=O.pendingToken||null,j}_getIdTokenResponse(m){return co(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,co(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,co(m,g)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),m.postBody=(0,L.xO)(g)}return m}}function Hd(){return(Hd=(0,c.Z)(function*(y,m){return De(y,"POST","/v1/accounts:sendVerificationCode",Ae(y,m))})).apply(this,arguments)}function rh(){return(rh=(0,c.Z)(function*(y,m){return vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ae(y,m))})).apply(this,arguments)}function Dc(){return(Dc=(0,c.Z)(function*(y,m){const g=yield vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ae(y,m));if(g.temporaryProof)throw qn(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const oh={USER_NOT_FOUND:"user-not-found"};function Tc(){return(Tc=(0,c.Z)(function*(y,m){return vt(y,"POST","/v1/accounts:signInWithPhoneNumber",Ae(y,Object.assign(Object.assign({},m),{operation:"REAUTH"})),oh)})).apply(this,arguments)}class Qn extends ko{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,g){return new Qn({verificationId:m,verificationCode:g})}static _fromTokenResponse(m,g){return new Qn({phoneNumber:m,temporaryProof:g})}_getIdTokenResponse(m){return function Yg(y,m){return rh.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,g){return function Kg(y,m){return Dc.apply(this,arguments)}(m,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Mm(y,m){return Tc.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:g,verificationId:w,verificationCode:T}=this.params;return m&&g?{temporaryProof:m,phoneNumber:g}:{sessionInfo:w,code:T}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:O}=m;return w||g||T||O?new Qn({verificationId:g,verificationCode:w,phoneNumber:T,temporaryProof:O}):null}}class Ba{constructor(m){var g,w,T,O,j,ee;const Re=(0,L.zd)((0,L.pd)(m)),We=null!==(g=Re.apiKey)&&void 0!==g?g:null,st=null!==(w=Re.oobCode)&&void 0!==w?w:null,at=function Am(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Re.mode)&&void 0!==T?T:null);le(We&&st&&at,"argument-error"),this.apiKey=We,this.operation=at,this.code=st,this.continueUrl=null!==(O=Re.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(j=Re.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ee=Re.tenantId)&&void 0!==ee?ee:null}static parseLink(m){const g=function sh(y){const m=(0,L.zd)((0,L.pd)(y)).link,g=m?(0,L.zd)((0,L.pd)(m)).deep_link_id:null,w=(0,L.zd)((0,L.pd)(y)).deep_link_id;return(w?(0,L.zd)((0,L.pd)(w)).link:null)||w||g||m||y}(m);try{return new Ba(g)}catch{return null}}}let ah=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return Sc._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const T=Ba.parseLink(w);return le(T,"argument-error"),Sc._fromEmailAndCode(g,T.code,T.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Xo{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ro extends Xo{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ys extends Ro{static credentialFromJSON(m){const g="string"==typeof m?JSON.parse(m):m;return le("providerId"in g&&"signInMethod"in g,"argument-error"),Qo._fromParams(g)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return le(m.idToken||m.accessToken,"argument-error"),Qo._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ys.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ys.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:T,pendingToken:O,nonce:j,providerId:ee}=m;if(!w&&!T&&!g&&!O||!ee)return null;try{return new Ys(ee)._credential({idToken:g,accessToken:w,nonce:j,pendingToken:O})}catch{return null}}}let zd=(()=>{class y extends Ro{constructor(){super("facebook.com")}static credential(g){return Qo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Cl=(()=>{class y extends Ro{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Qo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:T}=g;if(!w&&!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),lh=(()=>{class y extends Ro{constructor(){super("github.com")}static credential(g){return Qo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class xs extends ko{constructor(m,g){super(m,m),this.pendingToken=g}_getIdTokenResponse(m){return co(m,this.buildRequest())}_linkToIdToken(m,g){const w=this.buildRequest();return w.idToken=g,co(m,w)}_getReauthenticationResolver(m){const g=this.buildRequest();return g.autoCreate=!1,co(m,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const g="string"==typeof m?JSON.parse(m):m,{providerId:w,signInMethod:T,pendingToken:O}=g;return w&&T&&O&&w===T?new xs(w,O):null}static _create(m,g){return new xs(m,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Mc extends Xo{constructor(m){le(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return Mc.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return Mc.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const g=xs.fromJSON(m);return le(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:g,providerId:w}=m;if(!g||!w)return null;try{return xs._create(w,g)}catch{return null}}}let Ac=(()=>{class y extends Ro{constructor(){super("twitter.com")}static credential(g,w){return Qo._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:T}=g;if(!w||!T)return null;try{return y.credential(w,T)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Cs(y,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,c.Z)(function*(y,m){return vt(y,"POST","/v1/accounts:signUp",Ae(y,m))})).apply(this,arguments)}class nr{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,g,w,T=!1){return(0,c.Z)(function*(){const O=yield fi._fromIdTokenResponse(m,w,T),j=El(w);return new nr({user:O,providerId:j,_tokenResponse:w,operationType:g})})()}static _forOperation(m,g,w){return(0,c.Z)(function*(){yield m._updateTokensIfNecessary(w,!0);const T=El(w);return new nr({user:m,providerId:T,_tokenResponse:w,operationType:g})})()}}function El(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Va(){return(Va=(0,c.Z)(function*(y){var m;const g=bn(y);if(yield g._initializationPromise,null!==(m=g.currentUser)&&void 0!==m&&m.isAnonymous)return new nr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield Cs(g,{returnSecureToken:!0}),T=yield nr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(T.user),T})).apply(this,arguments)}class Jo extends L.ZR{constructor(m,g,w,T){var O;super(g.code,g.message),this.operationType=w,this.user=T,Object.setPrototypeOf(this,Jo.prototype),this.customData={appName:m.name,tenantId:null!==(O=m.tenantId)&&void 0!==O?O:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(m,g,w,T){return new Jo(m,g,w,T)}}function Li(y,m,g,w){return("reauthenticate"===m?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?Jo._fromErrorAndOperation(y,O,m,w):O})}function ch(y){return new Set(y.map(({providerId:m})=>m).filter(m=>!!m))}function ir(){return ir=(0,c.Z)(function*(y,m){const g=(0,L.m9)(y);yield es(!0,g,m);const{providerUserInfo:w}=yield function Ji(y,m){return Er.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[m]}),T=ch(w||[]);return g.providerData=g.providerData.filter(O=>T.has(O.providerId)),T.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ir.apply(this,arguments)}function Ii(y,m){return kc.apply(this,arguments)}function kc(){return(kc=(0,c.Z)(function*(y,m,g=!1){const w=yield ct(y,m._linkToIdToken(y.auth,yield y.getIdToken()),g);return nr._forOperation(y,"link",w)})).apply(this,arguments)}function es(y,m,g){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,c.Z)(function*(y,m,g){yield er(m);const T=!1===y?"provider-already-linked":"no-such-provider";le(ch(m.providerData).has(g)===y,m.auth,T)})).apply(this,arguments)}function Es(y,m){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,c.Z)(function*(y,m,g=!1){const{auth:w}=y,T="reauthenticate";try{const O=yield ct(y,Li(w,T,m,y),g);le(O.idToken,w,"internal-error");const j=ln(O.idToken);le(j,w,"internal-error");const{sub:ee}=j;return le(y.uid===ee,w,"user-mismatch"),nr._forOperation(y,T,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ie(w,"user-mismatch"),O}})).apply(this,arguments)}function Il(y,m){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,c.Z)(function*(y,m,g=!1){const w="signIn",T=yield Li(y,w,m),O=yield nr._fromIdTokenResponse(y,w,T);return g||(yield y._updateCurrentUser(O.user)),O})).apply(this,arguments)}function Sl(y,m){return uh.apply(this,arguments)}function uh(){return(uh=(0,c.Z)(function*(y,m){return Il(bn(y),m)})).apply(this,arguments)}function hh(y,m){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,c.Z)(function*(y,m){const g=(0,L.m9)(y);return yield es(!1,g,m.providerId),Ii(g,m)})).apply(this,arguments)}function fh(y,m){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,c.Z)(function*(y,m){return Es((0,L.m9)(y),m)})).apply(this,arguments)}function mh(){return(mh=(0,c.Z)(function*(y,m){return vt(y,"POST","/v1/accounts:signInWithCustomToken",Ae(y,m))})).apply(this,arguments)}function jt(){return jt=(0,c.Z)(function*(y,m){const g=bn(y),w=yield function Zg(y,m){return mh.apply(this,arguments)}(g,{token:m,returnSecureToken:!0}),T=yield nr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(T.user),T}),jt.apply(this,arguments)}class Dl{constructor(m,g){this.factorId=m,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(m,g){return"phoneInfo"in g?Tl._fromServerResponse(m,g):"totpInfo"in g?Si._fromServerResponse(m,g):Ie(m,"internal-error")}}class Tl extends Dl{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,g){return new Tl(g)}}class Si extends Dl{constructor(m){super("totp",m)}static _fromServerResponse(m,g){return new Si(g)}}function Ks(y,m,g){var w;le((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),le(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),m.continueUrl=g.url,m.dynamicLinkDomain=g.dynamicLinkDomain,m.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(le(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),m.iOSBundleId=g.iOS.bundleId),g.android&&(le(g.android.packageName.length>0,y,"missing-android-pkg-name"),m.androidInstallApp=g.android.installApp,m.androidMinimumVersionCode=g.android.minimumVersion,m.androidPackageName=g.android.packageName)}function _r(){return _r=(0,c.Z)(function*(y,m,g){var w;const T=bn(y),O={requestType:"PASSWORD_RESET",email:m,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const j=yield Qe(T,O,"getOobCode",!0);g&&Ks(T,j,g),yield ws(T,j)}else g&&Ks(T,O,g),yield ws(T,O).catch(function(){var j=(0,c.Z)(function*(ee){if("auth/missing-recaptcha-token"!==ee.code)return Promise.reject(ee);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Re=yield Qe(T,O,"getOobCode",!0);g&&Ks(T,Re,g),yield ws(T,Re)}});return function(ee){return j.apply(this,arguments)}}())}),_r.apply(this,arguments)}function Fc(){return(Fc=(0,c.Z)(function*(y,m,g){yield ys((0,L.m9)(y),{oobCode:m,newPassword:g})})).apply(this,arguments)}function ts(){return ts=(0,c.Z)(function*(y,m){yield function lo(y,m){return bs.apply(this,arguments)}((0,L.m9)(y),{oobCode:m})}),ts.apply(this,arguments)}function Ml(y,m){return gi.apply(this,arguments)}function gi(){return(gi=(0,c.Z)(function*(y,m){const g=(0,L.m9)(y),w=yield ys(g,{oobCode:m}),T=w.requestType;switch(le(T,g,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,g,"internal-error");default:le(w.email,g,"internal-error")}let O=null;return w.mfaInfo&&(O=Dl._fromServerResponse(bn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:O},operation:T}})).apply(this,arguments)}function Oo(){return(Oo=(0,c.Z)(function*(y,m){const{data:g}=yield Ml((0,L.m9)(y),m);return g.email})).apply(this,arguments)}function Hr(){return Hr=(0,c.Z)(function*(y,m,g){var w;const T=bn(y),O={returnSecureToken:!0,email:m,password:g,clientType:"CLIENT_TYPE_WEB"};let j;if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const We=yield Qe(T,O,"signUpPassword");j=Cs(T,We)}else j=Cs(T,O).catch(function(){var We=(0,c.Z)(function*(st){if("auth/missing-recaptcha-token"===st.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const at=yield Qe(T,O,"signUpPassword");return Cs(T,at)}return Promise.reject(st)});return function(st){return We.apply(this,arguments)}}());const ee=yield j.catch(We=>Promise.reject(We)),Re=yield nr._fromIdTokenResponse(T,"signIn",ee);return yield T._updateCurrentUser(Re.user),Re}),Hr.apply(this,arguments)}function Nc(){return Nc=(0,c.Z)(function*(y,m,g){var w;const T=bn(y),O={requestType:"EMAIL_SIGNIN",email:m,clientType:"CLIENT_TYPE_WEB"};function j(ee,Re){le(Re.handleCodeInApp,T,"argument-error"),Re&&Ks(T,ee,Re)}if(null!==(w=T._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ee=yield Qe(T,O,"getOobCode",!0);j(ee,g),yield Fi(T,ee)}else j(O,g),yield Fi(T,O).catch(function(){var ee=(0,c.Z)(function*(Re){if("auth/missing-recaptcha-token"!==Re.code)return Promise.reject(Re);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const We=yield Qe(T,O,"getOobCode",!0);j(We,g),yield Fi(T,We)}});return function(Re){return ee.apply(this,arguments)}}())}),Nc.apply(this,arguments)}function Ha(){return(Ha=(0,c.Z)(function*(y,m,g){const w=(0,L.m9)(y),T=ah.credentialWithLink(m,g||Zt());return le(T._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Sl(w,T)})).apply(this,arguments)}function Lc(){return(Lc=(0,c.Z)(function*(y,m){return De(y,"POST","/v1/accounts:createAuthUri",Ae(y,m))})).apply(this,arguments)}function Bc(){return Bc=(0,c.Z)(function*(y,m){const w={identifier:m,continueUri:ht()?Zt():"http://localhost"},{signinMethods:T}=yield function $d(y,m){return Lc.apply(this,arguments)}((0,L.m9)(y),w);return T||[]}),Bc.apply(this,arguments)}function kl(){return kl=(0,c.Z)(function*(y,m){const g=(0,L.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};m&&Ks(g.auth,T,m);const{email:O}=yield function Vd(y,m){return Na.apply(this,arguments)}(g.auth,T);O!==y.email&&(yield y.reload())}),kl.apply(this,arguments)}function Rl(){return Rl=(0,c.Z)(function*(y,m,g){const w=(0,L.m9)(y),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:m};g&&Ks(w.auth,O,g);const{email:j}=yield function Tr(y,m){return pr.apply(this,arguments)}(w.auth,O);j!==y.email&&(yield y.reload())}),Rl.apply(this,arguments)}function Uc(){return(Uc=(0,c.Z)(function*(y,m){return De(y,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Hc(){return Hc=(0,c.Z)(function*(y,{displayName:m,photoURL:g}){if(void 0===m&&void 0===g)return;const w=(0,L.m9)(y),O={idToken:yield w.getIdToken(),displayName:m,photoUrl:g,returnSecureToken:!0},j=yield ct(w,function vh(y,m){return Uc.apply(this,arguments)}(w.auth,O));w.displayName=j.displayName||null,w.photoURL=j.photoUrl||null;const ee=w.providerData.find(({providerId:Re})=>"password"===Re);ee&&(ee.displayName=w.displayName,ee.photoURL=w.photoURL),yield w._updateTokensIfNecessary(j)}),Hc.apply(this,arguments)}function Un(y,m,g){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,c.Z)(function*(y,m,g){const{auth:w}=y,O={idToken:yield y.getIdToken(),returnSecureToken:!0};m&&(O.email=m),g&&(O.password=g);const j=yield ct(y,Fa(w,O));yield y._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class Is{constructor(m,g,w={}){this.isNewUser=m,this.providerId=g,this.profile=w}}class Pm extends Is{constructor(m,g,w,T){super(m,g,w),this.username=T}}class yh extends Is{constructor(m,g){super(m,"facebook.com",g)}}class Jg extends Pm{constructor(m,g){super(m,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class zc extends Is{constructor(m,g){super(m,"google.com",g)}}class qd extends Pm{constructor(m,g,w){super(m,"twitter.com",g,w)}}function Yd(y){const{user:m,_tokenResponse:g}=y;return m.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function Om(y){var m,g;if(!y)return null;const{providerId:w}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},O=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const j=null===(g=null===(m=ln(y.idToken))||void 0===m?void 0:m.firebase)||void 0===g?void 0:g.sign_in_provider;if(j)return new Is(O,"anonymous"!==j&&"custom"!==j?j:null)}if(!w)return null;switch(w){case"facebook.com":return new yh(O,T);case"github.com":return new Jg(O,T);case"google.com":return new zc(O,T);case"twitter.com":return new qd(O,T,y.screenName||null);case"custom":case"anonymous":return new Is(O,null);default:return new Is(O,w,T)}}(g)}class Qs{constructor(m,g,w){this.type=m,this.credential=g,this.auth=w}static _fromIdtoken(m,g){return new Qs("enroll",m,g)}static _fromMfaPendingCredential(m){return new Qs("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var g,w;if(m?.multiFactorSession){if(null!==(g=m.multiFactorSession)&&void 0!==g&&g.pendingCredential)return Qs._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(w=m.multiFactorSession)&&void 0!==w&&w.idToken)return Qs._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Xs{constructor(m,g,w){this.session=m,this.hints=g,this.signInResolver=w}static _fromError(m,g){const w=bn(m),T=g.customData._serverResponse,O=(T.mfaInfo||[]).map(ee=>Dl._fromServerResponse(w,ee));le(T.mfaPendingCredential,w,"internal-error");const j=Qs._fromMfaPendingCredential(T.mfaPendingCredential);return new Xs(j,O,function(){var ee=(0,c.Z)(function*(Re){const We=yield Re._process(w,j);delete T.mfaInfo,delete T.mfaPendingCredential;const st=Object.assign(Object.assign({},T),{idToken:We.idToken,refreshToken:We.refreshToken});switch(g.operationType){case"signIn":const at=yield nr._fromIdTokenResponse(w,g.operationType,st);return yield w._updateCurrentUser(at.user),at;case"reauthenticate":return le(g.user,w,"internal-error"),nr._forOperation(g.user,g.operationType,st);default:Ie(w,"internal-error")}});return function(Re){return ee.apply(this,arguments)}}())}resolveSignIn(m){var g=this;return(0,c.Z)(function*(){return g.signInResolver(m)})()}}class ta{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>Dl._fromServerResponse(m.auth,w)))})}static _fromUser(m){return new ta(m)}getSession(){var m=this;return(0,c.Z)(function*(){return Qs._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,g){var w=this;return(0,c.Z)(function*(){const T=m,O=yield w.getSession(),j=yield ct(w.user,T._process(w.user.auth,O,g));return yield w.user._updateTokensIfNecessary(j),w.user.reload()})()}unenroll(m){var g=this;return(0,c.Z)(function*(){const w="string"==typeof m?m:m.uid,T=yield g.user.getIdToken();try{const O=yield ct(g.user,function $c(y,m){return De(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Ae(y,m))}(g.user.auth,{idToken:T,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:j})=>j!==w),yield g.user._updateTokensIfNecessary(O),yield g.user.reload()}catch(O){throw O}})()}}const Ss=new WeakMap,na="__sak";class Wc{constructor(m,g){this.storageRetriever=m,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(na,"1"),this.storage.removeItem(na),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,g){return this.storage.setItem(m,JSON.stringify(g)),Promise.resolve()}_get(m){const g=this.storage.getItem(m);return Promise.resolve(g?JSON.parse(g):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const ia=(()=>{class y extends Wc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Fl(){const y=(0,L.z$)();return re(y)||vn(y)}()&&function vl(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Ao(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const T=this.storage.getItem(w),O=this.localCache[w];T!==O&&g(w,O,T)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ee,Re,We)=>{this.notifyListeners(ee,We)});const T=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ee=this.storage.getItem(T);if(g.newValue!==ee)null!==g.newValue?this.storage.setItem(T,g.newValue):this.storage.removeItem(T);else if(this.localCache[T]===g.newValue&&!w)return}const O=()=>{const ee=this.storage.getItem(T);!w&&this.localCache[T]===ee||this.notifyListeners(T,ee)},j=this.storage.getItem(T);!function ao(){return(0,L.w1)()&&10===document.documentMode}()||j===g.newValue||g.newValue===g.oldValue?O():setTimeout(O,10)}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var T=()=>super._set,O=this;return(0,c.Z)(function*(){yield T().call(O,g,w),O.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,T=this;return(0,c.Z)(function*(){const O=yield w().call(T,g);return T.localCache[g]=JSON.stringify(O),O})()}_remove(g){var w=()=>super._remove,T=this;return(0,c.Z)(function*(){yield w().call(T,g),delete T.localCache[g]})()}}return y.type="LOCAL",y})(),rs=(()=>{class y extends Wc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let $a=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(O=>O.isListeningto(g));if(w)return w;const T=new y(g);return this.receivers.push(T),T}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,c.Z)(function*(){const T=g,{eventId:O,eventType:j,data:ee}=T.data,Re=w.handlersMap[j];if(!Re?.size)return;T.ports[0].postMessage({status:"ack",eventId:O,eventType:j});const We=Array.from(Re).map(function(){var at=(0,c.Z)(function*(zn){return zn(T.origin,ee)});return function(zn){return at.apply(this,arguments)}}()),st=yield function Qd(y){return Promise.all(y.map(function(){var m=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return m.apply(this,arguments)}}()))}(We);T.ports[0].postMessage({status:"done",eventId:O,eventType:j,response:st})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Wa(y="",m=10){let g="";for(let w=0;w<m;w++)g+=Math.floor(10*Math.random());return y+g}class Ch{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,g,w=50){var T=this;return(0,c.Z)(function*(){const O=typeof MessageChannel<"u"?new MessageChannel:null;if(!O)throw new Error("connection_unavailable");let j,ee;return new Promise((Re,We)=>{const st=Wa("",20);O.port1.start();const at=setTimeout(()=>{We(new Error("unsupported_event"))},w);ee={messageChannel:O,onMessage(zn){const us=zn;if(us.data.eventId===st)switch(us.data.status){case"ack":clearTimeout(at),j=setTimeout(()=>{We(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Re(us.data.response);break;default:clearTimeout(at),clearTimeout(j),We(new Error("invalid_response"))}}},T.handlers.add(ee),O.port1.addEventListener("message",ee.onMessage),T.target.postMessage({eventType:m,eventId:st,data:g},[O.port2])}).finally(()=>{ee&&T.removeMessageHandler(ee)})})()}}function En(){return window}function Yc(){return typeof En().WorkerGlobalScope<"u"&&"function"==typeof En().importScripts}function Kc(){return(Kc=(0,c.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ra="firebaseLocalStorageDb",ai=1,Jd="firebaseLocalStorage",Nl="fbase_key";class Ll{constructor(m){this.request=m}toPromise(){return new Promise((m,g)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function os(y,m){return y.transaction([Jd],m?"readwrite":"readonly").objectStore(Jd)}function Qc(){const y=indexedDB.open(ra,ai);return new Promise((m,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Jd,{keyPath:Nl})}catch(T){g(T)}}),y.addEventListener("success",(0,c.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Jd)?m(w):(w.close(),yield function Lm(){const y=indexedDB.deleteDatabase(ra);return new Ll(y).toPromise()}(),m(yield Qc()))}))})}function oa(y,m,g){return eu.apply(this,arguments)}function eu(){return(eu=(0,c.Z)(function*(y,m,g){const w=os(y,!0).put({[Nl]:m,value:g});return new Ll(w).toPromise()})).apply(this,arguments)}function qa(){return(qa=(0,c.Z)(function*(y,m){const g=os(y,!1).get(m),w=yield new Ll(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Ds(y,m){const g=os(y,!0).delete(m);return new Ll(g).toPromise()}const aa=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Qc()),g.db})()}_withRetries(g){var w=this;return(0,c.Z)(function*(){let T=0;for(;;)try{const O=yield w._openDb();return yield g(O)}catch(O){if(T++>3)throw O;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Yc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=$a._getInstance(function Di(){return Yc()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,c.Z)(function*(T,O){return{keyProcessed:(yield g._poll()).includes(O.key)}});return function(T,O){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,c.Z)(function*(T,O){return["keyChanged"]});return function(T,O){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var w,T;if(g.activeServiceWorker=yield function Xd(){return Kc.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Ch(g.activeServiceWorker);const O=yield g.sender._send("ping",{},800);O&&null!==(w=O[0])&&void 0!==w&&w.fulfilled&&null!==(T=O[0])&&void 0!==T&&T.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,c.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function Zc(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Qc();return yield oa(g,na,"1"),yield Ds(g,na),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,c.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var T=this;return(0,c.Z)(function*(){return T._withPendingWrite((0,c.Z)(function*(){return yield T._withRetries(O=>oa(O,g,w)),T.localCache[g]=w,T.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,c.Z)(function*(){const T=yield w._withRetries(O=>function Bl(y,m){return qa.apply(this,arguments)}(O,g));return w.localCache[g]=T,T})()}_remove(g){var w=this;return(0,c.Z)(function*(){return w._withPendingWrite((0,c.Z)(function*(){return yield w._withRetries(T=>Ds(T,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const w=yield g._withRetries(j=>{const ee=os(j,!1).getAll();return new Ll(ee).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const T=[],O=new Set;for(const{fbase_key:j,value:ee}of w)O.add(j),JSON.stringify(g.localCache[j])!==JSON.stringify(ee)&&(g.notifyListeners(j,ee),T.push(j));for(const j of Object.keys(g.localCache))g.localCache[j]&&!O.has(j)&&(g.notifyListeners(j,null),T.push(j));return T})()}notifyListeners(g,w){this.localCache[g]=w;const T=this.listeners[g];if(T)for(const O of Array.from(T))O(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),Ul=1e12;class tu{constructor(m){this.auth=m,this.counter=Ul,this._widgets=new Map}render(m,g){const w=this.counter;return this._widgets.set(w,new nu(m,this.auth.name,g||{})),this.counter++,w}reset(m){var g;const w=m||Ul;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(m){var g;return(null===(g=this._widgets.get(m||Ul))||void 0===g?void 0:g.getResponse())||""}execute(m){var g=this;return(0,c.Z)(function*(){var w;return null===(w=g._widgets.get(m||Ul))||void 0===w||w.execute(),""})()}}class nu{constructor(m,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof m?document.getElementById(m):m;le(T,"argument-error",{appName:g}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Xy(y){const m=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)m.push(g.charAt(Math.floor(Math.random()*g.length)));return m.join("")}(50);const{callback:m,"expired-callback":g}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Um=mi("rcb"),Jy=new Do(3e4,6e4);class eb{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=En().grecaptcha)||void 0===m||!m.render)}load(m,g=""){return le(function Hm(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),m,"argument-error"),this.shouldResolveImmediately(g)&&qt(En().grecaptcha)?Promise.resolve(En().grecaptcha):new Promise((w,T)=>{const O=En().setTimeout(()=>{T(Se(m,"network-request-failed"))},Jy.get());En()[Um]=()=>{En().clearTimeout(O),delete En()[Um];const ee=En().grecaptcha;if(!ee||!qt(ee))return void T(Se(m,"internal-error"));const Re=ee.render;ee.render=(We,st)=>{const at=Re(We,st);return this.counter++,at},this.hostLanguage=g,w(ee)},Pi(`https://www.google.com/recaptcha/api.js??${(0,L.xO)({onload:Um,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(O),T(Se(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var g;return!(null===(g=En().grecaptcha)||void 0===g||!g.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Ti{load(m){return(0,c.Z)(function*(){return new tu(m)})()}clearedOneInstance(){}}const Hl="recaptcha",Xc={theme:"light",type:"image"};class iu{constructor(m,g=Object.assign({},Xc),w){this.parameters=g,this.type=Hl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=bn(w),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof m?document.getElementById(m):m;le(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Ti:new eb,this.validateStartingState()}verify(){var m=this;return(0,c.Z)(function*(){m.assertNotDestroyed();const g=yield m.render(),w=m.getAssertedRecaptcha();return w.getResponse(g)||new Promise(O=>{const j=ee=>{ee&&(m.tokenChangeListeners.delete(j),O(ee))};m.tokenChangeListeners.add(j),m.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof m)m(g);else if("string"==typeof m){const w=En()[m];"function"==typeof w&&w(g)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,c.Z)(function*(){if(yield m.init(),!m.widgetId){let g=m.container;if(!m.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}m.widgetId=m.getAssertedRecaptcha().render(g,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,c.Z)(function*(){le(ht()&&!Yc(),m.auth,"internal-error"),yield function uo(){let y=null;return new Promise(m=>{"complete"!==document.readyState?(y=()=>m(),window.addEventListener("load",y)):m()}).catch(m=>{throw y&&window.removeEventListener("load",y),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const g=yield function oe(y){return Le.apply(this,arguments)}(m.auth);le(g,m.auth,"internal-error"),m.parameters.sitekey=g})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Po{constructor(m,g){this.verificationId=m,this.onConfirmation=g}confirm(m){const g=Qn._fromVerification(this.verificationId,m);return this.onConfirmation(g)}}function da(){return(da=(0,c.Z)(function*(y,m,g){const w=bn(y),T=yield zl(w,m,(0,L.m9)(g));return new Po(T,O=>Sl(w,O))})).apply(this,arguments)}function ed(){return(ed=(0,c.Z)(function*(y,m,g){const w=(0,L.m9)(y);yield es(!1,w,"phone");const T=yield zl(w.auth,m,(0,L.m9)(g));return new Po(T,O=>hh(w,O))})).apply(this,arguments)}function nd(){return(nd=(0,c.Z)(function*(y,m,g){const w=(0,L.m9)(y),T=yield zl(w.auth,m,(0,L.m9)(g));return new Po(T,O=>fh(w,O))})).apply(this,arguments)}function zl(y,m,g){return vr.apply(this,arguments)}function vr(){return vr=(0,c.Z)(function*(y,m,g){var w;const T=yield g.verify();try{let O;if(le("string"==typeof T,y,"argument-error"),le(g.type===Hl,y,"argument-error"),O="string"==typeof m?{phoneNumber:m}:m,"session"in O){const j=O.session;if("phoneNumber"in O)return le("enroll"===j.type,y,"internal-error"),(yield function Ga(y,m){return De(y,"POST","/v2/accounts/mfaEnrollment:start",Ae(y,m))}(y,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{le("signin"===j.type,y,"internal-error");const ee=(null===(w=O.multiFactorHint)||void 0===w?void 0:w.uid)||O.multiFactorUid;return le(ee,y,"missing-multi-factor-info"),(yield function la(y,m){return De(y,"POST","/v2/accounts/mfaSignIn:start",Ae(y,m))}(y,{mfaPendingCredential:j.credential,mfaEnrollmentId:ee,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield function qg(y,m){return Hd.apply(this,arguments)}(y,{phoneNumber:O.phoneNumber,recaptchaToken:T});return j}}finally{g._reset()}}),vr.apply(this,arguments)}function yr(){return(yr=(0,c.Z)(function*(y,m){yield Ii((0,L.m9)(y),m)})).apply(this,arguments)}let et=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=bn(g)}verifyPhoneNumber(g,w){return zl(this.auth,g,(0,L.m9)(w))}static credential(g,w){return Qn._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:T}=g;return w&&T?Qn._fromTokenResponse(w,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Tt(y,m){return m?On(m):(le(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Fn extends ko{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return co(m,this._buildIdpRequest())}_linkToIdToken(m,g){return co(m,this._buildIdpRequest(g))}_getReauthenticationResolver(m){return co(m,this._buildIdpRequest())}_buildIdpRequest(m){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(g.idToken=m),g}}function Sh(y){return Il(y.auth,new Fn(y),y.bypassAuthState)}function jl(y){const{auth:m,user:g}=y;return le(g,m,"internal-error"),Es(g,new Fn(y),y.bypassAuthState)}function Xn(y){return id.apply(this,arguments)}function id(){return(id=(0,c.Z)(function*(y){const{auth:m,user:g}=y;return le(g,m,"internal-error"),Ii(g,new Fn(y),y.bypassAuthState)})).apply(this,arguments)}class ru{constructor(m,g,w,T,O=!1){this.auth=m,this.resolver=w,this.user=T,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var m=this;return new Promise(function(){var g=(0,c.Z)(function*(w,T){m.pendingPromise={resolve:w,reject:T};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(O){m.reject(O)}});return function(w,T){return g.apply(this,arguments)}}())}onAuthEvent(m){var g=this;return(0,c.Z)(function*(){const{urlResponse:w,sessionId:T,postBody:O,tenantId:j,error:ee,type:Re}=m;if(ee)return void g.reject(ee);const We={auth:g.auth,requestUri:w,sessionId:T,tenantId:j||void 0,postBody:O||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Re)(We))}catch(st){g.reject(st)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Sh;case"linkViaPopup":case"linkViaRedirect":return Xn;case"reauthViaPopup":case"reauthViaRedirect":return jl;default:Ie(this.auth,"internal-error")}}resolve(m){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){ot(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jr=new Do(2e3,1e4);function Ka(){return(Ka=(0,c.Z)(function*(y,m,g){const w=bn(y);Be(y,m,Xo);const T=Tt(w,g);return new rd(w,"signInViaPopup",m,T).executeNotNull()})).apply(this,arguments)}function ss(){return(ss=(0,c.Z)(function*(y,m,g){const w=(0,L.m9)(y);Be(w.auth,m,Xo);const T=Tt(w.auth,g);return new rd(w.auth,"reauthViaPopup",m,T,w).executeNotNull()})).apply(this,arguments)}function ou(){return(ou=(0,c.Z)(function*(y,m,g){const w=(0,L.m9)(y);Be(w.auth,m,Xo);const T=Tt(w.auth,g);return new rd(w.auth,"linkViaPopup",m,T,w).executeNotNull()})).apply(this,arguments)}let rd=(()=>{class y extends ru{constructor(g,w,T,O,j){super(g,w,O,j),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const w=yield g.execute();return le(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,c.Z)(function*(){ot(1===g.filter.length,"Popup operations only handle one event");const w=Wa();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(T=>{g.reject(T)}),g.resolver._isIframeWebStorageSupported(g.auth,T=>{T||g.reject(Se(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,T;this.pollId=null!==(T=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,jr.get())};g()}}return y.currentPopupAction=null,y})();const as="pendingRedirect",Ts=new Map;class Hn extends ru{constructor(m,g,w=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var m=()=>super.execute,g=this;return(0,c.Z)(function*(){let w=Ts.get(g.auth._key());if(!w){try{const O=(yield function su(y,m){return od.apply(this,arguments)}(g.resolver,g.auth))?yield m().call(g):null;w=()=>Promise.resolve(O)}catch(T){w=()=>Promise.reject(T)}Ts.set(g.auth._key(),w)}return g.bypassAuthState||Ts.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(m){var g=()=>super.onAuthEvent,w=this;return(0,c.Z)(function*(){if("signInViaRedirect"===m.type)return g().call(w,m);if("unknown"!==m.type){if(m.eventId){const T=yield w.auth._redirectUserForId(m.eventId);if(T)return w.user=T,g().call(w,m);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function od(){return(od=(0,c.Z)(function*(y,m){const g=Fo(m),w=$l(y);if(!(yield w._isAvailable()))return!1;const T="true"===(yield w._get(g));return yield w._remove(g),T})).apply(this,arguments)}function ua(y,m){return ha.apply(this,arguments)}function ha(){return(ha=(0,c.Z)(function*(y,m){return $l(y)._set(Fo(m),"true")})).apply(this,arguments)}function Dh(y,m){Ts.set(y._key(),m)}function $l(y){return On(y._redirectPersistence)}function Fo(y){return G(as,y.config.apiKey,y.name)}function Th(y,m,g){return function jm(y,m,g){return br.apply(this,arguments)}(y,m,g)}function br(){return(br=(0,c.Z)(function*(y,m,g){const w=bn(y);Be(y,m,Xo),yield w._initializationPromise;const T=Tt(w,g);return yield ua(T,w),T._openRedirect(w,m,"signInViaRedirect")})).apply(this,arguments)}function Za(y,m,g){return function ho(y,m,g){return Gr.apply(this,arguments)}(y,m,g)}function Gr(){return(Gr=(0,c.Z)(function*(y,m,g){const w=(0,L.m9)(y);Be(w.auth,m,Xo),yield w.auth._initializationPromise;const T=Tt(w.auth,g);yield ua(T,w.auth);const O=yield ei(w);return T._openRedirect(w.auth,m,"reauthViaRedirect",O)})).apply(this,arguments)}function li(y,m,g){return function au(y,m,g){return ad.apply(this,arguments)}(y,m,g)}function ad(){return(ad=(0,c.Z)(function*(y,m,g){const w=(0,L.m9)(y);Be(w.auth,m,Xo),yield w.auth._initializationPromise;const T=Tt(w.auth,g);yield es(!1,w,m.providerId),yield ua(T,w.auth);const O=yield ei(w);return T._openRedirect(w.auth,m,"linkViaRedirect",O)})).apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(y,m){return yield bn(y)._initializationPromise,rr(y,m,!1)})).apply(this,arguments)}function rr(y,m){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,c.Z)(function*(y,m,g=!1){const w=bn(y),T=Tt(w,m),j=yield new Hn(w,T,g).execute();return j&&!g&&(delete j.user._redirectEventId,yield w._persistUserIfCurrent(j.user),yield w._setRedirectUser(null,m)),j})).apply(this,arguments)}function ei(y){return fa.apply(this,arguments)}function fa(){return(fa=(0,c.Z)(function*(y){const m=Wa(`${y.uid}:::`);return y._redirectEventId=m,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),m})).apply(this,arguments)}class Qa{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(m,w)&&(g=!0,this.sendToConsumer(m,w),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ti(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return No(y);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=m,g=!0)),g}sendToConsumer(m,g){var w;if(m.error&&!No(m)){const T=(null===(w=m.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Se(this.auth,T))}else g.onAuthEvent(m)}isEventForConsumer(m,g){const w=null===g.eventId||!!m.eventId&&m.eventId===g.eventId;return g.filter.includes(m.type)&&w}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(fo(m))}saveEventToCache(m){this.cachedEventUids.add(fo(m)),this.lastProcessedEventTime=Date.now()}}function fo(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(m=>m).join("-")}function No({type:y,error:m}){return"unknown"===y&&"auth/no-auth-event"===m?.code}function Ms(y){return Gm.apply(this,arguments)}function Gm(){return(Gm=(0,c.Z)(function*(y,m={}){return De(y,"GET","/v1/projects",m)})).apply(this,arguments)}const Xa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ld=/^https?/;function ls(){return(ls=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:m}=yield Ms(y);for(const g of m)try{if(Wl(g))return}catch{}Ie(y,"unauthorized-domain")})).apply(this,arguments)}function Wl(y){const m=Zt(),{protocol:g,hostname:w}=new URL(m);if(y.startsWith("chrome-extension://")){const j=new URL(y);return""===j.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===g&&j.hostname===w}if(!ld.test(g))return!1;if(Xa.test(y))return w===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(w)}const ql=new Do(3e4,6e4);function It(){const y=En().___jsl;if(y?.H)for(const m of Object.keys(y.H))if(y.H[m].r=y.H[m].r||[],y.H[m].L=y.H[m].L||[],y.H[m].r=[...y.H[m].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let dd=null;const $m=new Do(5e3,15e3),Mh="__/auth/iframe",po="emulator/auth/iframe",Ah={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rh(y){const m=y.config;le(m.authDomain,y,"auth-domain-config-required");const g=m.emulator?he(m,po):`https://${y.config.authDomain}/${Mh}`,w={apiKey:m.apiKey,appName:y.name,v:ce.SDK_VERSION},T=kh.get(y.config.apiHost);T&&(w.eid=T);const O=y._getFrameworks();return O.length&&(w.fw=O.join(",")),`${g}?${(0,L.xO)(w).slice(1)}`}function I(){return I=(0,c.Z)(function*(y){const m=yield function $r(y){return dd=dd||function mo(y){return new Promise((m,g)=>{var w,T,O;function j(){It(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{It(),g(Se(y,"network-request-failed"))},timeout:ql.get()})}if(null!==(T=null===(w=En().gapi)||void 0===w?void 0:w.iframes)&&void 0!==T&&T.Iframe)m(gapi.iframes.getContext());else{if(null===(O=En().gapi)||void 0===O||!O.load){const ee=mi("iframefcb");return En()[ee]=()=>{gapi.load?j():g(Se(y,"network-request-failed"))},Pi(`https://apis.google.com/js/api.js?onload=${ee}`).catch(Re=>g(Re))}j()}}).catch(m=>{throw dd=null,m})}(y),dd}(y),g=En().gapi;return le(g,y,"internal-error"),m.open({where:document.body,url:Rh(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ah,dontclear:!0},w=>new Promise(function(){var T=(0,c.Z)(function*(O,j){yield w.restyle({setHideOnLeave:!1});const ee=Se(y,"network-request-failed"),Re=En().setTimeout(()=>{j(ee)},$m.get());function We(){En().clearTimeout(Re),O(w)}w.ping(We).then(We,()=>{j(ee)})});return function(O,j){return T.apply(this,arguments)}}()))}),I.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},B=500,q=600,X="_blank",se="http://localhost";class Ye{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Ot="__/auth/handler",Pt="emulator/auth/handler",or=encodeURIComponent("fac");function In(y,m,g,w,T,O){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,c.Z)(function*(y,m,g,w,T,O){le(y.config.authDomain,y,"auth-domain-config-required"),le(y.config.apiKey,y,"invalid-api-key");const j={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:ce.SDK_VERSION,eventId:T};if(m instanceof Xo){m.setDefaultLanguage(y.languageCode),j.providerId=m.providerId||"",(0,L.xb)(m.getCustomParameters())||(j.customParameters=JSON.stringify(m.getCustomParameters()));for(const[st,at]of Object.entries(O||{}))j[st]=at}if(m instanceof Ro){const st=m.getScopes().filter(at=>""!==at);st.length>0&&(j.scopes=st.join(","))}y.tenantId&&(j.tid=y.tenantId);const ee=j;for(const st of Object.keys(ee))void 0===ee[st]&&delete ee[st];const Re=yield y._getAppCheckToken(),We=Re?`#${or}=${encodeURIComponent(Re)}`:"";return`${function As({config:y}){return y.emulator?he(y,Pt):`https://${y.authDomain}/${Ot}`}(y)}?${(0,L.xO)(ee).slice(1)}${We}`})).apply(this,arguments)}const ma="webStorageSupport",go=class Vi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rs,this._completeRedirectFn=rr,this._overrideRedirectResult=Dh}_openPopup(m,g,w,T){var O=this;return(0,c.Z)(function*(){var j;ot(null===(j=O.eventManagers[m._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ee=yield In(m,g,w,Zt(),T);return function $e(y,m,g,w=B,T=q){const O=Math.max((window.screen.availHeight-T)/2,0).toString(),j=Math.max((window.screen.availWidth-w)/2,0).toString();let ee="";const Re=Object.assign(Object.assign({},M),{width:w.toString(),height:T.toString(),top:O,left:j}),We=(0,L.z$)().toLowerCase();g&&(ee=Ue(We)?X:g),we(We)&&(m=m||se,Re.scrollbars="yes");const st=Object.entries(Re).reduce((zn,[us,xu])=>`${zn}${us}=${xu},`,"");if(function tr(y=(0,L.z$)()){var m;return vn(y)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(We)&&"_self"!==ee)return function ft(y,m){const g=document.createElement("a");g.href=y,g.target=m;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(m||"",ee),new Ye(null);const at=window.open(m||"",ee,st);le(at,y,"popup-blocked");try{at.focus()}catch{}return new Ye(at)}(m,ee,Wa())})()}_openRedirect(m,g,w,T){var O=this;return(0,c.Z)(function*(){return yield O._originValidation(m),function Eh(y){En().location.href=y}(yield In(m,g,w,Zt(),T)),new Promise(()=>{})})()}_initialize(m){const g=m._key();if(this.eventManagers[g]){const{manager:T,promise:O}=this.eventManagers[g];return T?Promise.resolve(T):(ot(O,"If manager is not set, promise should be"),O)}const w=this.initAndGetManager(m);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(m){var g=this;return(0,c.Z)(function*(){const w=yield function C(y){return I.apply(this,arguments)}(m),T=new Qa(m);return w.register("authEvent",O=>(le(O?.authEvent,m,"invalid-auth-event"),{status:T.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[m._key()]={manager:T},g.iframes[m._key()]=w,T})()}_isIframeWebStorageSupported(m,g){this.iframes[m._key()].send(ma,{type:ma},T=>{var O;const j=null===(O=T?.[0])||void 0===O?void 0:O[ma];void 0!==j&&g(!!j),Ie(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function cd(y){return ls.apply(this,arguments)}(m)),this.originValidationPromises[g]}get _shouldInitProactively(){return Ao()||re()||vn()}};class ks{constructor(m){this.factorId=m}_process(m,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(m,g.credential,w);case"signin":return this._finalizeSignIn(m,g.credential);default:return At("unexpected MultiFactorSessionType")}}}class cu extends ks{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new cu(m)}_finalizeEnroll(m,g,w){return function Zd(y,m){return De(y,"POST","/v2/accounts/mfaEnrollment:finalize",Ae(y,m))}(m,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,g){return function Vm(y,m){return De(y,"POST","/v2/accounts/mfaSignIn:finalize",Ae(y,m))}(m,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let du=(()=>{class y{constructor(){}static assertion(g){return cu._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var qm="@firebase/auth";class ud{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const g=this.auth.onIdTokenChanged(w=>{m(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(m,g),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const g=this.internalListeners.get(m);g&&(this.internalListeners.delete(m),g(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Kl(){return window}(0,L.Pz)("authIdTokenMaxAge"),function n_(y){(0,ce._registerComponent)(new Ce.wA("auth",(m,{options:g})=>{const w=m.getProvider("app").getImmediate(),T=m.getProvider("heartbeat"),O=m.getProvider("app-check-internal"),{apiKey:j,authDomain:ee}=w.options;le(j&&!j.includes(":"),"invalid-api-key",{appName:w.name});const Re={apiKey:j,authDomain:ee,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pe(y)},We=new Br(w,T,O,Re);return function Zn(y,m){const g=m?.persistence||[],w=(Array.isArray(g)?g:[g]).map(On);m?.errorMap&&y._updateErrorMap(m.errorMap),y._initializeWithPersistence(w,m?.popupRedirectResolver)}(We,g),We},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,g,w)=>{m.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Ce.wA("auth-internal",m=>{const g=bn(m.getProvider("auth").getImmediate());return new ud(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(qm,"0.23.2",function Ym(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ce.registerVersion)(qm,"0.23.2","esm2017")}("Browser");const nb=2e3;function hu(){return hu=(0,c.Z)(function*(y,m,g){var w;const{BuildInfo:T}=Kl();ot(m.sessionId,"AuthEvent did not contain a session ID");const O=yield function el(y){return fu.apply(this,arguments)}(m.sessionId),j={};return vn()?j.ibi=T.packageName:sn()?j.apn=T.packageName:Ie(y,"operation-not-supported-in-this-environment"),T.displayName&&(j.appDisplayName=T.displayName),j.sessionId=O,In(y,g,m.type,void 0,null!==(w=m.eventId)&&void 0!==w?w:void 0,j)}),hu.apply(this,arguments)}function Ja(){return(Ja=(0,c.Z)(function*(y){const{BuildInfo:m}=Kl(),g={};vn()?g.iosBundleId=m.packageName:sn()?g.androidPackageName=m.packageName:Ie(y,"operation-not-supported-in-this-environment"),yield Ms(y,g)})).apply(this,arguments)}function hd(){return(hd=(0,c.Z)(function*(y,m,g){const{cordova:w}=Kl();let T=()=>{};try{yield new Promise((O,j)=>{let ee=null;function Re(){var at;O();const zn=null===(at=w.plugins.browsertab)||void 0===at?void 0:at.close;"function"==typeof zn&&zn(),"function"==typeof g?.close&&g.close()}function We(){ee||(ee=window.setTimeout(()=>{j(Se(y,"redirect-cancelled-by-user"))},nb))}function st(){"visible"===document?.visibilityState&&We()}m.addPassiveListener(Re),document.addEventListener("resume",We,!1),sn()&&document.addEventListener("visibilitychange",st,!1),T=()=>{m.removePassiveListener(Re),document.removeEventListener("resume",We,!1),document.removeEventListener("visibilitychange",st,!1),ee&&window.clearTimeout(ee)}})}finally{T()}})).apply(this,arguments)}function fu(){return(fu=(0,c.Z)(function*(y){const m=function o_(y){if(ot(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const m=new ArrayBuffer(y.length),g=new Uint8Array(m);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(y),g=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(g)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const mu=20;class Fh extends Qa{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(m)),super.onEvent(m)}initialized(){var m=this;return(0,c.Z)(function*(){yield m.initPromise})()}}function Nh(y){return pu.apply(this,arguments)}function pu(){return(pu=(0,c.Z)(function*(y){const m=yield Lh()._get(Xl(y));return m&&(yield Lh()._remove(Xl(y))),m})).apply(this,arguments)}function Zm(){const y=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<mu;g++){const w=Math.floor(Math.random()*m.length);y.push(m.charAt(w))}return y.join("")}function Lh(){return On(ia)}function Xl(y){return G("authEvent",y.config.apiKey,y.name)}function cs(y){if(!y?.includes("?"))return{};const[m,...g]=y.split("?");return(0,L.zd)(g.join("?"))}const _u=class gu{constructor(){this._redirectPersistence=rs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=rr,this._overrideRedirectResult=Dh}_initialize(m){var g=this;return(0,c.Z)(function*(){const w=m._key();let T=g.eventManagers.get(w);return T||(T=new Fh(m),g.eventManagers.set(w,T),g.attachCallbackListeners(m,T)),T})()}_openPopup(m){Ie(m,"operation-not-supported-in-this-environment")}_openRedirect(m,g,w,T){var O=this;return(0,c.Z)(function*(){!function rb(y){var m,g,w,T,O,j,ee,Re,We,st;const at=Kl();le("function"==typeof(null===(m=at?.universalLinks)||void 0===m?void 0:m.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(typeof(null===(g=at?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(O=null===(T=null===(w=at?.cordova)||void 0===w?void 0:w.plugins)||void 0===T?void 0:T.browsertab)||void 0===O?void 0:O.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(Re=null===(ee=null===(j=at?.cordova)||void 0===j?void 0:j.plugins)||void 0===ee?void 0:ee.browsertab)||void 0===Re?void 0:Re.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(st=null===(We=at?.cordova)||void 0===We?void 0:We.InAppBrowser)||void 0===st?void 0:st.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const j=yield O._initialize(m);yield j.initialized(),j.resetRedirect(),function sd(){Ts.clear()}(),yield O._originValidation(m);const ee=function _a(y,m,g=null){return{type:m,eventId:g,urlResponse:null,sessionId:Zm(),postBody:null,tenantId:y.tenantId,error:Se(y,"no-auth-event")}}(m,w,T);yield function s_(y,m){return Lh()._set(Xl(y),m)}(m,ee);const Re=yield function r_(y,m,g){return hu.apply(this,arguments)}(m,ee,g),We=yield function ib(y){const{cordova:m}=Kl();return new Promise(g=>{m.plugins.browsertab.isAvailable(w=>{let T=null;w?m.plugins.browsertab.openUrl(y):T=m.InAppBrowser.open(y,function Xt(y=(0,L.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(T)})})}(Re);return function Zl(y,m,g){return hd.apply(this,arguments)}(m,j,We)})()}_isIframeWebStorageSupported(m,g){throw new Error("Method not implemented.")}_originValidation(m){const g=m._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ph(y){return Ja.apply(this,arguments)}(m)),this.originValidationPromises[g]}attachCallbackListeners(m,g){const{universalLinks:w,handleOpenURL:T,BuildInfo:O}=Kl(),j=setTimeout((0,c.Z)(function*(){yield Nh(m),g.onEvent(Xm())}),500),ee=function(){var st=(0,c.Z)(function*(at){clearTimeout(j);const zn=yield Nh(m);let us=null;zn&&at?.url&&(us=function Ql(y,m){var g,w;const T=function Vh(y){const m=cs(y),g=m.link?decodeURIComponent(m.link):void 0,w=cs(g).link,T=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return cs(T).link||T||w||g||y}(m);if(T.includes("/__/auth/callback")){const O=cs(T),j=O.firebaseError?function Bh(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,ee=null===(w=null===(g=j?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],Re=ee?Se(ee):null;return Re?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(zn,at.url)),g.onEvent(us||Xm())});return function(zn){return st.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ee);const Re=T,We=`${O.packageName.toLowerCase()}://`;Kl().handleOpenURL=function(){var st=(0,c.Z)(function*(at){if(at.toLowerCase().startsWith(We)&&ee({url:at}),"function"==typeof Re)try{Re(at)}catch(zn){console.error(zn)}});return function(at){return st.apply(this,arguments)}}()}};function Xm(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Se("no-auth-event")}}const ep=1e3;function Lo(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function tl(y=(0,L.z$)()){return!("file:"!==Lo()&&"ionic:"!==Lo()&&"capacitor:"!==Lo()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function ab(){try{const y=self.localStorage,m=Wa();if(y)return y.setItem(m,"1"),y.removeItem(m),!function sb(y=(0,L.z$)()){return function fd(){return(0,L.w1)()&&11===document?.documentMode}()||function ob(y=(0,L.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,L.hl)()}catch{return tp()&&(0,L.hl)()}return!1}function tp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function wu(){return(function yu(){return"http:"===Lo()||"https:"===Lo()}()||(0,L.ru)()||tl())&&!function bu(){return(0,L.b$)()||(0,L.UG)()}()&&ab()&&!tp()}function a_(){return tl()&&typeof document<"u"}function md(){return(md=(0,c.Z)(function*(){return!!a_()&&new Promise(y=>{const m=setTimeout(()=>{y(!1)},ep);document.addEventListener("deviceready",()=>{clearTimeout(m),y(!0)})})})).apply(this,arguments)}const Wr={LOCAL:"local",NONE:"none",SESSION:"session"},Jl=le,ip="persistence";function rp(y){return op.apply(this,arguments)}function op(){return(op=(0,c.Z)(function*(y){yield y._initializationPromise;const m=sp(),g=G(ip,y.config.apiKey,y.name);m&&m.setItem(g,y._getPersistence())})).apply(this,arguments)}function sp(){var y;try{return(null===(y=function np(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const ap=le;class Yi{constructor(){this.browserResolver=On(go),this.cordovaResolver=On(_u),this.underlyingResolver=null,this._redirectPersistence=rs,this._completeRedirectFn=rr,this._overrideRedirectResult=Dh}_initialize(m){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,g,w,T){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(m,g,w,T)})()}_openRedirect(m,g,w,T){var O=this;return(0,c.Z)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(m,g,w,T)})()}_isIframeWebStorageSupported(m,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,g)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return a_()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ap(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,c.Z)(function*(){if(m.underlyingResolver)return;const g=yield function l_(){return md.apply(this,arguments)}();m.underlyingResolver=g?m.cordovaResolver:m.browserResolver})()}}function Mr(y){return y.unwrap()}function c_(y){return u_(y)}function u_(y){const{_tokenResponse:m}=y instanceof L.ZR?y.customData:y;if(!m)return null;if(!(y instanceof L.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return et.credentialFromResult(y);const g=m.providerId;if(!g||g===_e.PASSWORD)return null;let w;switch(g){case _e.GOOGLE:w=Cl;break;case _e.FACEBOOK:w=zd;break;case _e.GITHUB:w=lh;break;case _e.TWITTER:w=Ac;break;default:const{oauthIdToken:T,oauthAccessToken:O,oauthTokenSecret:j,pendingToken:ee,nonce:Re}=m;return O||j||T||ee?ee?g.startsWith("saml.")?xs._create(g,ee):Qo._fromParams({providerId:g,signInMethod:g,pendingToken:ee,idToken:T,accessToken:O}):new Ys(g).credential({idToken:T,accessToken:O,rawNonce:Re}):null}return y instanceof L.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Ui(y,m){return m.catch(g=>{throw g instanceof L.ZR&&function d_(y,m){var g;const w=null===(g=m.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===m?.code)m.resolver=new zh(y,function Gc(y,m){var g;const w=(0,L.m9)(y),T=m;return le(m.customData.operationType,w,"argument-error"),le(null===(g=T.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Xs._fromError(w,T)}(y,m));else if(w){const T=u_(m),O=m;T&&(O.credential=T,O.tenantId=w.tenantId||void 0,O.email=w.email||void 0,O.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const T=g.user;return{operationType:g.operationType,credential:c_(g),additionalUserInfo:Yd(g),user:Os.getOrCreate(T)}})}function Uh(y,m){return Hh.apply(this,arguments)}function Hh(){return(Hh=(0,c.Z)(function*(y,m){const g=yield m;return{verificationId:g.verificationId,confirm:w=>Ui(y,g.confirm(w))}})).apply(this,arguments)}class zh{constructor(m,g){this.resolver=g,this.auth=function pd(y){return y.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return Ui(Mr(this.auth),this.resolver.resolveSignIn(m))}}class Os{constructor(m){this._delegate=m,this.multiFactor=function wh(y){const m=(0,L.m9)(y);return Ss.has(m)||Ss.set(m,ta._fromUser(m)),Ss.get(m)}(m)}static getOrCreate(m){return Os.USER_MAP.has(m)||Os.USER_MAP.set(m,new Os(m)),Os.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var g=this;return(0,c.Z)(function*(){return Ui(g.auth,hh(g._delegate,m))})()}linkWithPhoneNumber(m,g){var w=this;return(0,c.Z)(function*(){return Uh(w.auth,function Jc(y,m,g){return ed.apply(this,arguments)}(w._delegate,m,g))})()}linkWithPopup(m){var g=this;return(0,c.Z)(function*(){return Ui(g.auth,function nt(y,m,g){return ou.apply(this,arguments)}(g._delegate,m,Yi))})()}linkWithRedirect(m){var g=this;return(0,c.Z)(function*(){return yield rp(bn(g.auth)),li(g._delegate,m,Yi)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var g=this;return(0,c.Z)(function*(){return Ui(g.auth,fh(g._delegate,m))})()}reauthenticateWithPhoneNumber(m,g){return Uh(this.auth,function td(y,m,g){return nd.apply(this,arguments)}(this._delegate,m,g))}reauthenticateWithPopup(m){return Ui(this.auth,function Gl(y,m,g){return ss.apply(this,arguments)}(this._delegate,m,Yi))}reauthenticateWithRedirect(m){var g=this;return(0,c.Z)(function*(){return yield rp(bn(g.auth)),Za(g._delegate,m,Yi)})()}sendEmailVerification(m){return function Vc(y,m){return kl.apply(this,arguments)}(this._delegate,m)}unlink(m){var g=this;return(0,c.Z)(function*(){return yield function dh(y,m){return ir.apply(this,arguments)}(g._delegate,m),g})()}updateEmail(m){return function qi(y,m){return Un((0,L.m9)(y),m,null)}(this._delegate,m)}updatePassword(m){return function ns(y,m){return Un((0,L.m9)(y),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function pn(y,m){return yr.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function Rm(y,m){return Hc.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,g){return function Wd(y,m,g){return Rl.apply(this,arguments)}(this._delegate,m,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Os.USER_MAP=new WeakMap;const tc=le;let lp=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:T}=g.options;tc(T,"invalid-api-key",{appName:g.name}),tc(T,"invalid-api-key",{appName:g.name});const O=typeof window<"u"?Yi:void 0;this._delegate=w.initialize({options:{persistence:ds(T,g.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Ze),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Os.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function yl(y,m,g){const w=bn(y);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(m),w,"invalid-emulator-scheme");const T=!!g?.disableWarnings,O=mr(m),{host:j,port:ee}=function Wt(y){const m=mr(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(m.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(w);if(T){const O=T[1];return{host:O,port:bl(w.substr(O.length+1))}}{const[O,j]=w.split(":");return{host:O,port:bl(j)}}}(m);w.config.emulator={url:`${O}//${j}${null===ee?"":`:${ee}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:j,port:ee,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Ws(){function y(){const m=document.createElement("p"),g=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function Qg(y,m){return ts.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Ml(this._delegate,g)}confirmPasswordReset(g,w){return function ph(y,m,g){return Fc.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var T=this;return(0,c.Z)(function*(){return Ui(T._delegate,function Zs(y,m,g){return Hr.apply(this,arguments)}(T._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function _h(y,m){return Bc.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Xg(y,m){return"EMAIL_SIGNIN"===Ba.parseLink(m)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){tc(wu(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Jn(y,m){return Bi.apply(this,arguments)}(g._delegate,Yi);return w?Ui(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Jm(y,m){bn(y)._logFramework(m)}(this._delegate,g)}onAuthStateChanged(g,w,T){const{next:O,error:j,complete:ee}=nc(g,w,T);return this._delegate.onAuthStateChanged(O,j,ee)}onIdTokenChanged(g,w,T){const{next:O,error:j,complete:ee}=nc(g,w,T);return this._delegate.onIdTokenChanged(O,j,ee)}sendSignInLinkToEmail(g,w){return function Al(y,m,g){return Nc.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Pc(y,m,g){return _r.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,c.Z)(function*(){let T;switch(function ec(y,m){Jl(Object.values(Wr).includes(m),y,"invalid-persistence-type"),(0,L.b$)()?Jl(m!==Wr.SESSION,y,"unsupported-persistence-type"):(0,L.UG)()?Jl(m===Wr.NONE,y,"unsupported-persistence-type"):tp()?Jl(m===Wr.NONE||m===Wr.LOCAL&&(0,L.hl)(),y,"unsupported-persistence-type"):Jl(m===Wr.NONE||ab(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Wr.SESSION:T=rs;break;case Wr.LOCAL:T=(yield On(aa)._isAvailable())?aa:ia;break;case Wr.NONE:T=fr;break;default:return Ie("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(T)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Ui(this._delegate,function Ni(y){return Va.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Ui(this._delegate,Sl(this._delegate,g))}signInWithCustomToken(g){return Ui(this._delegate,function ge(y,m){return jt.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Ui(this._delegate,function gh(y,m,g){return Sl((0,L.m9)(y),ah.credential(m,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Ui(this._delegate,function _i(y,m,g){return Ha.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Uh(this._delegate,function zm(y,m,g){return da.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,c.Z)(function*(){return tc(wu(),w._delegate,"operation-not-supported-in-this-environment"),Ui(w._delegate,function Ya(y,m,g){return Ka.apply(this,arguments)}(w._delegate,g,Yi))})()}signInWithRedirect(g){var w=this;return(0,c.Z)(function*(){return tc(wu(),w._delegate,"operation-not-supported-in-this-environment"),yield rp(w._delegate),Th(w._delegate,g,Yi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Ur(y,m){return Oo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Wr,y})();function nc(y,m,g){let w=y;"function"!=typeof y&&({next:w,error:m,complete:g}=y);const T=w;return{next:j=>T(j&&Os.getOrCreate(j)),error:m,complete:g}}function ds(y,m){const g=function lb(y,m){const g=sp();if(!g)return[];const w=G(ip,y,m);switch(g.getItem(w)){case Wr.NONE:return[fr];case Wr.LOCAL:return[aa,rs];case Wr.SESSION:return[rs];default:return[]}}(y,m);if(typeof self<"u"&&!g.includes(aa)&&g.push(aa),typeof window<"u")for(const w of[ia,rs])g.includes(w)||g.push(w);return g.includes(fr)||g.push(fr),g}class ic{constructor(){this.providerId="phone",this._delegate=new et(Mr(ne.Z.auth()))}static credential(m,g){return et.credential(m,g)}verifyPhoneNumber(m,g){return this._delegate.verifyPhoneNumber(m,g)}unwrap(){return this._delegate}}ic.PHONE_SIGN_IN_METHOD=et.PHONE_SIGN_IN_METHOD,ic.PROVIDER_ID=et.PROVIDER_ID;const gd=le;class h_{constructor(m,g,w=ne.Z.app()){var T;gd(null===(T=w.options)||void 0===T?void 0:T.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new iu(m,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function m_(y){y.INTERNAL.registerComponent(new Ce.wA("auth-compat",m=>{const g=m.getProvider("app-compat").getImmediate(),w=m.getProvider("auth");return new lp(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Q_EMAIL_SIGNIN,PASSWORD_RESET:Q_PASSWORD_RESET,RECOVER_EMAIL:Q_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Q_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Q_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Q_VERIFY_EMAIL}},EmailAuthProvider:ah,FacebookAuthProvider:zd,GithubAuthProvider:lh,GoogleAuthProvider:Cl,OAuthProvider:Ys,SAMLAuthProvider:Mc,PhoneAuthProvider:ic,PhoneMultiFactorGenerator:du,RecaptchaVerifier:h_,TwitterAuthProvider:Ac,Auth:lp,AuthCredential:ko,Error:L.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.2")}(ne.Z)},5861:(xt,Te,V)=>{function c(L,ce,de,J,Ce,Ee,_e){try{var W=L[Ee](_e),$=W.value}catch(Q){return void de(Q)}W.done?ce($):Promise.resolve($).then(J,Ce)}function ne(L){return function(){var ce=this,de=arguments;return new Promise(function(J,Ce){var Ee=L.apply(ce,de);function _e($){c(Ee,J,Ce,_e,W,"next",$)}function W($){c(Ee,J,Ce,_e,W,"throw",$)}_e(void 0)})}}V.d(Te,{Z:()=>ne})},7582:(xt,Te,V)=>{function ce(he,me){var ye={};for(var ue in he)Object.prototype.hasOwnProperty.call(he,ue)&&me.indexOf(ue)<0&&(ye[ue]=he[ue]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Ae=0;for(ue=Object.getOwnPropertySymbols(he);Ae<ue.length;Ae++)me.indexOf(ue[Ae])<0&&Object.prototype.propertyIsEnumerable.call(he,ue[Ae])&&(ye[ue[Ae]]=he[ue[Ae]])}return ye}function Q(he,me,ye,ue){return new(ye||(ye=Promise))(function(De,pt){function gt(tn){try{vt(ue.next(tn))}catch(Bn){pt(Bn)}}function kn(tn){try{vt(ue.throw(tn))}catch(Bn){pt(Bn)}}function vt(tn){tn.done?De(tn.value):function Ae(De){return De instanceof ye?De:new ye(function(pt){pt(De)})}(tn.value).then(gt,kn)}vt((ue=ue.apply(he,me||[])).next())})}function Ne(he){return this instanceof Ne?(this.v=he,this):new Ne(he)}function Ie(he,me,ye){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ae,ue=ye.apply(he,me||[]),De=[];return Ae={},pt("next"),pt("throw"),pt("return"),Ae[Symbol.asyncIterator]=function(){return this},Ae;function pt(Dn){ue[Dn]&&(Ae[Dn]=function(qn){return new Promise(function(xi,Yn){De.push([Dn,qn,xi,Yn])>1||gt(Dn,qn)})})}function gt(Dn,qn){try{!function kn(Dn){Dn.value instanceof Ne?Promise.resolve(Dn.value.v).then(vt,tn):Bn(De[0][2],Dn)}(ue[Dn](qn))}catch(xi){Bn(De[0][3],xi)}}function vt(Dn){gt("next",Dn)}function tn(Dn){gt("throw",Dn)}function Bn(Dn,qn){Dn(qn),De.shift(),De.length&&gt(De[0][0],De[0][1])}}function qe(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ye,me=he[Symbol.asyncIterator];return me?me.call(he):(he=function ut(he){var me="function"==typeof Symbol&&Symbol.iterator,ye=me&&he[me],ue=0;if(ye)return ye.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&ue>=he.length&&(he=void 0),{value:he&&he[ue++],done:!he}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),ye={},ue("next"),ue("throw"),ue("return"),ye[Symbol.asyncIterator]=function(){return this},ye);function ue(De){ye[De]=he[De]&&function(pt){return new Promise(function(gt,kn){!function Ae(De,pt,gt,kn){Promise.resolve(kn).then(function(vt){De({value:vt,done:gt})},pt)}(gt,kn,(pt=he[De](pt)).done,pt.value)})}}}V.d(Te,{FC:()=>Ie,KL:()=>qe,_T:()=>ce,mG:()=>Q,qq:()=>Ne}),"function"==typeof SuppressedError&&SuppressedError}},xt=>{xt(xt.s=2654)}]);